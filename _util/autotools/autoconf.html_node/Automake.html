<html lang="en">
<head>
<title>Automake - Autoconf</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Autoconf">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="The-GNU-Build-System.html#The-GNU-Build-System" title="The GNU Build System">
<link rel="next" href="Gnulib.html#Gnulib" title="Gnulib">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual (24 April 2012) is for GNU Autoconf
(version 2.69),
a package for creating scripts to configure source code packages using
templates and an M4 macro package.

Copyright (C) 1992-1996, 1998-2012 Free Software Foundation,
Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Automake"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Gnulib.html#Gnulib">Gnulib</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="The-GNU-Build-System.html#The-GNU-Build-System">The GNU Build System</a>
<hr>
</div>

<h3 class="section">2.1 Automake</h3>

<p>The ubiquity of <samp><span class="command">make</span></samp> means that a makefile is almost the
only viable way to distribute automatic build rules for software, but
one quickly runs into its numerous limitations.  Its lack of
support for automatic dependency tracking, recursive builds in
subdirectories, reliable timestamps (e.g., for network file systems), and
so on, mean that developers must painfully (and often incorrectly)
reinvent the wheel for each project.  Portability is non-trivial, thanks
to the quirks of <samp><span class="command">make</span></samp> on many systems.  On top of all this is the
manual labor required to implement the many standard targets that users
have come to expect (<code>make install</code>, <code>make distclean</code>,
<code>make uninstall</code>, etc.).  Since you are, of course, using Autoconf,
you also have to insert repetitive code in your <samp><span class="file">Makefile.in</span></samp> to
recognize <code>@CC@</code>, <code>@CFLAGS@</code>, and other substitutions
provided by <samp><span class="command">configure</span></samp>.  Into this mess steps <dfn>Automake</dfn>. 
<a name="index-Automake-3"></a>
Automake allows you to specify your build needs in a <samp><span class="file">Makefile.am</span></samp>
file with a vastly simpler and more powerful syntax than that of a plain
makefile, and then generates a portable <samp><span class="file">Makefile.in</span></samp> for
use with Autoconf.  For example, the <samp><span class="file">Makefile.am</span></samp> to build and
install a simple &ldquo;Hello world&rdquo; program might look like:

<pre class="example">     bin_PROGRAMS = hello
     hello_SOURCES = hello.c
</pre>
   <p class="noindent">The resulting <samp><span class="file">Makefile.in</span></samp> (~400 lines) automatically supports all
the standard targets, the substitutions provided by Autoconf, automatic
dependency tracking, <code>VPATH</code> building, and so on.  <samp><span class="command">make</span></samp>
builds the <code>hello</code> program, and <code>make install</code> installs it
in <samp><span class="file">/usr/local/bin</span></samp> (or whatever prefix was given to
<samp><span class="command">configure</span></samp>, if not <samp><span class="file">/usr/local</span></samp>).

   <p>The benefits of Automake increase for larger packages (especially ones
with subdirectories), but even for small programs the added convenience
and portability can be substantial.  And that's not all<small class="enddots">...</small>

   </body></html>

