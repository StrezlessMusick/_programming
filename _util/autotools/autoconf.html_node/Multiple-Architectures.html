<html lang="en">
<head>
<title>Multiple Architectures - Autoconf</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Autoconf">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Running-configure-Scripts.html#Running-configure-Scripts" title="Running configure Scripts">
<link rel="prev" href="Compilers-and-Options.html#Compilers-and-Options" title="Compilers and Options">
<link rel="next" href="Installation-Names.html#Installation-Names" title="Installation Names">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual (24 April 2012) is for GNU Autoconf
(version 2.69),
a package for creating scripts to configure source code packages using
templates and an M4 macro package.

Copyright (C) 1992-1996, 1998-2012 Free Software Foundation,
Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Multiple-Architectures"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Installation-Names.html#Installation-Names">Installation Names</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Compilers-and-Options.html#Compilers-and-Options">Compilers and Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Running-configure-Scripts.html#Running-configure-Scripts">Running configure Scripts</a>
<hr>
</div>

<h3 class="section">16.3 Compiling For Multiple Architectures</h3>

<p>You can compile the package for more than one kind of computer at the
same time, by placing the object files for each architecture in their
own directory.  To do this, you can use GNU <samp><span class="command">make</span></samp>. 
<samp><span class="command">cd</span></samp> to the directory where you want the object files and
executables to go and run the <samp><span class="command">configure</span></samp> script. 
<samp><span class="command">configure</span></samp> automatically checks for the source code in the
directory that <samp><span class="command">configure</span></samp> is in and in <samp><span class="file">..</span></samp>.  This is
known as a <dfn>VPATH</dfn> build.

   <p>With a non-GNU <samp><span class="command">make</span></samp>,
it is safer to compile the package for one
architecture at a time in the source code directory.  After you have
installed the package for one architecture, use &lsquo;<samp><span class="samp">make distclean</span></samp>&rsquo;
before reconfiguring for another architecture.

   <p>On MacOS X 10.5 and later systems, you can create libraries and
executables that work on multiple system types&mdash;known as <dfn>fat</dfn> or
<dfn>universal</dfn> binaries&mdash;by specifying multiple <samp><span class="option">-arch</span></samp> options
to the compiler but only a single <samp><span class="option">-arch</span></samp> option to the
preprocessor.  Like this:

<pre class="example">     ./configure CC="gcc -arch i386 -arch x86_64 -arch ppc -arch ppc64" \
                 CXX="g++ -arch i386 -arch x86_64 -arch ppc -arch ppc64" \
                 CPP="gcc -E" CXXCPP="g++ -E"
</pre>
   <p>This is not guaranteed to produce working output in all cases, you may
have to build one architecture at a time and combine the results
using the <samp><span class="command">lipo</span></samp> tool if you have problems.

   </body></html>

