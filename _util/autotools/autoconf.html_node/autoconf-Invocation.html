<html lang="en">
<head>
<title>autoconf Invocation - Autoconf</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Autoconf">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Making-configure-Scripts.html#Making-configure-Scripts" title="Making configure Scripts">
<link rel="prev" href="ifnames-Invocation.html#ifnames-Invocation" title="ifnames Invocation">
<link rel="next" href="autoreconf-Invocation.html#autoreconf-Invocation" title="autoreconf Invocation">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual (24 April 2012) is for GNU Autoconf
(version 2.69),
a package for creating scripts to configure source code packages using
templates and an M4 macro package.

Copyright (C) 1992-1996, 1998-2012 Free Software Foundation,
Inc.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.3 or any later version published by the Free Software
     Foundation; with no Invariant Sections, no Front-Cover texts, and
     no Back-Cover Texts.  A copy of the license is included in the
     section entitled ``GNU Free Documentation License.''
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="autoconf-Invocation"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="autoreconf-Invocation.html#autoreconf-Invocation">autoreconf Invocation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="ifnames-Invocation.html#ifnames-Invocation">ifnames Invocation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Making-configure-Scripts.html#Making-configure-Scripts">Making configure Scripts</a>
<hr>
</div>

<h3 class="section">3.4 Using <samp><span class="command">autoconf</span></samp> to Create <samp><span class="command">configure</span></samp></h3>

<p><a name="index-g_t_0040command_007bautoconf_007d-13"></a>
To create <samp><span class="command">configure</span></samp> from <samp><span class="file">configure.ac</span></samp>, run the
<samp><span class="command">autoconf</span></samp> program with no arguments.  <samp><span class="command">autoconf</span></samp> processes
<samp><span class="file">configure.ac</span></samp> with the M4 macro processor, using the
Autoconf macros.  If you give <samp><span class="command">autoconf</span></samp> an argument, it reads that
file instead of <samp><span class="file">configure.ac</span></samp> and writes the configuration script
to the standard output instead of to <samp><span class="command">configure</span></samp>.  If you give
<samp><span class="command">autoconf</span></samp> the argument <samp><span class="option">-</span></samp>, it reads from the standard
input instead of <samp><span class="file">configure.ac</span></samp> and writes the configuration script
to the standard output.

   <p>The Autoconf macros are defined in several files.  Some of the files are
distributed with Autoconf; <samp><span class="command">autoconf</span></samp> reads them first.  Then it
looks for the optional file <samp><span class="file">acsite.m4</span></samp> in the directory that
contains the distributed Autoconf macro files, and for the optional file
<samp><span class="file">aclocal.m4</span></samp> in the current directory.  Those files can contain
your site's or the package's own Autoconf macro definitions
(see <a href="Writing-Autoconf-Macros.html#Writing-Autoconf-Macros">Writing Autoconf Macros</a>, for more information).  If a macro is
defined in more than one of the files that <samp><span class="command">autoconf</span></samp> reads, the
last definition it reads overrides the earlier ones.

   <p><samp><span class="command">autoconf</span></samp> accepts the following options:

     <dl>
<dt><samp><span class="option">--help</span></samp><dt><samp><span class="option">-h</span></samp><dd>Print a summary of the command line options and exit.

     <br><dt><samp><span class="option">--version</span></samp><dt><samp><span class="option">-V</span></samp><dd>Print the version number of Autoconf and exit.

     <br><dt><samp><span class="option">--verbose</span></samp><dt><samp><span class="option">-v</span></samp><dd>Report processing steps.

     <br><dt><samp><span class="option">--debug</span></samp><dt><samp><span class="option">-d</span></samp><dd>Don't remove the temporary files.

     <br><dt><samp><span class="option">--force</span></samp><dt><samp><span class="option">-f</span></samp><dd>Remake <samp><span class="file">configure</span></samp> even if newer than its input files.

     <br><dt><samp><span class="option">--include=</span><var>dir</var></samp><dt><samp><span class="option">-I </span><var>dir</var></samp><dd>Append <var>dir</var> to the include path.  Multiple invocations accumulate.

     <br><dt><samp><span class="option">--prepend-include=</span><var>dir</var></samp><dt><samp><span class="option">-B </span><var>dir</var></samp><dd>Prepend <var>dir</var> to the include path.  Multiple invocations accumulate.

     <br><dt><samp><span class="option">--output=</span><var>file</var></samp><dt><samp><span class="option">-o </span><var>file</var></samp><dd>Save output (script or trace) to <var>file</var>.  The file <samp><span class="option">-</span></samp> stands
for the standard output.

     <br><dt><samp><span class="option">--warnings=</span><var>category</var></samp><dt><samp><span class="option">-W </span><var>category</var></samp><dd><a name="index-WARNINGS-14"></a>Report the warnings related to <var>category</var> (which can actually be a
comma separated list).  See <a href="Reporting-Messages.html#Reporting-Messages">Reporting Messages</a>, macro
<code>AC_DIAGNOSE</code>, for a comprehensive list of categories.  Special
values include:

          <dl>
<dt>&lsquo;<samp><span class="samp">all</span></samp>&rsquo;<dd>report all the warnings

          <br><dt>&lsquo;<samp><span class="samp">none</span></samp>&rsquo;<dd>report none

          <br><dt>&lsquo;<samp><span class="samp">error</span></samp>&rsquo;<dd>treats warnings as errors

          <br><dt>&lsquo;<samp><span class="samp">no-</span><var>category</var></samp>&rsquo;<dd>disable warnings falling into <var>category</var>
</dl>

     <p>Warnings about &lsquo;<samp><span class="samp">syntax</span></samp>&rsquo; are enabled by default, and the environment
variable <samp><span class="env">WARNINGS</span></samp>, a comma separated list of categories, is
honored as well.  Passing <samp><span class="option">-W </span><var>category</var></samp> actually behaves as if
you had passed <samp><span class="option">--warnings syntax,$WARNINGS,</span><var>category</var></samp>.  To
disable the defaults and <samp><span class="env">WARNINGS</span></samp>, and then
enable warnings about obsolete constructs, use <samp><span class="option">-W
none,obsolete</span></samp>.

     <p><a name="index-Back-trace-15"></a><a name="index-Macro-invocation-stack-16"></a>Because <samp><span class="command">autoconf</span></samp> uses <samp><span class="command">autom4te</span></samp> behind the scenes, it
displays a back trace for errors, but not for warnings; if you want
them, just pass <samp><span class="option">-W error</span></samp>.  See <a href="autom4te-Invocation.html#autom4te-Invocation">autom4te Invocation</a>, for some
examples.

     <br><dt><samp><span class="option">--trace=</span><var>macro</var><span class="option">[:</span><var>format</var><span class="option">]</span></samp><dt><samp><span class="option">-t </span><var>macro</var><span class="option">[:</span><var>format</var><span class="option">]</span></samp><dd>Do not create the <samp><span class="command">configure</span></samp> script, but list the calls to
<var>macro</var> according to the <var>format</var>.  Multiple <samp><span class="option">--trace</span></samp>
arguments can be used to list several macros.  Multiple <samp><span class="option">--trace</span></samp>
arguments for a single macro are not cumulative; instead, you should
just make <var>format</var> as long as needed.

     <p>The <var>format</var> is a regular string, with newlines if desired, and
several special escape codes.  It defaults to &lsquo;<samp><span class="samp">$f:$l:$n:$%</span></samp>&rsquo;; see
<a href="autom4te-Invocation.html#autom4te-Invocation">autom4te Invocation</a>, for details on the <var>format</var>.

     <br><dt><samp><span class="option">--initialization</span></samp><dt><samp><span class="option">-i</span></samp><dd>By default, <samp><span class="option">--trace</span></samp> does not trace the initialization of the
Autoconf macros (typically the <code>AC_DEFUN</code> definitions).  This
results in a noticeable speedup, but can be disabled by this option. 
</dl>

   <p>It is often necessary to check the content of a <samp><span class="file">configure.ac</span></samp>
file, but parsing it yourself is extremely fragile and error-prone.  It
is suggested that you rely upon <samp><span class="option">--trace</span></samp> to scan
<samp><span class="file">configure.ac</span></samp>.  For instance, to find the list of variables that
are substituted, use:

<pre class="example">     $ <kbd>autoconf -t AC_SUBST</kbd>
     configure.ac:2:AC_SUBST:ECHO_C
     configure.ac:2:AC_SUBST:ECHO_N
     configure.ac:2:AC_SUBST:ECHO_T
     <i>More traces deleted</i>
</pre>
   <p class="noindent">The example below highlights the difference between &lsquo;<samp><span class="samp">$@</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">$*</span></samp>&rsquo;, and &lsquo;<samp><span class="samp">$%</span></samp>&rsquo;.

<pre class="example">     $ <kbd>cat configure.ac</kbd>
     AC_DEFINE(This, is, [an
     [example]])
     $ <kbd>autoconf -t 'AC_DEFINE:@: $@</kbd>
     *: $*
     %: $%'
     @: [This],[is],[an
     [example]]
     *: This,is,an
     [example]
     %: This:is:an [example]
</pre>
   <p class="noindent">The <var>format</var> gives you a lot of freedom:

<pre class="example">     $ <kbd>autoconf -t 'AC_SUBST:$$ac_subst{"$1"} = "$f:$l";'</kbd>
     $ac_subst{"ECHO_C"} = "configure.ac:2";
     $ac_subst{"ECHO_N"} = "configure.ac:2";
     $ac_subst{"ECHO_T"} = "configure.ac:2";
     <i>More traces deleted</i>
</pre>
   <p class="noindent">A long <var>separator</var> can be used to improve the readability of complex
structures, and to ease their parsing (for instance when no single
character is suitable as a separator):

<pre class="example">     $ <kbd>autoconf -t 'AM_MISSING_PROG:${|:::::|}*'</kbd>
     ACLOCAL|:::::|aclocal|:::::|$missing_dir
     AUTOCONF|:::::|autoconf|:::::|$missing_dir
     AUTOMAKE|:::::|automake|:::::|$missing_dir
     <i>More traces deleted</i>
</pre>
   </body></html>

