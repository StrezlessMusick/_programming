<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- 
This manual is for GNU Automake (version 1.15,
31 December 2014), a program that creates GNU standards-compliant
Makefiles from template files.

Copyright (C) 1995-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License,
Version 1.3 or any later version published by the Free Software
Foundation; with no Invariant Sections, with no Front-Cover texts,
and with no Back-Cover Texts.  A copy of the license is included in the
section entitled "GNU Free Documentation License."
 -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>automake: Vala Support</title>

<meta name="description" content="automake: Vala Support">
<meta name="keywords" content="automake: Vala Support">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Indices.html#Indices" rel="index" title="Indices">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Programs.html#Programs" rel="up" title="Programs">
<link href="Support-for-Other-Languages.html#Support-for-Other-Languages" rel="next" title="Support for Other Languages">
<link href="Java-Support-with-gcj.html#Java-Support-with-gcj" rel="prev" title="Java Support with gcj">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Vala-Support"></a>
<div class="header">
<p>
Next: <a href="Support-for-Other-Languages.html#Support-for-Other-Languages" accesskey="n" rel="next">Support for Other Languages</a>, Previous: <a href="Java-Support-with-gcj.html#Java-Support-with-gcj" accesskey="p" rel="prev">Java Support with gcj</a>, Up: <a href="Programs.html#Programs" accesskey="u" rel="up">Programs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Vala-Support-1"></a>
<h3 class="section">8.17 Vala Support</h3>

<a name="index-Vala-Support"></a>
<a name="index-Support-for-Vala"></a>

<p>Automake provides initial support for Vala
(<a href="http://www.vala-project.org/">http://www.vala-project.org/</a>).
This requires valac version 0.7.0 or later, and currently requires
the user to use GNU <code>make</code>.
</p>
<div class="example">
<pre class="example">foo_SOURCES = foo.vala bar.vala zardoc.c
</pre></div>

<p>Any <samp>.vala</samp> file listed in a <code>_SOURCES</code> variable will be
compiled into C code by the Vala compiler. The generated <samp>.c</samp> files
are distributed. The end user does not need to have a Vala compiler installed.
</p>
<p>Automake ships with an Autoconf macro called <code>AM_PROG_VALAC</code>
that will locate the Vala compiler and optionally check its version
number.
</p>
<dl>
<dt><a name="index-AM_005fPROG_005fVALAC"></a>Macro: <strong>AM_PROG_VALAC</strong> <em>(<span class="roman">[</span><var>minimum-version</var><span class="roman">]</span>, <span class="roman">[</span><var>action-if-found</var><span class="roman">]</span>,</em></dt>
<dd><p><span class="roman">[</span><var>action-if-not-found</var><span class="roman">]</span>)
Search for a Vala compiler in <code>PATH</code>.  If it is found, the variable
<code>VALAC</code> is set to point to it (see below for more details).  This
macro takes three optional arguments.  The first argument, if present,
is the minimum version of the Vala compiler required to compile this
package.  If a compiler is found and satisfies <var>minimum-version</var>,
then <var>action-if-found</var> is run (this defaults to do nothing).
Otherwise, <var>action-if-not-found</var> is run.  If <var>action-if-not-found</var>
is not specified, the default value is to print a warning in case no
compiler is found, or if a too-old version of the compiler is found.
</p></dd></dl>

<p>There are a few variables that are used when compiling Vala sources:
</p>
<dl compact="compact">
<dt><code>VALAC</code>
<a name="index-VALAC"></a>
</dt>
<dd><p>Absolute path to the Vala compiler, or simply &lsquo;<samp>valac</samp>&rsquo; if no
suitable compiler Vala could be found at configure runtime.
</p>
</dd>
<dt><code>VALAFLAGS</code>
<a name="index-VALAFLAGS"></a>
</dt>
<dd><p>Additional arguments for the Vala compiler.
</p>
</dd>
<dt><code>AM_VALAFLAGS</code>
<a name="index-AM_005fVALAFLAGS"></a>
</dt>
<dd><p>The maintainer&rsquo;s variant of <code>VALAFLAGS</code>.
</p>
<div class="example">
<pre class="example">lib_LTLIBRARIES = libfoo.la
libfoo_la_SOURCES = foo.vala
</pre></div>
</dd>
</dl>

<p>Note that currently, you cannot use per-target <code>*_VALAFLAGS</code>
(see <a href="Renamed-Objects.html#Renamed-Objects">Renamed Objects</a>) to produce different C files from one Vala
source file.
</p>

<hr>
<div class="header">
<p>
Next: <a href="Support-for-Other-Languages.html#Support-for-Other-Languages" accesskey="n" rel="next">Support for Other Languages</a>, Previous: <a href="Java-Support-with-gcj.html#Java-Support-with-gcj" accesskey="p" rel="prev">Java Support with gcj</a>, Up: <a href="Programs.html#Programs" accesskey="u" rel="up">Programs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
