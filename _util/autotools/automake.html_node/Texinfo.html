<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- 
This manual is for GNU Automake (version 1.15,
31 December 2014), a program that creates GNU standards-compliant
Makefiles from template files.

Copyright (C) 1995-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License,
Version 1.3 or any later version published by the Free Software
Foundation; with no Invariant Sections, with no Front-Cover texts,
and with no Back-Cover Texts.  A copy of the license is included in the
section entitled "GNU Free Documentation License."
 -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>automake: Texinfo</title>

<meta name="description" content="automake: Texinfo">
<meta name="keywords" content="automake: Texinfo">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Indices.html#Indices" rel="index" title="Indices">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Documentation.html#Documentation" rel="up" title="Documentation">
<link href="Man-Pages.html#Man-Pages" rel="next" title="Man Pages">
<link href="Documentation.html#Documentation" rel="prev" title="Documentation">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Texinfo"></a>
<div class="header">
<p>
Next: <a href="Man-Pages.html#Man-Pages" accesskey="n" rel="next">Man Pages</a>, Up: <a href="Documentation.html#Documentation" accesskey="u" rel="up">Documentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Texinfo-1"></a>
<h3 class="section">11.1 Texinfo</h3>

<a name="index-_005fTEXINFOS-primary_002c-defined"></a>
<a name="index-TEXINFOS-primary_002c-defined"></a>
<a name="index-Primary-variable_002c-TEXINFOS"></a>
<a name="index-HTML-output-using-Texinfo"></a>
<a name="index-PDF-output-using-Texinfo"></a>
<a name="index-PS-output-using-Texinfo"></a>
<a name="index-DVI-output-using-Texinfo"></a>
<a name="index-_005fTEXINFOS"></a>
<a name="index-info_005fTEXINFOS"></a>

<p>If the current directory contains Texinfo source, you must declare it
with the <code>TEXINFOS</code> primary.  Generally Texinfo files are converted
into info, and thus the <code>info_TEXINFOS</code> variable is most commonly used
here.  Any Texinfo source file should have the <samp>.texi</samp> extension.
Automake also accepts <samp>.txi</samp> or <samp>.texinfo</samp> extensions, but their
use is discouraged now, and will elicit runtime warnings.
</p>
<p>Automake generates rules to build <samp>.info</samp>, <samp>.dvi</samp>,
<samp>.ps</samp>, <samp>.pdf</samp> and <samp>.html</samp> files from your Texinfo
sources.  Following the GNU Coding Standards, only the <samp>.info</samp>
files are built by &lsquo;<samp>make all</samp>&rsquo; and installed by &lsquo;<samp>make
install</samp>&rsquo; (unless you use <samp>no-installinfo</samp>, see below).
Furthermore, <samp>.info</samp> files are automatically distributed so that
Texinfo is not a prerequisite for installing your package.
</p>
<p>It is worth noting that, contrary to what happens with the other formats,
the generated <samp>.info</samp> files are by default placed in <code>srcdir</code>
rather than in the <code>builddir</code>.  This can be changed with the
<samp>info-in-builddir</samp> option.
</p>
<a name="index-dvi"></a>
<a name="index-html"></a>
<a name="index-pdf"></a>
<a name="index-ps"></a>
<a name="index-install_002ddvi"></a>
<a name="index-install_002dhtml"></a>
<a name="index-install_002dpdf"></a>
<a name="index-install_002dps"></a>
<p>Other documentation formats can be built on request by &lsquo;<samp>make
dvi</samp>&rsquo;, &lsquo;<samp>make ps</samp>&rsquo;, &lsquo;<samp>make pdf</samp>&rsquo; and &lsquo;<samp>make html</samp>&rsquo;, and they
can be installed with &lsquo;<samp>make install-dvi</samp>&rsquo;, &lsquo;<samp>make install-ps</samp>&rsquo;,
&lsquo;<samp>make install-pdf</samp>&rsquo; and &lsquo;<samp>make install-html</samp>&rsquo; explicitly.
&lsquo;<samp>make uninstall</samp>&rsquo; will remove everything: the Texinfo
documentation installed by default as well as all the above optional
formats.
</p>
<p>All of these targets can be extended using &lsquo;<samp>-local</samp>&rsquo; rules
(see <a href="Extending.html#Extending">Extending</a>).
</p>
<a name="index-Texinfo-flag_002c-VERSION"></a>
<a name="index-Texinfo-flag_002c-UPDATED"></a>
<a name="index-Texinfo-flag_002c-EDITION"></a>
<a name="index-Texinfo-flag_002c-UPDATED_002dMONTH"></a>

<a name="index-VERSION-Texinfo-flag"></a>
<a name="index-UPDATED-Texinfo-flag"></a>
<a name="index-EDITION-Texinfo-flag"></a>
<a name="index-UPDATED_002dMONTH-Texinfo-flag"></a>

<a name="index-mdate_002dsh"></a>

<p>If the <samp>.texi</samp> file <code>@include</code>s <samp>version.texi</samp>, then
that file will be automatically generated.  The file <samp>version.texi</samp>
defines four Texinfo flags you can reference using
<code>@value{EDITION}</code>, <code>@value{VERSION}</code>,
<code>@value{UPDATED}</code>, and <code>@value{UPDATED-MONTH}</code>.
</p>
<dl compact="compact">
<dt><code>EDITION</code></dt>
<dt><code>VERSION</code></dt>
<dd><p>Both of these flags hold the version number of your program.  They are
kept separate for clarity.
</p>
</dd>
<dt><code>UPDATED</code></dt>
<dd><p>This holds the date the primary <samp>.texi</samp> file was last modified.
</p>
</dd>
<dt><code>UPDATED-MONTH</code></dt>
<dd><p>This holds the name of the month in which the primary <samp>.texi</samp> file
was last modified.
</p></dd>
</dl>

<p>The <samp>version.texi</samp> support requires the <code>mdate-sh</code>
script; this script is supplied with Automake and automatically
included when <code>automake</code> is invoked with the
<samp>--add-missing</samp> option.
</p>
<p>If you have multiple Texinfo files, and you want to use the
<samp>version.texi</samp> feature, then you have to have a separate version
file for each Texinfo file.  Automake will treat any include in a
Texinfo file that matches <samp>vers*.texi</samp> just as an automatically
generated version file.
</p>
<p>Sometimes an info file actually depends on more than one <samp>.texi</samp>
file.  For instance, in GNU Hello, <samp>hello.texi</samp> includes the file
<samp>fdl.texi</samp>.  You can tell Automake about these dependencies using
the <code><var>texi</var>_TEXINFOS</code> variable.  Here is how GNU Hello does it:
<a name="index-TEXINFOS-1"></a>
<a name="index-_005fTEXINFOS-1"></a>
</p>
<div class="example">
<pre class="example">info_TEXINFOS = hello.texi
hello_TEXINFOS = fdl.texi
</pre></div>

<a name="index-texinfo_002etex"></a>

<p>By default, Automake requires the file <samp>texinfo.tex</samp> to appear in
the same directory as the <samp>Makefile.am</samp> file that lists the
<samp>.texi</samp> files.  If you used <code>AC_CONFIG_AUX_DIR</code> in
<samp>configure.ac</samp> (see <a href="http://www.gnu.org/software/autoconf/manual/html_node/Input.html#Input">Finding &lsquo;configure&rsquo; Input</a> in <cite>The Autoconf Manual</cite>), then <samp>texinfo.tex</samp> is looked for
there.  In both cases, <code>automake</code> then supplies <samp>texinfo.tex</samp> if
<samp>--add-missing</samp> is given, and takes care of its distribution.
However, if you set the <code>TEXINFO_TEX</code> variable (see below),
it overrides the location of the file and turns off its installation
into the source as well as its distribution.
</p>
<p>The option <samp>no-texinfo.tex</samp> can be used to eliminate the
requirement for the file <samp>texinfo.tex</samp>.  Use of the variable
<code>TEXINFO_TEX</code> is preferable, however, because that allows the
<code>dvi</code>, <code>ps</code>, and <code>pdf</code> targets to still work.
</p>
<a name="index-Option_002c-no_002dinstallinfo"></a>
<a name="index-Target_002c-install_002dinfo"></a>
<a name="index-install_002dinfo-target"></a>
<a name="index-no_002dinstallinfo-option"></a>

<a name="index-no_002dinstallinfo"></a>
<a name="index-install_002dinfo"></a>

<p>Automake generates an <code>install-info</code> rule; some people apparently
use this.  By default, info pages are installed by &lsquo;<samp>make
install</samp>&rsquo;, so running <code>make install-info</code> is pointless.  This can
be prevented via the <code>no-installinfo</code> option.  In this case,
<samp>.info</samp> files are not installed by default, and user must
request this explicitly using &lsquo;<samp>make install-info</samp>&rsquo;.
</p>
<a name="index-AM_005fUPDATE_005fINFO_005fDIR"></a>
<p>By default, <code>make install-info</code> and <code>make uninstall-info</code>
will try to run the <code>install-info</code> program (if available) to
update (or create/remove) the <samp><code>${infodir}</code>/dir</samp> index.
If this is undesired, it can be prevented by exporting the
<code>AM_UPDATE_INFO_DIR</code> variable to &quot;<code>no</code>&quot;.
</p>
<p>The following variables are used by the Texinfo build rules.
</p>
<dl compact="compact">
<dt><code>MAKEINFO</code>
<a name="index-MAKEINFO"></a>
</dt>
<dd><p>The name of the program invoked to build <samp>.info</samp> files.  This
variable is defined by Automake.  If the <code>makeinfo</code> program is
found on the system then it will be used by default; otherwise
<code>missing</code> will be used instead.
</p>
</dd>
<dt><code>MAKEINFOHTML</code>
<a name="index-MAKEINFOHTML"></a>
</dt>
<dd><p>The command invoked to build <samp>.html</samp> files.  Automake
defines this to &lsquo;<samp>$(MAKEINFO) --html</samp>&rsquo;.
</p>
</dd>
<dt><code>MAKEINFOFLAGS</code>
<a name="index-MAKEINFOFLAGS"></a>
</dt>
<dd><p>User flags passed to each invocation of &lsquo;<samp>$(MAKEINFO)</samp>&rsquo; and
&lsquo;<samp>$(MAKEINFOHTML)</samp>&rsquo;.  This user variable (see <a href="User-Variables.html#User-Variables">User Variables</a>) is
not expected to be defined in any <samp>Makefile</samp>; it can be used by
users to pass extra flags to suit their needs.
</p>
</dd>
<dt><code>AM_MAKEINFOFLAGS</code>
<a name="index-AM_005fMAKEINFOFLAGS"></a>
</dt>
<dt><code>AM_MAKEINFOHTMLFLAGS</code>
<a name="index-AM_005fMAKEINFOHTMLFLAGS"></a>
</dt>
<dd><p>Maintainer flags passed to each <code>makeinfo</code> invocation.  Unlike
<code>MAKEINFOFLAGS</code>, these variables are meant to be defined by
maintainers in <samp>Makefile.am</samp>.  &lsquo;<samp>$(AM_MAKEINFOFLAGS)</samp>&rsquo; is
passed to <code>makeinfo</code> when building <samp>.info</samp> files; and
&lsquo;<samp>$(AM_MAKEINFOHTMLFLAGS)</samp>&rsquo; is used when building <samp>.html</samp>
files.
</p>
<p>For instance, the following setting can be used to obtain one single
<samp>.html</samp> file per manual, without node separators.
</p><div class="example">
<pre class="example">AM_MAKEINFOHTMLFLAGS = --no-headers --no-split
</pre></div>

<p><code>AM_MAKEINFOHTMLFLAGS</code> defaults to &lsquo;<samp>$(AM_MAKEINFOFLAGS)</samp>&rsquo;.
This means that defining <code>AM_MAKEINFOFLAGS</code> without defining
<code>AM_MAKEINFOHTMLFLAGS</code> will impact builds of both <samp>.info</samp>
and <samp>.html</samp> files.
</p>
</dd>
<dt><code>TEXI2DVI</code>
<a name="index-TEXI2DVI"></a>
</dt>
<dd><p>The name of the command that converts a <samp>.texi</samp> file into a
<samp>.dvi</samp> file.  This defaults to &lsquo;<samp>texi2dvi</samp>&rsquo;, a script that ships
with the Texinfo package.
</p>
</dd>
<dt><code>TEXI2PDF</code>
<a name="index-TEXI2PDF"></a>
</dt>
<dd><p>The name of the command that translates a <samp>.texi</samp> file into a
<samp>.pdf</samp> file.  This defaults to &lsquo;<samp>$(TEXI2DVI) --pdf --batch</samp>&rsquo;.
</p>
</dd>
<dt><code>DVIPS</code>
<a name="index-DVIPS"></a>
</dt>
<dd><p>The name of the command that builds a <samp>.ps</samp> file out of a
<samp>.dvi</samp> file.  This defaults to &lsquo;<samp>dvips</samp>&rsquo;.
</p>
</dd>
<dt><code>TEXINFO_TEX</code>
<a name="index-TEXINFO_005fTEX"></a>
</dt>
<dd>
<p>If your package has Texinfo files in many directories, you can use the
variable <code>TEXINFO_TEX</code> to tell Automake where to find the canonical
<samp>texinfo.tex</samp> for your package.  The value of this variable should
be the relative path from the current <samp>Makefile.am</samp> to
<samp>texinfo.tex</samp>:
</p>
<div class="example">
<pre class="example">TEXINFO_TEX = ../doc/texinfo.tex
</pre></div>
</dd>
</dl>


<hr>
<div class="header">
<p>
Next: <a href="Man-Pages.html#Man-Pages" accesskey="n" rel="next">Man Pages</a>, Up: <a href="Documentation.html#Documentation" accesskey="u" rel="up">Documentation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html#Indices" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
