<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><link rel="canonical" href="../4197.rfc" /><meta name="Robots" content="noindex, nofollow" /><title>Перевод RFC 4197 — Требования к сквозной эмуляции каналов TDM через сети пакетной коммутации</title><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../4197.rfc">RFC 4197 — Требования к сквозной эмуляции каналов TDM через сети пакетной коммутации</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 4197</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank"><span itemprop="alternativeHeadline">Requirements for Edge-to-Edge Emulation of Time Division Multiplexed (TDM) Circuits over Packet Switching Networks</span></a></dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Информационный</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2005-10-01">Октябрь 2005</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">Maximilian Riegel</span>, <span itemprop="author">Sasha Vainshtein</span>, <span itemprop="author">Yaakov Stein</span>, <span itemprop="author">Prayson Pate</span>, <span itemprop="author">Ron Cohen</span>, <span itemprop="author">Tim Frost</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div id="text" itemprop="articleBody"><h3>Статус документа</h3><p>Документ содержит информацию, адресованную сообществу Internet. В документе не содержится каких-либо стандартов Internet. Допускается свободное распространение документа.</p><h3>Тезисы</h3><p>В данном документе определены специфические требования к сквозной эмуляции устройств, передающих цифровые сигналы TDM (Time Division Multiplexed — мультиплексирование с разделением во времени), как PDH (Plesiochronous Digital Hierarchy — плезиохронная цифровая иерархия), так и SONET (Synchronous Optical NETwork — цифровая оптическая сеть) / SDH (Synchronous Digital Hierarchy — синхронная цифровая иерархия), в сетях пакетной коммутации. Документ использует архитектуру общего назначения PWE3 (Pseudo Wire Emulation Edge-to-Edge — эмуляция прямых соединений). Описанные требования основаны на базовых требованиях PWE3 (там, где эти требования применимы), к которым добавлены специфические требования для устройств TDM.</p><h2>Оглавление</h2><ul class="map"><li><a href="print#p1" title="Введение">1. Введение</a></li><li><a href="print#p2" title="Предпосылки">2. Предпосылки</a></li><li><a href="print#p3" title="Терминология">3. Терминология</a></li><li><a href="print#p4" title="Эталонные модели">4. Эталонные модели</a></li><li><a href="print#p5" title="Эмулируемые службы">5. Эмулируемые службы</a></li><li><a href="print#p6" title="Базовые требования">6. Базовые требования</a></li><li><a href="print#p7" title="Зависящие от сервиса требования">7. Зависящие от сервиса требования</a></li><li><a href="print#p8" title="Вопросы безопасности">8. Вопросы безопасности</a></li><li><a href="print#p9" title="Литература">9. Литература</a></li><li><a href="print#p10" title="Разработчики документа">10. Разработчики документа</a></li></ul><h2 id="p1">1. Введение</h2><p>В этом документе рассматриваются требования для сквозной эмуляции каналов передачи цифровых сигналов TDM (PDH и SONET/SDH) через сети с коммутацией пакетов (PSN — Packet-Switched Networks). Эти требования основаны на архитектуре эмуляции прямых соединений PWE3, описанной в [RFC3985]. Документ опирается на применимые требования [RFC3916] и дополняет этот документ определением специфических требований для устройств TDM. Термин TDM в данном документе используется для обозначения синхронных битовых потоков PDH и SONET/SDH.</p><h3>1.1. Устройства TDM в иерархии PDH</h3><p>Битовые потоки, традиционно используемые в различных регионах, описаны в спецификации [G.702]. Например, в Северной Америке используются битовые потоки T1 (1,544 Мбит/с) и T3 (44,736 Мбит/с), а в Европе — E1 (2,048 Мбит/с) и E3 (34,368 Мбит/с). Хотя TDM можно использовать для передачи неструктурированных битовых потоков со скоростями, определенными в [G.702], существуют стандартизованные методы передачи битовых потоков в форме блоков, называемых кадрами (frame), каждый из которых содержит одинаковое число битов.</p><p>В связи с частотой выборки для голосового (телефонного) трафика скорости битовых потоков всегда кратны 8000, следовательно кадр T1 содержит 193 бита, а кадр E1 — 256 битов. Число битов в кадре называют размером кадра.</p><p>Кадрирование осуществляется путем периодической вставки в битовый поток определенных последовательностей битов, позволяющих определять границы кадров (например, 1 бит кадрирования на кадр T1 или 8-битовая последовательность на каждый кадр E1). Детали генерации и использования битов кадрирования рассмотрены в документах [G.704], [G.706] и [G.751]. В бесструктурных потоках TDM все биты могут использоваться для передачи информации.</p><p>Кадрированные потоки TDM зачастую используются для мультиплексирования множества каналов (например, телефонных соединений, каждое из которых включает 8000 восьмибитовых выборок в секунду) в последовательность временных интервалов, занимающих одинаковые позиции в каждом кадре. Такое мультиплексирование называют «channelized TDM» и оно вносит в поток дополнительную структуру.</p><p>В некоторых случаях кадрирование также определяет группы последовательных кадров, которые называют мультикадрами. Такая группировка создает дополнительный уровень структурирования битовых потоков TDM.</p><h4>1.1.1. Структура и транспортные режимы TDM</h4><ul><li class="b">Unstructured TDM — бесструктурный поток TDM</li><li class="lib">Битовый поток TDM передаваемый со скоростью, определенной в [G.702]. Все биты такого потока могут использоваться для передачи пользовательских данных.</li><li class="b">Structured TDM — структурированный поток TDM</li><li class="lib">Поток TDM с одним или несколькими уровнями структурирования, включая кадрирование, канализацию и мультикадры (в соответствии со спецификациями [G.704], [G.751] и [T1.107]).</li><li class="b">Structure-Agnostic Transport — структурно-независимый транспорт</li><li class="lib">Передача бесструктурных потоков TDM или структурированных потоков TDM в тех случаях, когда структура потока не имеет значения с точки зрения транспорта. В таких случаях любая структуризация, которая может присутствовать в потоке, прозрачно передается вместе с данными и инкапсуляция не обеспечивает механизмов обнаружения или использования структуры потока.</li><li class="b">Structure-Aware Transport — структурированный транспорт</li><li class="lib">Транспорт TDM является структурированным, когда по крайней мере один из уровней структуры принимается во внимание. При структурированном транспорте не существует гарантии передачи всех битов потока TDM через сеть PSN (в частности, биты синхронизации могут вырезаться из потока на входе в сеть пакетной коммутации и обычно восстанавливаются на выходе) и соблюдения порядка следования битов в потоке (порядок битов обычно восстанавливается на выходе из PSN, однако известно по крайней мере одно исключение из этого правила — потеря мультикадровой синхронизации между данными TDM и битами CAS, создаваемой цифровыми кросс-коннекторами, используемыми как NSP (Native Service Processing); этот случай описан в документе [TR-NWT-170]).</li></ul><h3>1.2. Устройства SONET/SDH</h3><p>Термин SONET обозначает используемые в Северной Америке синхронные оптические сети, описанные в документе [T1.105]. Работа таких сетей основана на концепции передачи блоков Nx783 байтов с периодом 125 мксек. Такие блоки информации называют STS-1 SPE (Synchronous Payload Envelope) и они могут объединяться для повышения эффективности использования полосы (например, STS-N) или делиться на более мелкие блоки (Virtual Tributary — Виртуальный поток). Объединенные блоки могут использоваться для передачи любого трафика от пакетов IP до ячеек ATM и сигналов DVS (Digital Video Signals — цифровой поток видео-информации). Отдельные блоки STS-1 SPE зачастую используются для передачи индивидуальных каналов TDM (DS3 или E3). Когда 783-байтовые контейнеры делятся на части, они обычно используются для передачи отдельных потоков TDM T1 или E1.</p><p>SDH представляет собой международный аналог и расширение SONET, описанное в [G.707].</p><p>Как SONET, так и SDH добавляют достаточно большой объем служебной информации (transport overhead), используемой для мониторинга, детектирования отказов и других функций обслуживания на различных типах оптических и электрических соединений. В дополнение к этому информационные блоки (payload area) также включают служебную информацию для сквозного мониторинга, детектирования отказов и обслуживания. Если блоки данных делятся на узкополосные каналы (например, T1/E1), добавляется служебная информация для сквозного мониторинга отдельных каналов T1/E1.</p><p>В этом документе обсуждаются требования для случаев эмуляции сервиса SONET/SDH. Такие службы включают сквозную эмуляцию информационных блоков SONET (STS-1 SPE), эмуляцию объединенных блоков (STS-N SPE), а также эмуляцию дробных каналов (sub-STS-1). Дробные каналы, равно как их аналоги для случая SDH, обозначаются термином VT(Virtual Tributaries — виртуальные разветвления).</p><h2 id="p2">2. Предпосылки</h2><p>В [RFC3916] указаны общие требования к сквозной эмуляции устройств различных типов. Однако эти требования, равно как и требования [RFC3985], не учитывают специфику устройств TDM.</p><p>Необходимость создания документа, дополняющего требования [RFC3916] в части сквозной эмуляции устройств TDM, обусловлены множеством причин:</p><ul class="dot"><li><p>Специфика устройств TDM; в частности:</p><ul class="dot"><li>необходимость согласования синхронизации входящих и исходящих сигналов для каждого направления PW (Pseudo Wire — псевдо-соединение);</li><li>необходимость ограничения флуктуаций синхронизации на передающей стороне в пределах, задаваемых соответствующим нормативным документом, с учетом вариаций задержки пакетов в сети PSN.</li></ul></li><li><p>Специфика приложений, использующих устройства TDM (например, телефонная связь):</p><ul class="dot"><li>необходимость принятия мер по минимизации сквозной задержки;</li><li>относительная устойчивость к возникновению ошибок в передаваемых данных.</li></ul></li><li><p>В некоторых случаях могут возникать специфические требования; например, для передачи сигнальной информации характерны:</p><ul class="dot"><li>сравнительная устойчивость к задержкам в одном направлении;</li><li>чувствительность к возникающим при передаче ошибкам.</li></ul></li><li><p>Специфика ожиданий потребителя относительно сквозных характеристик сервиса, который основан на эмуляции устройств TDM. Например, опыт реализации таких соединений через сети SONET/SDH показывает:</p><ul class="dot"><li>необходимость изоляции проблем, вносимых PSN, от проблем, возникающих за пределами пакетных сетей;</li><li>чувствительность к ошибочным соединениям;</li><li>чувствительность к неожиданным разрывам соединений и т. д.</li></ul></li></ul><h2 id="p3">3. Терминология</h2><p>Ключевые слова необходимо (MUST), недопустимо (MUST NOT), требуется (REQUIRED), нужно (SHALL), не нужно (SHALL NOT), следует (SHOULD), не следует (SHOULD NOT), рекомендуется (RECOMMENDED), возможно (MAY), необязательно (OPTIONAL) в данном документе должны интерпретироваться в соответствии с [RFC2119].</p><p>Термины, определенные в параграфе 1.4 документа [RFC3985], используются в соответствии с этими определениями. Однако ряд терминов используется в специфической для TDM трактовке. В частности:</p><p>Сети TDM используют сигнализацию CAS (Channel-Associated Signaling — поканальная сигнализация) или CCS (Common Channel Signaling — сигнализация с общим сигнальным каналом) для управления и анонсирования состояния телефонных приложений, передачи сигналов таким приложениям и маршрутизации (адресации) соединений. Такие сигналы должны гарантированно передаваться через сети PSN для обеспечения корректной работы оконечного телефонного оборудования.</p><ul><li class="b">CAS (Channel-Associated Signaling)</li><li class="lib">Сигналы CAS передаются в том же кадре T1 или E1, что и телефонные разговоры, но используют отдельную от голосового канала полосу. Поскольку сигнализация CAS может передаваться при более низких скоростях, нежели TDM-трафик во временных интервалах, не возникает необходимости обновления всех битов CAS в каждом кадре TDM. Следовательно, цикл прохода всех сигнальных битов CAS завершается только после передачи некоторого количества кадров TDM — это количество определяет новую структуру, называемую мультикадром (multiframe) или суперкадром (superframe). Общеприняты мультикадры размером в 12, 16 или 24 кадра, продолжительность которых составляет 1,5, 2 и 3 мсек., соответственно.</li><li class="b">CCS (Common Channel Signaling)</li><li class="lib"><p>Сигнализация CCS использует отдельный цифровой канал для передачи асинхронных сообщений, относящихся к состоянию телефонных приложений, в выделенных временных интервалах потока TDM. Этот канал может представлять собой один или несколько смежных временных интервалов одного транка TDM (связанная с транком сигнализация CCS) или может передаваться через независимую сеть.</p><p>CCS обычно работает на основе HDLC с использованием кодов бездействия (idle code) или сообщений keep-alive, передаваемых в отсутствие сигнальных событий (например, снятия трубки). Примерами основанных на HDLC систем CCS являются SS7 [Q.700] и ISDN PRI [Q.931].</p></li></ul><p class="note">Примечание: Для сетей TDM будут использоваться термины «jitter» и «wander» в соответствии с определениями [G.810] для описания кратковременных и долгосрочных вариаций значимых цифровых сигналов. Для сетей PSN эти характеристики будем обозначать термином PDV (packet delay variation — вариации задержки пакетов) (см. [RFC3393]).</p><h2 id="p4">4. Эталонные модели</h2><h3>4.1. Базовые модели PWE3</h3><p>Базовые модели определены в [RFC3985]</p><ul class="dot"><li>4.1 (Network Reference Model — сетевая эталонная модель),</li><li>4.2 (PWE3 Pre-processing — предварительная обработка),</li><li>4.3 (Maintenance Reference Model — эталонная модель обслуживания),</li><li>4.4 (Protocol Stack Reference Model — эталонная модель стека протоколов),</li><li>4.5 (Pre-processing Extension to Protocol Stack Reference Model — расширение предварительной обработки для эталонной модели стека протоколов).</li></ul><p>Эти модели полностью применимы к настоящему документу без каких-либо изменений.</p><p>Все рассматриваемые в этом документе типы сервиса являются специальными случаями битовых потоков (Bit-stream) и структурированных битовых потоков (Structured bit-stream), определенными в параграфе 3.3 документа [RFC3985].</p><h3>4.2. Восстановление синхронизации</h3><p>Восстановление синхронизации (Clock recovery) — это воссоздание битов синхронизации на основе потока доставленных пакетов. Решение такой задачи при значительных флуктуациях в потоке принимаемых пакетов может быть достаточно сложным.</p><h3>4.3. Эталонная модель сетевой синхронизации</h3><p>На рисунке 1 показан базовый вариант эталонной модели сетевой синхронизации:</p><pre>       +---------------+               +---------------+
       |      PE1      |               |      PE2      |
    K  |   +--+        |               |        +--+   |  G
    |  |   | J|        |               |        | H|   |  |
    v  |   v  |        |               |        v  |   |  v
+---+  | +-+  +-+  +-+ |  +--+   +--+  | +-+  +-+  +-+ |  +---+
|   |  | |P|  |D|  |P| |  |  |   |  |  | |P|  |E|  |P| |  |   |
|   |&lt;===|h|&lt;:|e|&lt;:|h|&lt;:::|  |&lt;::|  |&lt;:::|h|&lt;:|n|&lt;=|h|&lt;===|   |
|   |  | |y|  |c|  |y| |  |  |   |  |  | |y|  |c|  |y| |  |   |
| C |  | +-+  +-+  +-+ |  |  |   |  |  | +-+  +-+  +-+ |  | C |
| E |  |               |  |S1|   |S2|  |               |  | E |
| 1 |  | +-+  +-+  +-+ |  |  |   |  |  | +-+  +-+  +-+ |  | 2 |
|   |  | |P|  |E|  |P| |  |  |   |  |  | |P|  |D|  |P| |  |   |
|   |===&gt;|h|=&gt;|n|:&gt;|h|:::&gt;|  |::&gt;|  |:::&gt;|h|:&gt;|e|=&gt;|h|===&gt;|   |
|   |  | |y|  |c|  |y| |  |  |   |  |  | |y|  |c|  |y| |  |   |
+---+  | +-+  +-+  +-+ |  +--+   +--+  | +-+  +-+  +-+ |  +---+
 ^  ^  |   |  ^        |               |        |  ^   |  ^  ^
 |  |  |   |B |        |&lt;------+------&gt;|        |  |   |  |  |
 |  A  |   +--+        |       |       |        +--+-E |  F  |
 |     +---------------+      +-+      +---------------+     |
 |             ^              |I|               ^            |
 |             |              +-+               |            |
 |             C                                D            |
 +-----------------------------L-----------------------------+


Рисунок 1: Эталонная модель сетевой синхронизации</pre><p>Описание использованных на рисунке обозначений приведено ниже.</p><ul><li class="b">CE1, CE2</li><li class="lia">Пользовательские оконечные устройства, завершающие эмулируемые соединения TDM.</li><li class="b">PE1, PE2</li><li class="lia">Краевые устройства сетевых операторов, адаптирующие сервис для PW.</li><li class="b">S1, S2</li><li class="lia">Магистральные маршрутизаторы операторов.</li><li class="b">Phy</li><li class="lia">Физический интерфейс, завершающий соединение TDM.</li><li class="b">Enc</li><li class="lia">Интерфейс PW на границе PSN, где происходит инкапсуляция.</li><li class="b">Dec</li><li class="lia">Связанный с CE интерфейс PW, где происходит декапсуляция. Этот интерфейс содержит компенсационный буфер (jitter buffer) ограниченного размера.</li><li class="b">"==>"</li><li class="lia">Устройства с TDM-подключением.</li><li class="b">"::>"</li><li class="lia">PW, обеспечивающие сквозную эмуляцию соединений TDM.</li></ul><p>Символы A-L обозначают варианты синхронизации:</p><ul><li class="b">A</li><li class="lia">Синхронизация, используемая CE1 для передачи от устройства с TDM-подключением в направлении CE1.</li><li class="b">B</li><li class="lia">Синхронизация, восстановленная PE1 из входящего потока TDM. A и B имеют одинаковую частоту.</li><li class="b">G</li><li class="lia">Синхронизация, используемая CE2 для передачи от устройства с TDM-подключением в направлении CE2.</li><li class="b">H</li><li class="lia">Синхронизация, восстановленная PE2 из входящего потока TDM. G и H имеют одинаковую частоту.</li><li class="b">C, D</li><li class="lia">Локальные генераторы синхросигналов, доступные PE1 и PE2, соответственно.</li><li class="b">E</li><li class="lia">Синхронизация, используемая PE2 для передачи сигналов от устройства с TDM-подключением устройству CE2 (восстановленная синхронизация).</li><li class="b">F</li><li class="lia">Синхронизация, восстановленная CE2 из входящего потока TDM (E и F имеют одинаковую частоту).</li><li class="b">I</li><li class="lia">если этот сигнал существует, он является общим источником синхронизации для PE1 и PE2.</li><li class="b">J</li><li class="lia">Синхронизация, используемая PE1 для передачи от устройства с TDM-подключением устройству CE1 (восстановленная синхронизация).</li><li class="b">K</li><li class="lia">Синхронизация, восстановленная CE1 из входящего потока TDM (J и K имеют одинаковую частоту).</li><li class="b">L</li><li class="lia">Если этот сигнал существует, он является общим источником синхронизации для CE1 и CE2. Отметим, что различные пары устройств CE могут использовать разные опорные источники синхросигналов.</li></ul><p>Требование сквозной эмуляции соединений TDM заключается в том, что сигналы B и E, а также H и J имели одинаковые частоты. Подходящий метод синхронизации будет определяться схемой сетевой синхронизации.</p><p>Ниже рассмотрены варианты сценариев синхронизации.</p><h4>4.3.1. Сценарии с сетью синхронизации</h4><p>В зависимости от того, какая часть сети имеет общий источник синхронизации, возможны два варианта сценария:</p><ul class="dot"><li><p>Сценарий синхронизации PE:</p><p>Рисунок 2 представляет собой адаптированный вариант эталонной сетевой модели и представляет сценарий PE-синхронизации.</p><p>Общий источник сигналов I доступен всем устройствам PE, а локальные источники C и D привязаны к I:</p><ul class="dot"><li>Сигналы E и J совпадают с D и C, соответственно.</li><li>Сигналы A и G совпадают с сигналами K и F, соответственно (т. е., устройства CE1 и CE2 используют шлейфовую синхронизацию).</li></ul><pre>                 +-----+                 +-----+
+-----+    |     |- - -|=================|- - -|     |    +-----+
| /-- |&lt;---------|............PW1..............|&lt;---------| &lt;-\ |
|| CE |    |     | PE1 |                 | PE2 |     |    |CE2 ||
| \-&gt; |---------&gt;|............PW2..............|---------&gt;| --/ |
+-----+    |     |- - -|=================|- - -|     |    +-----+
                 +-----+                 +-----+
                    ^                       ^
                    |C                      |D
                    +-----------+-----------+
                                |
                               +-+
                               |I|
                               +-+


Рисунок 2: Сценарий синхронизации PE</pre></li><li><p>Сценарий синхронизации CE:</p><p>На рисунке 3 показан адаптированный вариант базовой модели сетевой синхронизации для случая CE.</p><p>Общим опорным источником является сигнал L, доступный всем устройствам CE, а локальные источники A и G привязаны к L:</p><ul class="dot"><li>Сигналы E и J совпадают с G и A, соответственно (т. е., PE1 и PE2 используют шлейфовую синхронизацию).</li></ul><pre>                 +-----+                 +-----+
+-----+    |     |- - -|=================|- - -|     |    +-----+
|     |&lt;---------|............PW1..............|&lt;---------|     |
| CE1 |    |     | PE1 |                 | PE2 |     |    | CE2 |
|     |---------&gt;|............PW2..............|---------&gt;|     |
+-----+    |     |- - -|=================|- - -|     |    +-----+
  ^              +-----+                 +-----+              ^
  |A                                                         G|
  +----------------------------+------------------------------+
                               |
                              +-+
                              |L|
                              +-+


Рисунок 3: Сценарий синхронизации CE</pre><p class="note">Отметим, что в обоих случаях синхро сигналы через сеть PSN не передаются.</p></li></ul><h4>4.3.2. Сценарий с синхронизацией через сеть PSN</h4><p>В этом случае каждое устройство CE использует свой источник для синхронизации передачи и сигналы этого источника должны передаваться через сеть PSN и восстанавливаться соответствующим удаленным устройством PE. При восстановлении может использоваться общий для PE источник сигналов I.</p><p>На рисунке 4 показан сценарий синхронизации через сеть.</p><p>Общий источник синхросигналов I доступен всем устройствам PE, а локальные генераторы C и D привязаны к I:</p><ul class="dot"><li>Сигналы A и G генерируются локально и не привязаны к общему источнику.</li><li>Сигналы E и J генерируются в соответствии с общим источником синхронизации, доступным всем устройствам PE.</li></ul><p>В несколько отличающемся варианте этого сценария одно (но не оба) из устройств CE может использовать сигналы синхронизации приема в качестве источника синхронизации передачи (шлейфовая синхронизация).</p><pre>                 +-----+                 +-----+           v
+-----+    |     |- - -|=================|- - -|     |    +-----+
|     |&lt;---------|............PW1..............|&lt;---------|     |
| CE1 |    |     | PE1 |                 | PE2 |     |    | CE2 |
|     |---------&gt;|............PW2..............|---------&gt;|     |
+-----+    |     |- - -|=================|- - -|     |    +-----+
     ^           +-----+&lt;-------+-------&gt;+-----+
     |A                         |
                               +-+
                               |I|
                               +-+


Рисунок 4: Сценарий с синхронизацией через сеть PSN</pre><p>В этом случае синхросигналы (различие между опорным сигналом I и входящей синхронизацией A) должны явно передаваться от устройства PE на входе устройству PE на выходе.</p><h4>4.3.3. Сценарий адаптивной синхронизации</h4><p>Сценарий адаптивной синхронизации характеризуется 2 особенностями:</p><ul class="dot"><li>отсутствует общий источник сигналов I, доступный устройствам PE1 и PE2.</li><li>Отсутствует общий источник сигналов L, доступный устройствам CE1 и CE2.</li></ul><p>На рисунке 5 показан сценарий адап тивной синхронизации.</p><pre>                  |J                                       |G
                  v                                        |
                 +-----+                 +-----+           v
+-----+    |     |- - -|=================|- - -|     |    +-----+
|     |&lt;---------|............PW1..............|&lt;---------|     |
| CE1 |    |     | PE1 |                 | PE2 |     |    | CE2 |
|     |---------&gt;|............PW2..............|---------&gt;|     |
+-----+    |     |- - -|=================|- - -|     |    +-----+
     ^           +-----+                 +-----+
     |                                        ^
    A|                                       E|


Рисунок 5: Сценарий адаптивной синхронизации</pre><p>Синхронизация сигналов A и E в этом сценарии сложнее, нежели в других сценариях синхронизации.</p><p>Отметим, что разница между сигналами A и E должна быть достаточно малой, чтобы обеспечить отсутствие случаев переполнения или опустошения компенсационного буфера.</p><p>В этом сценарии синхросигналы могут явно передаваться PE на входе устройству PE на выходе (например, с помощью RTP).</p><h2 id="p5">5. Эмулируемые службы</h2><p>В этой главе определены требования к уровням информации (payload) и инкапсуляции для сквозной эмуляции сервиса TDM с битовыми и структурированными битовыми потоками пользовательской информации.</p><p>Всякий раз, когда это возможно, требования данного документа следует выполнять только на уровне инкапсуляции. В редких случаях применимости требований к обоим уровням это отмечается в документе явно.</p><p>Обусловленный сервисом уровень инкапсуляции для сквозной эмуляции устройств включает в себя два варианта поддержки служб через сети PSN.</p><h3>5.1. Структурно-независимая передача сигналов за пределами PDH</h3><p>Независимый от структуры транспорт рассматривается для следующих случаев:</p><ul class="dot"><li>E1 в соответствии с [G.704].</li><li>T1 (DS1) в соответствии с [G.704].</li><li>E3 в соответствии с [G.751].</li><li>T3 (DS3) в соответствии с [T1.107].</li></ul><h3>5.2. Передача структурированных потоков за пределами PDH</h3><p>Структурированный транспорт рассматривается для сигналов:</p><ul class="dot"><li>E1/T1 с одним уровнем структурирования, вносимым кадрами [G.704].</li><li>NxDS0 с использованием CAS или без CAS.</li></ul><h3>5.3. Структурированный транспорт для устройств SONET/SDH</h3><p>Структурированный транспорт рассматривается для следующих каналов SONET/SDH:</p><ul class="dot"><li>SONET STS-1 SPE/SDH VC-3.</li><li>SONET STS-Nc SPE (N = 3, 12, 48, 192) / SDH VC-4, VC-4-4c, VC-4-16c, VC-4-64c.</li><li>SONET VT-N (N = 1.5, 2, 3, 6) / SDH VC-11, VC-12, VC-2.</li><li>SONET Nx VT-N / SDH Nx VC-11/VC-12/VC-2/VC-3.</li></ul><p class="note">Отметим, что не существует независимого от структуры транспорта для SONET/SDH. Для этого типа структура должна приниматься во внимание всегда.</p><h2 id="p6">6. Базовые требования</h2><h3>6.1. Общие требования к PW</h3><p>Уровни инкапсуляции и информации должны удовлетворять общим требованиям к PW, определенным в [RFC3916]:</p><ol><li><p>Доставка необходимой информации из заголовков:</p><ul class="ulat"><li><p>для структурно-независимого транспорта эти функции могут обеспечиваться информационным уровнем;</p></li><li><p>для структурированного транспорта необходимая информация должна обеспечиваться уровнем инкапсуляции;</p></li><li><p>структурированный транспорт для устройств SONET/SDH должен сохранять информацию о пути (path overhead) как часть передаваемых данных (payload); соответствующие компоненты транспортной служебной информации (transport overhead) могут передаваться на уровне инкапсуляции.</p></li></ul></li><li><p>Поддержка мультиплексирования и демультиплексирования, если таковые поддерживаются эмулируемыми устройствами. Это относится к соединениям NxDS0 (с сигнализацией или без нее) и NxVT-x в одном STS-1 SPE или VC-4:</p><ul class="ulat"><li><p>для таких соединений уровни информации и инкапсуляции должны совместно обеспечивать раздельную трактовку каждого суб-канала (sub-circuit);</p></li><li><p>PW следует обеспечивать достаточный объем информации для мультиплексирования и демультипрексирования в NSP; снижение сложности эмуляции PW за счет использования схем NSP для мультиплексирования и демультиплексирования может служить предпочтительным решением.</p></li></ul></li><li><p>Посредничество или прозрачная передача служебных сообщений (Maintenance Message) эмулируемых служб в зависимости от используемого сценария.</p></li><li><p>Рассмотрение вопроса о зависимости объема служебной информации от PSN (см. параграф 7.5).</p></li><li><p>Детектирование и обработка отказов PW. Список таких отказов приведен в параграфе 7.9.</p></li></ol><p>Индикаторы фрагментации могут использоваться структурированным транспортом в тех случаях, когда структура данных вступает в конфликт с задержками при пакетировании или возникают проблемы с Path MTU между парами устройств PE.</p><p>Приведенное ниже требование [RFC3916] неприменимо для эмуляции устройств TDM:</p><ul class="dot"><li>поддержка различных размеров PDU.</li></ul><h3>6.2. Общие требованиями в части передаваемых данных</h3><p>Структурно-независимый транспорт трактует соединения TDM как битовые потоки данных, определенные в [RFC3985].</p><p>Структурированный транспорт трактует такие соединения как структурированные битовые потоки, определенные в [RFC3985].</p><p>Соответственно, уровень инкапсуляции должен обеспечивать единую службу упорядочивания и ему следует при необходимости обеспечивать службу синхронизации (см. параграф 4.3).</p><p class="note">Примечание: Уровень инкапсуляции может поддерживать Length-сервис, но это не является обязательным.</p><h3>6.3. Вопросы архитектуры</h3><p>Уровни информации и инкапсуляции следует реализовать на основе единых архитектурных принципов, как описано в главе 3 [RFC1958] и [RFC3985].</p><p>При необходимости информационный уровень может использовать ту или иную фору адаптации естественных данных TDM для достижения хорошо документированных задач. В таких случаях следует использовать методы адаптации стандартов.</p><h2 id="p7">7. Зависящие от сервиса требования</h2><h3>7.1. Связность</h3><ol><li><p>Эмуляция должна обеспечивать передачу сигналов между однотипными устройствами AC (см. главу 5), использующими (если это применимо) одинаковую скорость.</p></li><li><p>Уровню инкапсуляции следует сохранять независимость от специфических характеристик соединения между устройствами AC и PE на разных сторонах PW.</p></li></ol><h3>7.2. Синхронизация</h3><ol><li><p>Уровень инкапсуляции должен обеспечивать сервис синхронизации, достаточный для того, чтобы:</p><ul class="ulat"><li><p>согласовать входящую и исходящую синхронизацию независимо от используемого сценария сетевой синхронизации;</p></li><li><p>сохранять флуктуации (jitter и wander) исходящей синхронизации в определяемых типом сервиса пределах, заданных соответствующими нормативными документами.</p></li></ul></li><li><p>При доступности одного прецизионного источника синхронизации для всех устройств PE в данном домене, уровню инкапсуляции следует обеспечивать возможность использования этого источника (например, для более точного восстановления синхронизации естественного сервиса).</p></li></ol><h3>7.3. Устойчивость к ошибкам</h3><p>Устойчивость эмулируемого сервиса к ошибкам зависит не только от протокола сквозной эмуляции, но и от корректной реализации перечисленных ниже процедур.</p><h4>7.3.1. Потеря пакетов</h4><p>Сквозная эмуляция устройств TDM может предполагать очень малую вероятность потери пакетов между входным и выходным устройствами PE. В частности не требуется обеспечивать механизмов повтора передачи.</p><p>Для минимизации воздействия потери пакетов на принимающее устройство уровню инкапсуляции следует:</p><ol><li><p>Разрешить принимающему устройству PE независимую интерпретацию данных TDM в каждом пакете (см. [RFC2736]). Это требование может не соблюдаться в тех случаях, когда приемному устройству PE приходиться интерпретировать структуры, размер которых превышает MTU для пути между парой PE.</p></li><li><p>Разрешить надежное детектирование потери пакетов (см. следующий параграф). В частности, следует разрешить оценку времени доставки следующего пакета и констатацию потери пакета на основе такой оценки.</p></li><li><p>Минимизировать влияние потери пакетов на восстановление синхронизации в приемном устройтве PE.</p></li><li><p>Повысить устойчивость TDM-интерфейса CE к потере пакетов путем подстановки устройством PE недостающих данных.</p></li></ol><h4>7.3.2. Нарушение порядка доставки</h4><p>Уровень инкапсуляции должен обеспечивать механизмы гарантированной упорядоченной доставки пакетов, передающих данные TDM через сети PSN. Пакеты, доставленные с нарушением порядка:</p><ol><li>должны детектироваться;</li><li>сдедует восстанавливать порядок следования пакетов, если они были доставлены не слишком поздно и не слишком рано.</li></ol><p>Пакеты, для которых невозможно восстановить порядок следования, должны трактоваться как потерянные.</p><h3>7.4. Сигнализация CE</h3><p>Неструктурированные соединения TDM обычно не требуют каких-либо механизмов передачи сигнальной информации CE, являющейся частью эмулируемого сервиса.</p><p>Некоторые приложения CE, использующие структурированные соединения TDM (например, телефония) требуют передачи сигнальной информации об изменении состояния этих соединений.</p><p>Уровню инкапсуляции следует поддерживать сигнальную информацию о состоянии приложений CE для соответствующих устройств, обеспечивая:</p><ol><li>возможность поддержки различных схем сигнализации с минимальным воздействием на инкапсуляцию данных TDM;</li><li>мультиплексирование специфичных для приложения сигналов CE и данных эмулируемого сервиса в один ;</li><li>синхронизацию (с учетом специфических требований приложения) между сигналами CE и данными на выходе PW;</li><li>вероятностное восстановление при возможных потерях пакетов в сети PSN;</li><li>детерминированное восстановление состояния приложения CE после организации PW и отказа в сети.</li></ol><p>Для сигналов CE, используемых в целях обслуживания (управление шлейфами, мониторинг и т. п.), следует применять базовый протокол обслуживания PWE3.</p><h3>7.5. Использование полосы PSN</h3><ol><li><p>Уровню инкапсуляции следует обеспечивать возможность эффективного согласования перечисленных ниже противоречивых требований:</p><ul class="ulat"><li><p>Эффективное использование полосы PSN. Предполагается, что размер заголовков уровня инкапсуляции не зависит от размера пакетов и увеличение размера передаваемых пакетов повышает эффективность использования полосы.</p></li><li><p>Незначительная сквозная задержка. Малые значения задержки являются основным требованием для голосовых приложений TDM. Задержка на пакетирование является одной из компонент общей задержки и растет при увеличении размера пакетов.</p></li></ul><p>Компенсационный буфер увеличивает задержку для эмулируемого соединения. Не следует дозволять, чтобы дополнительная задержка, вносимая компенсационным буфером, превышала значение вариации задержки пакетов в сети PSN.</p></li><li><p>Уровень инкапсуляции может обеспечивать экономию полосы PSN за счет отказа от передачи поврежденных данных TDM через сеть PSN.</p></li><li><p>Уровень инкапсуляции может обеспечивать возможность экономии полосы PSN для случая структурированного транспорта за счет отказа от передачи неактивных каналов.</p></li><li><p>Уровень инкапсуляции может обеспечивать динамическое отключение временно бездействующих каналов в случае использования структурированного транспорта.</p><p>Если динамическое исключение каналов используется, по умолчанию недопустимо нарушение целостности структур, передаваемых через PW.</p></li><li><p>Для NxDS0 уровень инкапсуляции должен обеспечивать возможность сохранять сквозную задержку независимо от скорости.</p></li></ol><h3>7.6. Вариации задержки пакетов</h3><p>Уровню инкапсуляции следует обеспечивать возможность компенсации вариаций задержки пакетов пока флуктуации синхронизации на передающей стороне не выходят за нормативные пределы.</p><p>Уровень инкапсуляции может обеспечивать в процессе работы адаптацию задержки, вносимой компенсационным буфером, если вариации задержки пакетов изменяются с течением времени. Такая адаптация может вносить дополнительные ошибки (в допустимых нормативами пределах), но не следует позволять увеличение флуктуаций wander) синхронизации на передающей стороне.</p><h3>7.7. Совместимость с инфраструктурой сетей пакетной коммутации (PSN)</h3><p>Комбинациям уровня инкапсуляции и уровней туннелирования PSN, используемых для сквозной эмуляции устройств TDM, следует быть совместимыми с существующей инфраструктурой PSN. В частности, следует обеспечивать совместимость с механизмами сжатия заголовков в каналах, где это имеет существенное щзначение.</p><h3>7.8. Контроль насыщения</h3><p>Устройства TDM работают с постоянной скоростью и, следовательно, вносят в сеть PSN постоянный уровень трафика. Механизм изменения скорости, используемый протоколом TCP для контроля насыщения в сети, следовательно неприменим для эмуляции устройств TDM.</p><p>Должна обеспечиваться возможность разрыва эмулируемых TDM PW при возникновении насыщения в сети.</p><p>Следует принимать меры по предотвращению ситуаций, когда множество TDM PW одновременно отключается (shut down) и восстанавливается, поскольку это приводит к нестабильности работы PSN.</p><p>Дополнительные сведения о контроле насыщения можно найти в параграфе 6.5 документа [RFC3985].</p><h3>7.9. Детектирование отказов</h3><p>Уровню инкапсуляции для сквозной эмуляции сервиса TDM следует независимо или совместно с нижележащим уровнем стека PWE3 обеспечивать детектирование, обработку и генерацию отчетов для следующих ситуаций:</p><ol><li><p>Ошибочные соединение или заблудившиеся пакеты. Важность этого требования обусловлена ожиданиями пользователей, основанными на надежном детектировании ошибочных соединений в сетях SONET/SDH.</p></li><li><p>Потеря пакетов. Детектирование потери пакетов требуется для обеспечения целостности синхронизации, как обсуждалось в параграфе 7.3.1. Кроме того, механизм детектирования потери пакетов следует обеспечивать для локализации отказов в эмулируемых устройствах.</p></li><li><p>Пакеты с некорректным форматом.</p></li></ol><h3>7.10. Мониторинг работы</h3><p>Уровню инкапсуляции для сквозной эмуляции сервиса TDM следует обеспечивать сбор данных мониторинга работы (PM — performance monitoring), совместимых с параметрами, определенными для «классических» служб на базе TDM. Применимость [G.826] требует дополнительного изучения.</p><h2 id="p8">8. Вопросы безопасности</h2><p>Рассмотрение вопросов безопасности в [RFC3916] полностью применимо для случая эмуляции служб TDM. Кроме того, службы TDM чувствительны к вариациям задержки пакетов [параграф 7.6] и требуется защита от такого типа атак.</p><h2 id="p9">9. Литература</h2><h3>9.1. Нормативные документы</h3><table itemprop="references"><tr><td>[RFC2119]</td><td>Bradner, S., «Key words for use in RFCs to Indicate Requirement Levels», BCP 14, RFC 2119, Март 1997.</td></tr></table><h3>9.2. Информационные ресурсы</h3><table itemprop="references"><tr><td>[RFC3916]</td><td>Xiao, X., McPherson, D., and P. Pate, <a href="../3916.rfc" title="RFC 3916 — Требования к сквозной эмуляции псевдо-провода (PWE3)">«Требования к сквозной эмуляции псевдо-провода (PWE3)», RFC 3916</a>, Сентябрь 2004</td></tr><tr><td>[RFC3985]</td><td>Bryant, S. и P. Pate, <a href="../3985.rfc" title="RFC 3985 — Архитектура сквозной эмуляции псевдо-провода (PWE3)">«Архитектура сквозной эмуляции псевдо-провода (PWE3)», RFC 3985</a>, Март 2005</td></tr><tr><td>[G.702]</td><td>ITU-T Recommendation G.702 (11/88) — Digital hierarchy bit rates</td></tr><tr><td>[G.704]</td><td>ITU-T Recommendation G.704 (10/98) — Synchronous frame structures used at 1544, 6312, 2048, 8448 and 44 736 Kbit/s hierarchical levels</td></tr><tr><td>[G.706]</td><td>ITU-T Recommendation G.706 (04/91) — Frame alignment and cyclic redundancy check (CRC) procedures relating to basic frame structures defined in Recommendation G.704</td></tr><tr><td>[G.707]</td><td>ITU-T Recommendation G.707 (10/00) — Network node interface for the synchronous digital hierarchy (SDH)</td></tr><tr><td>[G.751]</td><td>ITU-T Recommendation G.751 (11/88) — Digital multiplex equipments operating at the third order bit rate of 34 368 Kbit/s and the fourth order bit rate of 139 264 Kbit/s and using positive justification</td></tr><tr><td>[G.810]</td><td>ITU-T Recommendation G.810 (08/96) — Definitions and terminology for synchronization networks</td></tr><tr><td>[G.826]</td><td>ITU-T Recommendation G.826 (02/99) — Error performance parameters and objectives for international, constant bit rate digital paths at or above the primary rate</td></tr><tr><td>[Q.700]</td><td>ITU-T Recommendation Q.700 (03/93) — Introduction to CCITT Signalling System No. 7</td></tr><tr><td>[Q.931]</td><td>ITU-T Recommendation Q.931 (05/98) — ISDN user-network interface layer 3 specification for basic call control</td></tr><tr><td>[RFC1958]</td><td>Carpenter, B., «Architectural Principles of the Internet», RFC 1958, Июнь 1996.</td></tr><tr><td>[RFC2736]</td><td>Handley, M. и C. Perkins, «Guidelines for Writers of RTP Payload Format Specifications», BCP 36, RFC 2736, Декабрь 1999.</td></tr><tr><td>[RFC3393]</td><td>Demichelis, C. и P. Chimento, «IP Packet Delay Variation Metric for IP Performance Metrics (IPPM)», RFC 3393, Ноябрь 2002.</td></tr><tr><td>[T1.105]</td><td>ANSI T1.105 — 2001 Synchronous Optical Network (SONET) — Basic Description including Multiplex Structure, Rates, and Formats, Май 2001</td></tr><tr><td>[T1.107]</td><td>ANSI T1.107 — 1995. Digital Hierarchy — Format Specification</td></tr><tr><td>[TR-NWT-170]</td><td>Digital Cross Connect Systems — Generic Requirements and Objectives, Bellcore, TR-NWT-170, Январь 1993</td></tr></table><h2 id="p10">10. Разработчики документа</h2><p>В разработку этого документа внесли свой вклад:</p><p>Sasha Vainshtein<br />Axerra Networks<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#97;&#114;&#114;&#101;&#120;&#97;&#64;&#97;&#104;&#115;&#97;&#115;</bdo></p><p>Yaakov Stein<br />RAD Data Communication<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#100;&#97;&#114;&#64;&#115;&#95;&#118;&#111;&#107;&#97;&#97;&#121;</bdo></p><p>Prayson Pate<br />Overture Networks, Inc.<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#115;&#107;&#114;&#111;&#119;&#116;&#101;&#110;&#101;&#114;&#117;&#116;&#114;&#101;&#118;&#111;&#64;&#101;&#116;&#97;&#112;&#46;&#110;&#111;&#115;&#121;&#97;&#114;&#112;</bdo></p><p>Ron Cohen<br />Lycium Networks<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#115;&#107;&#114;&#111;&#119;&#116;&#101;&#110;&#109;&#117;&#105;&#99;&#121;&#108;&#64;&#99;&#110;&#111;&#114;</bdo></p><p>Tim Frost<br />Zarlink Semiconductor<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#107;&#110;&#105;&#108;&#114;&#97;&#122;&#64;&#116;&#115;&#111;&#114;&#102;&#46;&#109;&#105;&#116;</bdo></p><h2>Адрес автора</h2><p>Maximilian Riegel<br />Siemens AG<br />St-Martin-Str 76<br />Munich 81541 Germany<br />Phone: +49-89-636-75194<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#115;&#110;&#101;&#109;&#101;&#105;&#115;&#64;&#108;&#101;&#103;&#101;&#105;&#114;&#46;&#110;&#97;&#105;&#108;&#105;&#109;&#105;&#120;&#97;&#109;</bdo></p></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 4197 - Требования к сквозной эмуляции каналов TDM через сети пакетной коммутации",disqus_identifier="4197.rfc",disqus_url="http://rfc2.ru/4197.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>