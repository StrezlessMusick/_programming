<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link rel="prev" href="13" /><link rel="next" href="15" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><title>Перевод RFC 4761 — Сервис виртуальной локальной сети (VPLS): Использование BGP для автоматического детектирования и управления, стр. 14</title><meta name="author" content="K. Kompella, Y. Rekhter" /><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../4761.rfc">RFC 4761 — Сервис виртуальной локальной сети (VPLS): Использование BGP для автоматического детектирования и управления</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 4761</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling</span></a></dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Предложенный стандарт</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2007-01-02">Январь 2007</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">K. Kompella</span>, <span itemprop="author">Y. Rekhter</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Семенов Юрий Алексеевич</span></dd></dl><div class="pages"><p class="r"> <h2 class="pt"><span class="z">RFC 4761,</span> Страница 14 из 17</h2></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a accesskey="1" title="Первая страница" href="../4761.rfc" class="arr">&lArr;</a></li><li><a accesskey="2" title="На страницу назад" href="13"><b>&larr;</b></a></li><li><a class="x" href="../4761.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a href="11">11</a></li><li><a href="12">12</a></li><li><a href="13">13</a></li><li class="this"><span>14</span></li><li><a href="15">15</a></li><li><a href="16">16</a></li><li><a href="17">17</a></li><li><a accesskey="3" title="На страницу вперед" href="15">&rarr;</a></li><li><a accesskey="4" title="Последняя страница" href="17">&rArr;</a></li></ul></div><div id="text" itemprop="articleBody"><h4 id="p4.2.3">4.2.3. Передача на все порты</h4><p>Когда мост получает пакет, адрес места назначения которого отсутствует в его FIB, он направляет такой пакет на все прочие порты. Аналогично, VE переадресует пакеты на все порты в случае неизвестного адреса места назначения всем прочим VE в VPLS.</p><p>На рисунке 1 выше, если CE2 посылает Ethernet-кадр PE2, а MAC-адрес места назначения отсутствует в FIB PE2 (для данной VPLS), тогда PE2 должен быть способен переадресовать кадр через все порты всем прочим PE данной VPLS. При получение такого кадра PE1 будет нести ответственность за последующую переадресацию пакета в CE1 и CE5 (если PE1 не знает, какому CE "принадлежит" этот MAC-адрес).</p><p>С другой стороны, если PE3 получает кадр, он может делегировать последующую переадресацию кадра на все порты (flooding) своему u-PE. Если PE3 был подключен к двум u-PE, он должен анонсировать, что у него два u-PE. PE3 может либо анонсировать, что не может осуществить переадресацию на все порты, в таком случае он получит два кадра, по одному для каждого u-PE, или он может анонсировать, что он может это сделать, в этом случае он получит одну копию кадра, который будет переслан обоим u-PEs.</p><h4 id="p4.2.4">4.2.4. Бродкастинг и мультикастинг</h4><p>Существует хорошо известный широковещательный MAC-адрес. Ethernet-кадр, чей адрес места назначения является широковещательным MAC-адресом, должен быть послан всем станциям данной VPLS. Это может быть реализовано тем же способом, что и переадресация на все порты (flooding).</p><p>Существуют также известные "мультикастные" MAC-адреса. Ethernet-кадры с мультикатным адресом места назначения могут быть широковещательно переданы всем рабочим станциям; VE может также использовать определенную технику, чтобы ограничить передачу мультикастинговых кадров к ограниченному набору приемников, к тем, которые проявляют интерес к соответствующей мультикастной группе.</p><h4 id="p4.2.5">4.2.5. Переадресация по алгоритму "Split Horizon"</h4><p>Когда PE, способный перадресовать пакет всем (скажем PEx), получает широковещательный Ethernet-кадр, или пакет с неизвестным MAC-адресом места назначения, он должен перадресовать его всем. Если кадр приходит от подключенного CE, PEx должен копировать этот кадр всем прочим подключенным CE, а также всем прочим PE, членам сети VPLS. Если, с другой стороны, кадр пришел от другого PE (скажем PEy), PEx должен послать копию пакета только подключенным к нему CE. PEx не должен посылать кадр другим PE, так как PEy уже сделал это. Такой алгоритм называется "split horizon", из чего следует, что для VPLS все PE оказываются логически соединенными друг с другом.</p><p>Правила переадресации по алгоритму Split horizon применяются к широковещательным и мультикастным пакетам, а также к пакетам с неизвестным MAC-адресом.</p></div></div><noindex><div class="pages"><p class="r"> <b>Страница 14 из 17</b></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a title="Первая страница" href="../4761.rfc" class="arr">&lArr;</a></li><li><a title="На страницу назад" href="13"><b>&larr;</b></a></li><li><a class="x" href="../4761.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a href="11">11</a></li><li><a href="12">12</a></li><li><a href="13">13</a></li><li class="this"><span>14</span></li><li><a href="15">15</a></li><li><a href="16">16</a></li><li><a href="17">17</a></li><li><a title="На страницу вперед" href="15">&rarr;</a></li><li><a title="Последняя страница" href="17">&rArr;</a></li></ul></div></noindex><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 4761 - Сервис виртуальной локальной сети (VPLS): Использование BGP для автоматического детектирования и управления",disqus_identifier="4761.rfc",disqus_url="http://rfc2.ru/4761.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>