<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link rel="prev" href="27" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><title>Перевод RFC 2544 — Методология тестирования устройств для соединения сетей, стр. 28</title><meta name="author" content="Scott Bradner, Jim McQuaid" /><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../2544.rfc">RFC 2544 — Методология тестирования устройств для соединения сетей</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 2544</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">Benchmarking Methodology for Network Interconnect Devices</span></a></dd><dd><div class="icon i7"></div> Предыдущие версии: RFC 1944</dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Информационный</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="1999-03-01">Март 1999</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">Scott Bradner</span>, <span itemprop="author">Jim McQuaid</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div class="pages"><p class="r"> <h2 class="pt"><span class="z">RFC 2544,</span> Страница 28 из 28</h2></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a accesskey="1" title="Первая страница" href="../2544.rfc" class="arr">&lArr;</a></li><li><a accesskey="2" title="На страницу назад" href="27"><b>&larr;</b></a></li><li><a class="x" href="../2544.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a class="x" href="9">9</a></li><li><a class="x" href="10">10</a></li><li><a class="x" href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a href="20">20</a></li><li><a href="21">21</a></li><li><a href="22">22</a></li><li><a href="23">23</a></li><li><a href="24">24</a></li><li><a href="25">25</a></li><li><a href="26">26</a></li><li><a href="27">27</a></li><li class="this"><span>28</span></li><li class="d"><span>&rarr;</span></li><li class="d"><span>&rArr;</span></li></ul></div><div id="text" itemprop="articleBody"><h4>C.2.4.5. Форматы кадров — TCP/IP в сети Ethernet</h4><p>Каждый из рассмотренных ниже кадров описывается для первой пары портов DUT («входного» порта 1 и «выходного» порта 1). Если кадры используются для других портов, адреса должны быть соответственно изменены.</p><h4>C.2.6.1. Кадр «обучения»</h4><p>Запрос ARP в сети Ethernet</p><pre> -- Заголовок дейтаграммы
 offset data (hex)            описание
 00     FF FF FF FF FF FF     широковещательный MAC-адрес для получателя
broadcast address
 06     xx xx xx xx xx xx     указывается MAC-адрес отправителя
 12     08 06                 тип ARP
 14     00 01                 тип оборудования (Ethernet = 1)
 16     08 00                 протокол (IP = 800)
 18     06                    размер аппаратного адреса (48 битов для Ethernet)
on Ethernet
 19     04                    размер протокольного адреса (4 октета для IP)
for IP
 20     00 01                 код операции для запроса = 1
 22     xx xx xx xx xx xx     MAC-адрес отправителя
 28     xx xx xx xx           MAC-адрес запрашивающего устройства DUT
 38     xx xx xx xx           IP-адрес запрашивающего устройства DUT</pre><h4>C.2.6.2. Кадр маршрутных обновлений</h4><pre> -- Заголовок дейтаграммы
 offset data (hex)            описание
 00     FF FF FF FF FF FF     широковещательный MAC-адрес для получателя
 06     xx xx xx xx xx xx     аппаратный адрес отправителя
 12     08 00                 тип

 -- Заголовок IP
 14     45                    версия IP - 4,
                              размер заголовка (в 4-байтовых словах) - 5
 15     00                    поле сервиса
 16     00 EE                 общий размер
 18     00 00                 идентификатор (ID)
 20     40 00                 флаги (3 бита) 4 (не фрагментировать),
                              смещение фрагм. - 0
 22     0A                    время жизни (TTL)
 23     11                    протокол - 17 (UDP)
 24     C4 8D                 контрольная сумма заголовка
 26     xx xx xx xx           IP-адрес отправителя
 30     xx xx xx              IP-адрес получателя
 33     FF                    номер хоста = FF для широковещания

 -- UDP HEADER
 34     02 08                 порт отправителя 208 = RIP
 36     02 08                 порт получателя 208 = RIP
 38     00 DA                 размер сообщения UDP
 40     00 00                 контрольная сумма UDP

 -- Пакет RIP
 42     02                  команда/отклик (команда = 2)
 43     01                  версия = 1
 44     00 00               0

 -- сеть 1
 46     00 02               family = IP
 48     00 00               0
 50     xx xx xx            IP-адрес сети 1
 53     00                  сеть, а не узел
 54     00 00 00 00         0
 58     00 00 00 00         0
 62     00 00 00 07         метрика 7

 -- сеть 2
 66     00 02               семейство = IP
 68     00 00               0
 70     xx xx xx            IP-адрес сети 2
 73     00                  сеть, а не узел
 74     00 00 00 00         0
 78     00 00 00 00         0
 82     00 00 00 07         метрика 7

 -- сеть 3
 86     00 02               семейство = IP
 88     00 00               0
 90     xx xx xx            IP-адрес сети 3
 93     00                  сеть, а не узел
 94     00 00 00 00         0
 98     00 00 00 00         0
 102    00 00 00 07         метрика 7

 -- сеть 4
 106    00 02               семейство = IP
 108    00 00               0
 110    xx xx xx            IP-адрес сети 4
 113    00                  сеть, а не узел
 114    00 00 00 00         0
 118    00 00 00 00         0
 122    00 00 00 07         метрика 7

 -- сеть 5
 126    00 02               семейство = IP
 128    00 00               0
 130    00                  IP-адрес сети 5
 133    00                  сеть, а не узел
 134    00 00 00 00         0
 138    00 00 00 00         0
 142    00 00 00 07         метрика 7

 -- сеть 6
 146    00 02               семейство = IP
 148    00 00               0
 150    xx xx xx            IP-адрес сети 6
 153    00                  сеть, а не узел
 154    00 00 00 00         0
 158    00 00 00 00         0
 162    00 00 00 07         метрика 7</pre><h4>C.2.4.6. Кадр управляющего запроса</h4><p>Будет определен.</p><h4>C.2.6.4. Тестовые кадры</h4><p>Запрос UDP echo в среде Ethernet</p><pre> -- Заголовок дейтаграммы
 offset data (hex)            Описание
 00     xx xx xx xx xx xx     MAC-адрес получателя
 06     xx xx xx xx xx xx     MAC-адрес отправителя
 12     08 00                 тип

 -- IP HEADER
 14     45                    версия IP - 4,
                              размер заголовка (в 4-байтовых словах) - 5
 15     00                    TOS (тип обслуживания)
 16     00 2E                 общий размер *
 18     00 00                 ID (идентификатор)
 20     00 00                 флаги (3 бита) 4 (не фрагментировать),
                              смещение фрагм. - 0
 22     0A                    TTL (время жизни)
 23     11                    протокол - 17 (UDP)
 24     C4 8D                 контрольная сумма заголовка *
 26     xx xx xx xx           IP-адрес отправителя **
 30     xx xx xx xx           IP-адрес получателя **

 -- UDP HEADER
 34     C0 20                 порт отправителя
 36     00 07                 порт получателя - 07 = Echo
 38     00 1A                 размер сообщения UDP *
 40     00 00                 контрольная сумма UDP

 -- UDP DATA
 42     00 01 02 03 04 05 06 07    произвольные данные ***
 50     08 09 0A 0B 0C 0D 0E 0F

  * - значение поля меняется в разных кадрах

 ** - меняется для разных логических потоков.

*** - Заполняют оставшуюся часть кадра нарастающими значениями с повторением,
      если требуется по размеру кадра.</pre><p>Значения, используемые с полях общего размера и размера сообщений UDP:</p><pre>frame size   total length  UDP message length
   64            00 2E          00 1A
   128           00 6E          00 5A
   256           00 EE          00 9A
   512           01 EE          01 9A
   768           02 EE          02 9A
   1024          03 EE          03 9A
   1280          04 EE          04 9A
   1518          05 DC          05 C8</pre></div></div><noindex><div class="pages"><p class="r"> <b>Страница 28 из 28</b></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a title="Первая страница" href="../2544.rfc" class="arr">&lArr;</a></li><li><a title="На страницу назад" href="27"><b>&larr;</b></a></li><li><a class="x" href="../2544.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a class="x" href="9">9</a></li><li><a class="x" href="10">10</a></li><li><a class="x" href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a href="20">20</a></li><li><a href="21">21</a></li><li><a href="22">22</a></li><li><a href="23">23</a></li><li><a href="24">24</a></li><li><a href="25">25</a></li><li><a href="26">26</a></li><li><a href="27">27</a></li><li class="this"><span>28</span></li><li class="d"><span>&rarr;</span></li><li class="d"><span>&rArr;</span></li></ul></div></noindex><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 2544 - Методология тестирования устройств для соединения сетей",disqus_identifier="2544.rfc",disqus_url="http://rfc2.ru/2544.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>