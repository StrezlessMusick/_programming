<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE> Библиотека языка C GNU glibc: Введение</TITLE>
 <LINK HREF="glibc-2.html" REL=next>

 <LINK HREF="glibc.html#toc1" REL=contents>
</HEAD>
<body bgcolor="#DDE1C2">
<LINK REL="stylesheet" href="http://www.opennet.ru/opennet4.css" type="text/css">
<!--htdig_noindex-->
<FORM method="get" action="http://www.opennet.ru/search.shtml">
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
<TR>
<TD VALIGN="BOTTOM" BGCOLOR="#E9EAD6" style="background: #E9EAD6 url('http://www.opennet.ru/back.gif') repeat-x bottom left">
<A HREF="http://www.opennet.ru/"><IMG SRC="http://www.opennet.ru/opennet2.gif" HEIGHT=60 WIDTH=249 ALT="The OpenNET Project" BORDER="0"></A><br>
</TD>

<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>

<TD VALIGN=TOP ALIGN=RIGHT WIDTH="470" HEIGHT="70" BGCOLOR="#D9DAC6">
<TABLE BORDER=0 CELLPADDING=1 WIDTH="470">
<TR>
<TD HEIGHT=60 BGCOLOR="#D9DAC6">

<script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
 style="display:inline-block;width:468px;height:60px"
 data-ad-client="ca-pub-2075278885744463"
 data-ad-slot="4070171090"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</TD>
</TR>
</TABLE>
</TD>

<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>
<TD WIDTH="40" BGCOLOR="#E9EAD6" style="background: #E9EAD6 url('http://www.opennet.ru/back.gif') repeat-x bottom left">&nbsp;</TD>
<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>

<TD VALIGN=TOP ALIGN=RIGHT WIDTH="130" BGCOLOR="#E9EAD6" ROWSPAN=3>
<a              
href="http://click.opennet.ru/cgi-bin/opennet/hjump.cgi?lanbilling8" target=_blank><img              
src="http://www.opennet.ru/img/lanbilling8.gif" width=130 height=125 border=0 alt=""></a>

</TD>

</TR>

<TR BGCOLOR="#B0B190"><TD COLSPAN=6><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD></TR>


<TR BGCOLOR="#E9EAD6">
<TD ALIGN=CENTER COLSPAN=5>
<table width="100%">
<tr>
<td rowspan=2 width=300 nowrap class="h">
<INPUT type=hidden name=exclude value="index|/man.shtml"><A HREF="http://www.opennet.ru/search.shtml" class="h"><u>Поиск</u></A>&nbsp;(<A HREF="http://www.opennet.ru/keywords/" class="h">теги</A>):&nbsp;<INPUT type="text" size="20" name="words" value="" title='для поиска в google наберите "g фраза"'>
</td><td width="20%">
&nbsp;   <A HREF="http://www.opennet.ru/opennews/" class="h"><b><u>НОВОСТИ</u></b></A> (<a href="http://www.opennet.ru/news/opennet.shtml" class="h">+</a>)
</td><td width="20%">
  <A HREF="http://www.opennet.ru/mp/" class="h"><b><u>КОНТЕНТ</u></b></A>
</td><td width="20%">
  <A HREF="http://wiki.opennet.ru" class="h"><b><u>WIKI</u></b></A>
</td><td width="20%">
   <A HREF="http://www.opennet.ru/man.shtml" class="h"><b><u>MAN'ы</u></b></A>
</td><td width="20%">
   <A HREF="http://www.opennet.ru/forum/" class="h"><b><u>ФОРУМ</u></b></A>
</td></tr>
</table>
</TD>
<TD BGCOLOR="#B0B190" WIDTH="1"><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=1 WIDTH=1 ALT=""></TD>
</TR>
<TR BGCOLOR="#B0B190"><TD COLSPAN=7><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=2 WIDTH=1 ALT=""></TD></TR>
</TABLE>

<div style="float: left; width: 279; text-align: left;padding-right: 60px;" id=adv><A HREF="http://www.ip-as.ru" target=_blank><IMG SRC="http://www.opennet.ru/img/ipas3.gif" BORDER="0" width="279" height="40"></A></div>
<div style="padding-top: 0px;position:absolute;left:50%;margin-left:-235px;width:470px;" id=adv2>
<script language=JavaScript src="http://www.opennet.ru/cgi-bin/opennet/hints.cgi?itsoft"></script> 
</div>
<div style="width: 279;float: right;" id=adv3>
</div>
<div style="clear: both;"></div>
<br>

<script language="JavaScript"><!--
d=document;a='';r=escape(d.referrer);a+=';r='+r;
js=10; d.write('<img src="http://top.list.ru/counter'+
'?id=77689;js='+js+a+';rand='+Math.random()+
'" alt="" height=1 width=1>');
if(js>11)d.write('<'+'!-- ')//--></script><noscript><img
src="http://top.list.ru/counter?js=na;id=77689"
height=1 width=1 alt="">
</noscript>

</FORM>
<!--/htdig_noindex-->


<table  BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" style="margin-bottom: 5px;margin-top: 5px;">
<tr><td>
<TABLE  BORDER=0 CELLSPACING=0 CELLPADDING=4 BGCOLOR="#E9EAD6" WIDTH="100%">
<TR BGCOLOR="#C7CBB1"><TD><FONT COLOR="#000090">
<b><a href="http://www.opennet.ru/docs/">Каталог документации</a> / 
<a href="http://www.opennet.ru/docs/124.shtml">Раздел "Программирование, языки"</a> /
<a href="index.html">Оглавление документа</a>
</b>
</TD></TR>
</TABLE>
</TD></TR>
<TR BGCOLOR="#B0B190"><TD><IMG SRC="http://www.opennet.ru/p.gif" HEIGHT=3 WIDTH=1 ALT=""></TD></TR>
</TABLE>

<A HREF="glibc-2.html">Вперед</A>
Назад
<A HREF="glibc.html#toc1">Содержание</A>
<HR>
<H2><A NAME="s1">1. Введение</A></H2>

<P>
<P>Язык С не обеспечивает никаких встроенных средств для выполнения
таких общих операций как ввод-вывод, управление памятью, обработка
строк, и т.п.. Вместо этого, такие средства определены в стандартной
библиотеке, которую Вы подключаете к вашим программам.
<P>Библиотека GNU C, описанная в этом документе, содержит описание
всех библиотечных функций, которые определены в соответствии c ANSI C
стандартом, учитывая дополнительные особенности, специфические для
POSIX-стандарта операционной системы UNIX, и расширений, специфических
для GNU-разработок.
<P>Цель этого руководства состоит в том, чтобы сообщить Вам, как
использовать средства GNU библиотеки. Мы упомянули особенности ее
стандартов, чтобы помочь Вам разобраться с вещами, которые являются
потенциально непереносимыми на другие системы. Но переносимость не
является основным вопросом данного руководства.
<P>
<H2><A NAME="ss1.1">1.1 Начало</A>
</H2>

<P>
<P>Это руководство написано с учетом того, что Вы по крайней мере
немного знакомы с языком программирования C и базисными понятиями
программирования. Вообще считается, что стандарт ANSI C (см. раздел
1.2.1 [ANSI C]) проще для понимания, чем "традиционные", предшествующие
ANSI C, диалекты.
<P>Если Вы читаете это руководство впервые, Вам следует подробно
прочитать весь вводный материал, а остальное главы только просмотреть. В
библиотеке GNU C имеется множество функций, и Вы не запомните, как
использовать каждую из них. Но Вы в общих чертах ознакомитесь с видами
средств, которые обеспечивает библиотека, поэтому когда Вы будете писать
ваши программы, Вы сможете распознавать, когда использовать библиотечные
функции, и где в этом руководстве Вы сможете найти более специфическую
информацию по ним.
<P>
<H2><A NAME="ss1.2">1.2 Стандарты и переносимость</A>
</H2>

<P>
<P>Этот раздел обсуждает различные стандарты и другие источники, на
которых базируется GNU C. Эти источники включают стандарты ANSI и POSIX,
а так же реализации System V и Berkeley Unix.
<P>Первичная цель этого руководства - сообщить Вам, как эффективно
использовать средства библиотеки GNU. Но если Вас интересует создание
ваших программ, совместимых с определенными стандартами, или переносимых
на операционные системы отличные от GNU, то оно укажет Вам направление
использования библиотеки. Этот раздел дает Вам краткий обзор выше
перечисленных стандартов, так, чтобы Вы знали, что они представляют,
когда они упоминаются в других частях руководства.
<P>См. Приложение B [Обзор библиотеки], для получения алфавитного
списка функций и других символов, обеспечиваемых библиотекой. Этот
список указывает также, на какие стандарты опирается каждая функция или
символ.
<P>
<H3>ANSI C</H3>

<P>
<P>Библиотека GNU C совместима со стандартом C, принятым Американским
Институтом Национальных Стандартов (ANSI): American National Standard
X3.159-1989_"ANSI C". Заголовочные файлы и библиотечные средства,
которые составляют библиотеку GNU - надмножество средств, определенных в
соответствии c ANSI C стандартом.
<P>
<H3>Библиотека GNU C</H3>

<P>
<P>Если Вы следуете относительно строгой приверженности к ANSI C
стандарту, Вы должны использовать опцию ` -ansi ', когда Вы компилируете
ваши программы компилятором GNU C. Эта опция указывает, чтобы транслятор
определил только возможности стандарта ANSI из библиотечных заголовочных
файлов, если Вы явно не попросите о дополнительных особенностях, для
получения информации относительно того, как это сделать см. раздел 1.3.4
[Макрокоманды установки возможностей].
<P>Способность ограничить библиотеку, чтобы включить только
возможности ANSI C важна, потому что ANSI C устанавливает ограничения,
которым не удовлетворяют некоторые имена, определяемые библиотечной
реализацией, т.е. GNU расширения не всегда удовлетворяют этим
ограничениям. См. раздел 1.3.3 [Зарезервированные имена], где приводится
более подробная информация относительно этих ограничений.
<P>Это руководство не будет вдаваться в подробности различий между
ANSI C и более старыми диалектами. Оно поможет вам написать программы,
чтобы работать корректно под многими диалектами С, но не более.
<P>Библиотека GNU также совместима с семейством стандартов IEEE POSIX,
известных более формально как Переносной Интерфейс Операционной Системы.
POSIX взят в основном из различных версий операционной системы UNIX.
<P>Библиотечные средства, определенные POSIX стандартами &shy;
надмножество соответствующих cтандарту ANSI C; POSIX определяет
дополнительные особенности для функций ANSI С, и задает определения
новых дополнительных функций. Вообще предпочтение отдается скорее
дополнительным требованиям и функциональным возможностям, определяемым
POSIX стандартами, обеспечивающим поддержку низшего уровня для
определенной среды операционной системы, чем общей поддержке языка
программирования, который может выполняться в многих разнообразных
средах операционной системы.
<P>GNU C библиотека осуществляет все функции, определенные в IEEE Std
1003.1-1990, Системе Интерфейса Прикладных программ POSIX, обычно
упоминающемся как POSIX.1. Первичные расширения к ANSI C средствам,
определенные этими стандартными примитивами интерфейса файловой системы
(см. Главу 9 [Интерфейс файловой системы]), зависят от устройства
функции управления терминалом (см. Главу 12 [Интерфейс терминала низкого
уровня]), и функции управления процессом (см. Главу 23 [Порожденнные
процессы]).
<P>Некоторые средства из IEEE Std 1003.2-1992, Стандарта Оболочки и
Утилит POSIX (POSIX.2) также представлены в библиотеке GNU. Они включают
в себя утилиты для обработки регулярных выражений и других средств
сопоставления с образцом (см. Главу 16 [Сопоставления с образцом]).
<P>
<H3>Berkeley Unix</H3>

<P>
<P>GNU C библиотека определяет средства (которые формально не
стандартизированы) из некоторых версий UNIX: 4.2 BSD, 4.3 BSD, и 4.4 BSD
Unix системы (также известной как Berkeley Unix) и из SunOS (популярной
4.2 BSD производной, которая включает некоторые функциональные
возможности Unix System V ). Эта система поддерживает большинство ANSI и
POSIX средств, 4.4 BSD и более новые выпуски SunOS, т.е. фактически
поддерживает их все.
<P>BSD средства включают символические связи (см. раздел 9.4
[Символические связи]), функцию выбора (см. раздел 8.6 [Ожидание ввода &shy;
вывода]), функции сигнала BSD (см. раздел 21.9 [BSD Обработка сигнала]
), и межпроцессорные связи (см. Главу 11 [Гнезда]).
<P>
<H3>SVID (Описание интерфейса System V)</H3>

<P>
<P>Описание Интерфейса System V (SVID) - документ, описывающий AT&amp;T
операционную систему Unix System V. Это -, в некоторой степени,
надмножество стандарта POSIX (см. раздел 1.2.2 [POSIX])
<P>GNU C библиотека определяет некоторых из средств, требуемых SVID, и
не требуемых в соответствии c ANSI или POSIX стандартами, для
совместимости с Unix System V и другой UNIX системой (типа SunOS),
которые включают эти средства. Однако, многие из большего количества
менее известных и менее полезных средств, требуемых SVID не включены.
(Фактически, Unix System V сама не обеспечивает их все.)
<P>
<H2><A NAME="ss1.3">1.3 Использование библиотеки</A>
</H2>

<P>
<P>Этот раздел описывает некоторые из практические проблемы
использования GNU C библиотек.
<P>
<H3>Заголовочные файлы</H3>

<P>
<P>Библиотеки используемые С программами на самом деле состоят из двух
частей: заголовочные файлы, которые определяют типы и макрокоманды и
объявляют переменные и функции; и фактическая библиотека или архив,
который содержит определения переменных и функций.
<P>( В Cи, описание просто представляет информацию,что функция или
переменная существует, и присваивает ей тип. Для функционального
объявления, нужно указать информацию относительно типов параметров. Цель
объявлений состоит в том, чтобы транслятор правильно обработал ссылки к
объявленным переменным и функциям. С другой стороны, определение
фактически распределяет память для переменных или указывает, что делает
функция.)
<P>Чтобы использовать средства библиотеки GNU C, Вы должны убедиться,
что ваши исходные программы включают соответствующие заголовочные файлы,
чтобы транслятор видел объявления доступных средств, и мог правильно
обрабатывать ссылки на них. При компиляции вашей программы, компоновщик
свяжет эти ссылки с фактическими определениями, находящимися в файле
архива.
<P>Файлы заголовка включаются в исходный файл директивой препроцессора
"#include". Язык С поддерживает две формы этой директивы; первая,
<P>
<BLOCKQUOTE><CODE>
<PRE>
      #include "header"
</PRE>
</CODE></BLOCKQUOTE>

обычно используется, чтобы включить заголовочный файл header, который Вы
пишете самостоятельно; он обычно содержит определения и объявления,
описывающие интерфейсы между различными частями вашей конкретной
прграммы. Другая форма,
<P>
<BLOCKQUOTE><CODE>
<PRE>
      #include &lt;file.h&gt;
</PRE>
</CODE></BLOCKQUOTE>

обычно используется, чтобы включить заголовочный файл "file.h" который
содержит определения и объявления для стандартной библиотеки. Этот файл
обычно устанавливается в стандартное место вашим администратором
системы. Вы должны использовать эту вторую форму для файлов заголовка
библиотеки C.
<P>Обычно, директивы "#include" помещены в начале исходного С файла,
перед любым другим кодом. Если Вы начинаете ваши исходные файлы
некоторыми комментариями, объясняя, что код в файле делает, поместите
директивы "#include" сразу после комментариев, согласно особенностям
макроопределения (см. раздел 1.3.4 [Особенности макрокоманд] ).
<P>Для получения подробной информации относительно использования
заголовочных и директивы "#include" см. раздел "Заголовочные файлы" в
Руководстве по препроцессору GNU C.
<P>GNU C библиотека обеспечивает несколько заголовочных файлов, каждый
из которых содержит тип, макроопределения, переменную и описания функций
для группы связанных средств. Это означает, что в ваши программы следует
включить несколько файлов заголовка, в зависимости от того, какие
средства Вы используете.
<P>Некоторые библиотечные заголовочные файлы включают другие
библиотечные заголовочные файлы. Однако, программируя в хорошем стиле,
Вы не должны полагаться на это; лучше явно включить все заголовочные
файлы, требуемые для библиотечных средств, которые Вы используете. GNU C
библиотека была написана таким способом, что не имеет значения, включен
ли заголовочный файл случайно больше чем один раз; при включении
заголовочного файла второй раз ничего не происходит. Аналогично, если
ваша программа многократно включает заголовочные файлы, порядок
включения, не имеет значения.
<P>Примечание относительно совместимости: включение стандартного
заголовочного файла в любом порядке и любое число раз работает в любой
ANSI C реализации. Однако, этого традиционно не было во многоих более
старых C реализациях.
<P>Строго говоря, Вы не должны включать заголовочный файл, чтобы
использовать функцию, которую он объявляет; Вы можете объявить функцию
явно, согласно спецификациям в этом руководстве. Но обычно лучше
включить заголовочный файл, потому что он может определять типы и
макрокоманды, которые иначе не доступны, или он может определять более
эффективные макро замены для некоторых функций. Это - также верный
способ иметь правильное объявление.
<P>
<P>
<H3>Макроопределения функций</H3>

<P>
<P>Если мы в этом руководстве описываем что-нибудь как функцию, то она
может иметь и макроопределение. Обычно это не имеет никакого значение,
потому что ваше макроопределение делает ту же самую вещь, что и функция.
В частности, макро-эквиваленты для библиотечных функций вычисляют
параметры ровно один раз, так же образом, как и при обращение к функции.
Основная причина для этих макроопределений состоит в том, что иногда они
могутреализовывать встроенное расширение, которое является значительно
быстрее, чем фактическое обращение к функции.
<P>Взятие адреса библиотечной функции работает даже, если она
определена как макрокоманда, потому что, в этом контексте, имя функции
не сопровождается левой круглой скобкой, которая является синтаксически
необходимой, чтобы распознать макрообращение.
<P>Вы можете иногда не использовать макроопределение функции,
возможно, чтобы сделать вашу программу более простой или для отладки.
Имеются два способа, сделать это:
<UL>
<LI>       Вы можете избегать макроопределения, включая имя функции в
круглых скобках. Это работает, потому что имя функции не появляется в
синтаксическом контексте, где оно распознаваемо как макрообращение.
</LI>
<LI>       Вы можете подавить любое макроопределение для целого исходного
файла, используя директиву препроцессора "#undef ", если в явно описании
средства не указано обратное.</LI>
</UL>

Например, предположим, что заголовочный файл "stdlib.h" объявляет
функцию abs как
<P>
<BLOCKQUOTE><CODE>
<PRE>
      extern int abs ( int);
</PRE>
</CODE></BLOCKQUOTE>

и также обеспечивает макроопределение для abs. Тогда при выполнении:
<P>
<BLOCKQUOTE><CODE>
<PRE>
      #include &lt; stdlib.h &gt;
      int f ( int * i) {return (abs (++ * i));}
</PRE>
</CODE></BLOCKQUOTE>

cсылка на abs может относиться или к макрокоманде или функции. С другой
стороны, в каждом из следующих примеров производится ссылка на функцию,
а не на макрос.
<P>
<BLOCKQUOTE><CODE>
<PRE>
      #include &lt; stdlib.h &gt;
      int g ( int * i) {return ((abs) (++ * i));}
      #undef abs
      int h ( int *i) { return (abs (++*i)); }
</PRE>
</CODE></BLOCKQUOTE>

Так как макроопределения, дублирующие функции, ведут себя в точно
так же, как фактическая версия функции, удаление макроопределений обычно
делает вашу программу медленнее.
<P>
<H3>Зарезервированные имена</H3>

<P>
<P>Имена всех библиотечных типов, макрокоманд, переменных и функций,
которые исходят из ANSI C стандарта, зарезервированы безоговорочно; ваша
программа не имеет права переопределять эти имена. Все другие
библиотечные имена зарезервированы, если ваша программа явно включает
заголовочный файл, который определяет или объявляет их. Для этих
ограничений имеются несколько причин:
<UL>
<LI>       Другие люди, читая ваш код могут запутаться, если Вы использовали
функцию exit, чтобы делать что - нибудь полностью отличное от того, что
делает стандартная функция выхода.

Предотвращение этой ситуации помогает делать ваши программы более
простыми, для понимания и способствует модульности.
</LI>
<LI>       Это лишает пользователя возможности случайно переопределить
библиотечную функцию, которая вызывается в соответствии c другими
библиотечными функциями. Если переопределение позволялось, те другие
функции не будут работать.
</LI>
<LI>       Это позволяет транслятору делать любые специальные оптимизации
опираясь на обращения к этим функциям, без риска, что они могут быть
переопределены пользователем. Некоторые библиотечные средства, такие как
variadic функции (с переменным числом аргументов, см. раздел A.2
[Variadic функции]) и нелокальные выходы (см. Главу 20 [Нелокальные
выходы]), фактически требуют более близкого сотрудничества с частью C
транслятора, и для транслятора проще обрабатывать их как встроенные
части языка.</LI>
</UL>

В дополнение к именам, описываемым в этом руководстве,
зарезервированные имена включают в себя все внешние идентификаторы
(глобальные функции и переменные) начинающиеся с подчеркивания ("_") и
все идентификаторы независимо от использования, которые начинаются с
двух подчеркиваний, или с подчеркивания сопровождаемого заголовочной
буквой. Это для того, чтобы библиотека и заголовочные файлы могли
определять функции, переменные, и макрокоманды для внутренних целей без
риска конфликта с именами в программах пользователя.
<P>Некоторые дополнительные классы имен идентификатора зарезервированы
для будущих расширений языка С. Использовании этих имен для ваших
собственных целей прямо сейчас создает возможность конфликта с будущими
версиями стандарта C, так что Вам следует избегать этих имен.
<UL>
<LI>       Имена, начинающиеся с прописной буквы "E" с последующей цифрой,
или символом верхнего регистра могут использоваться для дополнительных
имен кода ошибки. См. Главу 2 [Сообщения об ошибках].
</LI>
<LI>       Имена, которые начинаются с "is' или "к" сопровождаемые символом
нижнего регистра, могут использоваться для дополнительного тестирования
символа и функций преобразования. См. Главу 4 [Обработка символов].
</LI>
<LI>       Имена, которые начинаются с "LC_" с последующим символом верхнего
регистра, могут использоваться для дополнительных макрокоманд, определяя
атрибуты стандарта. См. Главу 19 [Положения].
</LI>
<LI>       Названия всех существующих функций математики (см. Главу 13
[Математика]) с прибавленным "f" или "l" зарезервированы для
соответствующих функций, которые применяют к числам с плавающей точкой и
параметрам двойной длины, соответственно.
</LI>
<LI>       Имена, которые начинаются с "SIG", сопровождаемые символом
верхнего регистра, зарезервированы для дополнительных имен сигнала. См.
раздел 21.2 [Стандартные сигналы].
</LI>
<LI>       Имена, которые начинаются с "SIG_" сопровождаемые символом
верхнего регистра, зарезервированы для дополнительных действий сигнала.
См. раздел 21.3.1 [Обработка видеосигнала].
</LI>
<LI>       Имена, начинающиеся со "str", "mem", или "wcs", сопровождаемые
символом нижнего регистра, зарезервированы для дополнительной строки и
функций массива. См. Главу 5 [Уилиты для работы со строками и
массивами].
</LI>
<LI>       Имена, которые заканчиваются на "_t" зарезервированы для
дополнительных имен типа.</LI>
</UL>

Кроме того, некоторые индивидуальные заголовочные файлы резервируют
имена вне тех, что они фактически определяют. Если ваша программа
включает такой специфический заголовочный файл, то у Вас есть повод для
беспокойства.
<UL>
<LI>       Заголовочный файл "dirent.h" резервирует имена с предстоящим
"d_".
</LI>
<LI>       Заголовочный файл "fcntl.h" резервирует имена с предстоящими
"l_", "F_", "O_", и "S_".
</LI>
<LI>       Заголовочный файл "grp.h" резервирует имена с предстоящим "gr_".
</LI>
<LI>       Заголовочный файл "limits.h" резервирует имена, с приписанным
"_MAX".
</LI>
<LI>       Заголовочный файл "pwd.h" резервирует имена с предстоящим "pw_".
</LI>
<LI>       Заголовочный файл "signal.h" резервирует имена с предстоящим
"sa_" и "SA_".
</LI>
<LI>       Заголовочный файл "sys/stat.h" резервирует имена с предстоящим
"st_" и "S_".
</LI>
<LI>       Заголовочный файл "sys/times.h" резервирует имена с предстоящим
"tms_".
</LI>
<LI>       Заголовочный файл "termios.h" резервирует имена с предстоящим
"c_", "V", "I", "O", и "TC", а также имена с предстоящим "B",
сопровождаемым цифрой.</LI>
</UL>
<H3>Макрокоманды управления особенностями</H3>

<P>
<P>Управляя макрокомандами, Вы определяете точный набор особенностей,
доступный, когда при компиляции исходного файла.
<P>Если Вы компилируете ваши программы, используя "gcc -ansi", Вы
получаете только ANSI C библиотечные особенности, если Вы явно не
запрашиваете дополнительные особенности, определяя одну или большее
количество макрокоманд особенностей. См. раздел "Опции Команд GNU CC" в
GNU CC Руководстве, для уточнения информации относительно опций GCC.
<P>Вы должны определить эти макрокоманды, используя директивы
препроцессора "#define" в начале ваших файлов. Эти директивы должны
стоять перед любым #include заголовочного файла системы. Лучше всего
указывать их самыми первыми в файле, только после комментариев. Вы могли
бы также использовать опцию `-D' для GCC, но лучше, если Вы создаете
исходные файлы с указанием их собственного значения замкнутым способом.
<DL>
<DT><B>_POSIX_SOURCE (макрос) </B><DD><P>
<P>Если Вы определяете эту макрокоманду, то функциональные возможности
из стандарта POSIX.1 (Стандарт ИИЭРа 1003.1) доступны, также как все
ANSI C средства.
<P>
<DT><B>_POSIX_C_SOURCE (макрос) </B><DD><P>
<P>Если Вы определяете эту макрокоманду со значением 1, то будут
определены функциональные возможности из стандарта POSIX.1 (Стандарт
ИИЭР 1003.1). Если Вы определяете эту макрокоманду со значением 2, то
станут доступны функциональные возможности из стандарта POSIX.1 и
функциональные возможности из стандарта POSIX.2 (Стандарт ИИЭР 1003.2).
Это - в дополнение к ANSI C средствам.
<P>
<DT><B>_BSD_SOURCE (макрос) </B><DD><P>
<P>Если Вы определяете эту макрокоманду, включаются функциональные
возможности 4.3 BSD Unix, также как ANSI C, POSIX.1, и POSIX.2.
<P>Некоторые из особенностей происходящие от 4.3 BSD Unix конфликтуют
с соответствующими особенностями, определенными стандартом POSIX.1. Если
эта макрокоманда определена, 4.3 BSD определения, имеют больший
приоритет чем POSIX определения.
<P>Из-за некоторых конфликтов между 4.3 BSD и POSIX.1, Вы должны
использовать специальную BSD библиотеку совместимости при компоновании
программ, компилируемых для BSD совместимости. Т. к. некоторые функции
должны быть определены двумя различными способами, один из них в
нормальной библиотеке C, а другой в библиотеке совместимости. Если ваша
программа определяет _BSD_SOURCE, Вы должны указать опцию "-lbsd-compat"
транслятору или компоновщику при компоновании программы, чтобы он нашел
функции в этой специальной библиотеке совместимости перед поиском их в
нормальной библиотеке C.
<P>
<DT><B>_SVID_SOURCE (макрос) </B><DD><P>
<P>Если Вы определяете эту макрокоманду, функциональные возможности из
SVID, включены также как ANSI C, POSIX.1, и POSIX.2.
<P>
<DT><B>_GNU_SOURCE (макрос) </B><DD><P>
<P>Если Вы определяете эту макрокоманду, включены все: ANSI C,
POSIX.1, POSIX.2, BSD, SVID, и расширения GNU. В случаях, конфликтов
POSIX.1 с BSD, POSIX определения берут верх.
<P>Если Вы хотите получить полный эффект _GNU_SOURCE, но установить
BSD определениям больший приоритет необходимо примеенить следующую
последовательность определений:
<P>
<P>
<BLOCKQUOTE><CODE>
<PRE>
      #define _GNU_SOURCE
      #define _BSD_SOURCE
      #define _SVID_SOURCE
</PRE>
</CODE></BLOCKQUOTE>

Обратите внимание, что, если Вы делаете это, Вы должны компоновать
вашу программу с BSD библиотекой совместимости, указывая опцию `&shy;
lbsd-compat' транслятору или компоновщику. Обратите внимание: если Вы
забудете сделать это, Вы можете получить очень странные ошибки во время
выполнения.
<P>Мы рекомендуем, чтобы Вы использовали _GNU_SOURCE в новых
программах. Если Вы не определяете опцию `-ansi' для GCC и не
определяете никакую из этих макрокоманд явнно, то _GNU_SOURCE дает тот
же эффект.
</DL>

Когда Вы определяете макрокоманду, чтобы запросить больший класс
особенностей, безобидно определить кроме того макрокоманду для
подмножества этих особенностей. Например, если Вы определяете _POSIX_
C_SOURCE, то определение _POSIX_SOURCE не имеет никакого эффекта.
Аналогично, если Вы определяете _GNU_SOURCE, определяя затем либо
_POSIX_SOURCE либо _POSIX_C_SOURCE либо _SVID_SOURCE, также не будет
никакого эффекта.
<P>Обратите внимание, что особенности _BSD_SOURCE не подмножество
любой другой из обеспечиваемых макрокоманд особенностей. Потому что эта
макрокоманда определяет особенности BSD, которые берут верх над
особенностями POSIX, которые запрашиваются другими макрокомандами. По
этой причине, определение _BSD_SOURCE в дополнение к другим
макрокомандам особенностей заставляет особенности BSD брать верх при
конфликтое с особенностями POSIX .
<P>
<H2><A NAME="ss1.4">1.4 Путеводитель по руководству</A>
</H2>

<P>
<P>Имеется краткий обзор содержания оставшихся глав этого руководства.
<UL>
<LI>       Глава 2 [Сообщения об ошибках], описывает, как сообщаются ошибки,
обнаруженные при использовании библиотекой.
</LI>
<LI>       Глава 3 [Распределение памяти], описывает средства библиотеки GNU
для динамического распределения памяти. Если Вы не знаете заранее
сколько памяти потребует ваша программа , Вы можете распределять память
динамически, и управлять этим через указатели.
</LI>
<LI>       Глава 4 [Обработка символов], содержит информацию относительно
символьных функций классификаций (типа isspace) и функций для выполнения
преобразования по выбору.
</LI>
<LI>       Глава 5 [Утилиты для работы со строками и массивами], имеет
описания функций для управления строками (символьными массивами,
завершенными пустым указателем) и общими массивами байтов, включая
операции типа копирования и сравнения.
</LI>
<LI>       Глава 6 [Краткий обзор ввода - вывода], рассматривают средства
ввода и вывода в библиотеке, и содержит информацию относительно базисных
понятий, таких как имя файла.
</LI>
<LI>       Глава 7 [Потоки ввода - вывода], описывает операции ввода &shy;
вывода, включая потоки (или FILE* объекты). Это обычные библиотечные
функции C из "stdio.h".
</LI>
<LI>       Глава 8 [Ввод - вывод низкого уровня], содержит информацию
относительно операций ввода - вывода с описателями файла. Описатели
файла - механизм низшего уровня, специфический для UNIX семейства
операционных систем.
</LI>
<LI>       Глава 9 [Интерфейс файловой системы], имеет описания операций на
всех файлах, например функций для их удаления и переименования и для
создания новых каталогов. Эта глава также содержит информацию,
относительно того, как Вы можете обращаться к атрибутам файла, например
к режимам защиты файла.
</LI>
<LI>       Глава 10 [Каналы и FIFO (первый зашел - первый вышел)], содержит
информацию относительно простых межпроцессорных механизмов связи. Каналы
обеспечивают связь между двумя связанными процессами (типа
"родитель-порожденнным"), в то время как FIFO обеспечиваю связь между
процессами, совместно используя общую файловую систему.
</LI>
<LI>       Глава 11 [Гнеза], описывает более сложный межпроцессорный
механизм связи, который позволяет процессам, выполняющимся на различных
машинах, связаться через сетью. Эта глава также содержит информацию
относительно Межсетевой адресации главной ЭВМ и как использовать базы
данных сетей системы.
</LI>
<LI>       Глава 12 [Интерфейс терминала низкого уровня], описывает, как Вы
можете изменять атрибуты устройства терминала. Например, если Вы хотите
отключать отображение символов, печатаемых пользователем, читайте эту
главу.
</LI>
<LI>       Глава 13 [Математика], содержит информацию относительно
математических библиотечных функций. Они включают такие вещи как
генераторы случайных чисел и функции остатка, а также обычные
тригонометрические и показательные функции на числах с плавающей
запятой.
</LI>
<LI>       Глава 14 [Функции арифметики низкого уровня], описывают функции
для простой арифметики, анализ чисел с плавающей запятой, и чтения чисел
из строк.
</LI>
<LI>       Глава 15 [Поиск и сортировка], содержит информацию относительно
функций для поиска и сортировки массивов. Вы можете использовать эти
функции для любого вида массива, обеспечивая соответствующую функцию
сравнения.
</LI>
<LI>       Глава 16 [Сопоставление с образцом], функции для определения
соответствия регулярных выражений и образцов имени файла оболочки, и для
расширяющихся слов, как делает оболочка.
</LI>
<LI>       Глава 17 [Дата и время], описывает функции для измерения
календарного времени и процессорного времени, также как функции для
установки будильников и таймеров.
</LI>
<LI>       Глава 18 [Расширения символов], содержит информацию относительно
управления символами, и строками, используя набор символов больший чем,
представлен в обычном типе данных char.
</LI>
<LI>       Глава 19 [Положение], описывает как выбор специфической страны
или языка воздействует на поведение библиотеки. Например, эффекты
положения воздействуют на последовательности объединений для строк и на
то как форматируются валютные значки.
</LI>
<LI>       Глава 20 [Нелокальные выходы], содержит описания функций setjmp и
longjmp. Эти функции обеспечивают средства для goto-подобных переходов,
возможно из одной функции в другую.
</LI>
<LI>       Глава 21 [Обработка сигнала], сообщает Вам все относительно
сигналов, что это такое, как установить драйвер, который вызывается,
когда специфический вид сигнала поставлен, и как предотвратить сигналы
во время выполнения критических разделов вашей программы.
</LI>
<LI>       Глава 22 [Запуск процесса], сообщает, как ваши программы могут
обращаться к их параметрам командной строки и системным переменным.
</LI>
<LI>       Глава 23 [Порожденнные процессы], содержит информацию
относительно того, как начать новые процессы и выполнять программы.
</LI>
<LI>       Глава 24 [Управление заданиями], описывает функции для управления
группами процесса. Этот материал, вероятно, представляет интерес только,
если Вы пишете оболочку.
</LI>
<LI>       Раздел 25.12 [База данных пользователей], и раздел 25.13 [База
данных групп], сообщают Вам, как обратиться к базам данных групп и
пользователей системы.
</LI>
<LI>       Глава 26 [Информация системы], описывает функции для получения
информации относительно аппаратных средств и конфигурации программного
обеспечения,когда выполняется ваша программа.
</LI>
<LI>       Глава 27 [Конфигурация системы], сообщает Вам, как Вы можете
получить информацию относительно различных ограничений операционной
системы. Большинство этих параметров предусмотрено для совместимости с
POSIX.
</LI>
<LI>       Приложение A [Особенности языка], содержит информацию
относительно библиотечной поддержки для стандартных частей C языка,
включая такие вещи как оператор sizeof или символическая постоянная
NULL, форма записи функций, принимающих переменное числа параметров, и
констант, описывающих диапазоны и другие свойства числовых типов.
Имеется также простой механизм отладки, который разрешает поместить
утверждения в ваш код, и напечатать диагностические сообщения, если
тесты не прошли.
</LI>
<LI>       Приложение B [Обзор библиотеки], дает обзор всех функций,
переменных, и макрокоманд в библиотеке, с полными типами данных и
функциональными прототипами, и говорит, от какого стандарта или системы
каждая происходит.
</LI>
<LI>       Приложение C [Сопровождение], объясняет, как формировать и
установить GNU C библиотеку на вашей системе, куда сообщать о всех
ошибках, которые Вы можете найти, и как добавить новые функции или
перенести библиотеку на новоую систему.</LI>
</UL>

Если Вы уже знаете имя средства, которое Вас интересует, Вы можете
найти его в Приложении B [Обзор библиотеки]. Оно даст Вам обзор
синтаксиса и указатель, по которому Вы можете найти более
детализированное описание. Это приложение особенно полезно, если Вы
хотите только проверить порядок и тип параметров функции. Оно также
сообщает Вам, от какого стандарта или системы происходит каждая функция,
переменная, или макрокоманда.
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<P>
<HR>
<A HREF="glibc-2.html">Вперед</A>
Назад
<A HREF="glibc.html#toc1">Содержание</A>

<!--htdig_noindex-->
<noindex>
<br>

<table id=ibm_adv align=center><tr valign=top><td width="605">
<iframe src="http://www.opennet.ru/adv_lc.html" height="240" width="605" scrolling="no" name="ibm" border="0" frameborder="0" target="_blank" marginheight="0" marginwidth="0"></iframe>
</td></tr></table>
</noindex>
<!--/htdig_noindex-->


<!-- footer -->
<!--htdig_noindex-->
<br>
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=1 WIDTH="100%" BGCOLOR="#B0B190">
<TR><TD>
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%" VALIGN="MIDDLE">
<TR>
<TD WIDTH="35%" BGCOLOR="#E9EAD6" ALIGN=LEFT>
<FONT SIZE="-1">
&nbsp;&nbsp;<A HREF="http://www.opennet.ru/cgi-bin/opennet/bookmark.cgi">Закладки&nbsp;на&nbsp;сайте</A><BR>
&nbsp;&nbsp;<A HREF="http://www.opennet.ru/cgi-bin/opennet/bookmark.cgi?submit=add" target="blank_">Проследить&nbsp;за&nbsp;страницей</A>
</FONT>
</TD>
<TD WIDTH="65%" ALIGN=RIGHT BGCOLOR="#E9EAD6">
<FONT SIZE="-1">Created&nbsp;1996-2014&nbsp;by&nbsp;<B><A HREF="http://www.opennet.ru/contact.shtml" title="email mc@tyumen.ru">Maxim&nbsp;Chirkov</A></B></FONT>&nbsp;&nbsp;<BR>
<FONT SIZE="-1"><A HREF="http://www.opennet.ru/add.shtml">Добавить</A>,&nbsp;<A HREF="http://www.opennet.ru/reklama.shtml">Реклама</A>,&nbsp;<A HREF="http://www.opennet.ru/banners2.shtml">Вебмастеру</A>,&nbsp;<A HREF="http://www.opennet.ru/guide.shtml">ГИД</A></FONT>&nbsp;&nbsp;
</TD>
</TR>
</TABLE>
</TD></TR>
</TABLE>


<div align=right><table><tr><td>
<a target=_blank href="http://www.runnet.ru"><img src="http://www.opennet.ru/img/runnet.gif" border=0 height=31 width=88 alt="RUNNet"></a>
<a target=_blank href="http://top.list.ru/jump?from=77689"><img src="http://top.list.ru/counter?id=77689;t=75;l=1" border=0 height=31 width=38 alt="TopList"></a>
<script type="text/javascript"><!--
document.write("<a href='http://www.liveinternet.ru/click' "+
"target=_blank><img src='//counter.yadro.ru/hit?t45.6;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+
"' alt='' title='LiveInternet' "+
"border='0' width='31' height='31'><\/a>")
//--></script>
<a target=_blank href="http://counter.rambler.ru/top100/"><img src="http://counter.rambler.ru/top100.cnt?10566" width=1 height=1 border=0><img src="http://www.opennet.ru/banner.gif" width=88 height=31 border=0></a>
</td></tr></table>
</div>
</form>
<!--/htdig_noindex-->
<!-- end of footer -->

</BODY>
</HTML>
