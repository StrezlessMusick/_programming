<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>Doskey - recall commands | Windows CMD | SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_nt.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="http://ss64.com/"> ( &nbsp;SS64 &nbsp;)</a></li>
<li class="tbtn"><a href="http://ss64.com/nt">CMD</a></li>
<li class="tbtn"><a href="syntax.html">Syntax</a></li>
<li><div id="search"><form action="http://www.google.com/search" method="get">
<button tabindex="-1" type="submit" id="q-img"></button>
<input type="text" name="q" id="q" size="27" maxlength="255" onblur="if(this.value=='')this.value='Search…';" onclick="if(this.value=='Search…')this.value='';" value="Search…">
<input type="hidden" name="sitesearch" value="ss64.com/nt/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>DOSKEY.exe</h1> 
<p>Recall and edit commands at the DOS prompt, and create macros. 
You cannot run a Doskey macro from a batch file.</p>
<pre>Syntax
      DOSKEY [<i>options</i>] [<i>macroname</i>=[<i>text</i>]]

Key
   <i>macroname</i>  : A short name for the macro.

        <i>text</i>  : The commands you want to recall.

      <i>options</i> : for working with macros...

   /MACROFILE=<i>filename</i> Specify a file of macros to install

   /MACROS             Display all Doskey macros

   /EXENAME=<i>exename</i>    Specify an  executable other than cmd.exe

   /MACROS:<i>exename</i>     Display all Doskey macros for the given executable

   /MACROS:ALL         Display all Doskey macros for all executables

   ALT+F10             Clear macro definitions

   options : for working with the Command Buffer...

   /HISTORY           : Display all commands stored in memory.
   /LISTSIZE=<i>size</i>     : Limit the number of commands remembered by the buffer.
   /REINSTALL         : Install a new copy of Doskey (clears the buffer).

   In normal use the command line is always in overwrite mode, DOSKEY can be used to
   change this to Insert, the insert key will always toggle from one to the other

   /INSERT           : By default new text you type at the command line
                       will be inserted in old text

   /OVERSTRIKE       : By default new text you type at the command line
                       will overwrite old

<span class="code">   /m /m:</span> and <span class="code">/h</span> are abbreviations for <span class="code">/macros /macros:</span> and <span class="code">/history</span> respectively.
   These provide compatibility with old MS-DOS versions of DOSKEY.</pre>
<p><i><a id="shortcuts"></a>In addition to the above, DOSKEY is loaded into memory for every cmd session so
you can use <a href="syntax-keyboard.html">Keyboard shortcuts</a> at the command line</i><br><br>
The size of the command history can be set from Control Panel, Console or from the properties of any cmd shortcut. Clear all history with DOSKEY /REINSTALL<br><br>
<b>Examples</b>
<p> A macro to open notepad<br>   
<span class="code">DOSKEY note=notepad.exe</span><br><br>
A macro to open WordPad<br>
<span class="code">DOSKEY wpad="C:\Program Files\Windows NT\Accessories\wordpad.exe"</span><br><br>
A macro called `d' to run dir/w<br>   
<span class="code">DOSKEY d=dir/w</span><br><br>
A macro to disable the FORMAT command (n.b. Doskey is not really a reliable method for disabling commands, it is easily bypassed by running  the full command path/ extension or creating a different macro.)<br>   
<span class="code">DOSKEY Format=Echo I've disabled the Format command</span>.<br>
<br>
More advanced macro definitions:
<pre>   $T     If you put more than one command in a DOSKEY macro, use $T. 
          to separate them. Equivalent to &amp; in a batch file.

   $1-$9  Parameters, equivalent to <a href="syntax-args.html">%1-%9</a> in a batch file.

   $*     This represents ALL the parameters $1-9

A macro to open a file with WordPad:
DOSKEY wpad="C:\Program Files\Windows NT\Accessories\wordpad.exe" $1
Using the above macro:
>wpad MyTextfile.txt</pre>
<h2>Save and restore macro definitions</h2>
<p> DOSKEY macros are  only saved for the current session.<br>
The command:<br>
<span class="code">doskey /macros &gt;macros.cmd</span><br>
Will list all current macro definitions into macros.cmd, edit this file
and place DOSKEY at the start of each line. Then to restore all the doskey macros setup in the current session at a later date, just run ' macros.cmd'.</p>
<p> <i class="quote">&ldquo;No man steps in the same river twice, for it's not the same river, and he's not the same man&rdquo; ~ Heraclitus</i><br>
<br>
<b> Related:</b></p>
<p>Syntax - <a href="syntax-macros.html">Batch file macros</a><br>
 Powershell: <a href="http://huddledmasses.org/window-gui-automation-from-powershell/">SendKeys</a> (Snapin)<br>
Equivalent bash commands (Linux):<a href="http://ss64.com/bash/m4.html"> m4</a> - Macro processor, <a href="http://ss64.com/bash/history.html">history</a> - Command history</p><!-- #BeginLibraryItem "/Library/foot_nt.lbi" --><p><script type="text/javascript"><!--
google_ad_client = "pub-6140977852749469";
google_alternate_color = "CCCCCC";
google_ad_width = 300;
google_ad_height = 250;
google_ad_format = "300x250_as";
google_ad_type = "text_image";
google_ad_channel ="0282121944";
google_color_border = "CCCCCC";
google_color_bg = "CCCCCC";
google_color_link = "000000";
google_color_text = "333333";
google_color_url = "0000FF";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></p>
<hr>
<div id=bl class="footer"><a href="doskey.html#"><img src="../images/top.png" width="30" height="22" alt="Back to the Top"></a></div>
<div id=br class="footer, tagline">&copy; Copyright <a href="http://ss64.com/">SS64.com</a> 1999-2015<br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
