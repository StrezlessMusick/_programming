<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
      <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
      <title>
        LHAPDF: Main Page – Hepforge
      </title>
      <link rel="shortcut icon" href="https://lhapdf.hepforge.org/favicon.ico">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=9">
<meta name="generator" content="Doxygen 1.8.6">
<link href="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/jquery.js"></script>
<script type="text/javascript" src="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/dynsections.js"></script>
<link href="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/search.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/doxygen.css" rel="stylesheet" type="text/css">
<link href="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/lhapdf.css" rel="stylesheet" type="text/css">
      <link rel="stylesheet" type="text/css" href="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/hepforge.css">
    </head>
    <body id="hf_body">
      <div id="hf_header">
	<span id="hf_banner">
	  <a href="https://lhapdf.hepforge.org/">LHAPDF</a>
          is hosted by
	  <a href="http://www.hepforge.org/">Hepforge</a>,
          <a href="http://www.ippp.dur.ac.uk/">IPPP Durham</a>
	</span>
      </div>
	<div id="hepforge-content-nosidebar">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellpadding="0" cellspacing="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LHAPDF
   &nbsp;<span id="projectnumber">6.1.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="https://lhapdf.hepforge.org/index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="https://lhapdf.hepforge.org/pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="https://lhapdf.hepforge.org/namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="https://lhapdf.hepforge.org/annotated.html"><span>Classes</span></a></li>
      <li><a href="https://lhapdf.hepforge.org/files.html"><span>Files</span></a></li>
      <li><a href="https://lhapdf.hepforge.org/examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/mag_sel.png" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="">
          <input id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)" type="text">
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" src="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/close.png" alt="" border="0"></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">•</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Pages</a></div>
<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" name="MSearchResults" id="MSearchResults" frameborder="0">
</iframe>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">LHAPDF Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro">Introduction</a></li>
<li class="level1"><a href="#installsec">Installation</a></li>
<li class="level1"><a href="#sets">Official PDF sets</a></li>
<li class="level1"><a href="#usage">Usage</a><ul><li class="level2"><a href="#strip">Trick to remove unwanted PDF members</a></li>
<li class="level2"><a href="#zip">Trick to use zipped data files</a></li>
</ul>
</li>
<li class="level1"><a href="#authors">Authors</a></li>
<li class="level1"><a href="#support">Support and bug reporting</a></li>
<li class="level1"><a href="#dev">For developers</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p><a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a> is a general purpose C++ interpolator, used for evaluating PDFs from discretised data files. Previous versions of <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a> were written in Fortran 77/90 and are documented at <a href="http://lhapdf.hepforge.org/lhapdf5/">http://lhapdf.hepforge.org/lhapdf5/</a>.</p>
<p>LHAPDF6 vastly reduces the memory overhead of the Fortran <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a>
 (from gigabytes to megabytes!), entirely removes restrictions on 
numbers of concurrent PDFs, allows access to single PDF members without 
needing to load whole sets, and separates a new standardised PDF data 
format from the code library so that new PDF sets may be created and 
released easier and faster. The C++ LHAPDF6 also permits arbitrary 
parton contents via the standard PDG ID code scheme, is computationally 
more efficient (particularly if only one or two flavours are required at
 each phase space point, as in PDF reweighting), and uses a flexible 
metadata system which fixes many fundamental metadata and concurrency 
bugs in LHAPDF5.</p>
<p>Compatibility routines are provided as standard for existing C++ and 
Fortran codes using the LHAPDF5 and PDFLIB legacy interfaces, so you can
 keep using your existing codes. But the new interface is much more 
powerful and pleasant to work with, so we think you'll want to switch 
once you've used it!</p>
<h1><a class="anchor" id="installsec"></a>
Installation</h1>
<p>The latest version of <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a> is <b>6.1.4</b>.</p>
<p>The source files can be downloaded from <a href="https://www.hepforge.org/downloads/lhapdf">https://www.hepforge.org/downloads/lhapdf</a></p>
<p>Full installation and troubleshooting details are given at <a class="el" href="https://lhapdf.hepforge.org/install.html">Installation instructions</a> .</p>
<h1><a class="anchor" id="sets"></a>
Official PDF sets</h1>
<p>In the move to LHAPDF6 we have migrated the most recent PDF set 
families of each major PDF fitting group from LHAPDF5 to the new unified
 LHAPDF6 format. With a few exceptions for particularly significant 
older PDF sets, this means an effective age cutoff of ~2005 on the 
migrated sets.</p>
<p>If you need older sets you are at first encouraged either to continue
 with LHAPDF5, or request a data migration if you really want to use 
LHAPDF6. You can do the migration yourself: see the <a class="el" href="https://lhapdf.hepforge.org/migration.html">Instructions for building and running migration scripts/programs</a> page.</p>
<p>The following link takes you to the PDF sets which are currently available and officially supported:</p>
<ul>
<li><a class="el" href="https://lhapdf.hepforge.org/pdfsets.html">PDF sets</a></li>
</ul>
<p>The PDF set data files can be downloaded from <a href="https://www.hepforge.org/archive/lhapdf/pdfsets/6.1/">https://www.hepforge.org/archive/lhapdf/pdfsets/6.1/</a> and the latest versions are installed (as tarballs and expanded into directories) on CERN AFS at <code>/afs/cern.ch/sw/lcg/external/lhapdfsets/current/</code> and CERN CVMFS at <code>/cvmfs/sft.cern.ch/lcg/external/lhapdfsets/current/</code>.</p>
<p>Please contact the <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a> authors at <a href="#" onclick="location.href='mai'+'lto:'+'lha'+'pd'+'f@p'+'ro'+'jec'+'ts'+'.he'+'pf'+'org'+'e.'+'org'; return false;">lhapd<span style="display: none;">.nosp@m.</span>f@pr<span style="display: none;">.nosp@m.</span>oject<span style="display: none;">.nosp@m.</span>s.he<span style="display: none;">.nosp@m.</span>pforg<span style="display: none;">.nosp@m.</span>e.or<span style="display: none;">.nosp@m.</span>g</a>
 if you want to add new PDF sets to the standard collection. You are 
expected to create and validate these PDF data files yourself, and to 
fix and update them in the case of user-reported bugs in the public 
files.</p>
<h1><a class="anchor" id="usage"></a>
Usage</h1>
<p>As for previous versions, LHAPDF6 is a programmatic library. It can 
be accessed via user code written in C++, and to a more limited extent 
from Python and Fortran programs.</p>
<p>PDF sets (each of which is stored in a unique filesystem directory) should usually be installed in the <code>$prefix/share/LHAPDF/</code> directory (i.e. the PDF dirs are at the same level as the global <code>lhapdf.conf</code> file). To make use of PDF sets installed in other places, those search paths should be listed in the <code>LHAPDF_DATA_PATH</code> environment variable. [<code>LHAPDF_DATA_PATH</code> is an extension of the old <code>LHAPATH</code> variable which supports multiple search paths separated by colon (<code>:</code>) characters, cf. standard system paths like <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, etc.]</p>
<p>Here are some reference documents on the library design and the system of PDF/set/config metadata flags:</p>
<ul>
<li>Design rationale: <a class="el" href="https://lhapdf.hepforge.org/design.html">Design</a></li>
<li>PDF metadata flags: <a class="el" href="https://lhapdf.hepforge.org/config.html">Configuration flags</a></li>
</ul>
<p>Many code usage examples are collected here:</p>
<ul>
<li>Code examples: <a class="el" href="https://lhapdf.hepforge.org/codeexamples.html">Code examples</a></li>
</ul>
<h2><a class="anchor" id="strip"></a>
Trick to remove unwanted PDF members</h2>
<p>A typical LHAPDF6 PDF set with error members is between 20 and 100 MB
 in size. If you only intend to use a subset of these (e.g. in MC 
production where you will only use the central member), you can simply 
remove the unneeded <code>.dat</code> files from the PDF set directory. 
It will work fine, as long as you don't try to load one of the missing 
members of course! In grid job submissions this can reduce the tarball 
of data that you send with your job by a large amount, since PDF sets 
often dominate such job tarballs.</p>
<h2><a class="anchor" id="zip"></a>
Trick to use zipped data files</h2>
<p>For special applications where PDF initialization speed or disk space are <em>very</em>
 critical, you may wish to use zipped PDF data files. Since the data 
files are plain text, they compress well, by a factor of 4 or so, but 
for most applications this is largely irrelevant since you will usually 
not need to install more than about 100 MB of data files to use the main
 modern PDF sets, and set initialisation time is less than one second...
 and that happens only once per run.</p>
<p>Actually reading zipped data files would make <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a>'s
 code and (more importantly) build process much more awkward, so we 
haven't done that. However, if you really need to squeeze the maximum 
out of limited space and time then there is a trick you can play – at 
least on Linux systems – using <code>LD_PRELOAD</code>. This environment
 variable specifies libraries to be loaded before starting a process, 
and is a mechanism for replacing system library functions with modified 
versions.</p>
<p>In this case, we can override the <code>open("foo")</code> function with a version which will attempt to transparently read <code>foo.gz</code>, uncompressed into the <code>/tmp</code> directory, by setting <code>LD_PRELOAD=/lib/uncompress.so</code> in your job. See the <a href="http://www.delorie.com/gnu/docs/zlibc/zlibc.3.html">zlibc</a> documentation for more details. LHAPDF6 itself needs no modification, but you will need to <code>cd</code> into your PDF sets and run <code>for i in *.dat; do gzip $i; done</code> in each one that you want to compress.</p>
<p>This is rather a hack and may not work on Macs... but it can be 
useful in special circumstances. Please let us know your experiences if 
you use it!</p>
<h1><a class="anchor" id="authors"></a>
Authors</h1>
<div class="fragment"><div class="line">LHAPDF6 AUTHORS</div>
<div class="line">===============</div>
<div class="line"></div>
<div class="line">Lead developer:</div>
<div class="line">  Andy Buckley</div>
<div class="line"></div>
<div class="line">Code contributors:</div>
<div class="line">  James Ferrando</div>
<div class="line">  David Hall</div>
<div class="line">  Steve Lloyd</div>
<div class="line">  Karl Nordstrom</div>
<div class="line">  Martin Ruefenacht</div>
<div class="line">  Graeme Watt</div>
<div class="line"></div>
<div class="line">Testing, advice, etc.:</div>
<div class="line">  Richard Ball</div>
<div class="line">  Luigi del Debbio</div>
<div class="line">  Nathan Hartland</div>
<div class="line">  Ben Page</div>
<div class="line">  Juan Rojo</div>
<div class="line">  Marek Schoenherr</div>
<div class="line">  Mike Whalley</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">CITATION</div>
<div class="line">========</div>
<div class="line"></div>
<div class="line">Please cite the contribution</div>
<div class="line"></div>
<div class="line">  <span class="stringliteral">"New access to PDF data via LHAPDF6"</span>, by A. Buckley</div>
<div class="line">  in <span class="stringliteral">"Les Houches 2013: Physics at TeV Colliders: Standard Model Working Group Report"</span></div>
<div class="line">  http:<span class="comment">//arxiv.org/abs/1405.1067</span></div>
<div class="line">  http:<span class="comment">//inspirehep.net/search?p=find+eprint+1405.1067</span></div>
<div class="line"></div>
<div class="line">A full write-up of LHAPDF6 will appear as soon as possible and</div>
<div class="line">will replace <span class="keyword">this</span> current recommendation.</div>
</div><!-- fragment --><h1><a class="anchor" id="support"></a>
Support and bug reporting</h1>
<p>If you need assistance with <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a>, please contact the authors at <a href="#" onclick="location.href='mai'+'lto:'+'lha'+'pd'+'f@p'+'ro'+'jec'+'ts'+'.he'+'pf'+'org'+'e.'+'org'; return false;">lhapd<span style="display: none;">.nosp@m.</span>f@pr<span style="display: none;">.nosp@m.</span>oject<span style="display: none;">.nosp@m.</span>s.he<span style="display: none;">.nosp@m.</span>pforg<span style="display: none;">.nosp@m.</span>e.or<span style="display: none;">.nosp@m.</span>g</a>
 . Please also send feature suggestions to this address: please don't 
contact individual developers if you can avoid it. We also accept 
compliments ;-)</p>
<p>You are <em>very</em> strongly advised to make sure that you are running the latest version of the <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a>
 library, since issues are often fixed in later releases. Please supply 
some information about which version you are using, what type of system 
and compiler you are using, a copy of the <a class="el" href="https://lhapdf.hepforge.org/namespaceLHAPDF.html" title="Namespace for all LHAPDF functions and classes. ">LHAPDF</a> config.log file, a reasonably full copy of the errors you are getting, and the output of downloading and running this script: <a href="https://users.hepforge.org/%7Ebuckley/sysdebug.sh">https://users.hepforge.org/~buckley/sysdebug.sh</a> .</p>
<p>Please do not send us screenshots of your terminal! To capture the output of a command, use a shell redirection like this: <code>make &amp;&gt; makelog.txt</code> or <code>bash sysdebug.sh &amp;&gt; sysdebug.txt</code> (you may prefer to use a redirection like <code>|&amp; tee foolog.txt</code> but probably you don't need our advice if you have such preferences!)</p>
<p>Lastly, please try to <em>read</em> the configure/compiler/runtime 
error message: once decoded it may tell you something simple e.g. you 
have not got the required compiler, you are compiling against a 32 bit 
library on a 64 bit system, or you have not installed a PDF data file. 
If you can't parse the error messages then try Googling for 
generic-looking bits of the message before asking for direct assistance:
 there are often good explanations and solutions online.</p>
<h1><a class="anchor" id="dev"></a>
For developers</h1>
<p>To check out LHAPDF6 from Mercurial, use this command for read-only: <code>hg clone <a href="https://lhapdf.hepforge.org/hg/lhapdf">https://lhapdf.hepforge.org/hg/lhapdf</a></code>, and this for read-write: <code>hg clone ssh://USER@login.hepforge.org//hepforge/hg/lhapdf/public/lhapdf</code> (requires a HepForge login account; replace <code>USER</code> with your actual HF user name.)</p>
<p>See the following pages:</p>
<ul>
<li>Code browser: <a href="https://lhapdf.hepforge.org/trac/browser">https://lhapdf.hepforge.org/trac/browser</a></li>
<li><a class="el" href="https://lhapdf.hepforge.org/todolist.html">Project to-do list</a></li>
<li><a class="el" href="https://lhapdf.hepforge.org/todo.html">Todo List</a></li>
<li><a class="el" href="https://lhapdf.hepforge.org/migration.html">Instructions for building and running migration scripts/programs</a></li>
<li><a class="el" href="https://lhapdf.hepforge.org/codingstyle.html">Coding style</a></li>
</ul>
<dl class="todo"><dt><b><a class="el" href="https://lhapdf.hepforge.org/todo.html#_todo000024">Todo:</a></b></dt><dd>Add some developer build guides, including the autotools, Cython, etc. gotchas.</dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"><address class="footer"><small>
Generated on Wed Oct 29 2014 12:21:20 for LHAPDF by &nbsp;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="LHAPDF:%20Main%20Page%20%E2%80%93%20Hepforge_files/doxygen.png" alt="doxygen">
</a> 1.8.6
</small></address>
	</div>
    


</body></html>