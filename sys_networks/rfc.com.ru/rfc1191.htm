<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">

<meta name="author" content="">
<meta name="description" content="">
<meta name="keywords" content="">

<title>Перевод RFC 1191</title>
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:10.00pt "Arial", sans-serif; }
 .font1 { font:12.00pt "Arial", sans-serif; }
 .font2 { font:13.00pt "Arial", sans-serif; }
 .font3 { font:14.00pt "Arial", sans-serif; }
 .font4 { font:15.00pt "Arial", sans-serif; }
 .font5 { font:16.00pt "Arial", sans-serif; }
 .font6 { font:10.00pt "Times New Roman", serif; }
</style>
</head>

<body>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
        <div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font0>Перевод: Игорь Шеваров <span style=" color:rgb(0,0,128);"><a href="mailto:issh@onego.ru"><u>issh@onego.ru</u></a></span>. Ноябрь 2003 г.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:60.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Network Working Group&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;J. Mogul</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Запрос на комментарий: 1191&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style=" letter-spacing:-0.90pt;">DECWRL</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Устаревший документ: RFC 1063&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; S. Deering</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 494.40pt; text-align:left; text-indent:-73.44pt;"><span class=font0 style=" line-height:12.00pt;">Стэндфордский университет Ноябрь 1990</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:27.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 238.56pt; text-align:left;"><span class=font5><b>Path MTU Discovery</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:25.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:17.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark0"><b>С</b></a><b>татус этого документа</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:17.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:48.48pt;">
<div class=paragraph style=" padding:0.00pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Этот документ определяет стандарт IAB Standards Track для сообщества Internet, и требует обсуждения и внесения усовершенствований. Для выяснения состояния стандартизации и статуса данного протокола необходимо обратиться к &quot;IAB Official Protocol Standards&quot;. Распространение данного документа не ограничено.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:25.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:385.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark1"><b>С</b></a><b>одержание</b></span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark0"><b>СТАТУС ЭТОГО ДОКУМЕНТА .............................................................................. 1</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark1"><b>СОДЕРЖАНИЕ ..................................................................................................... 1</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark2"><b>РЕЗЮМЕ .............................................................................................................. 2</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark3"><b>БЛАГОДАРНОСТИ ............................................................................................... 2</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark4"><b>1&nbsp; &nbsp; &nbsp; ВВЕДЕНИЕ.. ................................................................................................. 2</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark5"><b>2&nbsp; &nbsp; &nbsp; КРАТКИЙ ОБЗОР ПРОТОКОЛА.. ................................................................. 2</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark6"><b>3&nbsp; &nbsp; &nbsp; ТРЕБОВАНИЯ К ХОСТУ.. ............................................................................. 3</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark7">3.1    </a><span style=" font-variant: small-caps;"><a href="rfc1191.htm#bookmark7">Опция </a></span><a href="rfc1191.htm#bookmark7">TCP MSS .............................................................................................. 4</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark8"><b>4&nbsp; &nbsp; &nbsp; СПЕЦИФИКАЦИЯ МАРШРУТИЗАТОРА ....................................................... 4</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark9"><b>5&nbsp; &nbsp; &nbsp; ОБРАБОТКА СООБЩЕНИЙ В СТАРОМ СТИЛЕ НА ХОСТЕ .......................... 5</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark10"><b>6&nbsp; &nbsp; &nbsp; РЕАЛИЗАЦИЯ ХОСТА.. ................................................................................ 6</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark11">6.1&nbsp; &nbsp; &nbsp;</a><span style=" letter-spacing:-0.60pt; font-variant: small-caps;"><a href="rfc1191.htm#bookmark11">Иерархическое представление </a></span><a href="rfc1191.htm#bookmark11">........................................................................... 6</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;"><a href="rfc1191.htm#bookmark12">6.2&nbsp; &nbsp; &nbsp;</a><span style=" letter-spacing:-0.65pt; font-variant: small-caps;"><a href="rfc1191.htm#bookmark12">Сохранение информации </a></span><span style=" letter-spacing:-0.65pt;"><a href="rfc1191.htm#bookmark12">PMTU </a></span><a href="rfc1191.htm#bookmark12">......................................................................... 7</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;"><a href="rfc1191.htm#bookmark13">6.3&nbsp; &nbsp; &nbsp;</a><span style=" letter-spacing:-0.50pt; font-variant: small-caps;"><a href="rfc1191.htm#bookmark13">Удаление устаревшей информации </a></span><span style=" letter-spacing:-0.50pt;"><a href="rfc1191.htm#bookmark13">PMTU. . </a></span><a href="rfc1191.htm#bookmark13">......................................................... 8</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;"><a href="rfc1191.htm#bookmark14">6.4&nbsp; &nbsp; &nbsp;</a><span style=" letter-spacing:-0.50pt; font-variant: small-caps;"><a href="rfc1191.htm#bookmark14">Действия уровня ТСР</a></span><span style=" letter-spacing:-0.50pt;"><a href="rfc1191.htm#bookmark14">.. </a></span><a href="rfc1191.htm#bookmark14">..................................................................................... 9</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;"><a href="rfc1191.htm#bookmark15">6.5&nbsp; &nbsp; &nbsp;</a><span style=" letter-spacing:-0.45pt; font-variant: small-caps;"><a href="rfc1191.htm#bookmark15">Проблемы для других транспортных протоколов</a></span><span style=" letter-spacing:-0.45pt;"><a href="rfc1191.htm#bookmark15">. . </a></span><a href="rfc1191.htm#bookmark15">............................................ 10</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;"><a href="rfc1191.htm#bookmark16">6.6&nbsp; &nbsp; &nbsp;</a><span style=" letter-spacing:-0.55pt; font-variant: small-caps;"><a href="rfc1191.htm#bookmark16">Интерфейс управления</a></span><span style=" letter-spacing:-0.55pt;"><a href="rfc1191.htm#bookmark16">. . </a></span><a href="rfc1191.htm#bookmark16">................................................................................. 11</a></span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark17"><b>7&nbsp; &nbsp; &nbsp; ВЕРОЯТНЫЕ ЗНАЧЕНИЯ ДЛЯ PMTU. . ..................................................... 11</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt; letter-spacing:-0.40pt;"><a href="rfc1191.htm#bookmark18">7.1    </a><span style=" font-variant: small-caps;"><a href="rfc1191.htm#bookmark18">Наилучший способ определить увеличение </a></span><a href="rfc1191.htm#bookmark18">PMTU </a><span style=" letter-spacing:0.00pt;"><a href="rfc1191.htm#bookmark18">............................................. </a></span><span style=" letter-spacing:-0.15pt;"><a href="rfc1191.htm#bookmark18">11</a></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark19"><b>8&nbsp; &nbsp; &nbsp; СООБРАЖЕНИЯ БЕЗОПАСНОСТИ ........................................................... 12</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark20"><b>ССЫЛКИ ........................................................................................................... 13</b></a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;"><a href="rfc1191.htm#bookmark21"><b>АДРЕСА АВТОРОВ ............................................................................................ 13</b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:132.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:55.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:528.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark2"><b>Р</b></a><b>езюме</b></span></div>
<div class=paragraph style=" padding:2.64pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Данный документ описывает методику определения maximum transmission unit (MTU) на произвольном маршруте в Internet. Он определяет небольшие изменения для маршрутизаторов, генерирующих один тип ICMP сообщений. Для маршрута, пролегающего через маршрутизатор, который не был изменен, может методика может выдавать не верное значение MTU.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark3"><b>Б</b></a><b>лагодарности</b></span></div>
<div class=paragraph style=" padding:2.64pt 42.24pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Это документ является продуктом IETF MTU Discovery Working Group. Механизм, предложенный здесь был первоначально предложен Джефом Купером (Geoff Cooper) <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[2]</u></a></span><a href="rfc1191.htm#bookmark20">,</a> который в двух коротких абзацах изложил все основные идеи, потребовавшие от рабочей группы месяцев работы.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark4"><b>1</b></a><b>   Введение.</b></span></div>
<div class=paragraph style=" padding:5.76pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Когда один IP хост имеет большой объем данных, которые требуется отправить другому хосту, то данные передаются как серии IP датаграмм. Желательно, чтобы датаграммы были максимального размера, не требующего фрагментации и на одном из участков маршрута от отправителя к получателю. Данный размер датаграммы далее упоминается как Path MTU (PMTU), и равен наименьшему из MTU, используемых на каждом хопе маршрута. Недостатком IP является отсутствие стандартного механизма для определения PMTU на произвольном маршруте.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: Path MTU, это тоже, что в <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1]</u> </a></span>именуется как &laquo;Эффективный MTU для отправки&raquo; (&quot;Effective MTU for sending&quot; (EMTU_S).) PMTU ассоциируется с маршрутом, который является специфической комбинацией IP адресов отправителя и получателя и возможно типом обслуживания Type-of-service (TOS).</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В существующей практике <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1]</u> </a></span>используется меньшее из 576 и MTU для первого хопа в качестве PMTU для любого адресата, который не подключен к той же сети или подсети, что и источник. Во многих случаях результатом является использование размеров датаграмм, меньших, чем необходимо, потому что в большинстве случаев маршруты имеют PMTU большее, чем 576. Хост, посылающий датаграммы намного меньшие, чем PMTU напрасно тратит ресурсы Internet и возможно достигает производительности, близкой к оптимальной. Кроме того, существующая практика не предотвращает полностью фрагментацию датаграмм, так как существуют тракты передачи с PMTU меньшим, чем 576.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Ожидается, что будущие протоколы маршрутизации будут способны предоставлять точную информацию о PMTU в пределах своей области маршрутизации, возможно за исключением многоуровневых маршрутизирующих иерархиях. Не понятно, на сколько скоро они станут доступны, так что в течение следующих нескольких лет Internet нуждается в простом механизме определения PMTU без перерасхода ресурсов и до того, как все хосты и маршрутизаторы будут модернизированы.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:174.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark5"><b>2</b></a><b>   Краткий обзор протокола.</b></span></div>
<div class=paragraph style=" padding:5.52pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В этом документе мы описываем технику, использующую бит Don't Fragment (DF) в заголовке IP датаграммы для динамического определения PMTU маршрута. Основная идея состоит в том, что хост использует в качестве PMTU значение MTU первого хопа для данного маршрута. Все датаграммы отправляются с установленным флагом DF. Если какая-то датаграмма слишком велика для того, чтобы быть отправленной одним из маршрутизаторов дальше без фрагментации, то данный маршрутизатор отбрасывает эту датаграмму и посылает ICMP сообщение Destination Unreachable с кодом &laquo;fragmentation needed and DF set&raquo; <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[7]</u></a></span>. Поле того, как хост получил такое сообщение (в дальнейшем называемое &laquo;датаграмма слишком большая&raquo;), хост уменьшает значение PMTU для этого маршрута.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Процесс определения PMTU заканчивается после того, как хост оценит PMTU достаточно маленьким, для того чтобы отправлять датаграммы без фрагментации.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:58.56pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:723.12pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Хост может закончить процесс определения PMTU, прекратив устанавливать флаг DF в заголовке датаграммы. Это может произойти, например, если хост считает допустимым отправлять фрагментированные датаграммы в данных обстоятельствах. В нормальных условиях хост должен отправлять все датаграммы с установленным флагом DF, так что если маршрут изменится и новый PMTU станет меньше, то это будет обнаружено.</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">К сожалению, сообщение &laquo;датаграмма слишком большая&raquo;, в том виде, в каком она определена в настоящее время не сообщает MTU для того хопа, перед которым была отброшена датаграмма, являющаяся слишком большой. Таким образом хост отправитель датаграммы точно не может определить, на сколько следует уменьшит значения PMTU. Чтобы исправить это, мы предлагаем использовать неиспользуемое поле в заголовке сообщения &laquo;датаграмма слишком большая&raquo; для переноса значения MTU для следующего хопа. Это единственное требование к маршрутизаторам в поддержку определения PMTU.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">PMTU может изменяться с течением времени, из-за изменений в топологии маршрутизации. Уменьшения PMTU детектируются с помощью сообщения &laquo;датаграмма слишком большая&raquo;, за исключением тех случаев, когда хост прекратил устанавливать бит DF. Чтобы детектировать увеличение PMTU, хост периодически увеличивает значение MTU. В большинстве случаев результатом является отбрасывание датаграммы и отправка сообщения &laquo;датаграмма слишком большая&raquo;, потому что в большинстве случаев значение PMTU не меняется.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Так как этот механизм по существу гарантирует, что хост не будет получать никаких фрагментов датаграмм от хоста осуществляющего определения PMTU, это может помогать во взаимодействии хостов, которые не могут производить сборку фрагментированных датаграмм.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark6"><b>3</b></a><b>   Требования к хосту.</b></span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Когда хост получает сообщение &laquo;датаграмма слишком большая&raquo;, он <b>ДОЛЖЕН </b>уменьшить значение PMTU в соответствии с полем Next-Hop MTU (см. п.4). Мы не определяем точное поведение хоста в этих обстоятельствах, так как различные приложения могут иметь различные требования и различные архитектурные реализации могут иметь различные полезные стратегии.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Мы требуем, чтобы после получения сообщения &laquo;датаграмма слишком большая&raquo; хост <b>ДОЛЖЕН </b>пытаться избегать появления большого количество таких сообщений в ближайшем будущем. Хост может или прекратить уменьшать размеры датаграмм или прекратить устанавливать флаг DF в заголовке датаграмм. Понятно, что формирователь стратегии может продолжать выявлять сообщения &laquo;датаграмма слишком большая&raquo;, но каждое из этих сообщений (так же как и отброшенные датаграммы) потребляют ресурсы Internet, поэтому хост <b>ДОЛЖЕН </b>заставить процесс определения PMTU сходиться.</span></div>
<div class=paragraph style=" padding:5.04pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Хост использующей определение MTU <b>ДОЛЖЕН </b>реагировать на уменьшение MTU настолько быстро, насколько это возможно. Хост МОЖЕТ определять увеличение PMTU, но так как это требует посылки датаграмм большего размера, чем действующий PMTU, и потому что PMTU вероятнее всего не будет увеличиваться, то хост <b>ДОЛЖЕН </b>делать это не очень часто. Попытка детектировать увеличение PMTU (посылкой датаграммы большего размера, чем действующее значение PMTU) <b>НЕ ДОЛЖНА </b>быть раньше, чем через 5 минут после получения сообщения &laquo;датаграмма слишком большая&raquo; для данного адресата, или не раньше чем через 1 минуту после того, как было предпринято последнее успешное увеличение PMTU. Мы рекомендуем установить значения этих таймеров в два раза больше, чем эти минимальные значения (10 минут и 2 минуты соответственно).</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Хост должен быть способен работать с сообщениями &laquo;датаграмма слишком большая&raquo; не содержащими информации об MTU на следующем хопе, в связи тем, что не выполнимо выполнить модернизацию всех маршрутизаторов Internet за конечное время. Сообщения &laquo;датаграмма слишком большая&raquo; от не модернизированного маршрутизатора должно определяться по наличию нуля в</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:62.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:721.68pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">(новом) поле Next-Hop MTU. (Этого требует спецификация протокола ICMP <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[7]</u></a> </span>– неиспользуемые поля должны быть заполнены нулями). В разделе 5 мы обсуждаем возможные стратегии для хоста, отрабатывающему сообщение &laquo;датаграмма слишком большая&raquo; в старом стиле (полученном от не модернизированного маршрутизатора).</span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0>Хост <b>НИКОГДА НЕ ДОЛЖЕН </b>принимать значение PMTU меньше чем 68 октетов.</span></div>
<div class=paragraph style=" padding:5.04pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Хост <b>НЕ ДОЛЖЕН </b>увеличивать значение PMTU в ответ на содержимое сообщения &laquo;датаграмма слишком большая&raquo;. Сообщение предполагающее увеличение PMTU является либо старой датаграммой, плавающей по Internet, либо фальшивый пакет, являющийся частью атаки на отказ в обслуживании, либо результатом множеноственности маршрутов до адресата.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4 style=" letter-spacing:-0.55pt;"><a name="bookmark7"><b><i>3</i></b></a><b><i>.1 Опция </i></b><i>TCP MSS</i></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Хост, производящий определение PMTU должен придерживаться правила, что он не должен посылать датаграммы более 576 октетов, если он не имеет разрешения получателя на это. Для ТСР соединения это означает, что хост не должен посылать датаграммы больше чем 40 октетов плюс максимальный размер сегмента (Maximum Segment Size-MSS) посланный его партнером.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: ТСР MSS определен как допустимый размер датаграммы минус 40 <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[9]</u></a></span>. Значение по умолчанию 576 октетов как максимальный размер датаграммы определяет размер по умолчанию для ТСР MSS в 536 октетов.</span></div>
<div class=paragraph style=" padding:5.28pt 66.48pt 0.00pt 156.96pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Раздел 4.2.2.6 &laquo;Требования для хоста Internet-коммуникационный уровень&raquo; <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1] </u></a></span>говорит:</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Некоторые реализации TCP, посылают опцию MSS только если хост получатель подключен к другой посети. Конечно, в целом уровень ТСР может не иметь соответствующей информации для принятия этого решения, так что предпочтительно оставить уровню IP задачу определения подходящего MTU для маршрута.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Фактически, многие реализации ТСР всегда посылают опцию MSS, однако устанавливают это значение в 536, если адресат не является локальным. Это поведение было правильным, когда Интернет был полон хостов, не придерживавшихся данного правила, что датаграммы больше 576 октетов не должны отправляться на нелокальные компьютеры. Теперь, когда большинство хостов следуют этому правилу, ограничение опции ТСР MSS не является необходимым.</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Кроме того, выполнение этого правила делает неспособным механизм PMTU Discovery определять PMTU более 576, так что хосты больше <b>ДОЛЖНЫ </b>умешать значение, посылаемое в опции MSS. Значение MSS должно быть на 40 байт меньше, чем размер самой большой датаграммы, которую хост способен пере собрать (MSS_R, как определено в <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1]</u></a></span><a href="rfc1191.htm#bookmark20">)</a>. Во многих случаях будет иметь место архитектурное ограничение в 65495 (65535-40). Хост может посылать значение MSS полученное из MTU присоединенной сети; это не должно вызывать проблемы с PMTU Discovery.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: В настоящее время мы не видим никаких причин посылать MSS больше, чем максимальный MTU присоединенной сети, и мы не рекомендуем использовать 65495. Весьма возможно, что некоторые реализации IP имеют ошибки со знаковым битом, что делает опасным использование такого большого MSS.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark8"><b>4</b></a><b>   Спецификация маршрутизатора.</b></span></div>
<div class=paragraph style=" padding:5.76pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Когда маршрутизатор не может переслать датаграмму, потому что она превышает размеры MTU на следующем хопе и у нее в заголовке установлен бит Don't Fragment, он должен будет выслать источнику датаграммы ICMP сообщение &laquo;Адресат недостижим&raquo; с кодом, обозначающим &laquo;требуется фрагментация и установлен флаг DF&raquo;. Для поддержки техники Path MTU Discovery, описываемой в</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:63.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:60.72pt;">
<div class=paragraph style=" padding:0.00pt 42.48pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">данном документе, маршрутизатор <b>ДОЛЖЕН </b>вставить значение MTU сети на следующем хопе в младшие 16 бит поля ICMP заголовка, которое помечено как неиспользуемое.</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 204.48pt; text-align:left;"><span class=font1 style=" letter-spacing:68.65pt;">0123</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:393.12pt; height:118.32pt; padding:0.00pt 43.20pt 0.00pt 158.64pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:393.12pt; height:118.32pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:196.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.40pt;">
<div class=block style=" width:98.40pt; height:39.36pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font2>Type = 3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:98.16pt;">
<div class=block style=" width:98.16pt; height:39.36pt;">
<div class=paragraph style=" padding:10.80pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font2>Code = 4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:196.56pt;">
<div class=block style=" width:196.56pt; height:39.36pt;">
<div class=paragraph style=" padding:10.80pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font2>Checksum</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:196.56pt;">
<div class=block style=" width:196.56pt; height:39.12pt;">
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font2>не используется = 0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:196.56pt;">
<div class=block style=" width:196.56pt; height:39.12pt;">
<div class=paragraph style=" padding:10.56pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font2>Next - Hop MTU</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:393.12pt;">
<div class=block style=" width:393.12pt; height:39.84pt;">
<div class=paragraph style=" padding:10.56pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font2>IP заголовок + 64 бита данных исходной датаграммы</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:196.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:499.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0>Значение, которое несет поле Next-Hop MTU это:</span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Размер в октетах самой большой датаграммы, которая может быть отправлена по пути оригинальной датаграммы, без фрагментации на этом маршрутизаторе. Размер включает IP заголовок и IP данные и не включает низкоуровневые заголовки.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Это поле никогда не будет содержать значение меньше чем 68, потому что каждый маршрутизатор &laquo;должен быть способен отправлять датаграммы длинной по 68 октетов без фрагментации&raquo; <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[8]</u></a></span><a href="rfc1191.htm#bookmark20">.</a></span></div>
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark9"><b>5</b></a><b>   Обработка сообщений в старом стиле на хосте</b></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В этом разделе мы выделим несколько возможных стратегий для хоста, получающего сообщение &laquo;датаграмма слишком большая&raquo; от не модифицированного маршрутизатора (т.е. с нулевым полем Next-Hop MTU). Этот раздел не является частью описание протокола.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Самая простая вещь, которую может сделать хост в ответ на такое сообщение – это прекратить установку бита DF и принять, что это PMTU равно текущему PMTU или 576, в зависимости от того, что меньше. Таким образом, хост возвращается к тому же самому PMTU, как это делается в текущей практике (см. раздел 3.3.3. &laquo;Рекомендации для хостов Internet-коммуникационные уровни&raquo; <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1]</u></a></span><a href="rfc1191.htm#bookmark20">)</a>. Эта стратегия имеет преимущество, так как она отрабатывает быстро, что делает ее не хуже, чем там та, что используется в существующей практике. Она не работает, однако, для предотвращения фрагментации в некоторых случаях, и дает наиболее эффективное использование утилизации в других случаях.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Более сложные стратегии &laquo;ищут&raquo; точную оценку PMTU, посылая пакеты разного размера с установленным битом DF. Хорошей поисковой стратегией можно назвать ту стратегию, которая получает точную оценку PMTU при малом количестве потерянных пакетов в процессе поиска.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Некоторые стратегии применяют алгоритмические функции к предыдущей оценке PMTU для того чтобы получить следующую оценку PMTU. Например, старая оценка PMTU может быть умножена на константу (скажем, 0.75). Мы <b>НЕ </b>рекомендуем их; они сходятся слишком долго и могут недооценить правильное значение PMTU.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Более сложный подход делать бинарный поиск по размеру пакета. Он сходится несколько быстрее, хотя все еще требуется 4-5 шагов для того чтобы перейти от FDDI MTU к Ethernet MTU. Серьезный недостаток состоит в том, что требуется сложная реализация алгоритма индикации занижения текущей оценки PMTU. Мы так же не рекомендуем пользоваться этой стратегией.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Появилась одна стратегия, которая работает, кажется, весьма хорошо. Она стартует с обзора значений, которые практически в относительно небольшом количестве</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:66.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:574.80pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">используются в Internet. Таким образом, вместо того, чтобы слепую проводить поиск среди произвольно выбранных значений, мы можем искать только среди тех, которые действительно могут использоваться. Более того, так как у разработчиков прослеживается тенденция выбирать MTU подобными путями, возможно накопление групп похожих значений MTU и использовать наименьшее значение в группе как наше поисковое &laquo;плато&raquo;. (Понятно, что лучше недооценить значение MTU на несколько процентов, чем переоценить его на один октет).</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В разделе 7, мы описываем, как мы пришли к таблице репрезентативных плато MTU (representative MTU plateaus) для использования при оценке MTU. Сходимость с этой таблицей такая же хорошая, как бинарный поиск в самом худшем случае и намного лучше в обычном случае (например, требуется только два шага для перехода от FDDI MTU к Ethernet MTU).</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Любая поисковая стратегия должна иметь некоторую &laquo;память&raquo; о предыдущих оценках, чтобы делать следующие. Один подход должен использовать оценки PMTU, кэшированные в настоящее время, но фактически лучше информация, полученная из сообщения &laquo;датаграмма слишком большая&raquo;. Все ICMP сообщения &laquo;адресат недоступен&raquo; содержат, включая упомянутое, IР заголовок оригинальной датаграммы, которая была слишком велика для передачи без фрагментации. Так как поле Total Length может быть меньше, чем текущее PMTU, но, тем не менее, больше, чем фактическое PMTU, то это может послужить входными данными методу, производящему следующую оценку PMTU.</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: маршрутизаторы, основанные на 4.2BSD Unix, посылают неправильное значения поля Total Length оригинальной датаграммы. Значение, посылаемое этими маршрутизаторами, является суммой оригинального поля Total Length и Header Length (выраженное в октетах). Так как хост может получить такое сообщение &laquo;датаграмма слишком большая&raquo;, зная, что датаграмма была получена от одного из таких маршрутизаторов, хост должен быть консервативен. Если возвращенное поле Total Length не меньше, чем текущая оценка PMTU, то оно должно быть уменьшено до четверти значения поля Header Length.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Стратегию, которую мы рекомендуем, состоит в том, чтобы использовать следующую оценку PMTU как наибольшее основное значение, которое меньше, чем то, что возвращается в поле Total Length (исправленное, если необходимо, в соответствии с замечанием выше).</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark10"><b>6</b></a><b>   Реализация хоста.</b></span></div>
<div class=paragraph style=" padding:5.76pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Этот раздел осуждает реализацию PMTU Discovery в программном обеспечении хоста. Это - не спецификация, а скорее набор предложений.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:18.00pt;">Раздел рассматривает следующие вопросы:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font6 style=" line-height:18.00pt;">-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>Какой уровень или уровни включают в себя реализацию PMTU Discovery;</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font6 style=" line-height:18.00pt;">-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>Где информация PMTU будет кэширована?</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font6 style=" line-height:18.00pt;">-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>Как устаревшая PMTU информация будет удаляться?</span></span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font6>-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>Что должны делать транспортный уровень и верхние уровни?</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:29.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:96.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4><a name="bookmark11"><b><i>6</i></b></a><b><i>.1 Иерархическое представление</i></b></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В архитектуре протокола IP решение о том, какой должен быть размер отправляемого пакета производится протоколами, находящимися на уровне выше уровня IP. Мы будем называть такие протоколы протоколами пакетирования. Протоколы пакетирования обычно являются транспортными протоколами (например ТСР), но они могут быть протоколами более высокого уровня (например, протоколы построенные поверх UDP).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:85.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:709.92pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Реализация PMTU Discovery на уровне протоколов пакетирования упрощает решение некоторых межуровневых проблем, но имеет несколько недостатков: реализация возможно должна будет переделана для каждого реализации протокола, это усложнит совместное использование информации PMTU между разными уровнями пакетирования и состояние ориентированное на соединение, поддерживаемое некоторыми уровнями пакетирования могут с трудом расширяться для сохранения информации PMTU на длительные периоды.</span></div>
<div class=paragraph style=" padding:4.32pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">По этой причине мы полагаем, что уровень IP должен хранить информацию PMTU и что уровень ICMP должен обрабатывать сообщения &laquo;датаграмма слишком большая&raquo;. Уровни пакетирования должны оставаться способными реагировать на изменения PMTU, изменением размера датаграмм, которые они посылают и должны быть способны определить те датаграммы, которые посланы с установленным флагом DF. Мы не хотим, чтобы уровень IP просто установил DF бит в каждом пакете, так как возможно, что уровень пакетирования, возможно приложение UDP вне ядра, неспособно изменить этот размер датаграммы. Протоколы, вовлеченные во внутреннюю фрагментацию, пускай не элегантные, бывают иногда успешными (NFS будет первым примером) и мы не хотим нарушать их работу.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Для поддержки иерархического представления, протоколы пакетирования требуют расширения сервиса IP описанного в <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1]</u></a></span><a href="rfc1191.htm#bookmark20">:</a></span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.24pt;">Способ изучения изменений в значении MMS_S (&quot;maximum send transport-message size&quot;) это вычитание из PMTU минимального размера IP заголовка.</span></div>
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4><a name="bookmark12"><b><i>6</i></b></a><b><i>.2 Сохранение информации PMTU</i></b></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В общем, уровень IP должен ассоциировать каждое значение PMTU, которое было им получено, с определенным путем. Путь идентифицируется с адресом отправителя, адресом получателя и типом сервиса IP. (Некоторые реализации не записывают адрес источника, это применимо для хостов с одним интерфейсом, которые имеют только один возможный адрес отправителя).</span></div>
<div class=paragraph style=" padding:5.52pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: Некоторые пути могут быть далее отличены по различным классификациям защиты. Детали таких классификаций не рассматриваются в данном документе.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Очевидное место для хранения этой ассоциации - поле в таблице маршрутизации. Хост не будет иметь маршрута для любого возможного адресата, но он будет иметь возможность кэшировать маршрут на хост для каждого активного адресата. (Это требование уже налагается необходимость обрабатывать ICMP сообщения по перенаправлении).</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Когда первый пакет послан на хост и отсутствует маршрут на хост (per-host route), то маршрут выбирается и маршрутов на сеть (per-network routes) или из набора маршрутов по умолчанию. Поля PMTU в этих маршрутах должны быть инициализированы значением MTU для первого хопа и не должны изменяться в процессе определения PMTU. (При определении PMTU создаются или изменяются маршруты на хост). До того, как получено сообщение &laquo;датаграмма слишком большая&raquo; значение, соответствующее изначально выбранному маршруту, является точным.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">После того как получено сообщение &laquo;датаграмма слишком большая&raquo;, уровень ICMP определяет новую оценку PMTU (или из ненулевого значения MTU следующего хопа или с помощью методов, описанных разделе 5). Если маршрут на хост для этого пути не существует, то он создается (почти как при обработке ICMP Redirect; новый маршрут использует тот же маршрутизатор, как и текущий маршрут). Если оценка PMTU ассоциированная с маршрутом на хост выше, чем новая оценка, то ее значение изменяется.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Уровни пакетирования должны быть извещены об уменьшении PMTU. Любой уровень пакетирования (например, ТСР соединение) который активно использует путь, должен быть уведомлен об уменьшении оценки PMTU.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:75.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:696.72pt;">
<div class=paragraph style=" padding:0.00pt 42.48pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: когда сообщение &laquo;датаграмма слишком большая&raquo; содержит заголовок исходной датаграммы, который ссылается на UDP пакет уровень ТСР должен быть уведомлен, если любое из этих соединений использует этот путь.</span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Также, протокол, который послал датаграмму, вызвавшую появление сообщения &laquo;датаграмма слишком большая&raquo;, должен быть уведомлен, что эта датаграмма была отброшена, даже если оценка PMTU не изменилась, так чтобы он мог вызвать повторную отправку отброшенной датаграммы.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: механизм уведомления должен быть аналогичен механизму, используемому для предоставления уведомлений ICMP Source Quench. В некоторых реализациях (таких как системы, построенные на основе BSD 4.2) существующий механизм уведомлений не способен идентифицировать вовлеченное ТСР соединение, что требует наличия дополнительного механизма.</span></div>
<div class=paragraph style=" padding:4.32pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В качестве альтернативы, реализация может избегать использования асинхронного механизма уведомления об уменьшении PMTU, откладывая уведомление до следующей попытки послать датаграмму большее, чем оценка PMTU. При таком подходе, когда сделана попытка ПОСЛАТЬ датаграмму с установленным битом DF, и датаграмма больше чем оценка PMTU, функция SEND должна закончиться сбоем и вернуть соответствующий признак ошибки. Этот подход может быть более подходящим для уровня пакетирования без установления соединения (какие как UDP), который (в некоторых реализациях) трудно &laquo;уведомлять&raquo; от уровня ICMP. В этом случае, обычные механизмы, основанные на таймаутах, использовались бы, чтобы восстановить отброшенные датаграммы.</span></div>
<div class=paragraph style=" padding:4.32pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Важно понять, что уведомление уровней пакетирования, использующих путь для изменения PMTU, отличается от уведомления специфичных уровней, о том, что пакет был отброшен. Последнее должно быть сделано только практически (т.е. асинхронно с точки зрения уровня пакетирования), в то время как первое может быть отсрочено до того момента, когда уровень пакетирования будет создавать пакет. Повторная передача должна быть сделана только для тех пакетов, о которых известно, что они отброшены, на что указывает сообщение &laquo;датаграмма слишком большая&raquo;.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4><a name="bookmark13"><b><i>6</i></b></a><b><i>.3 Удаление устаревшей информации PMTU.</i></b></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Сетевая топология является динамической, маршруты меняются через некоторое время. PMTU, обнаруженный для данного адресата может быть неправилен, если начинает использоваться новый маршрут. Таким образом, PMTU информация, кэшируемая хостом, устаревает.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Сетевая топология является динамической, маршруты меняются через некоторое время. PMTU, обнаруженный для данного адресата может быть неправилен, если начинает использоваться новый маршрут. Таким образом, PMTU информация, кэшируемая хостом, устаревает.</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: реализация должна предоставлять средства для изменения длительности таймаута, включая установку на &laquo;бесконечность&raquo;. Например, хост подключенный к сети FDDI, которая в свою очередь подключена к Internet через медленную последовательную линию никогда не начнет процесс определения нового нелокального MTU, так что ему не придется сталкиваться с отброшенными датаграммами каждые 10 минут.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Верхний уровень не должен передавать датаграммы в ответ на увеличение оценки PMTU, так как это повышение никогда не вызовет отбрасывание датаграмм.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Один из подходов к реализации старения PMTU это добавление поля временной метки в таблицу маршрутизации. Это поле инициализируется &laquo;зарезервированным&raquo; значением, показывающим, что это значение PMTU никогда не изменялось. Всякий раз, когда значение PMTU было уменьшено в ответ на сообщения &laquo;датаграмма слишком большая&raquo; временная метка устанавливается на текущее время.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:88.80pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:724.08pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Спустя минуту, управляемая таймером процедура пробежит по таблице маршрутизации и для каждого маршрута значение временной метки, которого не является &laquo;резервным&raquo; и больше чем значение таймаута:</span></div>
<div class=paragraph style=" padding:5.52pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font6>-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>Установит значение PMTU разное значению PMTU на первом хопе.</span></span></div>
<div class=paragraph style=" padding:4.08pt 42.24pt 0.00pt 175.20pt; text-align:left; text-indent:-18.00pt;"><span class=font6 style=" line-height:12.00pt;">-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>Известит    уровень    пакетирования,    использующий    данный    маршрут    об </span><span class=font0>увеличении.</span></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Оценка PMTU может исчезнуть из таблицы маршрутизации, если маршрут на хост был удален из таблицы; это может случиться в ответ на сообщение ICMP Redirect или потому, что некоторые демоны маршрутной таблицы удаляют старые маршруты после нескольких минут. Также, на хостах имеющих несколько интерфейсов изменения топологии может быть результатом использования разных интерфейсов. Когда это случается, если уровень пакетирования не оповещен, тогда может продолжиться использование кэшированных значений PMTU, которые теперь слишком малы. Одно решение состоит в том, чтобы уведомлять уровень пакетирования о возможном изменении значения PMTU, всякий раз, когда сообщение о перенаправлении вызывает изменение маршрута и всякий раз, когда маршрут просто удален из таблицы маршрутизации.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: более сложные методы для определения увеличения значения PMTU описаны в разделе 7.1.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4><a name="bookmark14"><b><i>6</i></b></a><b><i>.4 Действия уровня ТСР.</i></b></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Уровень ТСР должен отслеживать значение PMTU для адресата, он не должен посылать датаграммы размером больше PMTU. Простая реализация может узнавать это значение у уровня IP (используя интерфейс GET_MAXSIZES описанный в <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[1]</u></a></span><a href="rfc1191.htm#bookmark20">) </a>каждый раз, когда создает сегмент, но это было бы не эффективно. Кроме того, реализации ТСР, которые используют алгоритм медленного старта <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[4]</u></a> </span>обычно вычисляют и кэшируют несколько значений, полученных из PMTU.Может быть проще получить асинхронное уведомление, полученное при изменении PMTU, так, чтобы эти переменные могли быть модифицированы.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.24pt;">Реализации ТСР должны так же сохранять значение MSS (которое по умолчанию равно 536), и не посылать сегменты больше этого MSS, не зависимо от PMTU.</span></div>
<div class=paragraph style=" padding:5.04pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В реализациях основанных на BSD 4.x это требует добавления дополнительного поля в запись состояния ТСР.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Наконец, когда получено сообщение &laquo;датаграмма слишком большая&raquo;, подразумевается, что датаграмма была отброшена маршрутизатором, который послал это сообщение. Достаточно обработать это как любой другой отброшенный сегмент и ждать, пока таймер повторной передачи не истечет, чтобы вызвать повторную передачу сегмента. Если процесс определения PMTU требует несколько шагов для правильной оценки PMTU, это может задержать соединение во много раз.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">С другой стороны, повторная передача могла быть сделана в непосредственном ответе на уведомление о том, что значение PMTU было изменено, но только для определенного подключения, указанного в сообщении &laquo;датаграмма слишком большая&raquo;. Размер датаграммы используемый при повторной передаче должен быть, конечно, не больше чем новый PMTU.</span></div>
<div class=paragraph style=" padding:5.04pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: <b>НЕЛЬЗЯ </b>повторно передать в ответ на каждое сообщения &laquo;датаграмма слишком большая&raquo;, так как выброс сегментов с завышенными размерами приведет к нескольким повторным передачам тех же самых данных. Если новая оценка PMTU все еще не верна, процесс повторится, что приведет к экспоненциальному росту числа отправленных лишних сегментов.</span></div>
<div class=paragraph style=" padding:5.28pt 42.48pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Это означает, что уровень ТСР должен быть способен распознать когда сообщение &laquo;датаграмма слишком большая&raquo; действительно уменьшает PMTU, который уже был использован для отправки датаграмм на данном соединении и что нужно игнорировать другие уведомления.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:61.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:688.80pt;">
<div class=paragraph style=" padding:0.00pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Современные реализации ТСР используют алгоритмы &laquo;медленного старта&raquo; и &laquo;предотвращения скоплений&raquo; (&laquo;congestion avoidance&raquo;) для увеличения эффективности работы. <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[4]</u></a></span><a href="rfc1191.htm#bookmark20">.</a> В отличие от повторной передачи, вызванной истечением таймером повторной передачи, повторная передача, вызванная сообщением &laquo;датаграмма слишком большая&raquo; не должна менять окно накопления (congestion window). Это должно, однако, вызывать срабатывание механизма медленного старта (т.е. только один сегмент должен быть повторно передан, пока не подтверждения не начнут поступать снова).</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Эффективность работы ТСР может быть уменьшена, если максимальное окно отправителя не кратно используемому размеру сегмента (это не размер окна накопления, который всегда является кратным размеру сегмента). Во многих системах, (например, основанных на BSD 4.2) размер сегмента обычно кратен 1024 октетам, так что надлежащие отношения уставятся по умолчанию. Если используется определение PMTU, то конечно размер сегмента может не быть кратен посылаемому пространству (may not be a submultiple of the send space) и он может изменяться в период существования соединения; это означает, что уровень ТСР может быть нуждается в изменении размера передающего окна, когда PMTU меняет свое значение. Максимальный размер окна должен быть установлен равным наибольшему кратному размеру сегмента (PMTU - 40), что должно быть меньше или равно размеру буфера пространства отправителя (sender's buffer space size).</span></div>
<div class=paragraph style=" padding:5.28pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Процесс определения PMTU не должен воздействовать на значение, отправляемое у опции MSS, потому что это значение используется на другом конце соединения, которое может использовать несвязанное значение PMTU.</span></div>
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4 style=" letter-spacing:-0.55pt;"><a name="bookmark15"><b><i>6</i></b></a><b><i>.5 Проблемы для других транспортных протоколов.</i></b></span></div>
<div class=paragraph style=" padding:4.56pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Некоторые транспортные протоколы (такие как ISO TP4 <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[3]</u></a></span>) не позволяют перепакетирование (repacketize) во время повторной отправки. То есть, должна быть сделана попытка передачи датаграммы определенного размера и ее содержимое не может быть разбито на маленькие датаграммы для повторное передачи. В таком случае, оригинальная датаграмма должна быть повторно передана без установленного бита DF, позволяющего фрагментировать датаграмму при необходимости для того, чтобы достичь адресата. Последующие датаграммы, когда они передаются в первый раз, должны быть не больше, чем PMTU и должны иметь установленный бит DF.</span></div>
<div class=paragraph style=" padding:4.32pt 42.00pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Sun Network File System (NFS) использует протокол вызова удаленных процедур (Remote Procedure Call - (RPC) protocol) <span style=" color:rgb(0,0,255);"><a href="rfc1191.htm#bookmark20"><u>[11]</u></a></span>, во многих случаях посылающий датаграммы, которые должны быть фрагментированы даже на первом хопе. Это может улучшить эффективность работы с некоторых случаях, но как известно вызывает проблемы с надежностью и производительностью, особенно когда клиент и сервер разделены маршрутизаторами.</span></div>
<div class=paragraph style=" padding:4.32pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Мы рекомендуем использовать механизм определения PMTU в реализациях NFS всякий раз, когда в процесс обмена вовлечены маршрутизаторы. Большинство реализаций NSF позволяют изменять размер RPC датаграммы во время монтирования (mount-time) (косвенно изменяя эффективный размер блока файловой системы) но могут требовать некоторых модификаций для поддержки изменений в дальнейшем.</span></div>
<div class=paragraph style=" padding:4.32pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Также, поскольку одиночные операции NFS на могут быть разбиты на несколько UDP датаграмм, некоторое операции (прежде всего те, которые оперируют с именами файлов и директорий) требуют минимального размера датаграммы, который может быть больше, чем PMTU. Реализации NFS не должны уменьшать размер датаграмм ниже этого порога, даже если механизм определения PMTU предлагает меньшее значение. (Конечно, в этом случае датаграммы не должны быть посланы с установленным флагом DF).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:96.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:55.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:709.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 87.12pt; text-align:left;"><span class=font4><a name="bookmark16"><b><i>6</i></b></a><b><i>.6 Интерфейс управления.</i></b></span></div>
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:17.04pt;">Мы предлагаем, чтобы реализация предоставляла для системных утилит путь:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font6 style=" line-height:17.04pt;">-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>определять на каком маршруте будет выполняться определение PMTU;</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font6 style=" line-height:17.04pt;">-<span class=font0>&nbsp; &nbsp; &nbsp;</span><span class=font0>изменять значение PMTU, ассоциированное с данным маршрутом.</span></span></div>
<div class=paragraph style=" padding:1.68pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Формирователь может быть выполнен путем связывания флага с маршрутом, когда пакет передается через этот маршрут с установленным флагом, уровень IP оставляет бит DF скинутым не зависимо от того, что требует верхний уровень.</span></div>
<div class=paragraph style=" padding:4.32pt 42.24pt 0.00pt 157.20pt; text-align:justify; text-indent:3.12pt;"><span class=font0 style=" line-height:12.00pt;">Эти особенности могут использоваться для работы через сеть с аномальной ситуацией или реализацией протокола маршрутизации, который способен получать значение PMTU.</span></div>
<div class=paragraph style=" padding:4.32pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Реализации должны также предоставлять путь для изменения таймаута старения информации PMTU.</span></div>
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark17"><b>7</b></a><b>   Вероятные значения для PMTU.</b></span></div>
<div class=paragraph style=" padding:4.80pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Алгоритмы, рекомендованные в разделе 5 для &laquo;поиска&raquo; пространства PMTU основаны на таблице значений, которая строго ограничивает поисковое пространство. Мы описываем здесь таблицу значений PMTU, которые представляют все главные технологии, используемые в Internet.</span></div>
<div class=paragraph style=" padding:4.32pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В таблице 7-1, данные представлены в порядке уменьшения PMTU, и сгруппированы так, что каждый набор одинаковых MTU, ассоциирован с &laquo;плато&raquo;, равному наименьшему MTU в группе. Когда плато представляет больше одного MTU, таблица показывает максимальное отклонение в процентах, связанное с этим плато.</span></div>
<div class=paragraph style=" padding:4.32pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Мы не ожидаем, что значения в таблице, особенно для верхних уровней MTU, будут правильными всегда. Значения, находящиеся в таблице являются предложением для разработчиков, а НЕ спецификацией или требованием. Разработчики должны использовать актуальные ссылки для сбора наборов плато, это важно, поскольку таблица не содержит слишком много значений и поэтому процесс поиска PMTU может тратить впустую ресурсы Internet. Для клиентов, не имеющих исходных текстов операционных систем, разработчики должны предусмотреть удобный метод обновления таблиц в из системах (например, в ядрах Unix, основанных на BSD, таблица может быть изменена с помощью новой команды &laquo;ioctl&raquo;).</span></div>
<div class=paragraph style=" padding:4.32pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Замечание: возможно, является хорошей идеей добавить несколько значений в таблицу равных малым степеням числа 2 плюс 40 (для IP и ТСР заголовка), если таких значений там не существует, так как кажется это резонный непроизвольный путь выбрать произвольные значения.</span></div>
<div class=paragraph style=" padding:4.56pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Эта таблица может также содержать записи для значений немного меньших, чем большие степени 2, в этом случае MTU определено около этих значений (в это случае для записей таблицы лучше быть маленькими, чем быть большими, иначе следующее самое маленькое плато будет выбрано вместо этого).</span></div>
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 86.88pt; text-align:left;"><span class=font4><a name="bookmark18"><b><i>7</i></b></a><b><i>.1 Наилучший способ определить увеличение PMTU.</i></b></span></div>
<div class=paragraph style=" padding:5.52pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Раздел 6.3 предлагает детектировать увеличение PMTU путем периодического повышения оценки PMTU до MTU на первом хопе. Вероятнее всего, этот процесс будет просто &laquo;переопределять&raquo; текущую оценку PMTU, ценой нескольких отброшенных датаграмм, поэтому это не должно выполняться часто.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Лучший подход это периодически повышать оценку PMTU до следующего самого высокого значения PMTU в таблице плато (или до MTU на первом хопе, если оно меньше). Если увеличенного значение не верно, то перед тем как будет найдено верное значение, будет затрачено время порядка времени прохождения пакета туда-обратно. Если увеличенное значение все еще слишком мало, то большее значение будет попробовано несколько позже.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:76.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:60.72pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 156.96pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Поскольку может требоваться несколько таких периодов для обнаружения существенного увеличения PMTU, мы рекомендуем этот короткий таймаут использовался после увеличения оценки, и более длинный таймаут использовался после ее уменьшения, произошедшего в результате получение сообщения &laquo;датаграмма слишком большая&raquo;.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 156.96pt; text-align:left;"><span class=font0>Табл. 7-1: Распространенные MTU</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:401.76pt; height:289.20pt; padding:0.00pt 36.48pt 0.00pt 156.72pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:401.76pt; height:289.20pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:293.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:12.72pt;">
<div class=paragraph style=" text-align:center;"><span class=font0><b>Плато</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font0><b>MTU</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0><b>Комментарий</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:24.72pt;">
<div class=paragraph style=" padding:1.44pt 3.84pt 0.00pt 0.00pt; text-align:center;"><span class=font0 style=" letter-spacing:-0.40pt;">65535</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:24.72pt;">
<div class=paragraph style=" padding:0.96pt 32.88pt 0.00pt 5.76pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">65535 65535</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 151.92pt 0.00pt 5.52pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Официальный максимум MTU Hyperchannel</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:12.48pt;">
<div class=paragraph style=" padding:1.44pt 3.84pt 0.00pt 0.00pt; text-align:center;"><span class=font0>32000</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>На всякий случай</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 3.36pt 0.00pt 0.00pt; text-align:center;"><span class=font0 style=" letter-spacing:-0.45pt;">17914</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font0>17914</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>16Mb IBM Token Ring</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:12.48pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>8166</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font0>8166</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>IEEE 802.4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:25.20pt;">
<div class=paragraph style=" padding:0.48pt 14.64pt 0.00pt 6.00pt; text-align:left;"><span class=font0 style=" line-height:12.24pt;">4352 (1%)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font0>4464</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>IEEE 802.5 (4Mb max)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>4352</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>FDDI (Revised)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:25.20pt;">
<div class=paragraph style=" padding:0.72pt 14.64pt 0.00pt 6.24pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">2002 (2%)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font0>2048</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>Wideband Network</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font0>2002</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>IEEE 802.5 (4Mb recommended)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="4" valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:50.16pt;">
<div class=paragraph style=" padding:0.24pt 14.64pt 0.00pt 6.24pt; text-align:left; text-indent:0.48pt;"><span class=font0 style=" line-height:12.48pt;">1492 (3%)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font0>1536</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>Exp. Ethernet Nets</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font0>1500</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>Ethernet Networks</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font0>1500</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>Point-to-Point (default)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>1492</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>IEEE 802.3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:25.20pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font0>1006</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font0>1006</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>SLIP</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>1006</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>ARPANET</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="5" valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:62.88pt;">
<div class=paragraph style=" padding:0.96pt 9.12pt 0.00pt 6.24pt; text-align:left; text-indent:0.24pt;"><span class=font0 style=" line-height:12.00pt;">508 (13%)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>576</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>X.25 Networks</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>544</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>DEC IP Portal</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>512</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>NETBIOS</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>508</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>IEEE 802/Source-Rt Bridge</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.72pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font0>508</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>ARCNET</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:12.48pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>296</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.48pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font0>296</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>Point-to-Point (low delay)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:12.96pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font0>68</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:293.76pt;">
<div class=block style=" width:293.76pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font0>Официальный минимум MTU</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:293.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:60.72pt;">
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Например, после того как оценка PMTU была уменьшена, таймаут должен быть установлен в 10 мин. После того как этот интервал истек и было попробовано большее значение, таймаут может быть установлен гораздо более короткий (скажем 2 минуты). Ни в коем случае таймаут не должен быть короче, чем время на пересылку пакета туда-обратно, если оно известно.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.04pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:283.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark19"><b>8</b></a><b>   Соображения безопасности</b></span></div>
<div class=paragraph style=" padding:5.52pt 42.48pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Механизм PMTU делает возможным два вида атак на отказ в обслуживании, оба основанные на посылке ложных сообщений &laquo;датаграмма слишком большая&raquo; злонамеренной стороной.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">В первой атаке, фальшивые сообщения &laquo;датаграмма слишком большая&raquo; показывают, что PMTU намного меньше реальной. Это не должно полностью остановить весь поток данных, поскольку атакуемый хост никогда не будет использовать PMTU меньше абсолютного минимума, но 8 октетов данных на одну датаграмму замедлят обмен.</span></div>
<div class=paragraph style=" padding:5.52pt 42.00pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Во второй атаке фальшивые сообщения указывают PMTU больший, чем в реальности. Это может вызвать временную блокаду, так как датаграммы посылаемые атакуемым хостом будут отброшены одним из маршрутизаторов. В течение одного периода, равного по длительности, времени необходимому для пересылки пакета туда-обратно, хост будет исправлять ошибку (получив сообщение &laquo;датаграмма слишком большая&raquo; от этого маршрутизатора). Частое повторение этой атаки приведет к увеличению датаграмм, которые будут отброшены. Хост, конечно, не должен повышать оценку PMTU, основываясь на сообщении &laquo;датаграмма слишком большая&raquo;, чтобы не быть подверженным данной атаке.</span></div>
<div class=paragraph style=" padding:5.28pt 42.24pt 0.00pt 157.20pt; text-align:justify;"><span class=font0 style=" line-height:12.00pt;">Злонамеренная сторона могла бы создавать проблемы, если бы могла остановить обработку истинных сообщений &laquo;датаграмма слишком большая&raquo;, но имеются более простые атаки на отказ в обслуживании.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:57.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:55.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:469.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark20"><b>С</b></a><b>сылки</b></span></div>
<div class=paragraph style=" padding:2.64pt 42.24pt 0.00pt 173.76pt; text-align:left; text-indent:-16.56pt;"><span class=font0 style=" line-height:12.00pt;">[I]&nbsp;R. Braden, ed. Requirements for Internet Hosts -- Communication Layers. <span style=" color:rgb(0,0,128);"><a href="http://lattice.itep.ru/UNIX/RFC/rfc1122.html"><u>RFC 1122</u></a></span>, SRI Network Information Center, October, 1989.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">[2] Geof Cooper. IP Datagram Sizes. Electronic distribution of the TCP-IP Discussion</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:left; text-indent:17.76pt;"><span class=font0 style=" line-height:12.00pt;">Group, Message-ID &lt;8705240517.AA01407@apolling.imagen.uucp&gt;. [3] ISO. ISO Transport Protocol Specification: ISO DP 8073. RFC 905, SRI Network</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:left; text-indent:17.76pt;"><span class=font0 style=" line-height:12.00pt;">Information Center, April, 1984. [4] Van Jacobson. Congestion Avoidance and Control. In Proc. SIGCOMM '88 Symposium</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 175.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">on Communications Architectures and Protocols, pages 314-329. Stanford, CA,</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:left; text-indent:18.00pt;"><span class=font0 style=" line-height:12.00pt;">August, 1988. [5] C. Kent and J. Mogul. Fragmentation Considered Harmful. In Proc. SIGCOMM '87</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 175.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Workshop on Frontiers in Computer Communications Technology. August, 1987.</span></div>
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">[6] Drew Daniel Perkins. Private Communication.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">[7] J. Postel. Internet Control Message Protocol. RFC 792, SRI Network Information</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:left; text-indent:18.00pt;"><span class=font0 style=" line-height:12.00pt;">Center, September, 1981. [8] J. Postel. Internet Protocol. RFC 791, SRI Network Information Center, September,</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 157.20pt; text-align:left; text-indent:18.00pt;"><span class=font0 style=" line-height:12.00pt;">1981. [9] J. Postel. The TCP Maximum Segment Size and Related Topics. RFC 879, SRI</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 175.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Network Information Center, November, 1983.</span></div>
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">[10] Michael Reilly. Private Communication.</span></div>
<div class=paragraph style=" padding:0.00pt 42.24pt 0.00pt 175.20pt; text-align:left; text-indent:-18.00pt;"><span class=font0 style=" line-height:12.00pt;">[II]&nbsp; Sun Microsystems, Inc. RPC: Remote Procedure Call Protocol. RFC 1057, SRI Network Information Center, June, 1988.</span></div>
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font3><a name="bookmark21"><b>А</b></a><b>дреса авторов</b></span></div>
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Jeffrey Mogul</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Digital Equipment Corporation Western Research Laboratory 100 Hamilton Avenue</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Palo Alto, CA 94301</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Phone: (415) 853-6643</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:mogul@decwrl.dec.com"><u>mogul@decwrl.dec.com</u></a></span></span></div>
<div class=paragraph style=" padding:17.52pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Steve Deering</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Xerox Palo Alto Research Center</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">3333 Coyote Hill Road</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Palo Alto, CA 94304</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">Phone: (415) 494-4839</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.20pt; text-align:left;"><span class=font0 style=" line-height:12.00pt;">EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:deering@xerox.com"><u>deering@xerox.com</u></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:317.04pt;">
        <div class=paragraph><script type="text/javascript">
<!--
var _acic={dataProvider:10};(function(){var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src="//www2.acint.net/aci.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})()
//-->
</script> <a href="http://massage.newmed-portal.ru/tmm.php" target="_blank">точечно-меридианный массаж</a> Смотрите <a href='http://Kokotki.net/'>http://kokotki.net</a> индивидуалки Уфы.
<script>
var siteid=10204;
var cats='0';
var adult='0';
document.write('<scr'+'ipt type="text/jav'+'ascript" src="/click'+'under2.js"></scr'+'ipt>');
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10568897-4");
pageTracker._trackPageview();
} catch(err) {}</script></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</body>
</html>

