<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><link rel="canonical" href="../3405.rfc" /><meta name="Robots" content="noindex, nofollow" /><title>Перевод RFC 3405 — Система DDDS. Часть 5 - Процедуры присваивания URI.ARPA</title><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../3405.rfc">RFC 3405 — Система DDDS. Часть 5 - Процедуры присваивания URI.ARPA</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 3405</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank"><span itemprop="alternativeHeadline">Dynamic Delegation Discovery System - Part Five: URI.ARPA Assignment Procedures</span></a></dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Лучший современный опыт</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2002-10-05">Октябрь 2002</time></dd><dd><div class="icon i5"></div> Автор: <span itemprop="author">Michael Mealling</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div id="text" itemprop="articleBody"><h3>Статус документа</h3><p>Этот документ содержит спецификацию стандартного протокола, предложенного сообществу Internet, и служит приглашением к дискуссии в целях развития. Текущее состояние стандартизации и статус описанного здесь протокола можно узнать из документа "Internet Official Protocol Standards" (STD 1). Документ может распространяться без ограничений.</p><h3>Тезисы</h3><p>Этот документ является пятым в серии, полностью описанной в "Dynamic Delegation Discovery System (DDDS) Part One: The Comprehensive DDDS" (RFC 3401). Важно подчеркнуть, что понимание любого документа этой серии невозможно без прочтения других документов.</p><h2>Оглавление</h2><ul class="map"><li><a href="print#p1">1. Введение</a></li><li><a href="print#p2">2. Преобразование URI и преобразование URN</a></li><li><a href="print#p3">3. Правила регистрации</a></li><li class="lia"><a href="print#p3.1">3.1. Регистрация URI.ARPA</a></li><li class="lib"><a href="print#p3.1.1">3.1.1. Only Schemes in the IETF Tree Allowed</a></li><li class="lib"><a href="print#p3.1.2">3.1.2. Scheme Registration Takes Precedence</a></li><li class="lib"><a href="print#p3.1.3">3.1.3. NAPTR Registration May Accompany Scheme Registration</a></li><li class="lib"><a href="print#p3.1.4">3.1.4. Регистрация изменений после регистрации схемы</a></li><li class="lia"><a href="print#p3.2">3.2. Регистрация URN.ARPA</a></li><li class="lib"><a href="print#p3.2.1">3.2.1. NID Registration Takes Precedence</a></li><li class="lib"><a href="print#p3.2.2">3.2.2. NAPTR Registration May Accompany NID Registration</a></li><li class="lib"><a href="print#p3.2.3">3.2.3. Registration or Changes after Scheme Registration</a></li><li><a href="print#p4">4. Requirements on hints</a></li><li><a href="print#p5">5. Процедура подачи</a></li><li><a href="print#p6">6. Регистрационный шаблон</a></li><li class="lia"><a href="print#p6.1">6.1. Ключ</a></li><li class="lia"><a href="print#p6.2">6.2. Полномочность</a></li><li class="lia"><a href="print#p6.3">6.3. Записи</a></li><li><a href="print#p7">7. Пример шаблона</a></li><li><a href="print#p8">8. Регистрация URN в зоне URI.ARPA</a></li><li><a href="print#p9">9. Согласование с IANA</a></li><li><a href="print#p10">10. Вопросы безопасности</a></li><li><a href="print#p11">11. Благодарности</a></li><li><a href="print#p12">12. Литература</a></li></ul><h2 id="p1">1. Введение</h2><p>Этот документ определяет правила и процедуры добавления записей NAPTR в зоны 'URI.ARPA' и 'URN.ARPA' с целью преобразования идентификаторов URI в соответствии со спецификацией "Dynamic Delegation Discovery System (DDDS) Part Four: The URI Resolution Application" (RFC 3402) [2], которая задает Приложение, использующее Базу данных DDDS на основе DNS. Все эти концепции определены в RFC 3401 [1]. Важно отметить, что корректное понимание этого документа невозможно без прочтения RFC 3401 и указанных там документов.</p><p>RFC 3403 определяет использование DNS в качестве Базы данных DDDS, содержащей правила передачи полномочий для URI (иногда эти правилами называют указаниями по преобразования). Этот документ указывает, что первым шагом алгоритма является добавление суффикса 'URI.ARPA' к схеме URI и нахождение записи NAPTR для полученного доменного имени. Т. е., первым шагом преобразования "http://foo.com/" будет поиск записи NAPTR для домена "http.URI.ARPA". Преобразование URN поддерживает похожую процедуру, используя в качестве корневой зону 'URN.ARPA'. В этом документе описаны процедуры вставки новых правил в зоны 'URI.ARPA' и 'URN.ARPA'.</p><h2 id="p2">2. Преобразование URI и преобразование URN</h2><p>RFC 3402 [2] определяет как работают преобразования URI [7] и URN [6], когда используется DNS в качестве базы данных правил передадачи полномочий (или указаний). В частности, этот документ говорит, что начальные инструкции (указания) для преобразования URI на основе DNS хранятся как записи о ресурсах зоны DNS 'URI.ARPA'.</p><p>Поскольку URN является схемой URI, указание по преобразованию для URI-префикса 'urn:' также будет храниться в зоне 'URI.ARPA'. Это правило говорит, что пространство имен [6] преобразуется путем добавления суффикса 'URN.ARPA' и результат используется в качестве ключа при поиске записи NAPTR [4].</p><h2 id="p3">3. Правила регистрации</h2><p>Создание данной схемы URI или пространтсва имен URN (NID) выполняется в соответствии с подходящими документами по регистрации. Схемы URI регистрируются по "Registration Procedures for URL Scheme Names" (RFC 2717) [10]. Пространства имен URN регистрируются по "URN Namespace Definition Mechanisms" (RFC 2611) (или обновленной версии) [9].</p><h3 id="p3.1">3.1. Регистрация URI.ARPA</h3><h4 id="p3.1.1">3.1.1. Разрешены только схемы из дерева IETF</h4><p>Для включения в зону URI.ARPA соответствующая схема URI должна быть зарегистрирована в дереве IETF URI. Требования для этого дерева содержатся в документе [10].</p><h4 id="p3.1.2">3.1.2. Сначала регистрируются схемы</h4><p>Недопустимо регистрировать запись NAPTR для схемы URI до регистрации самой схемы и публикации стабильной спецификации в соответствии с [10]. IESG или указанный эксперт будут проверять запрос на предмет</p><ol><li>корректности и технической обоснованности;</li><li>совместимости с опубликованными спецификациями URI;</li><li>того, что что записи NAPTR для базирующихся на DNS URI не передают полномочия преобразования никому, кроме держателя имени DNS;</li></ol><p>Последнее правило нужно для того, чтобы данное указание по преобразованию URI не было перехватывало (по неосторожности или по иным причинам) сетевой трафик для данного домена.</p><h4 id="p3.1.3">3.1.3. Регистрация NAPTR может сопровождать регистрацию схемы</h4><p>Запрос на регистрацию URI.ARPA может сопровождать запрос на регистрацию схемы URI (согласно [10]) и в таких случаях оба запроса вместе рассматриваются IESG или назначенными экспертами.</p><h4 id="p3.1.4">3.1.4. Регистрация изменений после регистрации схемы</h4><p>Запрос на регистрацию записи NAPTR (или на изменение существующей записи NAPTR) может быть подан после того, как зарегистрирован префикс URI. Если спецификация префикса URI контролируется не IETF, IESG будет требовать одобрения владельца спецификации или поддерживающей ее стороны до того, как будет произведена регистрация. Это требование является дополнением к обычному техническому обзору при регистрации NAPTR, выполняемому IESG или назначенными экспертами.</p><h3 id="p3.2">3.2. Регистрация URN.ARPA</h3><h4 id="p3.2.1">3.2.1. Сначала регистрация NID</h4><p>Недопустимо регистрировать запись NAPTR для URN NID до регистрации NID и публикации стабильной спецификации в соответствии с [9]. Это делается для предотвращения регистрации записи NAPTR в URN.ARPA в обход процесса регистрации NID.</p><h4 id="p3.2.2">3.2.2. Регистрация NAPTR может сопровождать регистрацию NID</h4><p>Запрос на регистрацию URN.ARPA может сопровождать запрос на регистрацию NID (в соответствии с [9]) и оба запросабудут рассматриваться вместе.</p><h4 id="p3.2.3">3.2.3. Регистрация или изменение после регистрации схемы</h4><p>Запрос на регистрацию записи NAPTR (или на изменение существующей записи NAPTR) может быть подан после регистрации NID. Если спецификация NID контролируется не IETF, IESG будет требовать одобрения владельца спецификации или поддерживающей ее стороны до того, как будет произведена регистрация. Это требование является дополнением к обычному техническому обзору при регистрации NAPTR, выполняемому IESG или назначенными экспертами.</p><p class="note">Отметим, что это применимо ко всем записям NAPTR для конкретного NID, даже если запись NAPTR может оказывать воздействие только на часть пространства URN, выделенного для NID.</p><h2 id="p4">4. Требования к указаниям</h2><p>Делегирование пространства имен может происходить двумя путями. Для большинства URI делегируемый ключ будет жестко определяться самим идентификатором (например, имя хоста для HTTP URI). Синтаксис местоположения ключа в этом случае предопределен синтаксисом схемы. В других случаях новый ключ может быть частью самого указания. Функциональный эквивалент этого можно выразить словами "если данное правило выполняется, оно всегда является ключом".</p><p>Для минимизации нагрузки по запросам в зоны URI.ARPA и URN.ARPA предлагается устанавливать для этих зон экстремально большое время жизни TTL (возможно, измеряемое годами).</p><p>Таким образом, для любого префикса URI или пространства имен URN, в которых указания по преобразованию будут склонны к изменению, актуальные правила следует хранить в какой-либо другой (менее статичной) зоне DNS, а в зоне URI.ARPA или URN.ARPA следует использовать стабильную запись NAPTR, которая будет служить для передачи полномочий в менее статичную зону.</p><p>Например пространство имен URN 'foo' имеет гибкие правила передачи полномочий. Вместо включения этих правил в зону URN.ARPA туде помещается запись, передающая полномочия хранения этих правил серверу имен с меньшим временем жизни записей. Такая запись в зоне URN.ARPA будет иметь вид:</p><pre>foo     IN NAPTR 100 10  ""  "" "" urn-resolver.foo.com.</pre><p>Когда клиент начинает процесс преобразования. Он сначала будет запрашивать foo.URN.ARPA для получения показанной выше записи, а на втором этапе будет запрашивать 'urn-resolver.foo.com' для получения записей NAPTR, содержащих правила преобразования. TTL на корневом уровне имеет очень большое значение. Значение TTL в 'urn-resolver.foo.com' значительно меньше.</p><p>Схема URI 'http', напротив, жестко придерживается определенного синтаксиса, который указывает, что искомый хост задан в самом значении URI. Поскольку этот синтаксис не меняется, правило можно включать в зоеу URI.ARPA. Запись будет иметь вид:</p><pre>http    IN NAPTR 100 100 "" ""  "/http:\\/\\/([^\\/:]+)/\\2/i" .</pre><p>Таким образом, второй шаг преобразования будет заключаться в использовании доменного имени из URI в качестве следующего ключа в цикле. Если, например, данная запись NAPTR является завершающей и содержит некое имя хоста в поле replacement, клиент может обращаться к этому хосту с запросом о данном URI.</p><h2 id="p5">5. Процедура подачи</h2><p>Используя регистрационный механизм MIME Content-Type [8] в качестве успешной модели регистрации, процедуры 'URI.ARPA' и 'URN.ARPA' поддерживают шаблон запроса, подаваемого заинтересованной стороной в открытый список рассылки. Если в течение двух недель не поступило ни одного возражения, представители регистрационного агентства считают подачу состоявшейся и вводят соответствующую информацию в пространство имен.</p><ul class="dot"><li>Для регистрации в зоне 'URI.ARPA' запросы направляются по адресу 'register@URI.ARPA'.</li><li>Для регистрации в зоне 'URN.ARPA' запросы направляются по адресу 'register@URN.ARPA'.</li></ul><p>В качестве регистрационного агентства выступает IANA.</p><p>В качестве возражений принимаются те, которые отмечают влияние на саму зону или DNS в целом. Возражения по схеме URI или пространству имен URN NID не допускаются, поскольку их следует обсуждать в соответствующих форумах. Логическим следствием из этого является то, что должна разрешаться регистрации любых санкционированных схем URI и пространств имен URN, если они соответствуют требованиям данного документа в части времени жизни и общего влияния на DNS.</p><h2 id="p6">6. Регистрационный шаблон</h2><p>Шаблон, направляемый для регистрации в соответствующий список рассылки должен включать:</p><h3 id="p6.1">6.1. Ключ</h3><p>Это значение URN NID или схемы URI, используемое в качестве доменной части запроса DNS. Ключ должен быть корректен с точки зрения процедур, указанных в документах по распределению пространства имен URN, а также все новым стандартам по регистрации новых схем URI.</p><h3 id="p6.2">6.2. Полномочность</h3><p>Персона или организация (объект), имеющая полномочия на регистрацию записи. Эти полномочия должны быть признаны IESG или относится к числу указанных в документах по регистрации URN NID [9] или схем URI [10].</p><h3 id="p6.3">6.3. Записи</h3><p>Актуальные записи DNS, представляющие набор правил для ключа. Требуемыми полями являются Preference, Order, Flags, Services, Regex и Replacement, определенные в документе RFC 3404 [4].</p><h2 id="p7">7. Пример шаблона</h2><pre>To: register@URN.ARPA
From: joe@foo.com

Key: foo
Authority: Foo Technology, Inc as specified in RFCFOO
Record: foo     IN NAPTR 100 100 "" "" "" urn.foo.com.</pre><h2 id="p8">8. Регистрация URN в зоне URI.ARPA</h2><p>Поскольку в этом документе обсуждаются зоны URI.ARPA и URN.ARPA, а правило URN существует в зоне URI.ARPA, это делает осмысленным приведенное ниже правило URI при регистрации URN.</p><pre>To: register@URI.ARPA
From: The IETF URN Working Group

Key: urn
Authority: RFC2141
Record: urn     IN NAPTR 0 0 "" "" "/^urn:([^:]+)/\\2/i" .</pre><h2 id="p9">9. Согласование с IANA</h2><p>Агентство IANA создало зоны URN.ARPA и URI.ARPA. Иерархическая структура имен и использование имен только из этих зон обеспечивают возможность использования ключей, описанных в параграфе 6.1 этого документа. Администрирование и текущее управление для этих зон принимает на себя IANA. Записи DNS, включаемые в эти зоны, регистрируются, как описано в этом документе.</p><p>Агентство IANA также создало две почтовых конференции (списки рассылок) register@uri.arpa и register@urn.arpa для регистрации в соответствии с данным документом. Списками также управляет IANA.</p><h2 id="p10">10. Вопросы безопасности</h2><p>Зоны 'uri.arpa' и 'urn.arpa' могут служить объектами DoS-атак и подмен (spoofing) для изменения путей передачи полномочий. Любому объекту с сервером имен, на котором поддерживаются эти зоны, следует предпринять соответствующие меры по защите этих важных компонент инфраструктуры Internet. Когда станет возможным использование серверами имен цифровых подписей, записи из этих зон также следует подписывать.</p><h2 id="p11">11. Благодарности</h2><p>Автор выражает свою признательность Ron Daniel, который был соавтором изначального варианта этого документа. Вклад Рона в разработку модели правил передачи полномочий сделал возможными описанные здесь процедуры и саму систему DDDS.</p><h2 id="p12">12. Литература</h2><table itemprop="references"><tr><td>[1]</td><td>Mealling, M., <a href="../3401.rfc" title="Система DDDS. Часть 1 - DDDS в целом">«Система DDDS. Часть 1 - DDDS в целом», RFC 3401</a>, Октябрь 2002.</td></tr><tr><td>[2]</td><td>Mealling, M., <a href="../3402.rfc" title="Система DDDS. Часть 2 - Алгоритм">«Система DDDS. Часть 2 - Алгоритм», RFC 3402</a>, Октябрь 2002.</td></tr><tr><td>[3]</td><td>Mealling, M., <a href="../3403.rfc" title="Система DDDS. Часть 3 - База данных DNS">«Система DDDS. Часть 3 - База данных DNS», RFC 3403</a>, Октябрь 2002.</td></tr><tr><td>[4]</td><td>Mealling, M., <a href="../3404.rfc" title="Система DDDS. Часть 4 - Приложение для преобразования URI">«Система DDDS. Часть 4 - Приложение для преобразования URI», RFC 3404</a>, Октябрь 2002.</td></tr><tr><td>[5]</td><td>Mealling, M., «Dynamic Delegation Discovery System (DDDS) Part Five: URI.ARPA Assignment Procedures», RFC 3405, Октябрь 2002.</td></tr><tr><td>[6]</td><td>Moats, R., «URN Syntax», RFC 2141, Ноябрь 1998.</td></tr><tr><td>[7]</td><td>Berners-Lee, T., Fielding, R. и L. Masinter, «Uniform Resource Identifiers (URI): Generic Syntax», RFC 2396, Август 1998.</td></tr><tr><td>[8]</td><td>Freed, N., Klensin, J. и J. Postel, «Multipurpose Internet Mail Extensions (MIME) Part Four: Registration Procedures», BCP 13, RFC 2048, Ноябрь 1996.</td></tr><tr><td>[9]</td><td>Faltstrom, P., Iannella, R., Daigle, L. и D. van Gulik, «URN Namespace Definition Mechanisms», BCP 33, RFC 2611, October 1998.</td></tr><tr><td>[10]</td><td>Petke, R. и I. King, «Registration Procedures for URL Scheme Names», BCP 35, RFC 2717, Январь 1999.</td></tr></table><h2>Адрес автора</h2><p>Michael Mealling<br />VeriSign<br />21345 Ridgetop Circle<br />Sterling, VA 20166 US<br />URI: http://www.verisignlabs.com<br />EMail: <bdo dir="rtl">&#116;&#101;&#110;&#46;&#109;&#121;&#110;&#111;&#101;&#110;&#64;&#108;&#101;&#97;&#104;&#99;&#105;&#109;</bdo></p></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 3405 - Система DDDS. Часть 5 - Процедуры присваивания URI.ARPA",disqus_identifier="3405.rfc",disqus_url="http://rfc2.ru/3405.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>