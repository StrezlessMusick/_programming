<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><link rel="canonical" href="../2866.rfc" /><meta name="Robots" content="noindex, nofollow" /><title>Перевод RFC 2866 — Средства учета RADIUS (RADIUS Accounting)</title><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../2866.rfc">RFC 2866 — Средства учета RADIUS (RADIUS Accounting)</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 2866</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank"><span itemprop="alternativeHeadline">RADIUS Accounting</span></a></dd><dd><div class="icon i7"></div> Предыдущие версии: RFC 2059, RFC 2139</dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Информационный</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2000-06-01">Июнь 2000</time></dd><dd><div class="icon i5"></div> Автор: <span itemprop="author">Carl Rigney</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div id="text" itemprop="articleBody"><h3>Статус документа</h3><p>Этот документ содержит информацию, адресованную сообществу Internet. В документе не содержится каких-либо стандартов Internet. Допускается распространение документа без каких-либо ограничений.</p><h3>Тезисы</h3><p>Этот документ описывает протокол обмена учетными сведениями (accounting) между серверами доступа NAS и серверами учета (Accounting Server).</p><h3>Примечание для разработчиков</h3><p>В этом документе описывается протокол RADIUS Accounting. Первые версии RADIUS Accounting использовали протокол UDP через порт 1646, что приводило к возникновению конфликтов со службами sa-msg-port. Официально для RADIUS Accounting выделен порт 1813.</p><h2>Оглавление</h2><ul class="map"><li><a href="print#p1" title="Введение">1. Введение</a></li><li class="lia"><a href="print#p1.1" title="Спецификация уровня требований">1.1. Спецификация уровня требований</a></li><li class="lia"><a href="print#p1.2" title="Терминология">1.2. Терминология</a></li><li><a href="print#p2" title="Работа протокола">2. Работа протокола</a></li><li class="lia"><a href="print#p2.1" title="Proxy">2.1. Proxy</a></li><li><a href="print#p3" title="Формат пакетов">3. Формат пакетов</a></li><li><a href="print#p4" title="Типы пакетов">4. Типы пакетов</a></li><li class="lia"><a href="print#p4.1" title="Accounting-Request">4.1. Accounting-Request</a></li><li class="lia"><a href="print#p4.2" title="Accounting-Response">4.2. Accounting-Response</a></li><li><a href="print#p5" title="Атрибуты">5. Атрибуты</a></li><li class="lia"><a href="print#p5.1" title="Acct-Status-Type">5.1. Acct-Status-Type</a></li><li class="lia"><a href="print#p5.2" title="Acct-Delay-Time">5.2. Acct-Delay-Time</a></li><li class="lia"><a href="print#p5.3" title="Acct-Input-Octets">5.3. Acct-Input-Octets</a></li><li class="lia"><a href="print#p5.4" title="Acct-Output-Octets">5.4. Acct-Output-Octets</a></li><li class="lia"><a href="print#p5.5" title="Acct-Session-Id">5.5. Acct-Session-Id</a></li><li class="lia"><a href="print#p5.6" title="Acct-Authentic">5.6. Acct-Authentic</a></li><li class="lia"><a href="print#p5.7" title="Acct-Session-Time">5.7. Acct-Session-Time</a></li><li class="lia"><a href="print#p5.8" title="Acct-Input-Packets">5.8. Acct-Input-Packets</a></li><li class="lia"><a href="print#p5.9" title="Acct-Output-Packets">5.9. Acct-Output-Packets</a></li><li class="lia"><a href="print#p5.10" title="Acct-Terminate-Cause">5.10. Acct-Terminate-Cause</a></li><li class="lia"><a href="print#p5.11" title="Acct-Multi-Session-Id">5.11. Acct-Multi-Session-Id</a></li><li class="lia"><a href="print#p5.12" title="Acct-Link-Count">5.12. Acct-Link-Count</a></li><li class="lia"><a href="print#p5.13" title="Таблица атрибутов">5.13. Таблица атрибутов</a></li><li><a href="print#p6" title="Согласование с IANA">6. Согласование с IANA</a></li><li><a href="print#p7" title="Вопросы безопасности">7. Вопросы безопасности</a></li><li><a href="print#p8" title="Журнал изменений">8. Журнал изменений</a></li><li><a href="print#p9" title="Литература">9. Литература</a></li><li><a href="print#p10" title="Подтверждение">10. Подтверждение</a></li></ul><h2 id="p1">1. Введение</h2><p>Управление распределенными последовательными каналами и модемными пулами для большого числа пользователей может потребовать значительных усилий администраторов сети. Поскольку модемные пулы по определению являются каналами во внешний мир, они требуют пристального внимания с точки зрения безопасности, идентификации пользователей и учета их работы. Наиболее эффективным решением такой задачи является создание единой «базы данных» о пользователях, которая содержит идентификационные сведения (имена и пароли), а также конфигурационные параметры, определяющий предоставляемый пользователю сервис (например, SLIP, PPP, telnet, rlogin).</p><p>В документе [2] описан протокол RADIU (Remote Authentication Dial In User Service), используемый для идентификации пользователей и проверки их полномочий. В данном документе описывается расширение протокола RADIUS, обеспечивающее доставку учетных сведений о работе пользователей от серверов доступа (NAS) к серверам учета RADIUS accounting.</p><p>Данный документ заменяет RFC 2139 [1]. Список отличий приведенной здесь спецификации от RFC 2139 дан в приложении «Журнал изменений».</p><p>Основные свойства RADIUS Accounting:</p><ul><li class="b">Архитектура «клиент-сервер»</li><li class="lib"><p>Сервер доступа (NAS) выступает в качестве клиента служб RADIUS accounting. Клиент отвечает за передачу учетных сведений серверам RADIUS accounting.</p><p>Серверы RADIUS accounting отвечают за прием учетных запросов и возврат клиенту информации, подтверждающей получение запроса.</p><p>Сервер RADIUS accounting может выступать в качестве клиента-посредника (proxy client) других серверов RADIUS accounting.</p></li><li class="b">Безопасность</li><li class="lib">Аутентификация транзакций между клиентом и сервером RADIUS accounting осуществляется с использованием разделяемого ключа (shared secret), который никогда не передается через сеть.</li><li class="b">Возможность расширения</li><li class="lib"><p>Все протокольные транзакции представляются в форме триплетов «атрибут-размер-значение». Новые атрибуты могут добавляться без нарушения работы существующих реализаций протокола.</p></li></ul><h3 id="p1.1">1.1. Спецификация уровня требований</h3><p>Ключевые слова необходимо (MUST), недопустимо (MUST NOT), требуется (REQUIRED), нужно (SHALL), не нужно (SHALL NOT), следует (SHOULD), не следует (SHOULD NOT), рекомендуется (RECOMMENDED), возможно (MAY), необязательно (OPTIONAL) в данном документе должны интерпретироваться в соответствии с RFC 2119 [3]. Значение этих слов не зависит от шрифтового выделения.</p><h3 id="p1.2">1.2. Терминология</h3><p>Ниже приведены определения некоторых терминов, часто встречающихся в документе:</p><ul><li class="b">Service — сервис, служба, обслуживание</li><li class="lib">Сервер NAS обеспечивает сервис (например, PPP или Telnet) для подключающихся по коммутируемым линиям пользователей.</li><li class="b">Session — сессия, сеанс</li><li class="lib">Каждый тип сервиса, обеспечиваемого NAS пользователям, предоставляется в форме сеанса, начало которого определяется моментом предоставления первой услуги, а завершение — моментом выполнения последней услуги. Пользователь может организовать множество параллельных (одновременных) сеансов, если NAS поддерживает такой режим. Для каждого из таких сеансов поддерживается отдельное значение Acct-Session-Id.</li><li class="b">Silently discard — отбрасывание без уведомления</li><li class="lib">Отбрасывание пакетов без дальнейшей обработки. Реализациям протокола следует обеспечивать возможность ведения журнала ошибок, включающего содержимое отбрасываемых без уведомления пакетов. Также следует поддерживать статистику (счетчики) таких событий.</li></ul><h2 id="p2">2. Работа протокола</h2><p>Когда клиент настроен на использование RADIUS Accounting на начальном этапе предоставления услуг этот клиент будет генерировать пакет Accounting Start, описывающий тип предоставляемого пользователю сервиса, который передается серверу RADIUS Accounting, возвращающему подтверждение приема такого пакета. При завершении пользовательского сеанса клиент будет генерировать пакет Accounting Stop, описывающий тип предоставленного пользователю сервиса. Этот пакет может также включать статистические сведения о работе пользователя — продолжительность сеанса, число пакетов и байтов, принятых и переданных пользователем. Пакет передается серверу RADIUS Accounting, который будет возвращать подтверждение приема.</p><p>Пакет Accounting-Request (Start или Stop) передается серверу RADIUS через сеть. Клиенту рекомендуется повторять передачу пакета Accounting-Request до тех пор, пока от сервера не будет получено подтверждение приема. Если в течение заданного времени подтверждение не будет получено, передача пакета повторяется заданное число раз. Клиент может также переслать запрос дополнительным серверам в тех случаях, когда основной сервер не работает или недоступен. Обращаться к альтернативному серверу после заданного числа неудачных попыток связи с основным сервером или в режиме перебора по кругу.</p><p>Алгоритмы повтора и выбора альтернативного сервера являются предметом исследования и не рассматриваются детально в данной спецификации.</p><p>Сервер RADIUS accounting может делать запросы к другим серверам для выполнения полученного от клиента запроса. В таких случаях сервер сам выступает в роли клиента.</p><p>Если сервер RADIUS не может записать пакет учета, недопустимо передавать клиенту подтверждение Accounting-Response.</p><h3 id="p2.1">2.1. Proxy</h3><p>Информация о серверах-посредниках RADIUS приведена в спецификации [2]. Серверы-посредники RADIUS Accounting работают идентично RADIUS Proxy, как показано в приведенном ниже примере.</p><ol><li><p>NAS передает пакеты Accounting-Request пересылающему серверу.</p></li><li><p>Пересылающий сервер протоколирует пакет Accounting-Request (если это нужно), добавляет атрибут Proxy-State (если нужно) после имеющихся в пакете атрибутов Proxy-State, обновляет атрибут Request Authenticator и пересылает запрос удаленному серверу.</p></li><li><p>Удаленный сервер протоколирует пакет Accounting-Request (если это нужно), копирует все атрибуты Proxy-State, не меняя их порядка в пакет отклика и передает отклик Accounting-Response серверу-посреднику.</p></li><li><p>Пересылающий сервер удаляет из пакета последний атрибут Proxy-State (если он был добавлен на этапе 2), обновляет значение атрибута Response Authenticator и передает пакет Accounting-Response серверу NAS.</p></li></ol><p>Для сервера-посредника недопустимо изменение присутствующих в пакете атрибутов Proxy-State или Class.</p><p>Сервер-посредник может прозрачно пересылать пакеты, передавая повторные пакеты по мере их получения, или принять на себя ответственность за передачу повторных пакетов (это удобно в тех случаях, когда сетевое соединение между посредником и удаленным сервером по своим характеристикам существенно отличается от соединения между посредником и NAS).</p><p>Когда пересылающий сервер принимает на себя ответственность за передачу повторов, политика такой передачи должна обеспечивать устойчивость и масштабируемость.</p><h2 id="p3">3. Формат пакетов</h2><p>В поле данных пакетов UDP [4] инкапсулируется по одному пакету RADIUS Accounting и поле UDP Destination Port для протокола RADIUS должно содержать десятичное значение 1813.</p><p>При генерации откликов номера портов отправителя и получателя меняются местами.</p><p>В этом документе содержится спецификация протокола RADIUS. Ранние версии RADIUS Accounting использовали порт UDP 1646, что приводило к конфликтам со службами sa-msg-port. Официально выделенный для протокола RADIUS Accounting порт имеет номер 1813.</p><p>Ниже показан формат типового пакета RADIUS. Поля передаются слева направо и сверху вниз.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Code      |  Identifier   |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                         Authenticator                         |
|                                                               |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Attributes ...
+-+-+-+-+-+-+-+-+-+-+-+-+-</pre><ul><li class="b">Code</li><li class="lib"><p>Поле Code имеет размер 1 октет и содержит идентификатор типа пакета RADIUS. При получении пакета с некорректным значением поля Code такой пакет отбрасывается без уведомления.</p><p>Десятичные значения кодов для пакетов RADIUS Accounting показаны ниже.</p><ul><li>4 Accounting-Request</li><li>5 Accounting-Response</li></ul></li><li class="b">Identifier</li><li class="lib">Поле Identifier размером 1 октет используется для сопоставления запросов с откликами. Сервер RADIUS может детектировать дубликаты запросов по совпадению IP-адреса отправителя, номеру порта отправителя и значению поля Identifier, если такие пакеты получены в течение короткого промежутка времени.</li><li class="b">Length</li><li class="lib">Поле Length имеет размер 2 октета и показывает размер пакета с учетом полей Code, Identifier, Length, Authenticator и Attribute. Октеты за пределами указанного в поле размера значения должны трактоваться как заполнение и оставляться без внимания. Если размер пакета меньше значения поля Length, пакет должен отбрасываться без уведомления. Минимальный размер пакета составляет 20, а максимальный — 4095.</li><li class="b">Authenticator</li><li class="lib">Поле Authenticator имеет размер 16 октетов. Старший октет поля передается первым. Значение поля применяется для аутентификации при обмене сообщениями между клиентом и сервером RADIUS accounting.</li><li class="b">Request Authenticator</li><li class="lib"><p>В пакетах Accounting-Request значение атрибута Authenticator, называемое Request Authenticator, представляет собой 16-октетное хэш-значение MD5 [5].</p><p>NAS и сервер RADIUS используют разделяемый ключ. Поле Request Authenticator в пакетах Accounting-Request содержит необратимое хэш-значение MD5, рассчитанное для потока октетов Code + Identifier + Length + 16 нулевых октетов + атрибуты запроса + разделяемый ключ (+ означает конкатенацию значений). 16-октетное хэш-значение MD5 помещается в поле Authenticator пакета Accounting-Request.</p><p class="note">Отметим, что атрибут Request Authenticator в пакетах Accounting-Request вычисляется несколько иначе, нежели для атрибут Request Authenticator в пакетах RADIUS Access-Request, поскольку пакеты Accounting-Request не содержат атрибута User-Password.</p></li><li class="b">Response Authenticator</li><li class="lib">Поле Authenticator в пакетах Accounting-Response называется Response Authenticator и содержит необратимое хэш-значение MD5, рассчитанное для потока октетов полей Code, Identifier, Length, значения Request Authenticator из пакета Accounting-Request, на который передается отклик, атрибутов отклика и разделяемого ключа. Полученное в результате 16-октетное хэш-значение MD5 помещается в поле Authenticator пакета Accounting-Response.</li><li class="b">Attributes</li><li class="lib">Пакет может включать более одного экземпляра атрибутов некоторых типов. В таких случаях порядок атрибутов следует сохранять. Порядок разнотипных атрибутов значения не имеет.</li></ul><h2 id="p4">4. Типы пакетов</h2><p>Тип пакета RADIUS определяется значением поля Code в первом октете.</p><h3 id="p4.1">4.1. Accounting-Request</h3><p>Пакеты Accounting-Request передаются от клиентов (обычно сервер доступа NAS или proxy) серверам RADIUS accounting и содержат информацию, используемую для учета предоставленных пользователю услуг. Клиент передает пакет RADIUS с Code = 4 (Accounting-Request).</p><p>При получении пакета Accounting-Request сервер должен передать отклик Accounting-Response, если учетный пакет был записан без ошибок. При возникновении той или иной ошибки передача отклика недопустима.</p><p>Атрибуты, допустимые для пакетов Access-Request и Access-Accept, могут использоваться в пакетах Accounting-Request.</p><p>Однако в пакеты Accounting-Request недопустимо включение атрибутов User-Password, CHAP-Password, Reply-Message, State. В каждом пакете Accounting-Request должен присутствовать по крайней мере один из атрибутов NAS-IP-Address или NAS-Identifier. В пакеты также следует включать по крайней мере один из атрибутов NAS-Port или NAS-Port-Type, если сервер NAS способен различать свои порты.</p><p>Если пакет Accounting-Request включает атрибут Framed-IP-Address, последний должен содержать IP-адрес пользователя. Если в пакете Access-Accept используется специальное значение Framed-IP-Address, говорящее серверу NAS о выделении или согласовании IP-адреса для пользователя, атрибут Framed-IP-Address (если он есть) в пакете Accounting-Request должен содержать действительный адрес IP, выделенный или согласованный для пользователя.</p><p>Формат пакетов Accounting-Request показан ниже. Поля пакета передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Code      |  Identifier   |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                     Request Authenticator                     |
|                                                               |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Attributes ...
+-+-+-+-+-+-+-+-+-+-+-+-+-</pre><ul><li class="b">Code</li><li class="lib">4 для Accounting-Request.</li><li class="b">Identifier</li><li class="lib"><p>Значение поля Identifier должно меняться при всяком изменении содержимого поля Attributes и при получении корректного отклика на предыдущий запрос. При повторной передаче пакетов без их изменения значение поля Identifier должно сохраняться.</p><p class="note">Отметим, что при включении атрибутов Acct-Delay-Time в пакет Accounting-Request значение Acct-Delay-Time будет обновляться при повторной передаче пакета, следовательно изменение содержимого поля Attributes требует заново вычислять значения полей Identifier и Request Authenticator.</p></li><li class="b">Request Authenticator</li><li class="lib"> Поле Request Authenticator в пакетах Accounting-Request содержит 16-октетное хэш-значение MD5, рассчитанное в соответствии с описанной выше процедурой (см. Request Authenticator).</li><li class="b">Attributes</li><li class="lib">Поле Attributes имеет переменную длину и содержит список атрибутов.</li></ul><h3 id="p4.2">4.2. Accounting-Response</h3><p>Пакеты Accounting-Response передаются сервером RADIUS accounting клиенту в качестве подтверждения приема и успешной записи пакетов Accounting-Request. Если принятый пакет Accounting-Request был записан без ошибок, сервер RADIUS accounting должен передать пакет с Code = 5 (Accounting-Response). При получении пакета Accounting-Response клиент проверяет значение поля Identifier для определения соответствия отправленному запросу Accounting-Request. Поле Response Authenticator должно содержать корректный отклик для ожидающего пакета Accounting-Request. Некорректные пакеты отбрасываются без уведомления.</p><p>Пакеты Accounting-Response могут не содержать никаких атрибутов.</p><p>Формат пакетов Accounting-Response показан ниже. Поля пакета передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Code      |  Identifier   |            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                     Response Authenticator                    |
|                                                               |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Attributes ...
+-+-+-+-+-+-+-+-+-+-+-+-+-</pre><ul><li class="b">Code</li><li class="lib">5 для Accounting-Response.</li><li class="b">Identifier</li><li class="lib">Поле Identifier содержит копию одноименного поля из пакета Accounting-Request, послужившего причиной передачи пакета Accounting-Response.</li><li class="b">Response Authenticator</li><li class="lib">Поле Response Authenticator в пакетах Accounting-Response содержит 16-октетное значение MD5, рассчитанное в соответствии с описанной выше процедурой (см. Response Authenticator).</li><li class="b">Attributes</li><li class="lib">Поле Attributes имеет переменную длину и содержит список атрибутов.</li></ul><h2 id="p5">5. Атрибуты</h2><p>Атрибуты RADIUS используются для передачи информации, связанной с аутентификацией и проверкой полномочий пользователей, а также учетом их работы.</p><p>Некоторые атрибуты могут присутствовать в пакете в нескольких экземплярах (это указывается ниже при описании атрибутов).</p><p>Завершение списка атрибутов определяется значением поля Length в пакетах RADIUS.</p><p>Формат атрибутов показан ниже. Поля атрибута передаются слева направо.</p><pre> 0                   1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |  Value ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib"><p>Однооктетное поле, определяющее тип атрибута. Актуальные значения поля типа для атрибутов RADIUS вы можете узнать из последнего варианта документа Assigned Numbers [6]. Значения 192-223 предназначены для экспериментальных целей, значения 224-240 зарезервированы для разработчиков (специфические для реализации типы), а значения 241-255 являются резервными и не должны использоваться. Рассматриваемые в данной спецификации значения приведены в таблице.</p><table><tr><td>Значение</td><td>Тип</td></tr><tr><td>1-39</td><td>См. спецификацию RADIUS [2]</td></tr><tr><td>40</td><td>Acct-Status-Type</td></tr><tr><td>41</td><td>Acct-Delay-Time</td></tr><tr><td>42</td><td>Acct-Input-Octets</td></tr><tr><td>43</td><td>Acct-Output-Octets</td></tr><tr><td>44</td><td>Acct-Session-Id</td></tr><tr><td>45</td><td>Acct-Authentic</td></tr><tr><td>46</td><td>Acct-Session-Time</td></tr><tr><td>47</td><td>Acct-Input-Packets</td></tr><tr><td>48</td><td>Acct-Output-Packets</td></tr><tr><td>49</td><td>Acct-Terminate-Cause</td></tr><tr><td>50</td><td>Acct-Multi-Session-Id</td></tr><tr><td>51</td><td>Acct-Link-Count</td></tr><tr><td>60+</td><td>См. спецификацию RADIUS [2]</td></tr></table></li><li class="b">Length</li><li class="lib">Однооктетное поле Length указывает размер данного атрибута с учетом полей Type, Length и Value. При получении атрибута с некорректно указанным размером в пакетах Accounting-Request, такие пакеты должны отбрасываться без уведомления.</li><li class="b">Value</li><li class="lib"><p>Необязательное поле Value содержит значение атрибута. Формат и размер значения атрибута определяются значениями полей Type и Length.</p><p class="note">Отметим, что ни один из типов RADIUS не использует в качестве завершения NUL-символ (hex 00). В частности, значения типа text и string в протоколе RADIUS не завершаются NUL-символом. Для каждого атрибута имеется поле размера, поэтому символы завершения не требуются. Значения типа text представляет собой последовательность символов в кодировке UTF-8 10646 [7], а значения типа string содержат 8-битовые бинарные данные. Серверы и клиенты RADIUS должны быть способны работать со строками, содержащими NUL-символы. При реализации RADIUS на основе языка C не следует использовать для обработки строк функцию strcpy().</p><p>Значение атрибута может относиться к одному из пяти поддерживаемых типов данных. Отметим, что тип text является частным случаем (подмножеством) типа string.</p><ul><li class="b">text</li><li class="lib">от 1 до 253 октетов, содержащих символы в кодировке UTF-8 10646 [7]. Недопустима передача текстовых атрибутов нулевой длины. В таких случаях следует просто исключить атрибут.</li><li class="b">string</li><li class="lib">от 1 до 253 октетов, содержащих бинарные данные (значения от 0 до 255, включительно). Недопустима передача string-атрибутов нулевой длины. В таких случаях следует просто исключить атрибут.</li><li class="b">address</li><li class="lib">32-битовое значение, первый октет является старшим.</li><li class="b">integer</li><li class="lib">32-битовое беззнаковое целое, первый октет является старшим.</li><li class="b">time</li><li class="lib">32-битовое беззнаковое целое (первый октет является старшим), показывающее число секунд, прошедших с 1 января 1970 г. (00:00:00 по Гринвичу — UTC). Стандартные атрибуты RADIUS не используют этот тип, но он добавлен для будущих расширений.</li></ul></li></ul><h3 id="p5.1">5.1. Acct-Status-Type</h3><p>Этот атрибут определяет на что указывает данный пакет Accounting-Request — начало (Start) или завершение (Stop) обслуживания пользователя.</p><p>Атрибут может использоваться клиентом для маркировки начала учета (например, при загрузке) путем указания Accounting-On или для маркировки завершения учета (например, перед перезагрузкой) с помощью Accounting-Off.</p><p>Формат атрибута Acct-Status-Type показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">40 для Acct-Status-Type.</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib"><p>Четырехоктетное поле.</p><ul><li>1 Start</li><li>2 Stop</li><li>3 Interim-Update</li><li>7 Accounting-On</li><li>8 Accounting-Off</li><li>9-14 Зарезервированы для Tunnel Accounting</li><li>15 Зарезервировано для отказов (Failed)</li></ul></li></ul><h3 id="p5.2">5.2. Acct-Delay-Time</h3><p>Этот атрибут показывает число секунд, в течение которых клиент пытается передать данную запись, и значение атрибута может вычитаться из времени доставки пакета на сервер для приблизительного определения момента генерации пакета Accounting-Request (время передачи через сеть не принимается во внимание).</p><p>Отметим, что изменение Acct-Delay-Time требует менять значение поля Identifier (см. выше).</p><p>Формат атрибута Acct-Delay-Time показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">41</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib">Четырехоктетное поле.</li></ul><h3 id="p5.3">5.3. Acct-Input-Octets</h3><p>Этот атрибут показывает количество октетов, полученных из порта за время, в течение которого предоставляется данный сервис. Атрибут может включаться только в пакеты Accounting-Request, где Acct-Status-Type = Stop.</p><p>Формат атрибута Acct-Input-Octets показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">42</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib">Четырехоктетное поле.</li></ul><h3 id="p5.4">5.4. Acct-Output-Octets</h3><p>Этот атрибут показывает количество октетов, переданных в порт в течение всего срока предоставления данного сервиса. Атрибут может использоваться только в пакетах Accounting-Request с Acct-Status-Type = Stop.</p><p>Формат атрибута Acct-Output-Octets показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">43</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib">Четырехоктетное поле.</li></ul><h3 id="p5.5">5.5. Acct-Session-Id</h3><p>Этот атрибут содержит уникальное значение Accounting ID, упрощающее поиск соответствия между стартовыми и конечными записями в журнальном файле. Стартовая и конечная запись для данной сессии должны иметь одинаковые значения Acct-Session-Id. Пакеты Accounting-Request должны включать атрибут Acct-Session-Id. Возможно включение атрибута Acct-Session-Id в пакеты Access-Request; в таких случаях сервер NAS должен использовать такое же значение Acct-Session-Id в пакетах Accounting- Request для данной сессии.</p><p>Значение атрибута Acct-Session-Id следует задавать в кодировке UTF-8 10646 [7].</p><p>Например, можно использовать 8-значные шестнадцатеричные идентификаторы в буквами верхнего регистра и увеличивать значение двух старших цифр при каждой перезагрузке (полное использование всех значений после 256 перезагрузок). Остальные 6 цифр позволяют задать значения от 0 (для первого пользователя после перезагрузки) до 224-1 (около 16 миллионов), что позволяет организовать соответствующее число сеансов за время между перезагрузками.. Возможны и другие схемы построения уникальных значений атрибута.</p><p>Формат атрибута Acct-Session-Id показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |  Text ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">44</li><li class="b">Length</li><li class="lib">= 3</li><li class="b">String</li><li class="lib">Значение поля String следует задавать в кодировке UTF-8 10646 [7].</li></ul><h3 id="p5.6">5.6. Acct-Authentic</h3><p>Этот атрибут может включаться в пакеты Accounting-Request для индикации того, что пользователь уже прошел аутентификацию с помощью протокола RADIUS, собственно NAS или иным способом. Если предоставление сервиса пользователям обеспечивается без аутентификации, учетные записи генерировать не следует.</p><p>Формат атрибута Acct-Authentic показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">45</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib"><p>Четырехоктетное поле.</p><ul><li>1 RADIUS</li><li>2 Local (локальная аутентификация)</li><li>3 Remote (удаленная аутентификация)</li></ul></li></ul><h3 id="p5.7">5.7. Acct-Session-Time</h3><p>Этот атрибут показывает время обслуживания пользователя (в секундах). Атрибут может присутствовать только в пакетах Accounting-Request, где Acct-Status-Type = Stop.</p><p>Формат атрибута Acct-Session-Time показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">46</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib">Четырехоктетное поле.</li></ul><h3 id="p5.8">5.8. Acct-Input-Packets</h3><p>Этот атрибут показывает общее число пакетов, полученных из порта за все время обслуживания пользователя Framed User, и может включаться только в пакеты Accounting-Request с Acct-Status-Type = Stop.</p><p>Формат атрибута Acct-Input-packets показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">47</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib">Четырехоктетное поле.</li></ul><h3 id="p5.9">5.9. Acct-Output-Packets</h3><p>Этот атрибут показывает общее число пакетов, переданных в порт за все время обслуживания пользователя Framed User, и может включаться только в пакеты Accounting-Request с Acct-Status-Type = Stop.</p><p>Формат атрибута Acct-Output-Packets показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">48</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib">Четырехоктетное поле.</li></ul><h3 id="p5.10">5.10. Acct-Terminate-Cause</h3><p>Этот атрибут показывает причину завершения сеанса и может включаться только в пакеты Accounting-Request, где Acct-Status-Type = Stop.</p><p>Формат атрибута Acct-Terminate-Cause показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">49</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib"><p>Четырехоктетное поле Value содержит код причины завершения сеанса:</p><table><tr><td>Значение</td><td>Тип</td><td>Описание</td></tr><tr><td>1</td><td>User Request</td><td>Прекращение сеанса по инициативе пользователя (например с помощью LCP Terminate или выхода из сети — log out).</td></tr><tr><td>2</td><td>Lost Carrier</td><td>На порту был сброшен сигнал DCD (детектирование несущей).</td></tr><tr><td>3</td><td>Lost Service</td><td>Сервис больше не предоставляется (например, разорвано соединение пользователя с хостом).</td></tr><tr><td>4</td><td>Idle Timeout</td><td>Истекло время допустимого бездействия (Idle timer).</td></tr><tr><td>5</td><td>Session Timeout</td><td>Достигнута максимальная продолжительность сеанса.</td></tr><tr><td>6</td><td>Admin Reset</td><td>Сессия или порт сброшены администратором.</td></tr><tr><td>7</td><td>Admin Reboot</td><td>Администратор прекратил обслуживание пользователей NAS (например, для перезагрузки NAS).</td></tr><tr><td>8</td><td>Port Error</td><td>Сервер NAS обнаружил для порта ошибку, потребовавшую разрыва сессии.</td></tr><tr><td>9</td><td>NAS Error</td><td>Сервер NAS обнаружил (не связанную с портом), потребовавшую разрыва сессии.</td></tr><tr><td>10</td><td>NAS Request</td><td>Сервер NAS завершил сессию по неизвестной причине.</td></tr><tr><td>11</td><td>NAS Reboot</td><td>Сервер NAS завершил сессию для аварийной перезагрузки.</td></tr><tr><td>12</td><td>Port Unneeded</td><td>Сервер NAS завершил сессию потому, что уровень использования ресурсов слишком мал (например, в случаях выделения полосы по запросу реально достижимая скорость позволяет отключить один из портов).</td></tr><tr><td>13</td><td>Port Preempted</td><td>Сервер NAS завершил сеанс для предоставления порта пользователю с более высоким приоритетом.</td></tr><tr><td>14</td><td>Port Suspended</td><td>Сервер NAS завершил сеанс для прерывания виртуальной сессии.</td></tr><tr><td>15</td><td>Service Unavailable</td><td>Сервер NAS не может предоставить запрошенный сервис.</td></tr><tr><td>16</td><td>Callback</td><td>Сервер NAS прерывает текущую сессию для организации обратного соединения (callback).</td></tr><tr><td>17</td><td>User Error</td><td>Ошибка в полученных от пользователя данных, вызвавшая прекращение сеанса.</td></tr><tr><td>18</td><td>Host Request</td><td>Нормальное завершение сеанса хостом.</td></tr></table></li></ul><h3 id="p5.11">5.11. Acct-Multi-Session-Id</h3><p>Этот атрибут содержит уникальный идентификатор Accounting ID, позволяющий связать воедино множество сеансовых записей в журнальном файле. Каждая сессия имеет свое значение Acct-Session-Id, а значения идентификатора «мультисессии» Acct-Multi-Session-Id будут совпадать для связанных сессий. Настоятельно рекомендуется указывать значения атрибутов Acct-Multi-Session-Id в кодировке UTF-8 10646 [7].</p><p>Формат атрибута Acct-Session-Id показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |  String ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">50</li><li class="b">Length</li><li class="lib">>= 3</li><li class="b">String</li><li class="lib">Значение поля String следует задавать в кодировке UTF-8 10646 [7].</li></ul><h3 id="p5.12">5.12. Acct-Link-Count</h3><p>Этот атрибут указывает число соединений, относящихся к данной «мультисессии», на момент генерации записи. Сервер NAS может включать атрибут Acct-Link-Count в любые пакеты Accounting-Request, которые могут быть связаны с многоканальными соединениями.</p><p>Формат атрибута Acct-Link-Count показан ниже. Поля передаются слева направо.</p><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Length     |             Value
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
           Value (cont)         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre><ul><li class="b">Type</li><li class="lib">51</li><li class="b">Length</li><li class="lib">6</li><li class="b">Value</li><li class="lib"><p>Четырехоктетное поле Value содержит число соединений для данной «мультисессии» (Multilink Session).</p><p>Этот атрибут упрощает серверу учета связывание воедино информации для множества сессий одной «мультисессии». Когда число пакетов Accounting-Request, полученных с Acct-Status-Type = Stop, одинаковыми значениями Acct-Multi-Session-Id и уникальными значениями Acct-Session-Id равно наибольшему значению Acct-Link-Count, появляющемуся в таких пакетах Accounting-Requests, это говорит о получении всех финишных (Stop) запросов Accounting-Requests для данной многоканальной сессии.</p><p>В таблице показан пример 8 пакетов Accounting-Requests. Для простоты не имеющие к делу отношения атрибуты опущены.</p><table><tr><td>Multi-Session-Id</td><td>Session-Id</td><td>Status-Type</td><td>Link-Count</td></tr><tr><td>"10"</td><td>"10"</td><td>Start</td><td>1</td></tr><tr><td>"10"</td><td>"11"</td><td>Start</td><td>2</td></tr><tr><td>"10"</td><td>"11"</td><td>Stop</td><td>2</td></tr><tr><td>"10"</td><td>"12"</td><td>Start</td><td>3</td></tr><tr><td>"10"</td><td>"13"</td><td>Start</td><td>4</td></tr><tr><td>"10"</td><td>"12"</td><td>Stop</td><td>4</td></tr><tr><td>"10"</td><td>"13"</td><td>Stop</td><td>4</td></tr><tr><td>"10"</td><td>"10"</td><td>Stop</td><td>4</td></tr></table></li></ul><h3 id="p5.13">5.13. Таблица атрибутов</h3><p>В таблице приведен список всех атрибутов, которые могут встречаться в пакетах Accounting-Request. В пакеты Accounting-Response следует включать лишь атрибуты Proxy-State и Vendor-Specific.</p><table><tr><td>Число</td><td>Атрибут</td></tr><tr><td>#</td><td>Attribute</td></tr><tr><td>0-1</td><td>User-Name</td></tr><tr><td>0</td><td>User-Password</td></tr><tr><td>0</td><td>CHAP-Password</td></tr><tr><td>0-1</td><td>NAS-IP-Address [Note 1]</td></tr><tr><td>0-1</td><td>NAS-Port</td></tr><tr><td>0-1</td><td>Service-Type</td></tr><tr><td>0-1</td><td>Framed-Protocol</td></tr><tr><td>0-1</td><td>Framed-IP-Address</td></tr><tr><td>0-1</td><td>Framed-IP-Netmask</td></tr><tr><td>0-1</td><td>Framed-Routing</td></tr><tr><td>0+</td><td>Filter-Id</td></tr><tr><td>0-1</td><td>Framed-MTU</td></tr><tr><td>0+</td><td>Framed-Compression</td></tr><tr><td>0+</td><td>Login-IP-Host</td></tr><tr><td>0-1</td><td>Login-Service</td></tr><tr><td>0-1</td><td>Login-TCP-Port</td></tr><tr><td>0</td><td>Reply-Message</td></tr><tr><td>0-1</td><td>Callback-Number</td></tr><tr><td>0-1</td><td>Callback-Id</td></tr><tr><td>0+</td><td>Framed-Route</td></tr><tr><td>0-1</td><td>Framed-IPX-Network</td></tr><tr><td>0</td><td>State</td></tr><tr><td>0+</td><td>Class</td></tr><tr><td>0+</td><td>Vendor-Specific</td></tr><tr><td>0-1</td><td>Session-Timeout</td></tr><tr><td>0-1</td><td>Idle-Timeout</td></tr><tr><td>0-1</td><td>Termination-Action</td></tr><tr><td>0-1</td><td>Called-Station-Id</td></tr><tr><td>0-1</td><td>Calling-Station-Id</td></tr><tr><td>0-1</td><td>NAS-Identifier [Note 1]</td></tr><tr><td>0+</td><td>Proxy-State</td></tr><tr><td>0-1</td><td>Login-LAT-Service</td></tr><tr><td>0-1</td><td>Login-LAT-Node</td></tr><tr><td>0-1</td><td>Login-LAT-Group</td></tr><tr><td>0-1</td><td>Framed-AppleTalk-Link</td></tr><tr><td>0-1</td><td>Framed-AppleTalk-Network</td></tr><tr><td>0-1</td><td>Framed-AppleTalk-Zone</td></tr><tr><td>1</td><td>Acct-Status-Type</td></tr><tr><td>0-1</td><td>Acct-Delay-Time</td></tr><tr><td>0-1</td><td>Acct-Input-Octets</td></tr><tr><td>0-1</td><td>Acct-Output-Octets</td></tr><tr><td>1</td><td>Acct-Session-Id</td></tr><tr><td>0-1</td><td>Acct-Authentic</td></tr><tr><td>0-1</td><td>Acct-Session-Time</td></tr><tr><td>0-1</td><td>Acct-Input-Packets</td></tr><tr><td>0-1</td><td>Acct-Output-Packets</td></tr><tr><td>0-1</td><td>Acct-Terminate-Cause</td></tr><tr><td>0+</td><td>Acct-Multi-Session-Id</td></tr><tr><td>0+</td><td>Acct-Link-Count</td></tr><tr><td>0</td><td>CHAP-Challenge</td></tr><tr><td>0-1</td><td>NAS-Port-Type</td></tr><tr><td>0-1</td><td>Port-Limit</td></tr><tr><td>0-1</td><td>Login-LAT-Port</td></tr></table><p>Ниже разъяснены использованные в таблице обозначения.</p><ul><li>0 недопустимо включение данного атрибута в пакеты этого типа;</li><li>0+ атрибут является необязательным и может присутствовать в нескольких экземплярах;</li><li>0-1 необязательный атрибут, который может присутствовать в единственном экземпляре;</li><li>1 обязательный атрибут, который должен присутствовать в единственном экземпляре;</li></ul><h2 id="p6">6. Согласование с IANA</h2><p>Коды типа пакетов (Packet Type Code), типы атрибутов (Attribute Type) и их значения (Attribute Value), определенные в данной спецификации, зарегистрированы в IANA (Internet Assigned Numbers Authority) и относятся к пространству имен RADIUS как описано в разделе "Согласование с IANA" документа RFC 2865 [2] в соответствии с требованиями BCP 26 [8].</p><h2 id="p7">7. Вопросы безопасности</h2><p>Вопросы безопасности обсуждаются в параграфах, относящихся к значениям Authenticator, которые передаются в запросах и откликах и при создании которых применяются разделяемые ключи (эти ключи никогда не передаются через сеть).</p><h2 id="p8">8. Журнал изменений</h2><ul class="dot"><li>Кодировка US-ASCII заменена UTF-8.</li><li>Добавлены замечания по Proxy-серверам.</li><li>Атрибут Framed-IP-Address должен содержать реальный IP-адрес пользователя.</li><li>При передаче атрибута Acct-Session-ID в пакете Access-Request это же значение должно использоваться в пакетах Accounting-Request для данной сессии.</li><li>Добавлены новые значения атрибута Acct-Status-Type.</li><li>Добавлен параграф «Согласование с IANA».</li><li>Обновлены ссылки.</li><li>Текстовые строки являются подмножеством типа string.</li></ul><h2 id="p9">9. Литература</h2><table itemprop="references"><tr><td>[1]</td><td>Rigney, C., «RADIUS Accounting», RFC 2139, Апрель 1997.</td></tr><tr><td>[2]</td><td>Rigney, C., Willens, S., Rubens, A. и W. Simpson, <a href="../2865.rfc" title="RFC 2865 — Протокол RADIUS">«Протокол RADIUS», RFC 2865</a>, Июнь 2000.</td></tr><tr><td>[3]</td><td>Bradner, S., «Key words for use in RFCs to Indicate Requirement Levels», BCP 14, RFC 2119, March, 1997.</td></tr><tr><td>[4]</td><td>Postel, J., <a href="../768.rfc" title="RFC 768 - Протокол UDP">«Протокол UDP», STD 6, RFC 768</a>, Август 1980</td></tr><tr><td>[5]</td><td>Rivest, R. и S. Dusse, <a href="../1321.rfc" title="RFC 1321 - Алгоритм цифровых подписей MD5">«Алгоритм цифровых подписей MD5», RFC 1321</a>, Апрель 1992</td></tr><tr><td>[6]</td><td>Reynolds, J. и J. Postel, «Assigned Numbers», STD 2, RFC 1700, October 1994.</td></tr><tr><td>[7]</td><td>Yergeau, F., «UTF-8, a transformation format of ISO 1064», RFC 2279, Январь 1998.</td></tr><tr><td>[8]</td><td>Alvestrand, H. и T. Narten, «Guidelines for Writing an IANA Considerations Section in RFCs», BCP 26, RFC 2434, October 1998.</td></tr></table><h2 id="p10">10. Подтверждение</h2><p>Исходный вариант протокола RADIUS был разработан Стивом Вилленсом (Steve Willens) из Livingston Enterprises для линейки серверов доступа PortMaster.</p><h2>Адрес автора</h2><p>Carl Rigney<br />Livingston Enterprises<br />4464 Willow Road<br />Pleasanton, California 94588<br />Phone: +1 925 737 2100<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#121;&#99;&#110;&#97;&#109;&#101;&#108;&#101;&#116;&#64;&#114;&#100;&#99;</bdo></p></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 2866 - Средства учета RADIUS (RADIUS Accounting)",disqus_identifier="2866.rfc",disqus_url="http://rfc2.ru/2866.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>