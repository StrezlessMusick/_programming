<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><link rel="canonical" href="../4505.rfc" /><meta name="Robots" content="noindex, nofollow" /><title>Перевод RFC 4505 — Механизм Anonymous в SASL (Simple Authentication and Security Layer)</title><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../4505.rfc">RFC 4505 — Механизм Anonymous в SASL (Simple Authentication and Security Layer)</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 4505</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">Anonymous Simple Authentication and Security Layer (SASL) Mechanism</span></a></dd><dd><div class="icon i7"></div> Предыдущие версии: RFC 2245</dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Предложенный стандарт</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2006-06-01">Июнь 2006</time></dd><dd><div class="icon i5"></div> Автор: <span itemprop="author">K. Zeilenga</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div id="text" itemprop="articleBody"><h3>Статус документа</h3><p>В этом документе содержится спецификация протокола, предложенного сообществу Internet. Документ служит приглашением к дискуссии в целях развития и совершенствования протокола. Текущее состояние стандартизации протокола вы можете узнать из документа "Internet Official Protocol Standards" (STD 1). Документ может распространяться без ограничений.</p><h3>Тезисы</h3><p>В сети Internet обычной практикой является предоставление анонимным пользователям доступа к различным сетевым службам. Обычно это организуется на основе механизма с открытыми паролями, использующего "anonymous" в качестве имени пользователя и в некоторых случаях использующего необязательную трассировочную информацию (типа адреса электронной почты) в качестве пароля. В новых протоколах IETF не допускаются команды регистрации в системе (login) в виде открытого текста, поэтому требуется новый метод предоставления доступа анонимным пользователям в контексте схемы SASL.</p><h2>1. Введение</h2><p>В этом документе определяется механизм анонимного доступа для схемы SASL [SASL]. Имя этого механизма "ANONYMOUS".</p><p>В отличие от многих других механизмов SASL, задачей которых является идентификация и аутентификация пользователя на сервере, задачей данного механизма SASL является предоставление пользователю доступа к службам или ресурсам без раскрытия серверу своей идентификации. Т. е., данный механизм обеспечивает метод анонимной регистрации в системе (login).</p><p>Данный механизм не обеспечивает уровня защиты.</p><p>Этот документ заменяет собой RFC 2245. Изменения по отношению к RFC 2245 отражены в Приложении A.</p><h2>2. Механизм Anonymous</h2><p>Механизм состоит из простого сообщения, передаваемого клиентом серверу. Клиент может включить в это сообщение трассировочную информацию в форме строки символов Unicode [Unicode] с кодировкой UTF-8 [UTF-8] в соответствии с [StringPrep] и «трассировать» профиль stringprep, определенный в главе 3 данного документа. Трассировочную информацию, которая не имеет семантического значения, следует задавать в одной из двух возможных форм — адрес электронной почты Internet или произвольная (opaque) строка, не содержащая символов @ (U+0040), которая может быть интерпретирована системным администратором домена на стороне клиента. По причинам сохранения приватности адрес электронной почты или иные сведения, идентифицирующие пользователя, могут использоваться только с его разрешения.</p><p>Сервер, который позволяет анонимный доступ, будет анонсировать поддержку механизма ANONYMOUS и позволять использовать этот механизм любому желающему, обычно ограничивая права для анонимных пользователей.</p><p>Ниже приведен формальный синтаксис клиентского сообщения в формате ABNF [ABNF], как иллюстрация к данной технической спецификации.</p><pre>message  = [ email / token ]
           ;; готовится в соответствии с главой 3

UTF1     = %x00-3F / %x41-7F ;; less '@' (U+0040)
UTF2     = %xC2-DF UTF0
UTF3     = %xE0 %xA0-BF UTF0 / %xE1-EC 2(UTF0) /
           %xED %x80-9F UTF0 / %xEE-EF 2(UTF0)
UTF4     = %xF0 %x90-BF 2(UTF0) / %xF1-F3 3(UTF0) /
           %xF4 %x80-8F 2(UTF0)
UTF0     = %x80-BF

TCHAR    = UTF1 / UTF2 / UTF3 / UTF4
           ;; любые символы Unicode в кодировке UTF-8,
           ;; за исключением @ (U+0040)

email    = addr-spec
           ;; в соответствии с [IMAIL]

token    = 1*255TCHAR</pre><h4>Примечание для разработчиков:</h4><p>Размер маркера &lt;token&gt; ограничен 255 символами в кодировке UTF-8. Поскольку данная кодировка использует от 1 до 4 октетов на символ, размер маркера может достигать 1020 октетов.</p><h2>3. «Трассировка» профиля "Stringprep"</h2><p>В этой главе определена «трассировка» профиля [StringPrep]. Этот профиль разработан для использования с механизмом SASL ANONYMOUS. В частности, клиент готовит &lt;message&gt; в соответствии с этим профилем.</p><p>Набором символов для этого профиля является Unicode 3.2 [Unicode].</p><p>Для профиля не требуется отображения.</p><p>Для профиля не требуется нормализации Unicode.</p><p>Список неиспользуемых кодов (code point) для этого профиля определен в Приложении A к документу [StringPrep].</p><p>Неиспользуемые коды не являются запрещенными.</p><p>Запрещено использование символов из следующих таблиц [StringPrep]:</p><ul class="dot"><li>C.2.1 (управляющие символы ASCII)</li><li>C.2.2 (управляющие символы, отличные от ASCII)</li><li>C.3 (символы для приватного использования)</li><li>C.4 (не имеющие символов коды)</li><li>C.5 (суррогатные коды)</li><li>C.6 (неприемлемо для текста)</li><li>C.8 (изменение свойств дисплея запрещено)</li><li>C.9 (символы для тегов)</li></ul><p>Других запрещенных символов нет.</p><p>Данный профиль требует двунаправленной проверки символов в соответствии с главой 6 документа [StringPrep].</p><h2>4. Пример</h2><p>Здесь рассмотрен простой пример использования механизма ANONYMOUS между клиентом и сервером IMAP. В примере префиксы "C:" и "S:" указывают строки, передаваемые клиентом и сервером, соответственно. Если следующая строка не содержит префикса "C:" или "S:", она является просто переносом предыдущей строки, сделанным для удобства чтения.</p><p>Отметим, что в этом примере используется профиль IMAP [IMAP4] для SASL. Кодирование base64 для запросов и откликов, а также префиксы "+ " в откликах являются частью профиля IMAP4 и не относятся непосредственно в SASL. Кроме того, протоколы с профилями SASL, разрешающими клиенту включать в запрос на организацию аутентификационной сессии начальный отклик, позволяют сэкономить один период кругового обхода для аутентификационного обмена (избежать показанного ниже отклика "+ " с пустой строкой).</p><p>В данном примере трассировочной информацией является строка "sirhc".</p><pre>S: * OK IMAP4 server ready
C: A001 CAPABILITY
S: * CAPABILITY IMAP4 IMAP4rev1 AUTH=DIGEST-MD5 AUTH=ANONYMOUS
S: A001 OK done
C: A002 AUTHENTICATE ANONYMOUS
S: +
C: c2lyaGM=
S: A003 OK Welcome, trace information has been logged.</pre><h2>5. Вопросы безопасности</h2><p>Механизм ANONYMOUS предоставляет доступ к службам и/или ресурсам любому желающему. По этой причине его следует отключать по умолчанию, предоставляя администратору возможность включения этого механизма при необходимости.</p><p>Если анонимному пользователю предоставляется право записи, возможна организация атаки на службу путем заполнения всего доступного для записи пространства. Для предотвращения таких атак можно запретить запись для анонимных пользователей.</p><p>Если анонимные пользователи имеют возможность чтения и записи в одну область, сервер можно будет использовать в качестве коммуникационного механизма анонимного обмена информацией. Серверам, разрешающим анонимным пользователям подачу информации, следует реализовать модель "drop box", в которой анонимный доступ для чтения невозможен в областях, открытых анонимным пользователям для подачи информации.</p><p>Если анонимный пользователь может запускать множество ресурсоемких операций (например, команд IMAP SEARCH BODY), это позволяет организовать атаку на службу. Для серверов настоятельно рекомендуется снизить приоритет для анонимных пользователей или ограничить для них выделяемые ресурсы.</p><p>Хотя серверы могут вносить ограничения на число анонимных пользователей, такие ограничения открывают возможность атак на службы, поэтому ими следует пользоваться с осторожностью.</p><p>Трассировочная информация не проверяется и ее можно фальсифицировать. Это может использоваться для указания чужих данных при доступе к информации сомнительного свойства. Администраторам, исследующим факты недопустимого использования, следует принимать во внимание возможность фальсификации трассировочных данных.</p><p>Клиентские программы, использующие корректный адрес электронной почты в качестве трассировочной информации без явного на то разрешения пользователя, может подвергать риску персональные данные пользователя. Любой, кто пользуется доступом к архивам специфического содержания с анонимным доступом (например, сексуальные извращения), очевидно нуждается в скрытности. Клиентским программам не следует передавать почтовый адрес пользователя без явного разрешения и следует предлагать пользователю опцию отказа от передачи трассировочной информации, показывая только IP-адрес и время.</p><p>Прокси-серверы с анонимным доступом помогут защитить приватную информацию, но следует принимать во внимание возможность организации в таких случаях DoS-атак.</p><p>Анонимные соединения чувствительны к перехвату с участием человека (man-in-the-middle attack) при которых передаваемая информация может просматриваться и изменяться. Клиентам и серверам настоятельно рекомендуется использовать внешние средства защиты данных.</p><p>Протоколы, которые не могут обеспечить явную регистрацию в системе (login) для анонимных пользователей, более уязвимы к вторжениям, связанным с некоторыми общепринятыми методами реализации. В частности, серверы Unix, которые предлагают пользователям регистрацию в системе (login) могут запускаться с правами пользователя root и переключаться на соответствующее значение user id после явной команды login. Обычно такие серверы отвергают все команды доступа к данным до явной регистрации в системе (login) и могут создавать безопасную среду с ограниченными возможностями (например, с помощью chroot в Unix) для анонимных пользователей. Если анонимный доступ не запрашивается явно, вся система доступа к данным может подвергнуться внешним атакам без возможности явного использования защитных мер. Протоколам, предлагающим ограниченный доступ к данным для анонимных пользователей, не следует предоставлять такой доступ без этапа явной регистрации в системе (login).</p><p>Общие вопросы безопасности SASL [SASL] применимы и к данному механизму.</p><p>Вопросы безопасности StringPrep [StringPrep] и вопросы безопасности Unicode [Unicode], рассмотренные в [StringPrep], также применимы к этому механизму. Вопросы безопасности UTF-8 [UTF-8] также применимы к данному механизму.</p><h2>6. Согласование с IANA</h2><p>Реестр SASL Mechanism [IANA-SASL] содержит запись для механизма ANONYMOUS, которая была обновлена IANA с учетом данного документа, обеспечивающего техническую спецификацию механизма.</p><pre>To: iana@iana.org
Subject: Updated Registration of SASL mechanism ANONYMOUS

SASL mechanism name: ANONYMOUS
Security considerations: See RFC 4505.
Published specification (optional, recommended): RFC 4505
Person & email address to contact for further information:
     Kurt Zeilenga &lt;Kurt@OpenLDAP.org&gt;
     Chris Newman &lt;Chris.Newman@sun.com&gt;
Intended usage: COMMON
Author/Change controller: IESG &lt;iesg@ietf.org&gt;
Note: Updates existing entry for ANONYMOUS</pre><p>«Трассировка» профиля [StringPrep], определенная в данном RFC, была зарегистрирована:</p><pre>To: iana@iana.org
Subject: Initial Registration of Stringprep "trace" profile

Stringprep profile: trace
Published specification: RFC 4505
Person & email address to contact for further information:
     Kurt Zeilenga &lt;kurt@openldap.org&gt;</pre><h2>7. Благодарности</h2><p>Этот документ является пересмотром документа RFC 2245, который подготовил Chris Newman. Фрагменты синтаксиса, определенного в главе 1, были заимствованы из RFC 3629, автором которого является Francois Yergeau.</p><p>Данный документ является результатом работы группы IETF SASL.</p><h2>8. Нормативные документы</h2><table itemprop="references"><tr><td>[ABNF]</td><td>Crocker, D. и P. Overell, «Augmented BNF for Syntax Specifications: ABNF», RFC 4234, Октябрь 2005.</td></tr><tr><td>[IMAIL]</td><td>Resnick, P., «Internet Message Format», RFC 2822, Апрель 2001.</td></tr><tr><td>[SASL]</td><td>Melnikov, A., Ed. и K. Zeilenga, Ed., <a href="../4422.rfc" title="RFC 4422 - Простой уровень аутентификации и защиты (SASL)">«Простой уровень аутентификации и защиты (SASL)», RFC 4422</a>, Июнь 2006.</td></tr><tr><td>[StringPrep]</td><td>Hoffman, P. и M. Blanchet, «Preparation of Internationalized Strings ('stringprep')», RFC 3454, Декабрь 2002.</td></tr><tr><td>[Unicode]</td><td>The Unicode Consortium, «The Unicode Standard, Version 3.2.0» is defined by «The Unicode Standard, Version 3.0» (Reading, MA, Addison-Wesley, 2000. ISBN 0-201-61633-5), as amended by the «Unicode Standard Annex #27: Unicode 3.1» (http://www.unicode.org/reports/tr27/) and by the «Unicode Standard Annex #28: Unicode 3.2» (http://www.unicode.org/reports/tr28/).</td></tr><tr><td>[UTF-8]</td><td>Yergeau, F., «UTF-8, a transformation format of ISO 10646», RFC 3629 (also STD 63), Ноябрь 2003.</td></tr></table><h2>9. Дополнительная литература</h2><table itemprop="references"><tr><td>[IMAP4]</td><td>Crispin, M., «INTERNET MESSAGE ACCESS PROTOCOL — VERSION 4rev1», RFC 3501, Март 2003.</td></tr><tr><td>[IANA-SASL]</td><td>IANA, «SIMPLE AUTHENTICATION AND SECURITY LAYER (SASL) MECHANISMS», (http://www.iana.org/assignments/sasl-mechanisms).</td></tr></table><h2>Приложение A. Изменения по отношению к RFC 2245</h2><p>Это приложение не является нормативным.</p><p>RFC 2245 позволяет клиенту включать необязательную трассировочную информацию в понятной человеку форме. RFC 2245 разрешает для этих строк только кодировку US-ASCII. В связи с интернационализацией сети Internet данный документ ограничивает такие строки набором символов Unicode в кодировке UTF-8. Определен профиль "stringprep" для точного указания символов Unicode, допустимых для включения в такие строки. Размер строки ограничен 255 символами, для кодирования каждого из которых может применяться от 1 до 4 октетов.</p><p>Кроме того, внесено множество редакторских правок.</p><h2>Адрес редактора</h2><p>Kurt D. Zeilenga<br />OpenLDAP Foundation<br />EMail: <bdo dir="rtl">&#103;&#114;&#111;&#46;&#112;&#97;&#100;&#108;&#110;&#101;&#112;&#111;&#64;&#116;&#114;&#117;&#107;</bdo></p></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 4505 - Механизм Anonymous в SASL (Simple Authentication and Security Layer)",disqus_identifier="4505.rfc",disqus_url="http://rfc2.ru/4505.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>