<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link rel="prev" href="28" /><link rel="next" href="30" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><title>Перевод RFC 4271 — Протокол BGP-4, стр. 29</title><meta name="author" content="Yakov Rekhter, Tony Li, Susan Hares" /><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../4271.rfc">RFC 4271 — Протокол BGP-4</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 4271</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">A Border Gateway Protocol 4</span></a></dd><dd><div class="icon i7"></div> Предыдущие версии: RFC 1654, RFC 1771</dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Проект стандарта</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2006-01-01">Январь 2006</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">Yakov Rekhter</span>, <span itemprop="author">Tony Li</span>, <span itemprop="author">Susan Hares</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div class="pages"><p class="r"> <h2 class="pt"><span class="z">RFC 4271,</span> Страница 29 из 65</h2></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a accesskey="1" title="Первая страница" href="../4271.rfc" class="arr">&lArr;</a></li><li><a accesskey="2" title="На страницу назад" href="28"><b>&larr;</b></a></li><li><a class="x" href="../4271.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a class="x" href="9">9</a></li><li><a class="x" href="10">10</a></li><li><a class="x" href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a class="x" href="20">20</a></li><li><a class="x" href="21">21</a></li><li><a class="x" href="22">22</a></li><li><a class="x" href="23">23</a></li><li><a class="x" href="24">24</a></li><li><a href="25">25</a></li><li><a href="26">26</a></li><li><a href="27">27</a></li><li><a href="28">28</a></li><li class="this"><span>29</span></li><li><a href="30">30</a></li><li><a href="31">31</a></li><li><a href="32">32</a></li><li><a href="33">33</a></li><li><a class="x" href="34">34</a></li><li><a class="x" href="35">35</a></li><li><a class="x" href="36">36</a></li><li><a class="x" href="37">37</a></li><li><a class="x" href="38">38</a></li><li><a class="x" href="39">39</a></li><li><a class="x" href="40">40</a></li><li><a class="x" href="41">41</a></li><li><a class="x" href="42">42</a></li><li><a class="x" href="43">43</a></li><li><a class="x" href="44">44</a></li><li><a class="x" href="45">45</a></li><li><a class="x" href="46">46</a></li><li><a class="x" href="47">47</a></li><li><a class="x" href="48">48</a></li><li><a class="x" href="49">49</a></li><li><a class="x" href="50">50</a></li><li><a class="x" href="51">51</a></li><li><a class="x" href="52">52</a></li><li><a class="x" href="53">53</a></li><li><a class="x" href="54">54</a></li><li><a class="x" href="55">55</a></li><li><a class="x" href="56">56</a></li><li><a class="x" href="57">57</a></li><li><a class="x" href="58">58</a></li><li><a class="x" href="59">59</a></li><li><a class="x" href="60">60</a></li><li><a class="x" href="61">61</a></li><li><a class="x" href="62">62</a></li><li><a class="x" href="63">63</a></li><li><a class="x" href="64">64</a></li><li><a class="x" href="65">65</a></li><li><a accesskey="3" title="На страницу вперед" href="30">&rarr;</a></li><li><a accesskey="4" title="Последняя страница" href="65">&rArr;</a></li></ul></div><div id="text" itemprop="articleBody"><h3 id="p8.1">8.1. События BGP FSM</h3><h4 id="p8.1.1">8.1.1. Дополнительные события, связанные с дополнительными атрибутами сессии</h4><p>Входной информацией для BGP FSM являются события, которые могут относиться к числу обязательных (mandatory) и необязательных (optional). Некоторые из дополнительных событий связаны с дополнительными атрибутами сессии. Дополнительные атрибуты сессий включают несколько групп функций FSM.</p><p>Связи между функциями FSM, событиями и дополнительными атрибутами сессий описаны ниже:</p><ul><li class="b">Группа 1: Автоматические административные события (старт/стоп)</li><li><table class="nobrd"><tr><td>Дополнительные атрибуты сессии:</td><td>AllowAutomaticStart, AllowAutomaticStop, DampPeerOscillations, IdleHoldTime, IdleHoldTimer</td></tr></table><table class="nobrd"><tr><td class="b">Опция 1:</td><td>AllowAutomaticStart</td></tr><tr><td class="top">Описание</td><td><p>Соединение с партнером BGP может быть инициировано или разорвано административными средствами. Такая операция может выполняться вручную с участием оператора или автоматически под управлением встроенной логики реализации BGP. Термин «автоматически» говорит о том, что соединение с партнером BGP организуется тогда, когда логика определяет, что соединение BGP следует перезапустить.</p><p>Атрибут AllowAutomaticStart указывает, что данное соединение BGP поддерживает автоматический запуск соединения BGP.</p><p>Если реализация BGP поддерживает AllowAutomaticStart, рестарт соединения с партнером может повторяться. Опции DampPeerOscillations, IdleHoldTime, IdleHoldTimer управляют скоростью организации повторных соединений.</p><p>Опция DampPeerOscillations определяет использование дополнительной логики для подавления осцилляций BGP в форме последовательности автоматически повторяющихся процедур старта и остановки. Параметр IdleHoldTime задает продолжительность периода сохранения партнером BGP состояния Idle перед тем, как будет возможен новый автоматический рестарт. Таймер IdleHoldTimer управляет сохранением состояния Idle.</p><p>Примером логики DampPeerOscillations является рост значения IdleHoldTime в тех случаях, когда BGP-партнер порождает периодические осцилляции (организация/разрыв соединения) в течение некоторого интервала времени. Для включения этой логики партеру достаточно организовать 10 соединений и их разрывов в течение 5 минут. Значение IdleHoldTime будет сменено с нуля на 120 секунд.</p></td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="b">Опция 2:</td><td>AllowAutomaticStop</td></tr><tr><td class="top">Описание:</td><td>Этот дополнительный атрибут сессии BGP показывает, что для соединения BGP разрешено «автоматическое» прерывание. Автоматическим называется прерывание сессии под управлением поддерживаемой реализацией логики. Рассмотрение такой логики не входит в задачи данной спецификации.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="b">Опция 3:</td><td>DampPeerOscillations</td></tr><tr><td class="top">Описание</td><td>Дополнительный атрибут сессии DampPeerOscillations показывает, что соединение BGP использует логику подавления осцилляций в состоянии Idle.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="b">Опция 4:</td><td>IdleHoldTime</td></tr><tr><td class="top">Описание</td><td>IdleHoldTime принимает значение, установленное для IdleHoldTimer.</td></tr><tr><td>Значение:</td><td>Время в секундах.</td></tr><tr><td class="b">Опция 5:</td><td>IdleHoldTimer</td></tr><tr><td class="top">Описание</td><td>Таймер IdleHoldTimer служит для контроля осцилляций BGP за счет сохранения партнера BGP в состоянии Idle в течение заданного интервала времени. Событие IdleHoldTimer_Expires описано в параграфе 8.1.3.</td></tr><tr><td>Значение:</td><td>Время в секундах.</td></tr></table></li><li class="b">Группа 2: Не указанные в конфигурации партнеры</li><li><table class="nobrd"><tr><td>Дополнительные атрибуты сессии:</td><td>AcceptConnectionsUnconfiguredPeers</td></tr></table><table class="nobrd"><tr><td class="b">Опция 1:</td><td>AcceptConnectionsUnconfiguredPeers</td></tr><tr><td class="top">Описание</td><td><p>Машина состояний BGP FSM может позволять восприятие соединений BGP от неуказанных в конфигурации соседей. Дополнительный атрибут сессии AcceptConnectionsUnconfiguredPeers позволяет FSM поддерживать переходы состояний, которые позволяют реализации принимать или отвергать соединения от таких партнеров.</p><p>Атрибут AcceptConnectionsUnconfiguredPeers влияет на безопасность. Детальное описание можно найти в документе «Уязвимости BGP» [RFC4272].</p></td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr></table></li><li class="b">Группа 3: Обработка TCP</li><li><table class="nobrd"><tr><td>Дополнительные атрибуты сессии:</td><td>PassiveTcpEstablishment, TrackTcpState</td></tr></table><table class="nobrd"><tr><td class="b">Опция 1:</td><td>PassiveTcpEstablishment</td></tr><tr><td class="top">Описание</td><td>Эта опция показывает, что BGP FSM будет пассивно ожидать вызова от удаленного партнера BGP для организации соединения TCP.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="b">Опция 2:</td><td>TrackTcpState</td></tr><tr><td class="top">Описание</td><td>BGP FSM обычно отслеживает конечный результат попытки организации соединения TCP, а не отдельные сообщения TCP. Опционально BGP FSM может поддерживать дополнительное взаимодействие с системой согласования параметров соединений TCP. Учет событий TCP может увеличить объем записей в журнальных файлах и число смен состояний BGP FSM.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr></table></li><li class="b">Группа 4: Обработка сообщений BGP</li><li><table class="nobrd"><tr><td>Дополнительные атрибуты сессии:</td><td>DelayOpen, DelayOpenTime, DelayOpenTimer, SendNOTIFICATIONwithoutOPEN, CollisionDetectEstablishedState</td></tr></table><table class="nobrd"><tr><td class="b">Опция 1:</td><td>DelayOpen</td></tr><tr><td class="top">Описание</td><td>Дополнительный атрибут сессии DelayOpen позволяет реализации настроить задержку передачи сообщения OPEN на заданное время. Такая задержка позволяет удаленному партнеру BGP первым отправить сообщение OPEN.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="b">Опция 2:</td><td>DelayOpenTime</td></tr><tr><td class="top">Описание</td><td>DelayOpenTime — начальное значение таймера DelayOpenTimer.</td></tr><tr><td>Значение:</td><td>Время в секундах.</td></tr><tr><td class="b">Опция 3:</td><td>DelayOpenTimer</td></tr><tr><td class="top">Описание</td><td>Дополнительный атрибут сессии DelayOpenTimer используется для задержки передачи сообщения OPEN в данном соединении. Событие DelayOpenTimer_Expires (Событие 12) описано в параграфе 8.1.3.</td></tr><tr><td>Значение:</td><td>Время в секундах.</td></tr><tr><td class="b">Опция 4:</td><td>SendNOTIFICATIONwithoutOPEN</td></tr><tr><td class="top">Описание</td><td>SendNOTIFICATIONwithoutOPEN позволяет партнеру передать сообщение NOTIFICATION без отправки сначала сообщения OPEN. Без этого дополнительного атрибута соединение BGP предполагает, что сообщение OPEN должно быть отправлено партнером до того, как ему будет передаваться сообщение NOTIFICATION.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="b">Опция 5:</td><td>CollisionDetectEstablishedState</td></tr><tr><td class="top">Описание</td><td>Обычно Detect Collision (см. параграф 6.8) игнорируется для состояния Established. Этот дополнительный атрибут сессии показывает, что данное соединение BGP обрабатывает конфликты и в состоянии Established.</td></tr><tr><td>Значения:</td><td>TRUE или FALSE</td></tr><tr><td class="top">Примечание:</td><td>Дополнительные сеансовые атрибуты проясняют описание BGP FSM для имеющихся возможностей реализации BGP. Эти атрибуты могут быть предопределенными для реализации и недоступными через интерфейс управления, поддерживаемый реализацией. Если поддерживается новая (2 и выше) версия BGP MIB, эти поля будут доступны через интерфейс управления.</td></tr></table></li></ul></div></div><noindex><div class="pages"><p class="r"> <b>Страница 29 из 65</b></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a title="Первая страница" href="../4271.rfc" class="arr">&lArr;</a></li><li><a title="На страницу назад" href="28"><b>&larr;</b></a></li><li><a class="x" href="../4271.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a class="x" href="9">9</a></li><li><a class="x" href="10">10</a></li><li><a class="x" href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a class="x" href="20">20</a></li><li><a class="x" href="21">21</a></li><li><a class="x" href="22">22</a></li><li><a class="x" href="23">23</a></li><li><a class="x" href="24">24</a></li><li><a href="25">25</a></li><li><a href="26">26</a></li><li><a href="27">27</a></li><li><a href="28">28</a></li><li class="this"><span>29</span></li><li><a href="30">30</a></li><li><a href="31">31</a></li><li><a href="32">32</a></li><li><a href="33">33</a></li><li><a class="x" href="34">34</a></li><li><a class="x" href="35">35</a></li><li><a class="x" href="36">36</a></li><li><a class="x" href="37">37</a></li><li><a class="x" href="38">38</a></li><li><a class="x" href="39">39</a></li><li><a class="x" href="40">40</a></li><li><a class="x" href="41">41</a></li><li><a class="x" href="42">42</a></li><li><a class="x" href="43">43</a></li><li><a class="x" href="44">44</a></li><li><a class="x" href="45">45</a></li><li><a class="x" href="46">46</a></li><li><a class="x" href="47">47</a></li><li><a class="x" href="48">48</a></li><li><a class="x" href="49">49</a></li><li><a class="x" href="50">50</a></li><li><a class="x" href="51">51</a></li><li><a class="x" href="52">52</a></li><li><a class="x" href="53">53</a></li><li><a class="x" href="54">54</a></li><li><a class="x" href="55">55</a></li><li><a class="x" href="56">56</a></li><li><a class="x" href="57">57</a></li><li><a class="x" href="58">58</a></li><li><a class="x" href="59">59</a></li><li><a class="x" href="60">60</a></li><li><a class="x" href="61">61</a></li><li><a class="x" href="62">62</a></li><li><a class="x" href="63">63</a></li><li><a class="x" href="64">64</a></li><li><a class="x" href="65">65</a></li><li><a title="На страницу вперед" href="30">&rarr;</a></li><li><a title="Последняя страница" href="65">&rArr;</a></li></ul></div></noindex><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 4271 - Протокол BGP-4",disqus_identifier="4271.rfc",disqus_url="http://rfc2.ru/4271.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li> Композитная террасная доска цена по материалам <a href="http://www.baykalforest.ru/otdelochnye-materialy/terrasnaya-doska.html" target="_blank">сайта</a>. </li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>