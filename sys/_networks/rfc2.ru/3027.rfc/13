<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link rel="prev" href="12" /><link rel="next" href="14" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><title>Перевод RFC 3027 — Проблемы реализации Internet-протоколов, связанные с применением трансляторов сетевых IP-адресов (NAT), стр. 13</title><meta name="author" content="M. Holdrege, P. Srisuresh" /><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../3027.rfc">RFC 3027 — Проблемы реализации Internet-протоколов, связанные с применением трансляторов сетевых IP-адресов (NAT)</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 3027</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">Protocol Complications with the IP Network Address Translator</span></a></dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Информационный</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2001-01-02">Январь 2001</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">M. Holdrege</span>, <span itemprop="author">P. Srisuresh</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Мельников Дмитрий Анатольевич</span></dd></dl><div class="pages"><p class="r"> <h2 class="pt"><span class="z">RFC 3027,</span> Страница 13 из 19</h2></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a accesskey="1" title="Первая страница" href="../3027.rfc" class="arr">&lArr;</a></li><li><a accesskey="2" title="На страницу назад" href="12"><b>&larr;</b></a></li><li><a class="x" href="../3027.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a href="11">11</a></li><li><a href="12">12</a></li><li class="this"><span>13</span></li><li><a href="14">14</a></li><li><a href="15">15</a></li><li><a href="16">16</a></li><li><a href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a accesskey="3" title="На страницу вперед" href="14">&rarr;</a></li><li><a accesskey="4" title="Последняя страница" href="19">&rArr;</a></li></ul></div><div id="text" itemprop="articleBody"><h3 id="p4.5">4.5. Протокол SIP</h3><p>Протокол инициирования сеанса связи (Session Initiation Protocol — SIP, RFC-2543) способен функционировать и с ТСР- и с UDP-протоколом и, по умолчанию, использует ТСР/UDP-порт с номером «5060».</p><p>Когда SIP-протокол функционирует совместно с UDP-протоколом, то тогда ответ на SIP-запрос не поступает на UDP-порт источника запроса, то есть откуда был передан SIP-запрос. Было бы правильнее, если бы SIP-сообщение содержало номер порта транспортного уровня, на который должен быть отправлен ответ. В SIP-протоколе используется номер ICMP-порта для ответного сообщения об ошибке, связанной с невозможностью достичь IP-узла, на который было передан запрос. Сообщения-запросы обычно передаются на уже используемый порт. Если ответы передаются на порт источника запроса, указанный в этом запросе, то тогда прикладной процесс, передавший запрос, должен «слушать» (контролировать) тот порт, через который передал свой запрос. Однако, если разрешить передавать ответы на одиночный порт транспортного уровня, то тогда вместо «прослушивания» порта можно использовать только один прикладной процесс.</p><p>Сервер может размещать в сообщении номер каждого активного порта источника сообщения. Затем каждый прикладной процесс может раздельно контролировать активные порты на предмет поступления на них ответных сообщений. Так как номер порта для ответного сообщения может не совпадать с номер порта источника запроса, а SIP-протокол, как правило, не взаимодействует с NAT-модулем, то в такой ситуации будет необходим SIP-ALG-субмодуль.</p><p>SIP-сообщения доставляют в поле полезной нагрузки самые различные данные, которые определяются своим MIME-типом (Multipurpose Internet Mail Extensions, RFC 2045). В период проведения многопротокольных (multimedia) сеансов связи, обычно, используется протокол определения сеанса связи (Session Description Protocol — SDP, RFC-2327). SDP-протокол может определять IP-адреса или номера портов транспортного уровня, которые используются для информационного обмена в период многопротокольных сеансов связи. Эти IP-адреса или номера портов могут терять смысл, если multimedia-сообщения транслируются через NAT-модуль. Следовательно, в такой ситуации может понадобиться SIP-ALG-субмодуль, который будет распределять и транслировать данные по соответствующим виртуальным соединениям.</p><p>SIP-сообщения доставляют в полях «Contact», «To» и «From» URL-идентификаторы, которые определяют адреса сигнализации/синхронизации процедур. Такие URL-идентификаторы могут содержать IP-адреса или DNS-имена (как часть идентификационного блока, определяющего порт IP-узла). Эти IP-адреса или DNS-имена могут потерять свой смысл, так как будут преобразованы, если SIP-сообщения транслируются через NAT-модуль.</p><p>Как альтернатива SIP-ALG-субмодулю, SIP-протокол может назначить уполномоченный сервер (proxy server), который может быть «совмещен» с NAT-модулем и функционировать с таким же глобальным IP-адресом (транспортнымпортом), как и у NAT-модуля. Такой proxy-сервер может иметь собственную специфическую настройку.</p></div></div><noindex><div class="pages"><p class="r"> <b>Страница 13 из 19</b></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a title="Первая страница" href="../3027.rfc" class="arr">&lArr;</a></li><li><a title="На страницу назад" href="12"><b>&larr;</b></a></li><li><a class="x" href="../3027.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a class="x" href="3">3</a></li><li><a class="x" href="4">4</a></li><li><a class="x" href="5">5</a></li><li><a class="x" href="6">6</a></li><li><a class="x" href="7">7</a></li><li><a class="x" href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a href="11">11</a></li><li><a href="12">12</a></li><li class="this"><span>13</span></li><li><a href="14">14</a></li><li><a href="15">15</a></li><li><a href="16">16</a></li><li><a href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a title="На страницу вперед" href="14">&rarr;</a></li><li><a title="Последняя страница" href="19">&rArr;</a></li></ul></div></noindex><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 3027 - Проблемы реализации Internet-протоколов, связанные с применением трансляторов сетевых IP-адресов (NAT)",disqus_identifier="3027.rfc",disqus_url="http://rfc2.ru/3027.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>