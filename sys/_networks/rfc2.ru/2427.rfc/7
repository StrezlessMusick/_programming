<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link rel="prev" href="6" /><link rel="next" href="8" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><title>Перевод RFC 2427 — Многопротокольные соединения через Frame Relay, стр. 7</title><meta name="author" content="Andrew Malis, Caralyn Brown" /><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../2427.rfc">RFC 2427 — Многопротокольные соединения через Frame Relay</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 2427</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">Multiprotocol Interconnect over Frame Relay</span></a></dd><dd><div class="icon i7"></div> Предыдущие версии: RFC 1294, RFC 1490</dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Стандарт Интернета</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="1998-09-17">Сентябрь 1998</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">Andrew Malis</span>, <span itemprop="author">Caralyn Brown</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div class="pages"><p class="r"> <h2 class="pt"><span class="z">RFC 2427,</span> Страница 7 из 18</h2></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a accesskey="1" title="Первая страница" href="../2427.rfc" class="arr">&lArr;</a></li><li><a accesskey="2" title="На страницу назад" href="6"><b>&larr;</b></a></li><li><a class="x" href="../2427.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a href="3">3</a></li><li><a href="4">4</a></li><li><a href="5">5</a></li><li><a href="6">6</a></li><li class="this"><span>7</span></li><li><a href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a accesskey="3" title="На страницу вперед" href="8">&rarr;</a></li><li><a accesskey="4" title="Последняя страница" href="18">&rArr;</a></li></ul></div><div id="text" itemprop="articleBody"><h3>4.2. Кадры, передаваемые через мосты</h3><p>Вторым типом трафика Frame Relay являются пакеты, передаваемые с использованием мостов (bridged packet). Такие пакеты инкапсулируются с использованием NLPID=0x80 (указывает наличие SNAP). Как и с другими протоколами, использующими SNAP-инкапсулцию, может добавляться один октет заполнения для выравнивания границы данных инкапсулированного кадра. Заголовок SNAP, который следует после NLPID, идентифицирует формат пакета, передаваемого с использованием мостов. Значение OUI, используемое для такой инкапсуляции, является кодом комитета IEEE 802.1 и имеет значение 0x00-80-C2. PID-часть заголовка SNAP (два байта вслед за OUI) указывает формат заголовка MAC, который следует сразу после заголовка SNAP. Кроме того, PID показывает наличие исходной контрольной суммы FCS в bridged-кадре.</p><p>Следуя практике RFC 1638, будем использовать неканонические MAC-адреса получателей для инкапсуляции кадров IEEE 802.5 и FDDI; канонические MAC-адреса получателей будут использоваться для инкапсуляции иных кадров, рассматриваемых в данном параграфе.</p><p>Комитет IEEE 802.1 зарезервировал для использования с Frame Relay следующие значения:</p><table class="c"><tr><td colspan="2">Значения PID для OUI 0x00-80-C2</td><td rowspan="2">Среда</td></tr><tr><td>С сохранением FCS</td><td>Без сохранения FCS</td></tr><tr><td>0x00-01</td><td>0x00-07</td><td>802.3/Ethernet</td></tr><tr><td>0x00-02</td><td>0x00-08</td><td>802.4</td></tr><tr><td>0x00-03</td><td>0x00-09</td><td>802.5</td></tr><tr><td>0x00-04</td><td>0x00-0A</td><td>FDDI</td></tr><tr><td></td><td>0x00-0B</td><td>802.6</td></tr></table><p>Кроме того,  при OUI=0x00-80-C2  указывает на модуль данных BPDU (Bridge Protocol Data Unit), как определено в стандарте 802.1d или 802.1g [12], а значение PID=0x00-0F идентифицирует Source Routing BPDU.</p><p>Пакеты, передаваемые с использованием мостов через сеть Frame Relay, будут, следовательно, иметь один из следующих форматов:</p><pre>         Формат кадров
     Bridged Ethernet/802.3

+-------------------------------+
|         Адрес Q.922           |
+---------------+---------------+
| Control  0x03 | pad     0x00  |
+---------------+---------------+
| NLPID    0x80 | OUI     0x00  |
+---------------+             --+
|        OUI     0x80-C2        |
+-------------------------------+
|    PID 0x00-01 or 0x00-07     |
+-------------------------------+
|     MAC-адрес получателя      |
:                               :
|                               |
+-------------------------------+
|      (остаток кадра MAC)      |
+-------------------------------+
|  LAN FCS (если PID 0x00-01)   |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre><pre>  Формат кадров Bridged 802.4

+-------------------------------+
|         Адрес Q.922           |
+---------------+---------------+
| Control  0x03 | pad     0x00  |
+---------------+---------------+
| NLPID    0x80 | OUI     0x00  |
+---------------+             --+
|        OUI     0x80-C2        |
+-------------------------------+
|    PID 0x00-02 or 0x00-08     |
+---------------+---------------+
| pad      0x00 | Frame Control |
+---------------+---------------+
|     MAC-адрес получателя      |
:                               :
|                               |
+-------------------------------+
|      (остаток кадра MAC)      |
+-------------------------------+
|  LAN FCS (если PID 0x00-02)   |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre><pre>  Формат кадров Bridged 802.5

+-------------------------------+
|         Адрес Q.922           |
+---------------+---------------+
| Control  0x03 | pad     0x00  |
+---------------+---------------+
| NLPID    0x80 | OUI     0x00  |
+---------------+             --+
|        OUI     0x80-C2        |
+-------------------------------+
|    PID 0x00-03 or 0x00-09     |
+---------------+---------------+
| pad      0x00 | Frame Control |
+---------------+---------------+
|     MAC-адрес получателя      |
:                               :
|                               |
+-------------------------------+
|      (остаток кадра MAC)      |
+-------------------------------+
|  LAN FCS (если PID 0x00-03)   |
|                               |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre><pre>Формат кадров Bridged FDDI

+-------------------------------+
|         Адрес Q.922           |
+---------------+---------------+
| Control  0x03 | pad     0x00  |
+---------------+---------------+
| NLPID    0x80 | OUI     0x00  |
+---------------+             --+
|        OUI     0x80-C2        |
+-------------------------------+
|    PID 0x00-04 or 0x00-0A     |
+---------------+---------------+
| pad      0x00 | Frame Control |
+---------------+---------------+
|     MAC-адрес получателя      |
:                               :
|                               |
+-------------------------------+
|      (остаток кадра MAC)      |
+-------------------------------+
|  LAN FCS (если PID 0x00-04)   |
|                               |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre><pre>  Формат кадров Bridged 802.6 

+-------------------------------+
|         Адрес Q.922           |
+---------------+---------------+
| Control  0x03 | pad     0x00  |
+---------------+---------------+
| NLPID    0x80 | OUI     0x00  |
+---------------+             --+
|        OUI     0x80-C2        |
+-------------------------------+
|        PID     0x00-0B        |
+---------------+---------------+ -------
|    Резерв     |     BEtag     |  Заголовок
+---------------+---------------+  Common
|            BAsize             |  PDU
+-------------------------------+ -------
|     MAC-адрес получателя      |
:                               :
|                               |
+-------------------------------+
|      (остаток кадра MAC)      |
+-------------------------------+
|                               |
+-     Трейлер Common PDU      -+
|                               |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre><p class="note">Отметим, что для PDU мостов 802.6 возможно только одно значение PID, поскольку наличие контрольной суммы CRC-32 указывается битом CIB в заголовке кадра MAC.</p><p>Заголовок и трейлер общего модуля данных протокола CPDU (Common Protocol Data Unit) перемещаются для того, чтобы разрешить конвейерную обработку на выходном мосту в подсеть 802.6. В частности, заголовок CPDU содержит поле BAsize, указывающее длину PDU. Если это поле недоступно для выходного моста 802.6, этот мост не сможет начать передачу сегментированного PDU до тех пор, пока не будет получен PDU целиком, рассчитан размер и значение размера помещено в поле BAsize. Если это поле доступно, выходной мост 802.6 может определить размер по значению поля BAsize в заголовке Common PDU, вставить это значение в соответствующее поле первого сегмента и незамедлительно передать пакет в подсеть 802.6. Таким образом, мост может начать передачу 802.6 PDU до того, как PDU будет принят полностью.</p><p>Однако, следует отметить, что заголовок и трейлер Common PDU инкапсулированного кадра не должны просто копироваться в адресуемую подсеть 802.6, поскольку инкапсулированное значение BEtag может конфликтовать с предыдущим значением BEtag, переданным этим мостом.</p><pre>       Формат кадров BPDU

+-------------------------------+
|         Адрес Q.922           |
+-------------------------------+
|        Control   0x03         |
+-------------------------------+
|          PAD     0x00         |
+-------------------------------+
|         NLPID    0x80         |
+-------------------------------+
|        OUI 0x00-80-C2         |
+-------------------------------+
|          PID 0x00-0E          |
+-------------------------------+
|                               |
|     BPDU в соответствии с     |
|    802.1(d) или 802.1(g)[12]  |
|                               |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre><pre>Формат кадров Source Routing BPDU

+-------------------------------+
|         Адрес Q.922           |
+-------------------------------+
|        Control   0x03         |
+-------------------------------+
|          PAD     0x00         |
+-------------------------------+
|         NLPID    0x80         |
+-------------------------------+
|        OUI 0x00-80-C2         |
+-------------------------------+
|          PID 0x00-0F          |
+-------------------------------+
|                               |
|      Source Routing BPDU      |
|                               |
|                               |
+-------------------------------+
|              FCS              |
+-------------------------------+</pre></div></div><noindex><div class="pages"><p class="r"> <b>Страница 7 из 18</b></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a title="Первая страница" href="../2427.rfc" class="arr">&lArr;</a></li><li><a title="На страницу назад" href="6"><b>&larr;</b></a></li><li><a class="x" href="../2427.rfc">1</a></li><li><a class="x" href="2">2</a></li><li><a href="3">3</a></li><li><a href="4">4</a></li><li><a href="5">5</a></li><li><a href="6">6</a></li><li class="this"><span>7</span></li><li><a href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a title="На страницу вперед" href="8">&rarr;</a></li><li><a title="Последняя страница" href="18">&rArr;</a></li></ul></div></noindex><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 2427 - Многопротокольные соединения через Frame Relay",disqus_identifier="2427.rfc",disqus_url="http://rfc2.ru/2427.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>