<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><link rel="canonical" href="../5292.rfc" /><meta name="Robots" content="noindex, nofollow" /><title>Перевод RFC 5292 — Основанный на префиксах маршрутов выходной фильтр для BGP-4</title><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../5292.rfc">RFC 5292 — Основанный на префиксах маршрутов выходной фильтр для BGP-4</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 5292</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">Address-Prefix-Based Outbound Route Filter for BGP-4</span></a></dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Предложенный стандарт</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2008-08-01">Август 2008</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">Enke Chen</span>, <span itemprop="author">Srihari R. Sangli</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div id="text" itemprop="articleBody"><h3>Статус документа</h3><p>В этом документе содержится проект стандарта протокола Internet для сообщества Internet и приглашение к дискуссии в целях развития и совершенствования. Текущее состояние стандартизации протокола и его статус можно узнать из документа "Internet Official Protocol Standards" (STD 1). Документ может распространяться свободно.</p><h3>Тезисы</h3><p>В этом документе определен новый тип выходного фильтра маршрутов (ORF, Outbound Router Filter) для протокола BGP, названный выходным фильтром по префиксам адресов, который может применяться для фильтрации маршрутов на выходе по префиксам адресов. Этот тип ORF поддерживает соответствия по размеру префикса или диапазону, соответствия шаблону префиксов, а также точного соответствия адресных префиксов для семейств адресов.</p><h2>1. Введение</h2><p>Возможность выходной фильтрации маршрутов, определенная в [BGP-ORF], обеспечивает узлам BGP возможность передать своим партнерам BGP набор фильтров ORF, которые могут использоваться этими партнерами для фильтрации маршрутных обновлений, передаваемых данному узлу.</p><p>В этом документе определен новый тип ORF для протокола BGP, названный "Выходным фильтром по адресным префиксам (ORF по адресным префиксам)", которым может использоваться для фильтрации маршрутов на основе адресных префиксов. Address Prefix ORF поддерживает проверку соответствия по размеру префикса, диапазону адресов, шаблону адресов и совпадению префикса для семейств адресов [BGP-MP].</p><h2>2. Address Prefix ORF-Type</h2><p>Address Prefix ORF-Type позволяет выражать фильтры ORF в терминах адресных префиксов. Т. е., данный тип обеспечивает фильтрацию маршрутов по префиксам адресов, включая проверку совпадения размеров префиксов, принадлежности к диапазону, а также соответствия шаблонам префиксов.</p><p>Концептуально элемент Address Prefix ORF состоит из полей &lt;Sequence, Match, Length, Prefix, Minlen, Maxlen&gt;.</p><p>Поле Sequence задает относительный порядок элемента среди других элементов Address Prefix ORF.</p><p>Поле Match задает действие при соответствии — PERMIT (разрешить, 0) или DENY (отвергнуть, 1).</p><p>Поле Length показывает размер адресного префикса в битах. Нулевое значение показывает префикс, которому соответствуют все (как указано в спецификации семейства адресов) адреса (сам префикс является пустым).</p><p>Поле Prefix содержит адресный префикс семейства адресов.</p><p>Поле Minlen указывает минимальный размер префикса (в битах), который требуется для соответствия. Нулевое значение говорит о том, что минимальный размер не задан.</p><p>Поле Maxlen указывает максимальный размер префикса (в битах), который требуется для соответствия. Нулевое значение говорит о том, что максимальный размер не задан.</p><p>Поля Sequence, Length, Minlen и Maxlen трактуются как целые числа без знака.</p><p>В этом документе вводятся следующие требования к значениям полей размера:</p><pre>0 &lt;= Length &lt; Minlen &lt;= Maxlen</pre><p>Однако проверки значений Minlen или Maxlen не выполняются, если значение соответствующего поля не задано (0).</p><p>Кроме того, значение поля Maxlen не может превышать максимальный размер (в битах) адреса хоста для данного семейства адресов [BGP-MP].</p><h2>3. Представление Address Prefix ORF</h2><p>Значение ORF-Type для Address Prefix ORF-Type равно 64.</p><p>Представление элемента Address Prefix ORF показано на рисунке 1. Поле Match элемента представляется в поле Match общей части [BGP-ORF], а остальные поля помещаются в специфическую для данного типа часть, как показано на рисунке 1.</p><pre>+--------------------------------+
|   Sequence (4 octets)          |
+--------------------------------+
|   Minlen   (1 octet)           |
+--------------------------------+
|   Maxlen   (1 octet)           |
+--------------------------------+
|   Length   (1 octet)           |
+--------------------------------+
|   Prefix   (variable length)   |
+--------------------------------+</pre><p class="note">Отметим, что поле Prefix дополняется справа (после значимых битов) для выравнивания по границе октета. Значение бита заполнения может быть любым.</p><h2>4. Соответствие Address Prefix ORF</h2><p>В дополнение к общим правилам соответствия, определенным в [BGP-ORF], для Address Prefix ORF вводятся рассмотренные ниже правила.</p><p>Рассмотрим элемент Address Prefix ORF и маршрут, поддерживаемый узлом BGP со значением NLRI в формате &lt;Prefix, Length&gt;.</p><p>Маршрут считается не соответствующим элементу ORF, если NLRI не является более специфичным и не совпадает со значениями полей &lt;Prefix, Length&gt; элемента ORF.</p><p>Если поле NLRI менее специфично или совпадает с полями &lt;Prefix, Length&gt; элемента ORF, маршрут считается соответствующим ORF, если NLRI соответствует условиям, приведенным в таблице 1:</p><table><tr><td colspan="2">Элемент ORF</td><td rowspan="2">Условие соответствия NLRI</td></tr><tr><td>Minlen</td><td>Maxlen</td></tr><tr><td>Не задан</td><td>Не задан</td><td>NLRI.length == ORF.length</td></tr><tr><td>Задан</td><td>Не задан</td><td>NLRI.length &gt;= ORF.Minlen</td></tr><tr><td>Не задан</td><td>Задан</td><td>NLRI.length &lt;= ORF.Maxlen</td></tr><tr><td>Задан</td><td>Задан</td><td>NLRI.length &gt;= ORF.Minlen и<br />NLRI.length &lt;= ORF.Maxlen</td></tr><tr class="nobrd"><td colspan="3">Таблица 1: Соответствие Address Prefix ORF</td></tr></table><p>При соответствии нескольких элементов Address Prefix ORF значению NLRI в маршруте, применяется первое правило. Т. е., элемент ORF с меньшим порядковым номером (из числа соответствующих элементов ORF) рассматривается единственный соответствующий и определяет судьбу анонсирования маршрута.</p><p>Распределение порядковых номеров элементов определяется локальной политикой узла BGP, передающего элементы Address Prefix ORF.</p><h2>5. Согласование с IANA</h2><p>Этот документ задает новый тип выходной фильтрации маршрутов (ORF) — Address Prefix ORF. Значение ORF-type для этого типа — 64.</p><h2>6. Вопросы безопасности</h2><p>Данное расширение BGP не отражается на вопросах безопасности, рассмотренных в [BGP-4].</p><h2>7. Нормативные документы</h2><table itemprop="references"><tr><td>[BGP-4]</td><td>Rekhter, Y., Ed., Li, T., Ed., и S. Hares, Ed., <a href="../4271.rfc" title="RFC 4271 - Протокол BGP-4">«Протокол BGP-4», RFC 4271</a>, Январь 2006</td></tr><tr><td>[BGP-MP]</td><td>Bates, T., Chandra, R., Katz, D., и Y. Rekhter, <a href="../4760.rfc" title="RFC 4760 - Многопротокольные расширения для BGP-4">«Многопротокольные расширения для BGP-4», RFC 4760</a>, Январь 2007</td></tr><tr><td>[BGP-ORF]</td><td>Chen, E., и Y. Rekhter, <a href="../5291.rfc" title="RFC 5291 - Возможность выходной фильтрации маршрутов для BGP-4">«Возможность выходной фильтрации маршрутов для BGP-4», RFC 5291</a>, Август 2008</td></tr></table><h2>Адреса авторов</h2><p>Enke Chen<br />Cisco Systems, Inc.<br />170 W. Tasman Dr.<br />San Jose, CA 95134<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#111;&#99;&#115;&#105;&#99;&#64;&#110;&#101;&#104;&#99;&#101;&#107;&#110;&#101;</bdo></p><p>Srihari R. Sangli<br />Cisco Systems, Inc.<br />170 W. Tasman Dr.<br />San Jose, CA 95134<br />EMail: <bdo dir="rtl">&#109;&#111;&#99;&#46;&#111;&#99;&#115;&#105;&#99;&#64;&#105;&#114;&#97;&#104;&#105;&#114;&#115;&#114;</bdo></p></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 5292 - Основанный на префиксах маршрутов выходной фильтр для BGP-4",disqus_identifier="5292.rfc",disqus_url="http://rfc2.ru/5292.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>