<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><link rel="canonical" href="../5065.rfc" /><meta name="Robots" content="noindex, nofollow" /><title>Перевод RFC 5065 — Конфедерации автономных систем в BGP</title><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../5065.rfc">RFC 5065 — Конфедерации автономных систем в BGP</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 5065</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank"><span itemprop="alternativeHeadline">Autonomous System Confederations for BGP</span></a></dd><dd><div class="icon i7"></div> Предыдущие версии: RFC 1965, RFC 3065</dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Проект стандарта</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2007-08-02">Август 2007</time></dd><dd><div class="icon i5"></div> Авторы: <span itemprop="author">P. Traina</span>, <span itemprop="author">D. McPherson</span>, <span itemprop="author">J. Scudder</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Николай Малых</span></dd></dl><div id="text" itemprop="articleBody"><h3>Статус документа</h3><p>В этом документе содержится спецификация протокола, предложенного сообществу Internet. Документ служит приглашением к дискуссии в целях развития и совершенствования протокола. Текущее состояние стандартизации протокола вы можете узнать из документа «Internet Official Protocol Standards» (STD 1). Документ может распространяться без ограничений.</p><h3>Тезисы</h3><p>Протокол BGP (Border Gateway Protocol) представляет собой протокол маршрутизации между автономными системами, разработанный для сетей TCP/IP (Transmission Control Protocol/Internet Protocol). BGP требует, чтобы все узлы BGP в одной автономной системе (АС) были связаны между собой (fully meshed — «каждый с каждым»). Это требование порождает серьезные проблемы масштабирования, отмеченные в многочисленных документах.</p><p>Данный документ описывает расширение BGP, которое может использоваться для создания конфедерации автономных систем, представляющейся как единая АС для узлов BGP, не входящих в данную конфедерацию. Это позволяет решить проблему «полносвязности». Смысл этого расширения протокола состоит в обеспечении дополнительных возможностей управления политикой и упрощения поддержки больших автономных систем.</p><p>Данный документ отменяет RFC 3065.</p><h2>Оглавление</h2><ul class="map"><li><a href="print#p1">1. Введение</a></li><li class="lia"><a href="print#p1.1">1.1. Спецификация требований</a></li><li class="lia"><a href="print#p1.2">1.2. Терминология</a></li><li><a href="print#p2">2. Обсуждение</a></li><li><a href="print#p3">3. Расширение AS_CONFED для типа сегмента</a></li><li><a href="print#p4">4. Принцип работы</a></li><li class="lia"><a href="print#p4.1">4.1. Правила изменения AS_PATH</a></li><li><a href="print#p5">5. Обработка ошибок</a></li><li class="lia"><a href="print#p5.1">5.1. Общие вопросы администрирования</a></li><li class="lia"><a href="print#p5.2">5.2. Обработка MED и LOCAL_PREF</a></li><li class="lia"><a href="print#p5.3">5.3. AS_PATH и выбор пути</a></li><li><a href="print#p6">6. Вопросы совместимости</a></li><li><a href="print#p7">7. Развертывание конфедераций</a></li><li><a href="print#p8">8. Вопросы безопасности</a></li><li><a href="print#p9">9. Благодарности</a></li><li><a href="print#p10">10. Литература</a></li><li class="lia"><a href="print#p10.1">10.1. Нормативные документы</a></li><li class="lia"><a href="print#p10.2">10.2. Дополнительная литература</a></li><li><a href="print#p.appendix.a">Приложение A. Агрегирование маршрутной информации</a></li><li><a href="print#p.appendix.b">Приложение B. Отличия от RFC 3065</a></li></ul><h2 id="p1">1. Введение</h2><p>В соответствии со спецификацией протокол BGP требует<sup><abbr title="В спецификации протокола это требование не выражено явно, однако оно логически следует из принципов работы протокола в рамках одной АС. Прим. перев.">[?]</abbr></sup>, чтобы каждый узел BGP в АС имел соединения со всеми другими узлами BGP в этой автономной системе (fully meshed). Результатом этого является необходимость поддержки каждым узлом BGP (в автономной системе с числом узлов n) n*(n-1)/2 уникальных сессий IBGP (Internal BGP — внутренний, по отношению к АС, протокол BGP). Это требование «полносвязности» создает проблемы масштабирования для АС с большим числом узлов IBGP, обычным для многих современных сетей.</p><p>Эта проблема масштабирования описана во множестве документов и существует целый ряд предложений по ослаблению проблемы [RFC2796, RFC1863<abbr title="RFC 4223 перевел этот документ в состояние historic (достояние истории).">[?]</abbr>]. В этом документе предлагается дополнительный способ ослабления проблемы полносвязности, известный как «Autonomous System Confederations for BGP» (конфедерации автономных систем для BGP) или просто «BGP Confederations» (BGP-конфедерации). Можно также сказать, что конфедерации BGP могут повышать эффективность управления политикой маршрутизации.</p><p>Этот документ является пересмотром [RFC3065], который, в свою очередь пересматривает и отменяет [RFC1965]. Документ включает редакторские правки, разъяснения терминов и более явные спецификации протокола, основанные на опыте развертывания конфедераций BGP.</p><h3 id="p1.1">1.1. Спецификация требований</h3><p>Ключевые слова необходимо (MUST), недопустимо (MUST NOT), требуется (REQUIRED), нужно (SHALL), не нужно (SHALL NOT), следует (SHOULD), не следует (SHOULD NOT), рекомендуется (RECOMMENDED), возможно (MAY), необязательно (OPTIONAL) в данном документе должны интерпретироваться в соответствии с [RFC2119].</p><h3 id="p1.2">1.2. Терминология</h3><ul class="list"><li class="b"><p>AS Confederation — конфедерация АС</p></li><li class="lib"><p>Группа автономных систем, анонсируемых с общим номером AS узлам BGP, не входящим в данную конфедерацию.</p></li><li class="b"><p>AS Confederation Identifier — идентификатор конфедерации АС</p></li><li class="lib"><p>Видимый снаружи номер автономной системы, идентифицирующий конфедерацию в целом.</p></li><li class="b"><p>Member Autonomous System (Member-AS) — АС-член конфедерации</p></li><li class="lib"><p>Автономная система, включенная в данную конфедерацию AS. Отметим, что термины «Member Autonomous System» и «Member-AS» в данном документе используются как синонимы.</p></li><li class="b"><p>Member-AS Number — номер АС-члена конфедерации</p></li><li class="lib"><p>Номер автономной системы, видимый только членам данной конфедерации BGP и используемый для представления Member-AS внутри конфедерации.</p></li></ul><h2 id="p2">2. Обсуждение</h2><p>Может оказаться полезным деление автономных систем с большим числом узлов BGP на более мелкие домены в целях управления политикой маршрутизации с помощью данных, содержащихся в атрибуте BGP AS_PATH. Например, можно рассматривать все узлы BGP в неком географическом регионе, как единый объект.</p><p>Кроме потенциального повышения уровня контроля за политикой маршрутизации (если не используются методы типа описанного здесь или в [RFC4456]) спецификация [BGP-4] требует, чтобы все узлы BGP одной автономной системы организовали полносвязную (full mesh) систему соединений TCP со всеми другими узлами для обмена внешней маршрутной информацией. В автономных системах число внутридоменных соединений, которые должен поддерживать каждый граничный маршрутизатор, может становиться весьма значительным.</p><p>Деление большой автономной системы на части позволяет существенно снизить число внутридоменных соединений BGP, поскольку в этом случае требования связности упрощаются до уровня модели, используемой для междоменных соединений.</p><p>К сожалению деление автономной системы на части может увеличить сложность реализации политики маршрутизации на основе данных из атрибутов AS_PATH для всех членов Internet. Кроме того, это деление увеличит издержки на управление и координацию внешних партнерских связей при изменении внутренней топологии этого множества автономных систем.</p><p>Следовательно, деление автономной системы на отдельные фрагменты может оказать существенное влияние на уровень оптимальности маршрутизации пакетов через Internet.</p><p>Однако обычно не возникает необходимости в раскрытии внутренней топологии таких поделенных на части автономных систем и это означает, что возможно представление множества автономных систем с единым администрированием как единого объекта или АС с точки зрения находящихся за пределами данной конфедерации автономных систем.</p><h2 id="p3">3. Расширение AS_CONFED для типа сегмента</h2><p>В действующей спецификации BGP сказано, что атрибут AS_PATH является общеизвестным обязательным атрибутом, состоящим из последовательности сегментов пути (AS path segment). Каждый сегмент пути представляется триплетом &lt;path segment type, path segment length, path segment value&gt;.</p><p>В [BGP-4] тип сегмента пути задается однооктетным полем, для которого определены следующие значения:</p><table><tr><th>Значение</th><th>Имя</th><th>Описание</th></tr><tr><td>1</td><td>AS_SET</td><td>Неупорядоченный набор АС, через которые проходит маршрут из сообщения UPDATE.</td></tr><tr><td>2</td><td>AS_SEQUENCE</td><td>Упорядоченный набор АС, через которые проходит маршрут из сообщения UPDATE.</td></tr></table><p>В настоящем документе определены два дополнительных типа сегментов пути:</p><table><tr><th>Значение</th><th>Имя</th><th>Описание</th></tr><tr><td>3</td><td>AS_CONFED_SEQUENCE</td><td>Упорядоченный набор номеров Member AS в локальной конфедерации, через которые передается сообщение UPDATE.</td></tr><tr><td>4</td><td>AS_CONFED_SET</td><td>Неупорядоченный набор номеров Member AS в локальной конфедерации, через которые передается сообщение UPDATE.</td></tr></table><h2 id="p4">4. Принцип работы</h2><p>Член конфедерации BGP должен использовать свое значение AS Confederation ID во всех транзакциях с партнерами, которые не являются членами данной конфедерации. Этот идентификатор конфедерации рассматривается как видимый извне номер AS, который используется в сообщениях OPEN и анонсируется в атрибуте AS_PATH.</p><p>Член конфедерации BGP должен использовать свое значение Member-AS Number во всех транзакциях с партнерами, входящими в данную конфедерацию.</p><p>Узлу BGP, получившему атрибут AS_PATH с номером автономной системы, соответствующим идентификатору его конфедерации, следует трактовать путь так же, как это делается для путей, содержащих номер AS данного узла.</p><p>Узлу BGP, получившему атрибут AS_PATH с сегментами AS_CONFED_SEQUENCE или AS_CONFED_SET, содержащими его Member-AS Number, следует трактовать путь так же, как это делается для путей, содержащих номер AS данного узла.</p><h3 id="p4.1">4.1. Правила изменения AS_PATH</h3><p>При реализации конфедераций BGP параграф 5.1.2 документа [BGP-4] заменяется приведенным ниже текстом.</p><p>AS_PATH представляет собой общеизвестный обязательный атрибут. Этот атрибут идентифицирует автономные системы, через которые передается маршрутная информация в данном сообщении UPDATE. Компонентами этого списка могут быть AS_SET, AS_SEQUENCE, AS_CONFED_SET и AS_CONFED_SEQUENCE.</p><p>Когда узел BGP распространяет маршрут, который был получен в сообщении UPDATE от другого узла BGP, он изменяет атрибут AS_PATH с учетом размещения узла BGP, которому передается маршрут:</p><ol class="lat lia"><li><p>Когда данный узел BGP анонсирует маршрут другому узлу BGP, расположенному в его Member-AS, анонсирующему узлу не следует изменять связанный с этим маршрутом атрибут AS_PATH.</p></li><li><p>Когда данный узел BGP анонсирует маршрут узлу BGP, расположенному в соседней автономной системе, являющейся членом локальной конфедерации, анонсирующему узлу следует изменить атрибут AS_PATH как показано ниже.</p><ol class="dec lia"><li><p>Если первый сегмент AS_PATH имеет тип AS_CONFED_SEQUENCE, локальной системе следует поместить свой номер Member-AS, как последний элемент списка (в крайнюю левую позицию протокольного сообщения). Если при этом будет возникать переполнение сегмента AS_PATH (более 255 номеров АС), узлу следует добавить (prepend) новый сегмент типа AS_CONFED_SEQUENCE и поместить свой номер АС в этот сегмент.</p></li><li><p>Если первый сегмент AS_PATH имеет тип, отличный от AS_CONFED_SEQUENCE, локальная система помещает (prepend) новый сегмент типа AS_CONFED_SEQUENCE в путь AS_PATH, включив свой номер Member-AS в этот сегмент.</p></li><li><p>Если значение AS_PATH пусто, локальная система создает сегмент пути типа AS_CONFED_SEQUENCE, включает в него свой номер Member-AS и помещает этот сегмент в AS_PATH.</p></li></ol></li><li><p>Когда данный узел BGP анонсирует маршрут узлу BGP, расположенному в соседней автономной системе, которая не входит в локальную конфедерацию, анонсирующему узлу следует изменить атрибут AS_PATH как показано ниже.</p><ol class="dec lia"><li><p>Если любые сегменты AS_PATH имеет тип AS_CONFED_SEQUENCE или AS_CONFED_SET, эти сегменты должны удаляться из атрибута AS_PATH и после этого для атрибута выполняется этап 2, 3 или 4 (см. ниже).</p></li><li><p>Если первый оставшийся сегмент AS_PATH имеет тип AS_SEQUENCE, локальная система добавляет (prepend) свой идентификатор конфедерации (AS Confederation Identifier) в качестве последнего элемента последовательности (в крайнюю левую позицию протокольного сообщения). Если при этом будет возникать переполнение сегмента AS_PATH (более 255 номеров АС), узлу следует добавить (prepend) новый сегмент типа AS_SEQUENCE и поместить свой номер АС в этот сегмент.</p></li><li><p>Если первый сегмент оставшейся части AS_PATH имеет тип AS_SET, локальная система добавляет (prepend) в AS_PATH новый сегмент типа AS_SET, включая в него свой идентификатор конфедерации.</p></li><li><p>Если оставшаяся часть AS_PATH пуста, локальная система создает сегмент пути типа AS_SEQUENCE, включает в него свой идентификатор конфедерации и помещает этот сегмент в AS_PATH.</p></li></ol></li></ol><p>Когда узел BGP является источником маршрута, этот узел:</p><ol class="lat lia"><li><p>включает свой идентификатор конфедерации АС в сегмент пути типа AS_SEQUENCE атрибутов AS_PATH во все сообщения UPDATE, передаваемые узлам BGP в соседних АС, не являющихся членами локальной конфедерации;</p><p>в этом случае идентификатор конфедерации автономной системы источника маршрута будет единственной записью в сегменте пути, а этот сегмент будет единственным в атрибуте AS_PATH;</p></li><li><p>включает ской номер Member-AS в сегмент пути типа AS_CONFED_SEQUENCE атрибутов AS_PATH всех сообщений UPDATE, передаваемых узлам BGP в соседних AS, являющихся членами локальной конфедерации;</p><p>в этом случае Member-AS Number автономной системы источника маршрута будет единственной записью в сегменте пути, а этот сегмент будет единственным в атрибуте AS_PATH;</p></li><li><p>включает номер пустой атрибут AS_PATH во все сообщения UPDATE, передаваемые узлам BGP в той Member-AS (пустой атрибут AS_PATH содержит нулевое значение в поле размера).</p></li></ol><p>Локальная система может включать/добавлять в начало более одного экземпляра идентификатора конфедерации или номера Member-AS в атрибут AS_PATH. Количесвто экземпляров задается локальной конфигурацией.</p><h2 id="p5">5. Обработка ошибок</h2><p>Для узла BGP недопустимо передавать обновления, содержащие атрибуты AS_CONFED_SET или AS_CONFED_SEQUENCE партнерам, которые не входят в локальную конфедерацию.</p><p>Получение узлом BGP сообщения UPDATE с атрибутом AS_PATH, включающим сегменты AS_CONFED_SEQUENCE или AS_CONFED_SET от соседа, не относящегося к той же конфедерации, является ошибкой. Если узел BGP получает такое сообщение UPDATE, ему следует трактовать его, как сообщение с некорректным атрибутом AS_PATH в соответствии с процедурами [BGP-4] (параграф 6.3 «Обработка ошибок в сообщениях UPDATE»).</p><p>Ошибкой является получение узлом BGP обновления от партнера по конфедерации, не относящегося к той же Member-AS, в котором нет AS_CONFED_SEQUENCE в качестве первого сегмента. Если узел BGP получает такое сообщения UPDATE, ему следует трактовать его, как сообщение с некорректным атрибутом AS_PATH в соответствии с процедурами [BGP-4] (параграф 6.3 «Обработка ошибок в сообщениях UPDATE»).</p><h3 id="p5.1">5.1. Общие вопросы администрирования</h3><p>Для АС, являющихся членами конфедерации, разумно в рамках конфедерации использовать единое администрирование и информацию IGP (Interior Gateway Protocol — протокол внутренней маршрутизации). Разумно также для каждой Member-AS использовать независимый протокол IGP. В последнем случае может потребоваться установка NEXT_HOP с использованием политики (по умолячанию это значение не меняется).</p><h3 id="p5.2">5.2. Обработка MED и LOCAL_PREF</h3><p>Узлам BGP следует разрешить анонсирование без изменения атрибутов NEXT_HOP и MULTI_EXIT_DISC (MED) партнерам из соседних Member-AS, входящих в ту же конфедерацию.</p><p>Значения MED двух маршрутов следует сравнивать только в случаях совпадения первой АС в первом сегменте AS_SEQUENCE обоих маршрутов (т. е., все АС в AS_CONFED_SET и AS_CONFED_SEQUENCE пропускаются). Реализация может обеспечивать возможность настройки выбора пути таким образом, чтобы значения MED двух маршрутов были сравнимы, если первые АС в атрибутах AS_PATH совпадают, независимо от сегментов AS_SEQUENCE или AS_CONFED_SEQUENCE в AS_PATH.</p><p>Реализация может сравнивать значения MED, полученные из Member-AS через множество путей. Реализация может сравнивать значения MED из различных АС, относящихся к одной конфедерации.</p><p>В дополнение к этому отменяется ограничение на передачу атрибута LOCAL_PREF партнерам из соседних AS своей конфедерации.</p><h3 id="p5.3">5.3. AS_PATH и выбор пути</h3><p>Критерии выбора пути для информации, полученной от членов конфедерации, должны следовать тем же правилам, которые используются для информации, полученной от партнеров в своей АС, как задано в [BGP-4].</p><p>В дополнение к этому следует применять перечисленные ниже правила:</p><ol class="lia"><li><p>если AS_PATH является внутренним по отношению к локальной конфедерации (т. е., содержит только сегменты AS_CONFED_*), соседняя АС рассматривается, как локальная АС;</p></li><li><p>в остальных случаях, если первый сегмент пути не относится к типу AS_CONFED_SEQUENCE или AS_CONFED_SET является AS_SEQUENCE, соседняя АС рассматривается, как самая левая в списке AS_SEQUENCE;</p></li><li><p>при сравнении маршрутов по длине AS_PATH сегменты CONFED_SEQUENCE и CONFED_SET не следует учитывать;</p></li><li><p>при сравнении маршрутов с использованием внутренних (полученных от IBGP) и внешних (от EBGP) данных, маршрут, полученный от партнера в той же конфедерации (не обязательно в той же Member-AS), трактуется как «внутренний».</p></li></ol><h2 id="p6">6. Вопросы совместимости</h2><p>Все включенные в конфедерацию узлы BGP должны распознавать расширения типа сегмента AS_CONFED_SET и AS_CONFED_SEQUENCE в атрибутах AS_PATH.</p><p>Любой узел BGP, не поддерживающий эти расширения, будет генерировать сообщение NOTIFICATION с кодом ошибки «UPDATE Message Error» и субкодом «Malformed AS_PATH».</p><p>Перечисленные выше проблемы совместимости требуют от всех включаемых в конфедерацию узлов BGP поддержки данного расширения (BGP confederations). Однако от узлов BGP за пределами конфедерации такой поддержки не требуется.</p><h2 id="p7">7. Развертывание конфедераций</h2><p>Конфедерации BGP широко распространены в сети Internet уже много лет и поддерживаются множеством производителей.</p><p>Некорректная настройка конфедерации BGP может приводить к ненужному дублированию маршрутной информации внутри AS. Такое дублирование будет отнимать системные ресурсы, приводить к ненужным переключениям маршрутов (flap) и увеличивать задержку схождения (convergence).</p><p>Следует принять меры по фильтрации вручную дубликатов анонсов, вызванных прохождением информации о доступности через множество включенных в конфедерацию автономных систем, обусловленным топологией конфедерации и требованиями по резервированию соединений.</p><p>В [RFC3345] показано, что конфедерации (как и рефлекторы маршрутов), исключая из рассмотрения информацию о доступности в различных точках конфедерации, могут вызывать постоянные осцилляции между маршрутами-кандидатами при использовании правил «развязывания узлов» (tie breaking), требуемых спецификацией [BGP-4]. Следует с осторожностью относиться к выбору значений MED и правилам tie breaking для предотвращения проблем.</p><p>Одним из способов предотвращения проблем является установка для метрики inter-Member-AS IGP (протокол внутренней маршрутизации между членами конфедерации) значения большего, нежели для метрики intra-Member-AS IGP, и/или использование иных правил tie breaking для предотвращения выбора маршрутов BGP на основе несравнимых MED.</p><h2 id="p8">8. Вопросы безопасности</h2><p>Это расширение не оказывает влияния на вопросы безопасности протокола BGP, рассмотренные в [RFC2385] и [BGP-VULN].</p><h2 id="p9">9. Благодарности</h2><p>Общая концепция конфедераций BGP была заимствована из Routing Domain Confederations для IDRP [ISO10747]. Часть вводного текста этого документа была заимствована из [RFC2796].</p><p>Авторы выражают свою признательность Jeffrey Haas за многочисленные отзывы. Мы также благодарим Bruce Cole, Srihari Ramachandra, Alex Zinin, Naresh Kumar Paliwal, Jeffrey Haas, Cengiz Alaettinoglu, Mike Hollyman и Bruno Rijsman за их отзывы и предложения.</p><p>Авторы также выражают свою признательность Ravi Chandra и Yakov Rekhter за конструктивные и полезные замечания в процессе работы с ранними версиями этого документа.</p><h2 id="p10">10. Литература</h2><h3 id="p10.1">10.1. Нормативные документы</h3><table itemprop="references"><tr><td>[BGP-4]</td><td>Rekhter, Y., Ed., Li, T., Ed., и S. Hares, Ed., «<a href="../4271.rfc" title="RFC 4271 — Протокол BGP-4">Протокол BGP-4</a>», RFC 4271, Январь 2006.</td></tr><tr><td>[RFC1965]</td><td>Traina, P., «Autonomous System Confederations for BGP», RFC 1965, Июнь 1996.</td></tr><tr><td>[RFC2119]</td><td>Bradner, S., <a href="../2119.rfc" title="RFC 2119 — Ключевые слова для обозначения уровня требований в RFC">«Ключевые слова для обозначения уровня требований в RFC», RFC 2119</a>, BCP 14, Март 1997.</td></tr><tr><td>[RFC3065]</td><td>Traina, P., McPherson, D., and J. Scudder, «Autonomous System Confederations for BGP», RFC 3065, Февраль 2001.</td></tr></table><h3 id="p10.2">10.2. Дополнительная литература</h3><table itemprop="references"><tr><td>[ISO10747]</td><td>Kunzinger, C., Editor, «Inter-Domain Routing Protocol», ISO/IEC 10747, October 1993.</td></tr><tr><td>[RFC1863]</td><td>Haskin, D., «A BGP/IDRP Route Server alternative to a full mesh routing», RFC 1863, October 1995.</td></tr><tr><td>[RFC2385]</td><td>Heffernan, A., «Protection of BGP Sessions via the TCP MD5 Signature Option», RFC 2385, Август 1998.</td></tr><tr><td>[RFC3345]</td><td>McPherson, D., Gill, V., Walton, D., and A. Retana, «Border Gateway Protocol (BGP) Persistent Route Oscillation Condition», RFC 3345, Август 2002.</td></tr><tr><td>[RFC4223]</td><td>Savola, P., «Reclassification of RFC 1863 to Historic», RFC 4223, Октябрь 2005.</td></tr><tr><td>[RFC4272]</td><td>Murphy, S., <a href="../4272.rfc" title="RFC 4272 — Анализ уязвимостей протокола BGP">«Анализ уязвимостей протокола BGP», RFC 4272</a>, Январь 2006.</td></tr><tr><td>[RFC4456]</td><td>Bates, T., Chen, E., и R. Chandra, <a href="../4456.rfc" title="RFC 4456 — BGP Route Reflection - альтернатива полносвязности IBGP">«BGP Route Reflection — альтернатива полносвязности IBGP», RFC 4456</a>, Апрель 2006.</td></tr></table><h2 id="p.appendix.a">Приложение A. Агрегирование маршрутной информации</h2><p>Как практическая задача, агрегирование, рассмотренное в [BGP-4] (параграф 9.2.2.2), в общем случае нечасто используется с конфедерациями. Однако при использовании такого агрегирования в конфедерации, следует выполнять правила [BGP-4] с заменой AS_SET на AS_CONFED_SET и AS_SEQUENCE на AS_CONFED_SEQUENCE. Относящиеся к конфедерациям сегменты (AS_CONFED_SET и AS_CONFED_SEQUENCE) должны сохраняться отдельно от не связанных с конфедерациями сегментов (AS_SET и AS_SEQUENCE). Реализация может также выюрать форму агрегирования, при которой не связанные с конфедерациями сегменты агрегируются в соответствии с [BGP-4] (параграф 9.2.2.2), а относящиеся к конфедерациям сегменты не агрегируются.</p><p>Поддержка агрегирования для связанных с конфедерациями сегментов не является обязательной.</p><h2 id="p.appendix.b">Приложение B. Отличия от RFC 3065</h2><p>Основной причиной обновления RFC 3065 послужили вопросы, связанные с обработкой сегментов пути, — в частности, взаимодействие с внешними по отношению к конфедерации партнерами BGP и предотвращение анонсирования сегментов типа AS_CONFED_[SET|SEQUENCE] за пределы конфедерации.</p><p>В связи с этим был добавлен раздел 5. Обработка ошибок, относящийся ко всем узлам BGP, а не только к членам конфедерации.</p><p>К числу других изменений относятся некоторое разъяснение и уточнение терминологии и указание того, что обработку сегментов типа AS_CONFED_[SET|SEQUENCE] следует выполнять в соответствии с базовой спецификацией [BGP-4].</p></div></div><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 5065 - Конфедерации автономных систем в BGP",disqus_identifier="5065.rfc",disqus_url="http://rfc2.ru/5065.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true, ut:"noindex"}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559?ut=noindex" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>