<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../tpl/style.css@f4e332aa" type="text/css" /><link rel="prev" href="5" /><link rel="next" href="7" /><link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' /><style type="text/css">h1,h2,h3,h4{font-family:'Open Sans',sans-serif}</style><title>Перевод RFC 4533 — Lightweight Directory Access Protocol (LDAP): Операция синхронизации содержимого каталога, стр. 6</title><meta name="author" content="K. Zeilenga" /><link rel="alternate" type="application/rss+xml" title="RFC2.ru - Русские Переводы RFC" href="../rss.xml"></head><body><div id="content"><div id="nav"><div class="icon i0"></div> <a href="../index.html" accesskey="`">На Главную</a></div><div id="search" class="ya-site-form ya-site-form_inited_no"><form action="http://yandex.ru/sitesearch" method="get" target="_blank"><input type="hidden" name="searchid" value="2154295"/><input type="hidden" name="l10n" value="ru"/><input type="hidden" name="reqenc" value=""/><input type="hidden" name="submit" value="Найти"/><input type="search" value="" name="text" placeholder="Поиск по RFC2.ru" /></form></div><div itemscope itemtype="http://schema.org/ScholarlyArticle"><meta itemprop="inLanguage" content="ru" /><meta itemprop="editor" content="ru" /><div id="header"><h1><a itemprop="headline" href="../4533.rfc">RFC 4533 — Lightweight Directory Access Protocol (LDAP): Операция синхронизации содержимого каталога</a></h1></div><dl class="mute"><dt></dt><dd><div class="icon i1"></div> RFC: 4533</dd><dd><div class="icon i3"></div> Оригинал: <a href="original" target="_blank" rel="nofollow"><span itemprop="alternativeHeadline">The Lightweight Directory Access Protocol (LDAP) Content Synchronization Operatio</span></a></dd><dd><div class="icon i2"></div> Категория: <span itemprop="articleSection">Экспериментальный</span></dd><dd><div class="icon i4"></div> Дата публикации: <time itemprop="datePublished" datetime="2006-06-03">Июнь 2006</time></dd><dd><div class="icon i5"></div> Автор: <span itemprop="author">K. Zeilenga</span></dd><dd><div class="icon i6"></div> Перевод: <span itemprop="editor">Pro-LDAP.ru</span></dd></dl><div class="pages"><p class="r"> <h2 class="pt"><span class="z">RFC 4533,</span> Страница 6 из 29</h2></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a accesskey="1" title="Первая страница" href="../4533.rfc" class="arr">&lArr;</a></li><li><a accesskey="2" title="На страницу назад" href="5"><b>&larr;</b></a></li><li><a class="x" href="../4533.rfc">1</a></li><li><a href="2">2</a></li><li><a href="3">3</a></li><li><a href="4">4</a></li><li><a href="5">5</a></li><li class="this"><span>6</span></li><li><a href="7">7</a></li><li><a href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a class="x" href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a class="x" href="20">20</a></li><li><a class="x" href="21">21</a></li><li><a class="x" href="22">22</a></li><li><a class="x" href="23">23</a></li><li><a class="x" href="24">24</a></li><li><a class="x" href="25">25</a></li><li><a class="x" href="26">26</a></li><li><a class="x" href="27">27</a></li><li><a class="x" href="28">28</a></li><li><a class="x" href="29">29</a></li><li><a accesskey="3" title="На страницу вперед" href="7">&rarr;</a></li><li><a accesskey="4" title="Последняя страница" href="29">&rArr;</a></li></ul></div><div id="text" itemprop="articleBody"><h4 id="p1.3.2">1.3.2. Ожидание посылок изменений (refreshAndPersist)</h4><p>Опрос изменений может быть дорогостоящим с точки зрения потребляемых ресурсов сервера, клиента и сети. Режим refreshAndPersist позволяет выполнять активные обновления изменённых в содержимом каталога записей.</p><p>При выборе режима refreshAndPersist клиент запрашивает, чтобы сервер посылал обновления записей, которые изменились после того, как было установлено состояние первоначального обновления содержимого каталога. Вместо того, чтобы отправить сообщение SearchResultDone Message как в режиме опроса, сервер посылает клиенту сообщение Sync Info Message, показывающее, что стадия обновления (refresh stage) завершена, а затем входит в стадию непрерывного обслуживания (persist stage). После получения сообщения Sync Info Message клиент будет конструировать синхронизированную копию, как это описано в <a href="4#p1.3.1">разделе 1.3.1</a>.</p><p>Сервер затем может отправлять уведомления об изменениях как результат оригинального поискового запроса Sync, выполнение которого теперь происходит непрерывно на сервере. Для записей, добавляемых в то содержимое каталога, которое было возвращено клиенту, сервер посылает сообщение SearchResultEntry Message (с атрибутами) с элементом управления Sync State Control, в котором указано состояние add. Для записей, удаляемых из содержимого каталога, сервер посылает сообщение SearchResultEntry Message без атрибутов и с элементом управления Sync State Control, в котором указано состояние delete. Для записей, изменяемых в том содержимом каталога, которое было возвращено клиенту, сервер посылает сообщение SearchResultEntry Message (с атрибутами) с элементом управления Sync State Control, в котором указано состояние modify.</p><p>При изменении записи посылаются все (изменённые и неизменённые) атрибуты, принадлежащие содержимому каталога.</p><p>Обратите внимание, что переименование записи DIT может привести к изменению с состоянием add, если при переименовании запись попадает в содержимое каталога, к изменению с состоянием delete, если при переименовании запись выходит за рамки содержимого каталога, и к изменению с состоянием modify, если запись остаётся в содержимом каталога. Также обратите внимание, что модификация записи DIT может привести к изменению в содержимом каталога с состоянием add, delete или modify.</p><p>После получения уведомления об изменении клиент обновляет свою копию содержимого каталога.</p><p>Если сервер во время стадии непрерывного обслуживания захочет обновить syncCookie, он может включить syncCookie в любой возвращаемый элемент управления Sync State Control или сообщение Sync Info Message.</p><p>Данная операция продолжается до тех пор, пока не будет отменена клиентом [RFC3909] или прекращена сервером. При этом для предоставления нового syncCookie к сообщению SearchResultDone Message должен быть присоединён элемент управления Sync Done Control.</p><h3 id="p1.4">1.4. Соглашения</h3><p>Ключевые слова "MUST" (необходимо), "MUST NOT" (недопустимо), "REQUIRED" (требуется), "SHALL" (нужно), "SHALL NOT" (не нужно), "SHOULD" (следует), "SHOULD NOT" (не следует), "RECOMMENDED" (рекомендуется), "MAY" (возможно) и "OPTIONAL" (необязательно) в данном документе должны интерпретироваться так, как описано в BCP 14 [RFC2119].</p><p>Элементы протокола описываются с помощью ASN.1 [<a href="26#p10" title="Abstract Syntax Notation One (ASN.1) - Specification of Basic Notation">X.680</a>] с неявными тэгами. Термин "закодирован BER" означает, что элемент должен быть закодирован с помощью Basic Encoding Rules [<a href="26#p10" title="Specification of ASN.1 encoding rules: Basic Encoding Rules (BER), Canonical Encoding Rules (CER), and Distinguished Encoding Rules (DER)">X.690</a>] с соблюдением ограничений, подробно описанных в разделе 5.1 [RFC4511].</p></div></div><noindex><div class="pages"><p class="r"> <b>Страница 6 из 29</b></p><ul><li><noindex><a href="print" rel="nofollow">Одной Страницей</a></noindex></li><li><a title="Первая страница" href="../4533.rfc" class="arr">&lArr;</a></li><li><a title="На страницу назад" href="5"><b>&larr;</b></a></li><li><a class="x" href="../4533.rfc">1</a></li><li><a href="2">2</a></li><li><a href="3">3</a></li><li><a href="4">4</a></li><li><a href="5">5</a></li><li class="this"><span>6</span></li><li><a href="7">7</a></li><li><a href="8">8</a></li><li><a href="9">9</a></li><li><a href="10">10</a></li><li><a class="x" href="11">11</a></li><li><a class="x" href="12">12</a></li><li><a class="x" href="13">13</a></li><li><a class="x" href="14">14</a></li><li><a class="x" href="15">15</a></li><li><a class="x" href="16">16</a></li><li><a class="x" href="17">17</a></li><li><a class="x" href="18">18</a></li><li><a class="x" href="19">19</a></li><li><a class="x" href="20">20</a></li><li><a class="x" href="21">21</a></li><li><a class="x" href="22">22</a></li><li><a class="x" href="23">23</a></li><li><a class="x" href="24">24</a></li><li><a class="x" href="25">25</a></li><li><a class="x" href="26">26</a></li><li><a class="x" href="27">27</a></li><li><a class="x" href="28">28</a></li><li><a class="x" href="29">29</a></li><li><a title="На страницу вперед" href="7">&rarr;</a></li><li><a title="Последняя страница" href="29">&rArr;</a></li></ul></div></noindex><div id="disqus_thread"></div><script type="text/javascript">var disqus_shortname="rfc2",disqus_title="RFC 4533 - Lightweight Directory Access Protocol (LDAP): Операция синхронизации содержимого каталога",disqus_identifier="4533.rfc",disqus_url="http://rfc2.ru/4533.rfc";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src = "//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><div class="bubble">2007 - 2014 © <a href="../index.html" title="Русские переводы RFC">Русские переводы RFC</a>, IETF, ISOC.</div></div><div id="bottom" style="position:static !important;bottom:auto !important"><div class="bubble"><ul><li><!--723572853672--></li></ul></div></div><!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter4680559 = new Ya.Metrika({id:4680559, webvisor:true, clickmap:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/4680559" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter --></body></html>