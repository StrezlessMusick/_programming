<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">

<meta name="author" content="Nikolai Malykh">
<meta name="description" content="">
<meta name="keywords" content="">

<title>Перевод RFC 2328</title>
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:2.95pt "Arial", sans-serif; }
 .font1 { font:5.00pt "Arial", sans-serif; }
 .font2 { font:6.00pt "Arial", sans-serif; }
 .font3 { font:6.60pt "Arial", sans-serif; }
 .font4 { font:7.00pt "Arial", sans-serif; }
 .font5 { font:7.70pt "Arial", sans-serif; }
 .font6 { font:8.00pt "Arial", sans-serif; }
 .font7 { font:9.00pt "Arial", sans-serif; }
 .font8 { font:10.00pt "Arial", sans-serif; }
 .font9 { font:11.00pt "Arial", sans-serif; }
 .font10 { font:12.00pt "Arial", sans-serif; }
 .font11 { font:13.00pt "Arial", sans-serif; }
 .font12 { font:14.00pt "Arial", sans-serif; }
 .font13 { font:15.00pt "Arial", sans-serif; }
 .font14 { font:16.00pt "Arial", sans-serif; }
 .font15 { font:27.00pt "Arial", sans-serif; }
 .font16 { font:2.65pt "Courier New", monospace; }
 .font17 { font:2.95pt "Courier New", monospace; }
 .font18 { font:3.65pt "Courier New", monospace; }
 .font19 { font:3.95pt "Courier New", monospace; }
 .font20 { font:4.40pt "Courier New", monospace; }
 .font21 { font:7.05pt "Courier New", monospace; }
 .font22 { font:7.45pt "Courier New", monospace; }
 .font23 { font:7.70pt "Courier New", monospace; }
 .font24 { font:7.75pt "Courier New", monospace; }
 .font25 { font:8.00pt "Courier New", monospace; }
 .font26 { font:8.10pt "Courier New", monospace; }
 .font27 { font:8.80pt "Courier New", monospace; }
 .font28 { font:8.90pt "Courier New", monospace; }
 .font29 { font:9.00pt "Courier New", monospace; }
 .font30 { font:9.05pt "Courier New", monospace; }
 .font31 { font:10.00pt "Courier New", monospace; }
 .font32 { font:11.00pt "Courier New", monospace; }
 .font33 { font:12.00pt "Courier New", monospace; }
 .font34 { font:12.15pt "Courier New", monospace; }
 .font35 { font:6.80pt "Times New Roman", serif; }
 .font36 { font:7.95pt "Times New Roman", serif; }
 .font37 { font:8.00pt "Times New Roman", serif; }
 .font38 { font:9.00pt "Times New Roman", serif; }
 .font39 { font:9.05pt "Times New Roman", serif; }
 .font40 { font:10.00pt "Times New Roman", serif; }
</style>
</head>

<body>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:282.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:204.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.48pt;">
        <div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:66.24pt;">
<div class=block style=" width:66.24pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:495.12pt;">
<div class=block style=" width:495.12pt; height:36.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font15><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:5.04pt;">
<div class=block style=" width:5.04pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:487.20pt;">
<div class=block style=" width:487.20pt; height:14.16pt;">
<div class=paragraph style=" text-align:left;"><span class=font8><b> </b><span style=" color:rgb(0,0,255);"><b><u></u></b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:2.88pt;">
<div class=block style=" width:2.88pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:71.28pt;">
<div class=block style=" width:71.28pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:36.48pt;">
<div class=block style=" width:36.48pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:353.76pt;">
<div class=block style=" width:353.76pt; height:71.76pt;">
<div class=paragraph style=" padding:0.00pt 125.28pt 0.00pt 56.88pt; text-align:left;"><span class=font32 style=" line-height:12.48pt;"><b>Network Working Group Request for Comments: 2328 STD: 54</b></span></div>
<div class=paragraph style=" padding:0.00pt 132.00pt 0.00pt 56.88pt; text-align:left;"><span class=font32 style=" line-height:12.48pt;"><b>Obsoletes: 2178 Category: Standards Track</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:241.20pt;">
<div class=block style=" width:241.20pt; height:71.76pt;">
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:left; text-indent:138.72pt;"><span class=font32 style=" line-height:12.48pt;"><b>J. Moy Ascend Communications, Inc.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 112.32pt; text-align:left;"><span class=font32 style=" line-height:12.48pt;"><b>April 1998</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:15.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:303.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 199.92pt; text-align:left;"><span class=font14><b>Протокол OSPF версии 2</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 282.24pt; text-align:left;"><span class=font38>OSPF Version 2</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>Статус документа</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот документ содержит спецификацию протокола для сообщества Internet и служит запросом для дальнейшего обсуждения и предложений в целях совершенствования протокола. Точные сведения о статусе документа можно найти в Internet Official Protocol Standards ( <span style=" color:rgb(0,0,255);"><u>STD 1</u> </span>). Документ может распространяться свободно.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>Авторские права</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Copyright (C) The Internet Society (1998). All Rights Reserved.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>Тезисы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот документ описывает вторую версию OSPF – протокола маршрутизации на основе состояний каналов (link-state routing protocol). Протокол предназначен для использования внутри автономных систем (AS). Все OSPF-маршрутизаторы поддерживают идентичные базы данных с описанием топологии AS. На основании данных из базы рассчитывается маршрут путем конструирования дерева кратчайшего пути.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При изменении топологии OSPF быстро пересчитывает маршруты и не порождает значительного трафика при обновлении маршрутной информации. Протокол OSPF обеспечивает поддержку множества путей с одинаковой стоимостью (equal-cost multipath). Поддерживается &laquo;маршрутизация областей&raquo; (area routing), обеспечивающая дополнительный уровень защиты маршрутизации и снижение служебного трафика при обмене маршрутной информацией. Кроме того, обмен маршрутной информацией осуществляется с использованием средств аутентификации.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Различия между этим документом и RFC 2178 рассмотрены в Приложении G. Все изменения протокола обеспечивают обратную совместимость.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Реализации описываемого протокола совместимы (интероперабельны) с реализациями RFC 2178, RFC 1583 и RFC 1247.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Комментарии к данному документу направляйте по адресу <span style=" color:rgb(0,0,128);"><a href="mailto:ospf@gated.cornell.edu"><u>ospf@gated.cornell.edu</u></a></span>.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:13.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:16.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b>Оглавление</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:68.88pt;">
<div class=block style=" width:68.88pt; height:280.32pt;">
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:526.08pt;">
<div class=block style=" width:526.08pt; height:280.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 89.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">............................................................................................................................................................... <b>...................... </b>1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 90.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">............................................................................................................................................................... <b>...................... </b>1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 90.72pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">....................................................................................................................................................................... <b>..... </b><span style=" letter-spacing:-0.95pt;">.... </span><b>...... </b>1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 90.72pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">........................................................................................................................................................... <span style=" letter-spacing:-0.70pt;"><b>..</b>..... </span><b>..................... </b>3</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1.1.&nbsp; Обзор протокола ............................................................................................................................................................................... <span style=" letter-spacing:-0.70pt;"><b>..</b>3...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1.2.&nbsp;Терминология .................................................................................................................................................................................. <span style=" letter-spacing:-1.10pt;">.....<b>..</b>.4. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1.3.&nbsp;Краткая история маршрутизации на базе состояния каналов ................................................................................................... <b>..... </b>5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1.4.&nbsp;Структура документа ...................................................................................................................................................................... <b>..... </b><span style=" letter-spacing:-1.20pt;">5. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1.5.&nbsp;Благодарности ........................................................................................................................................................... <span style=" letter-spacing:-0.85pt;">... </span><b>........................... </b>6</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.&nbsp;База данных Link-state: структура и расчеты ................................................................................................................................. <b>........... </b>6</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.1.&nbsp;Представление маршрутизаторов и сетей ...................................................................................................................................... <span style=" letter-spacing:-1.00pt;">.<b>..</b>.6. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.1.1.&nbsp;Представление сетей без широковещания .................................................................................................................... <b>........... </b>7</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.1.2.&nbsp;Пример базы данных о каналах ..................................................................................................................................... ............. 7</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.2.&nbsp; Дерево кратчайших путей .............................................................................................................................................................. <span style=" letter-spacing:-0.70pt;"><b>...</b>.9...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.3.&nbsp;Внешние данные ................................................................................................................................................................................ <span style=" letter-spacing:-0.90pt;"><b>.</b>..9...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2.4.&nbsp;Множество равноценных путей ......................................................................................................................................... <b>.............. </b>10</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.&nbsp;Деление AS на области ........................................................................................................................................................ <span style=" letter-spacing:-0.75pt;"><b>..</b>..... </span><b>.................. </b>10</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.1.&nbsp;Магистраль AS ................................................................................................................................................................................... <span style=" letter-spacing:-1.25pt;">1..0...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.2.&nbsp;Маршрутизация между областями .............................................................................................................................................. <b>..... </b><span style=" letter-spacing:-1.15pt;">1. 0</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.3.&nbsp;Классификация маршрутизаторов ............................................................................................................................................. <b>...... </b>11</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.4.&nbsp;Пример конфигурации областей ............................................................................................................................................... <b>....... </b>12</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.5.&nbsp;Поддержка подсетей IP .................................................................................................................................................. <b>...... </b><span style=" letter-spacing:-0.60pt;">.. </span>............. 13</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.6.&nbsp;Поддержка &laquo;тупиковых&raquo; областей ........................................................................................................................................ <b>.......... </b>14</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3.7.&nbsp;Разделение областей .................................................................................................................................................... <b>..... </b><span style=" letter-spacing:-0.75pt;">.. </span><b>................. </b>14</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">4.&nbsp;Основные функции ............................................................................................................................................................ <b>......................... </b>14</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">4.1.&nbsp;Междоменная маршрутизация ..................................................................................................................................................... <span style=" letter-spacing:-0.60pt;"><b>....</b>1..5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">4.2.&nbsp;Внешние маршруты AS ..................................................................................................................................................................... <span style=" letter-spacing:-1.25pt;">1. .5...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">4.3.&nbsp;Пакеты протокола маршрутизации ............................................................................................................................................. <b>..... </b><span style=" letter-spacing:-1.15pt;">1. 5</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:353.76pt;">
<div class=block style=" width:353.76pt; height:62.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">4.4.&nbsp;Основные требования к реализации....</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">4.5.&nbsp;Дополнительные возможности OSPF..</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">5.&nbsp;Структуры данных протокола ......................</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">6.&nbsp;Структура данных области ...........................</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">7.&nbsp;Организация отношений смежности ...........</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:241.20pt;">
<div class=block style=" width:241.20pt; height:62.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 131.76pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">.....................................<span style=" letter-spacing:-0.65pt;">16</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 132.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>......................................</b><span style=" letter-spacing:-0.65pt;">17</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 131.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">..................................<span style=" letter-spacing:-0.65pt;">17</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 132.96pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>................................</b><span style=" letter-spacing:-0.65pt;"><b>18</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 132.72pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>.....................................</b><span style=" letter-spacing:-0.65pt;">19</span></span></div>
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 135.12pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:282.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:204.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:812.88pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; <u>Перевод RFC 2328</u></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">7.1.&nbsp;Протокол Hello ........................................................................................................................................................................... <b>..... </b>..<b>.</b>19</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">7.2.&nbsp;Синхронизация баз данных .......................................................................................................................................... <b>..................... </b>19</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">7.3.&nbsp;Выделенный маршрутизатор DR ................................................................................................................................................. <span style=" letter-spacing:-0.60pt;"><b>....</b>2. 0</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">7.4.&nbsp;Резервный маршрутизатор DR ........................................................................................................................................................ <span style=" letter-spacing:-0.70pt;"><b>.</b>2..0...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">7.5.&nbsp;Граф смежности ................................................................................................................................................................................ <span style=" letter-spacing:-0.65pt;"><b>.</b>2..1....</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">8.&nbsp;Обработка пакетов протокола ................................................................................................................................................... <b>................ </b>21</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">8.1.&nbsp;Передача пакетов .................................................................................................................................................................. <b>............. </b>21</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">8.2.&nbsp;Прием пакетов протокола .............................................................................................................................................................. <span style=" letter-spacing:-1.30pt;">......2. .2.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">9.&nbsp; Структура данных интерфейса .......................................................................................................................................................... <b>..</b>..<b>..</b>..23</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">9.1.&nbsp;Состояния интерфейса ............................................................................................................................................................... <b>....... </b>24</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">9.2.&nbsp;События, изменяющие состояние интерфейса ....................................................................................................................... <b>........ </b>25</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">9.3.&nbsp;Машина состояний интерфейса ....................................................................................................................................................... 25</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">9.4.&nbsp;Назначение DR ................................................................................................................................................................................ <span style=" letter-spacing:-1.25pt;"><b>..</b>..2. .6. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">9.5.&nbsp;Передача пакетов Hello .......................................................................................................................................... <b>........................... </b>27</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">9.5.1. Передача пакетов Hello в сети NBMA ............................................................................................................................. <b>.....</b>.27</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.&nbsp;Структура данных Neighbor ................................................................................................................................................................. <span style=" letter-spacing:-1.20pt;"><b>.</b>.2. .8...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">10.1.&nbsp;Состояния соседей ............................................................................................................................................................ <b>............... </b>29</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">10.2.&nbsp;События, меняющие состояние соседа ....................................................................................................................... <b>.................. </b>30</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">10.3.&nbsp;Машина состояний Neighbor .......................................................................................................................................................... <span style=" letter-spacing:-0.75pt;">3..0....</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">10.4.&nbsp;Когда организуется смежность ................................................................................................................................................. <b>..... </b>32</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.5.&nbsp;Прием пакетов Hello .................................................................................................................................................................. <b>..... </b><span style=" letter-spacing:-1.35pt;">3. .2</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.6.&nbsp;Прием пакетов DD .......................................................................................................................................................... <span style=" letter-spacing:-1.05pt;">..... </span><b>............... </b>33</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">10.7.&nbsp;Прием пакетов Link State Request ................................................................................................................................ <b>..</b>... <b>.............. </b>34</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">10.8.&nbsp;Передача пакетов DD .................................................................................................................................................... <b>..... </b>.. <b>............. </b>34</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.9.&nbsp;Передача пакетов Link State Request .............................................................................................................................. <span style=" letter-spacing:-0.60pt;"><b>...</b>.... </span>........... 35</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.10.&nbsp;Пример ....................................................................................................................................................................... <b>...................... </b>35</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">11.&nbsp;Структура таблицы маршрутов ............................................................................................................................................................ <span style=" letter-spacing:-0.95pt;">....3..5..</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">11.1.&nbsp;Просмотр таблицы маршрутов ................................................................................................................................. <span style=" letter-spacing:-0.75pt;">..... </span><b>.................... </b>36</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">11.2.&nbsp;Пример таблицы маршрутизации без областей ............................................................................................................................ 37</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">11.3.&nbsp;Пример таблицы маршрутизации с областями ............................................................................................................................ <span style=" letter-spacing:-1.10pt;">3. 7</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.&nbsp;Анонсы состояния каналов (LSA) .................................................................................................................................................. <b>........ </b>38</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.1.&nbsp;Заголовок LSA ............................................................................................................................................................. ..................... 38</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.1.1.&nbsp;Возраст LS ...................................................................................................................................................................... <b>......... </b>38</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.1.2.&nbsp;Опции ...................................................................................................................................................................................... <span style=" letter-spacing:-1.15pt;"><b>.</b>.3. .9....</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.72pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.1.3. Тип LS ................................................................................................................................................................................ <span style=" letter-spacing:-1.00pt;"><b>..</b>...<b>.</b>.3. .9</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.1.4.&nbsp; Link State ID ............................................................................................................................................................................. <span style=" letter-spacing:-1.15pt;">3. 9</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.1.5.&nbsp;Анонсирующий маршрутизатор ............................................................................................................................ <b>..... </b>.. ........... 39</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.1.6.&nbsp;Порядковый номер LS .......................................................................................................................................... <b>................... </b>39</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.1.7.&nbsp;Контрольная сумма LS ......................................................................................................................................... <b>.................. </b>40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.2.&nbsp;База данных link-state .......................................................................................................................................................... <span style=" letter-spacing:-0.80pt;">..... </span><b>.......... </b>40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.3.&nbsp;Представление TOS ............................................................................................................................................................ .............. 40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.&nbsp;Генерация LSA ............................................................................................................................................................................ <b>..... </b><span style=" letter-spacing:-0.80pt;">.4..1</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.1.&nbsp; LSA для маршрутизатора ............................................................................................................................... <b>..</b>... <b>..................... </b>42</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.1.1.&nbsp;Описание интерфейсов point-to-point ................................................................................................................. <b>......... </b>42</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.1.2.&nbsp;Описание интерфейсов в широковещательные и NBMA-сети ................................................................................. <span style=" letter-spacing:-0.55pt;"><b>.</b>4..2</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.1.3.&nbsp;Описание виртуальных соединений ..................................................................................................................... <b>........ </b>43</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.1.4.&nbsp;Описание интерфейсов Point-to-MultiPoint .................................................................................................. <b>................ </b>43</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.1.5.&nbsp;Примеры router-LSA ...................................................................................................................................................... <span style=" letter-spacing:-0.75pt;"><b>.</b>4..3...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.4.2.&nbsp; LSA для сети ............................................................................................................................................................................ <span style=" letter-spacing:-1.10pt;">4. 4</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.4.2.1. Примеры network-LSA .................................................................................................................................... <span style=" letter-spacing:-0.60pt;">.. </span>................ 44</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.3.&nbsp; Summary-LSA ............................................................................................................................................................ ............... 44</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.4.3.1.&nbsp;Генерация summary-LSA в тупиковые области ........................................................................................................ <span style=" letter-spacing:-0.65pt;"><b>...</b>4. 5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">12.4.3.2.&nbsp;Примеры summary-LSA ......................................................................................................................................... <b>......... </b>45</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.4.4.&nbsp; AS-external-LSA .................................................................................................................................................... <b>..... </b><span style=" letter-spacing:-1.00pt;">.... </span>............ 46</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">12.4.4.1. Примеры AS-external-LSA ............................................................................................................................................ <span style=" letter-spacing:-1.40pt;"><b>.</b>.4. .6. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.&nbsp;Процедура лавинной рассылки (Flooding) .................................................................................................................................. <span style=" letter-spacing:-0.45pt;"><b>.</b>... </span><b>........ </b>47</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">13.1.&nbsp;Сравнение возраста LSA ............................................................................................................................................................. <span style=" letter-spacing:-1.15pt;">.<b>..</b>.4. .7.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.2.&nbsp;Инсталляция LSA в базу данных .................................................................................................................................................. <span style=" letter-spacing:-0.80pt;"><b>.</b>4..8.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.3.&nbsp;Следующий этап лавинной рассылки ...................................................................................................................................... <b>...... </b>48</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.4.&nbsp;Прием собственных (self-originated) LSA ................................................................................................................. <b>..................... </b>49</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.5.&nbsp;Передача LSA ............................................................................................................................................................................ <b>..... </b><span style=" letter-spacing:-0.50pt;">.....49</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.6.&nbsp;Повторная передача LSA .......................................................................................................................................................... <b>...</b>....<b>.</b>50</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">13.7.&nbsp;Подтверждение приема состояния канала ............................................................................................................................ <b>........ </b>50</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">14.&nbsp;Старение базы данных LS ................................................................................................................................................... <b>..................... </b>50</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">14.1. Принудительное старение LSA ......................................................................................................................................... <b>............. </b>51</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">15.&nbsp;Виртуальные соединения ..................................................................................................................................................... <b>...</b>.... ............... 51</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.&nbsp;Расчет таблицы маршрутизации ................................................................................................................................................. <b>............ </b>52</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.1.&nbsp;Расчет кратчайшего пути для области .................................................................................................................................. <span style=" letter-spacing:-0.80pt;">..... </span><b>...... </b>52</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.1.1. Расчет next hop ..................................................................................................................................................... <span style=" letter-spacing:-0.55pt;"><b>..</b>..... </span><b>................ </b>54</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.2.&nbsp;Расчет междоменных маршрутов ................................................................................................................................................. <span style=" letter-spacing:-0.80pt;"><b>.</b>5..4.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">16.3.&nbsp;Просмотр summary-LSA от транзитных областей ................................................................................................................... <span style=" letter-spacing:-0.60pt;"><b>....</b>5. 5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.4.&nbsp;Расчет внешних маршрутов AS ............................................................................................................................................ <b>......... </b>56</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.4.1. Предпочтения для внешнего пути ...................................................................................................................................... <span style=" letter-spacing:-0.55pt;">.<b>..</b>.5..6</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.5.&nbsp;Нарастающие обновления – summary-LSA ........................................................................................................................... <b>........ </b>56</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">16.6.&nbsp;Нарастающие обновления – AS-external-LSA .......................................................................................................................... <span style=" letter-spacing:-0.60pt;"><b>....</b>5. 7</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.7.&nbsp;События, генерируемые при изменении таблицы маршрутов ....................................................................................... <b>............ </b>57</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">16.8.&nbsp;Множество равноценных путей .................................................................................................................................. <b>.................... </b>57</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font37 style=" line-height:9.84pt;">Литература ................................................................................................................................................................................................. <b>..... </b><span style=" letter-spacing:-0.75pt;">.5..7</span></span></div>
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:192.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:192.72pt;">
<div class=block style=" width:192.72pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:25.44pt;">
<div class=block style=" width:25.44pt; height:12.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:737.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.<span class=font38>&nbsp;</span>Форматы данных OSPF <span class=font38>........................................................................................................................................................................... </span><span style=" letter-spacing:-0.80pt;">5...9...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.1 Инкапсуляция пакетов OSPF <span class=font38>.................................................................................................................................................. <b>......... </b>59</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.2 Поле Options .............................................................................................................................................................. <b>......................... </b>59</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.3 Форматы пакетов OSPF ............................................................................................................................................................. ....... 59</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.3.1 Заголовок пакета OSPF ............................................................................................................................................................ <span class=font36 style=" letter-spacing:-0.85pt;">..6..0...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 95.04pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.3.2 Пакет Hello <span class=font38>.............................................................................................................................................................................. </span><span style=" letter-spacing:-0.65pt;"><b>.</b>6..0....</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.3.3 Пакет Database Description <span class=font38>...................................................................................................................................................... </span>61</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.3.4 Пакет Link State Request <span class=font38>...................................................................................................................................... <b>..................... </b></span>61</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.3.5 Пакет Link State Update <span class=font38>..................................................................................................................................................... <b>..... </b></span>..<b>.</b>61</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font36 style=" line-height:9.84pt;">A.3.6 Пакет Link State Acknowledgment <span class=font38>.......................................................................................................................... <b>.................. </b>62</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.4 Форматы LSA ....................................................................................................................................................... <span style=" letter-spacing:-0.55pt;"><b>...</b>... </span><b>.......................... </b>62</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.4.1 Заголовок LSA .......................................................................................................................................................................... <span style=" letter-spacing:-1.20pt;">6. .2...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.4.2 Router-LSA ................................................................................................................................................................ <b>.................. </b>63</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.4.3 Network-LSA ..................................................................................................................................................... <span style=" letter-spacing:-0.70pt;"><b>...</b>..... </span><b>..................... </b>64</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.4.4 Summary-LSA ............................................................................................................................................................................ <span style=" letter-spacing:-0.90pt;"><b>.</b>6..4</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">A.4.5 AS-external-LSA ............................................................................................................................................................. <span style=" letter-spacing:-0.60pt;">.. </span>............ 64</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">B.&nbsp;Архитектурные константы ................................................................................................................................................... <b>...... </b><span style=" letter-spacing:-0.75pt;">.. </span>.............. 65</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.&nbsp;Настраиваемые константы .............................................................................................................................................................. <b>......... </b>66</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.1 Глобальные параметры ................................................................................................................................................................ <b>...... </b><span style=" letter-spacing:-1.10pt;">6. 6</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.2 Параметры области ................................................................................................................................................................. <b>........... </b>66</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.3 Параметры интерфейса маршрутизатора ............................................................................................................................. <b>........... </b>66</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.4 Параметры виртуального канала ............................................................................................................................................ <b>......... </b>67</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.5 Параметры сетей NBMA .................................................................................................................................................. <b>................. </b>68</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.6 Параметры сетей Point-to-MultiPoint ........................................................................................................................................... <span style=" letter-spacing:-1.00pt;"><b>...</b>.6. .8</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">C.7 Параметры Host route ........................................................................................................................................................................ <span style=" letter-spacing:-1.45pt;">6. .8. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.&nbsp;Аутентификация ...................................................................................................................................................................................... <span style=" letter-spacing:-1.25pt;">....6. .8...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.1 Null-аутентификация ............................................................................................................................................................ <b>............. </b>68</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.2 Парольная аутентификация ..................................................................................................................................... ........................... 68</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.3 Криптографическая аутентификация ....................................................................................................................................... <b>....... </b>69</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.4 Генерация сообщений .................................................................................................................................................................... <span style=" letter-spacing:-1.05pt;"><b>...</b>6...9.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.4.1 Генерация Null-аутентификации ........................................................................................................................................ <b>...... </b>69</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.4.2 Генерация простой парольной аутентификации ................................................................................................................. <span style=" letter-spacing:-1.15pt;"><b>..</b>.7. .0</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.4.3 Генерация криптографической аутентификации ............................................................................................................... .<b>...</b>.70</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.5 Верификация сообщений ............................................................................................................................................. <b>...................... </b>70</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.5.1 Проверка Null-аутентификации ........................................................................................................................... <b>..... </b><span style=" letter-spacing:-0.60pt;">.. </span>............... 70</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.5.2 Проверка простой парольной аутентификации ............................................................................................................ .......... 70</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">D.5.3 Проверка криптографической аутентификации ............................................................................................................. ........ 70</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">E.&nbsp;Алгоритм установки Link State ID ....................................................................................................................................................... <span style=" letter-spacing:-0.95pt;"><b>..</b>....7..1</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">F.&nbsp;Множество интерфейсов в одну сеть/подсеть ...................................................................................................................................... <span style=" letter-spacing:-1.15pt;">.<b>.</b>.7..1.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">G.&nbsp;Отличия от RFC 2178 ....................................................................................................................................................................... <b>......... </b>72</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">G.1 Изменение лавинной рассылки ..................................................................................................................................................... <span style=" letter-spacing:-0.85pt;"><b>...</b>7..2.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">G.2 Смена предпочтений для внешнего пути ................................................................................................................................. <b>....... </b>72</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">G.3 Неполное разрешение виртуальных next hop ............................................................................................................................... <span style=" letter-spacing:-0.95pt;"><b>..</b>7..2.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">G.4 Просмотр таблицы маршрутизации ........................................................................................................................... <b>....................... </b>72</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Вопросы безопасности ............................................................................................................................................................. ....................... 72</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Адреса авторов ................................................................................................................................................................................ <span style=" letter-spacing:-0.80pt;"><b>..</b>..... </span><b>........... </b>72</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Полное заявление авторских прав ............................................................................................................................................... <b>................. </b>73</span></div>
<div class=paragraph style=" padding:13.44pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b><i>1. Введение</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот документ содержит спецификацию протокола OSPF (Open Shortest Path First – по самому короткому пути), служащего для маршрутизации трафика TCP/IP. Протокол OSPF относится к числу внутренних протоколов маршрутизации (Interior Gateway Protocol или IGP) – это означает, что маршрутная информация распространяется между маршрутизаторами одной автономной системы AS. Протокол OSPF работает на основе технологии SPF (link-state – по состоянию канала) в отличие от алгоритмов Bellman-Ford, используемых традиционными протоколами маршрутизации TCP/IP.</span></div>
<div class=paragraph style=" padding:4.08pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF подготовлен одноименной рабочей группой IETF и предназначен для использования в средах TCP/IP. Протокол включает явную поддержку CIDR и установки меток (tagging) при использовании внешней маршрутной информации. OSPF использует аутентификацию и групповую адресацию (IP multicast) при обмене маршрутными сообщениями. Кроме того, при разработке протокола были приложены значительные усилия по ускорению обработки топологических изменений в сети и снижению уровня служебного трафика.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>1.1. Обзор протокола</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">OSPF обеспечивает маршрутизацию пакетов IP исключительно на основе IP-адресов получателей, определенных из заголовка пакетов IP. Пакеты IP маршрутизируются без их изменения (as is), т. е., не используется инкапсуляция в какие-то иные пакеты. OSPF является динамическим протоколом маршрутизации, обеспечивающим быстрое обнаружение топологических изменений в AS (например, сбои маршрутизаторов или каналов) и расчет новых беспетлевых (loop-free) маршрутов. Период схождения (convergence) – расчет нового маршрута – достаточно короток и уровень служебного трафика невелик.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В протоколах на основе состояния каналов (link-state) каждый маршрутизатор поддерживает базу данных с описанием топологии AS. Эти базы называют базами данных о состоянии каналов<sup>1</sup> (link-state database). Базы данных всех маршрутизаторов идентичны. Каждый элемент базы данных представляет собой локальное состояние отдельного маршрутизатора (например, поддерживаемые интерфейсы или доступные соседи). Маршрутизаторы распространяют информацию о своем локальном состоянии путем лавинной маршрутизации (flooding).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:37.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38><sup>1</sup> Для краткости в переводе используется термин &laquo;база данных о каналах&raquo; или &laquo;база каналов&raquo;. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:192.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:750.72pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Все маршрутизаторы работают в параллель, используя одинаковый алгоритм. На основе базы каналов каждый маршрутизатор строит дерево кратчайших путей, корнем которого является сам маршрутизатор. Это дерево содержит маршруты ко всем адресатам внутри AS. Маршрутная информация внешнего происхождения представляется как листья дерева.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">При наличии нескольких путей равной стоимости к одному адресату, трафик поровну распределяется между всеми маршрутами. Стоимость маршрута описывается безразмерной метрикой, представляемой в виде одного числа.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">OSPF позволяет группировать сети – такие группы называют областями (area). Топология области невидима для остальной части AS. Такое сокрытие (избыточной) информации позволяет существенно снизить уровень служебного трафика. Кроме того, маршрутизация внутри области определяется исключительно внутренней топологией этой области, что обеспечивает защиту областей от использования некорректной маршрутной информации. Понятие области является обобщением подсетей IP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">OSPF обеспечивает возможность гибкой настройки подсетей IP. Каждый маршрут в OSPF распространяется с указанием адресата и маски подсети. Две разных подсети одной сети IP могут иметь различные размеры (т. е., разные маски) – для обозначения этого обычно используется термин variable length subnetting (переменный размер подсетей). Пакеты маршрутизируются по пути с наилучшим (т. е., самым длинным или более конкретным) соответствием. Маршруты к хостам рассматриваются как пути в подсети с маской из одних единиц (all ones или 0xffffffff <sup>2</sup>).</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Весь обмен информацией OSPF осуществляется с использованием аутентификации. Это означает, что в маршрутизации внутри AS могут участвовать только уполномоченные маршрутизаторы. Могут использоваться различные схемы аутентификации; в частности, допустимо применение различных схем для каждой подсети IP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Внешние маршрутные данные (т. е., маршруты, полученные от протоколов внешних шлюзов EGP - например, BGP - [Ref23]) анонсируются через AS. Такие данные сохраняются отдельно от данных OSPF о состоянии каналов. Каждый внешний маршрут может также быть помечен (tagged) анонсирующим его маршрутизатором – это дает возможность передачи дополнительной информации между маршрутизаторами на границе AS.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>1.2. Терминология</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе приведены определения терминов, имеющих специфическое толкование в контексте протокола OSPF и используемых в тексте. Читателям, не знакомым со стеком протоколов Internet рекомендуется обратиться к работе [Ref13], содержащей вводную информацию по протоколу IP.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router (маршрутизатор)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Устройство сетевого уровня для пересылки пакетов IP. В литературе прошлых лет для обозначения маршрутизаторов часто использовался термин gateway (шлюз).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Autonomous System (автономная система)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Группа маршрутизаторов, обменивающихся маршрутной информацией на основе общего протокола. Используется также сокращение AS.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Interior Gateway Protocol (протокол внутренней маршрутизации)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол маршрутизации, используемый в пределах одной автономной системы. Для обозначения таких протоколов часто используется аббревиатура IGP. Каждая AS имеет один протокол IGP. В разных автономных системах могут использоваться различные протоколы IGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router ID (идентификатор маршрутизатора)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовое целое число, связываемое с каждым маршрутизатором, использующим протокол OSPF. Этот идентификатор является уникальным в масштабе AS.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Network (сеть)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В контексте документа термин сеть может относиться к сети/подсети/&raquo;сети сетей&raquo; IP (network/subnet/supernet). Одна физическая сеть может включать множество сетей/подсетей IP – мы будем рассматривать их как разные сети. Физические сети &laquo;точка-точка&raquo; (point-to-point) являются исключением – такая сеть рассматривается как единое целое, независимо от наличия в ней отдельных сетей/подсетей IP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Network mask (маска сети)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">32-битовое число,  показывающее  диапазон IP-адресов, относящихся к одной сети/подсети/сети сетей IP. В данной</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">спецификации маски указываются шестнадцатеричными числами.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Например, маска сети класса C имеет значение 0xffffff00. Обычно для записи такой маски используют форму 255.255.255.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Point-to-point networks (сеть на базе соединений точка-точка)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Сеть, соединяющая между собой 2 маршрутизатора. Примером таких сетей являются сети на основе каналов 56 кбит/с.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Broadcast networks (широковещательные сети)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Сети, поддерживающие множество (более 2) подключенных маршрутизаторов с возможностью адресации одного сообщения всем подключенным маршрутизаторам – широковещательная передача (broadcast).</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Соседние маршрутизаторы в таких сетях обнаруживаются динамически с использованием протокола OSPF Hello. Протокол Hello использует преимущества широковещательной передачи. Протокол OSPF может также использовать групповую адресацию (multicast), если она поддерживается. Предполагается, что каждая пара маршрутизаторов в широковещательной сети может обмениваться данными напрямую. Примером широковещательных сетей может служить Ethernet.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Non-broadcast networks (сети без широковещания)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Сети, поддерживающие множество (более 2) подключенных маршрутизаторов, но не имеющие возможностей широковещательной передачи. Для обнаружения соседних маршрутизаторов также используется протокол OSPF Hello, однако, в силу отсутствия широковещания, для обнаружения соседей требуются некоторые настройки. В сетях без широковещания пакеты OSPF, обычно передаваемые с использованием групповой адресации, должны адресоваться непосредственно соседним маршрутизаторам. Примером сетей без широковещания могут служить сети X.25. Протокол OSPF в сетях без широковещания может работать в двух режимах. Первый режим называется NBMA (non-broadcast multi-access – множественный доступ без широковещания) имитирует работу OSPF в широковещательных сетях. Второй режим называется Point-to-MultiPoint (один со многими), в этом случае сеть без широковещания трактуется как множество соединений &laquo;точка-точка&raquo;<sup>3</sup>. Сети без широковещания мы будем делить на сети NBMA и Point-to-MultiPoint в зависимости от режима работы OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Interface (интерфейс)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Соединение между маршрутизатором и одной из подключенных к нему сетей. С интерфейсом связана информация о его состоянии, получаемая от протоколов нижележащих уровней и самого протокола маршрутизации. Сетевой интерфейс имеет</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:14.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:35.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><sup>2</sup>&nbsp;255.255.255.255. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><sup>3</sup>&nbsp;Далее для краткости будем называть такие соединения парными. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">адрес IP и маску, если этот интерфейс не относится к безадресным (unnumbered) соединениям point-to-point. Применительно к интерфейсу может также употребляться термин соединение, канал (link).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighboring routers (соседние маршрутизаторы)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Два маршрутизатора, имеющие интерфейсы в общую сеть. Отношения соседства поддерживаются и детектируются (обычно автоматически) с помощью протокола OSPF Hello.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Adjacency (смежность)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Отношения между соседними маршрутизаторами, организуемые в целях обмен маршрутной информацией. Не всякая пара соседних маршрутизаторов поддерживает отношения смежности.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link state advertisement (анонс состояния канала)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Единица данных, описывающая состояние маршрутизатора или сети. Для маршрутизатора анонс включает состояние интерфейсов и отношения смежности. Каждый анонс рассылается с использованием лавинной маршрутизации в масштабах домена маршрутизации. Анонсы состояний всех маршрутизаторов и сетей формируют базу данных о каналах, используемую протоколом. В настоящем документе для обозначения анонсов состояния канала используется аббревиатура LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Hello Protocol (протокол приветствия)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Часть протокола OSPF, используемая для организации и поддержки отношений соседства между маршрутизаторами. В широковещательных сетях протокол Hello может служить для динамического обнаружения соседних маршрутизаторов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Flooding (лавинная маршрутизация)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Часть протокола OSPF, отвечающая за распространение и синхронизацию базы данных о каналах между маршрутизаторами OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Designated Router (указанный маршрутизатор)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждая широковещательная или NBMA-сеть, в которой есть не менее двух маршрутизаторов, имеет среди них выделенный -Designated Router (DR). Выделенный маршрутизатор генерирует анонсы LSA для сети и выполняет другие специальные действия для обеспечения работы протокола. Маршрутизатор DR задается протоколом Hello.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Концепция выделенного маршрутизатора DR позволяет уменьшить число смежных пар, требуемых для широковещательных сетей и сетей NBMA, что обеспечивает снижение уровня служебного трафик и уменьшение базы данных о каналах.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Lower-level protocols (протоколы нижележащих уровней)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протоколы нижележащих уровней, предоставляющих свои услуги протоколу IP и OSPF. Примерами таких протоколов могут служить X.25 или протоколы канального уровня Ethernet.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>1.3.&nbsp;Краткая история маршрутизации на базе состояния каналов</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">OSPF относится к числу протоколов маршрутизации на основе данных о состоянии каналов. Такие протоколы также называют протоколами на базе SPF или протоколами с распределенной базой данных (distributed-database protocol). В этом параграфе приведено краткое описание технологии link-state в контексте ее влияния на протокол OSPF.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Первый протокол маршрутизации по состоянию каналов был разработан для использования в сети ARPANET, работавшей на основе коммутации пакетов. Этот протокол описан в работе [Ref3]. Протокол послужил отправной точкой для разработки всех остальных протоколов link-state. Гомогенная среда ARPANET, содержащая однотипные коммутаторы, соединенные синхронными последовательными каналами, существенно упростила разработку и реализацию первого варианта протокола.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В работе [Ref4] был предложен измененный вариант этого протокола. Изменения позволили повысить устойчивость протокола маршрутизации к сбоям – к таким изменениям относится, прежде всего, добавление контрольных сумм LSA, позволяющее детектировать повреждения баз данных. В этой работе также были предложены способы снижения уровня служебного трафика протокола link-state за счет использования механизма, позволяющего увеличить на порядок интервал между последовательными передачами LSA.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Алгоритм link-state был также предложен для использования в качестве протокола маршрутизации ISO IS-IS, описанного в работе [Ref2]. Этот протокол обеспечивал методы снижения трафика при работе в широковещательных сетях за счет введения выделенного маршрутизатора DR для каждой широковещательной сети. Этот маршрутизатор обеспечивает генерацию LSA для своей сети.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Рабочая группа IETF OSPF продолжила разработки в этом направлении, создав протокол OSPF. Концепция выделенного маршрутизатора DR была существенно доработана, что позволило добиться дополнительного снижения служебного трафика. Дополнительное снижение расхода полосы было обеспечено также за счет использования групповой адресации. Была разработана схема областей маршрутизации (area routing), обеспечивающая защиту информации, ее сокрытие и сокращение объема. И, наконец, алгоритмы были приспособлены для использования в межсетевой среде TCP/IP.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>1.4.&nbsp;Структура документа</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В трех первых разделах документа приведен общий обзор возможностей протокола и его функций. Главы 4 - 16 содержат детальное описание различных механизмов работы протокола. Формат пакетов, константы и элементы настройки описаны в приложениях.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Метки типа HelloInterval, встречающиеся в тексте, обозначают константы протокола, которые могут иметь фиксированные или настраиваемые значения. Архитектурные константы описаны в Приложении B, а настраиваемые константы – в Приложении C.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При описании протокола используется множество структур данных. Такое представление позволяет дать более точные объяснения. При реализации протокола требуется точное соблюдение функциональных требований, но сохранение приведенных в спецификации структур данных не является обязательным.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>1.5.&nbsp;Благодарности</b></span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Автор выражает свою признательность Ran Atkinson, Fred Baker, Jeffrey Burgan, Rob Coltun, Dino Farinacci, Vince Fuller, Phanindra Jujjavarapu, Milo Medin, Tom Pusateri, Kannan Varadhan, Zhaohui Zhang и остальным участникам рабочей группы OSPF за их идеи и поддержку проекта.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Интерфейс OSPF Point-to-MultiPoint основан на результатах работы Fred Baker.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Средства криптографической аутентификации OSPF Cryptographic Authentication разработали Fred Baker и Ran Atkinson.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b><i>2. База данных Link-state: структура и расчеты</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">В следующих параграфах описана организация базы данных о каналах протокола OSPF и расчеты маршрутов, выполняемые для заполнения таблиц маршрутизации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:92.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:81.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:274.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:221.28pt;">
<div class=block style=" width:221.28pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:99.12pt;">
<div class=block style=" width:99.12pt; height:12.72pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:274.56pt;">
<div class=block style=" width:274.56pt; height:27.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 136.08pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:319.44pt;">
<div class=block style=" width:319.44pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>2.1. Представление маршрутизаторов и сетей</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.96pt;">
<div class=block style=" width:0.96pt; height:14.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:275.52pt;">
<div class=block style=" width:275.52pt; height:3.12pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:138.96pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">База каналов AS описывается направленным графом. Вершины графов показывают маршрутизаторы и сети. Ребро графа соединяет два маршрутизатора, если между ними существует физическая сеть point-to-point. Ребро графа соединяет два маршрутизатора с сетью, если маршрутизатор имеет интерфейс в данную сеть. Сеть может быть транзитной или оконечной (stub). Транзитные сети могут также передавать трафик, который не связан с данной сетью, т. е., отправитель и получатель принадлежат другим сетям. Транзитные сети представляются вершинами графов, имеющими входящее и исходящее ребро. Вершины графов для оконечных сетей имеют только входящее ребро.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Соседство каждого сетевого узла на графе зависит от типа сети (point-to-point, широковещательная, NBMA или Point-to-MultiPoint) и числа маршрутизаторов, имеющих интерфейс в данную сеть. На рисунке 1a показано три варианта. Прямоугольники представляют маршрутизаторы, круги и эллипсы – сети. В обозначениях маршрутизаторов используется префикс RT, для сетей – префикс N. Интерфейсы маршрутизаторов именуются с префиксом I. Линии между маршрутизаторами показывают сети point-to-point. В левой части рисунка показаны сети с подключенными к ним маршрутизаторами, а справа приведено представление в виде графов.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 455.04pt; text-align:left;"><span class=font38>От узла</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.24pt;">
<div class=block style=" width:294.24pt; height:9.12pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:300.72pt;">
<div class=block style=" width:250.08pt; height:109.68pt; padding:0.00pt 50.64pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:250.08pt; height:109.68pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt;">
<div class=block style=" width:26.16pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:74.40pt;">
<div class=block style=" width:74.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 8.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38>RT1</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:43.44pt;">
<div class=block style=" width:43.44pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font38>RT2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt;">
<div class=block style=" width:26.16pt; height:19.92pt;">
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 4.80pt; text-align:left;"><span class=font38>К</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:74.40pt;">
<div class=block style=" width:74.40pt; height:19.92pt;">
<div class=paragraph style=" padding:0.24pt 29.52pt 0.00pt 29.28pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;">RT1 RT2</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:74.40pt;">
<div class=block style=" width:74.40pt; height:19.92pt;">
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font38>X</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:75.12pt;">
<div class=block style=" width:75.12pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38><b>_______</b>X<b>_______</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt;">
<div class=block style=" width:26.16pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>узл</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:74.40pt;">
<div class=block style=" width:74.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Ia</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:74.40pt;">
<div class=block style=" width:74.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:75.12pt;">
<div class=block style=" width:75.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>X</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt;">
<div class=block style=" width:26.16pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 1.92pt; text-align:left; text-indent:1.68pt;"><span class=font38 style=" line-height:10.32pt;">у <i>oint-to</i></span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 4.80pt; text-align:left;"><span class=font38>К</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:74.40pt;">
<div class=block style=" width:74.40pt; height:69.60pt;">
<div class=paragraph style=" padding:0.00pt 33.12pt 0.00pt 0.00pt; text-align:left; text-indent:34.56pt;"><span class=font38 style=" line-height:10.08pt;">Ib <i>-point</i></span></div>
<div class=paragraph style=" padding:28.08pt 29.04pt 0.00pt 29.52pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;">RT7 N3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 12.72pt 0.00pt 0.00pt; text-align:right;"><span class=font38>X</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:43.44pt;">
<div class=block style=" width:43.44pt; height:39.84pt;">
<div class=paragraph style=" padding:29.04pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>От узла</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:39.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt;">
<div class=block style=" width:26.16pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 12.24pt 0.00pt 3.84pt; text-align:left; text-indent:-2.40pt;"><span class=font38 style=" line-height:9.84pt;">узл у</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 29.52pt; text-align:left;"><span class=font38 style=" line-height:20.16pt;">RT7 X</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.36pt;">
<div class=block style=" width:21.36pt; height:29.76pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:22.08pt;">
<div class=block style=" width:22.08pt; height:29.76pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 1.20pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" letter-spacing:-0.45pt;">N3<span style=" letter-spacing:0.00pt;"><b>_______</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:92.64pt;">
<div class=block style=" width:92.64pt; height:63.84pt;">
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font4><b>RT1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:47.52pt;">
<div class=block style=" width:47.52pt; height:63.84pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font4><b>Ia</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:81.12pt;">
<div class=block style=" width:81.12pt; height:63.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 60.48pt; text-align:left;"><span class=font4><b>Ib</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:72.96pt;">
<div class=block style=" width:72.96pt; height:63.84pt;">
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 13.44pt; text-align:left;"><span class=font4><b>RT2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.24pt;">
<div class=block style=" width:294.24pt; height:32.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 140.16pt; text-align:left;"><span class=font1><b>RT7</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.24pt;">
<div class=block style=" width:294.24pt; height:4.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 143.04pt; text-align:left;"><span class=font1><b>N3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.56pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 252.00pt; text-align:left;"><span class=font38><i>Оконечные сети</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:270.00pt;">
<div class=block style=" width:241.20pt; height:82.32pt; padding:0.00pt 0.00pt 0.48pt 28.80pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:241.20pt; height:82.32pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:25.20pt;">
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font1><b>RT3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.80pt;">
<div class=block style=" width:70.80pt; height:25.20pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:25.20pt;">
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font1><b>RT4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt;">
<div class=block style=" width:42.96pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.24pt;">
<div class=block style=" width:42.24pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.80pt;">
<div class=block style=" width:70.80pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.48pt;">
<div class=block style=" width:42.48pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt;">
<div class=block style=" width:42.96pt; height:10.56pt;">
<div class=paragraph style=" text-align:center;"><span class=font12 style=" letter-spacing:-0.70pt;"><b><i>&lt;^z^z^</i></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:155.52pt;">
<div class=block style=" width:155.52pt; height:10.56pt;">
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font1><b>N2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:10.56pt;">
<div class=paragraph style=" text-align:center;"><span class=font8><b>^^^^</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt;">
<div class=block style=" width:42.96pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.24pt;">
<div class=block style=" width:42.24pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.80pt;">
<div class=block style=" width:70.80pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.48pt;">
<div class=block style=" width:42.48pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:25.44pt;">
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font1><b>RT5</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.80pt;">
<div class=block style=" width:70.80pt; height:25.44pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:25.44pt;">
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font1><b>RT6</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:49.44pt;">
<div class=block style=" width:49.44pt; height:10.32pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:275.52pt;">
<div class=block style=" width:223.92pt; height:72.48pt; padding:10.32pt 50.64pt 0.00pt 0.96pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:223.92pt; height:72.48pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:19.44pt;">
<div class=paragraph style=" padding:9.36pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>От узла</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>RT6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>N2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 10.80pt 0.00pt 10.80pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RT3 RT4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 15.84pt 0.00pt 15.60pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Х Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:23.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font38>RT6</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.96pt; text-align:left;"><span class=font38>N2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:23.04pt;">
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:23.04pt;">
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:23.04pt;">
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:23.04pt;">
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:23.04pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:49.44pt;">
<div class=block style=" width:49.44pt; height:72.48pt;">
<div class=paragraph style=" padding:28.56pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">К</span></div>
<div class=paragraph style=" padding:0.00pt 11.28pt 0.00pt 29.76pt; text-align:left; text-indent:-4.08pt;"><span class=font38 style=" line-height:9.84pt;">узл у</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:197.76pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;"><i>Широковещательные и NBMA-сети</i></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;"><i>Рисунок 1a. Компоненты представления сетей.</i></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;"><i>Сети и маршрутизаторы представлены вершинами графа. Ребро графа соединяет вершину A с вершиной B, если на пересечении</i></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify; text-indent:179.28pt;"><span class=font38 style=" line-height:9.84pt;"><i>колонки A и строки B поставлен знак X. </i>В верхней части рисунка 1a показаны два маршрутизатора, соединенные каналом &laquo;точка-точка&raquo;. В результирующем графе базы данных вершины двух маршрутизаторов напрямую соединены парой ребер (по одному ребру в каждом направлении). Интерфейсы сетей point-to-point могут работать без IP-адресов. Когда интерфейсу присваивается адрес, он представляется как оконечное соединение (stub link) и каждый маршрутизатор анонсирует такое соединение по адресам других интерфейсов маршрутизатора. В дополнение к адресу с парным соединением может быть связана подсеть IP. В таких случаях оба маршрутизатора анонсируют stub-соединение с подсетью IP взамен анонса IP-адреса интерфейса</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В средней части рисунка 1a показана сеть с единственным подключенным маршрутизатором (т. е., оконечная сеть - stub network). В этом случае сеть появляется как окончание stub-соединения в графе базы каналов.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда множество маршрутизаторов подключено к широковещательной сети, граф базы каналов показывает двунаправленные соединения каждого маршрутизатора к сетевой вершине. Пример такой ситуации показан в нижней части рисунка 1a.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждая сеть (оконечная или транзитная) на графе имеет IP-адрес и связанную с ним маску подсети. Маска показывает число узлов в сети. Хосты, напрямую подключенные к маршрутизатору (в этом случае говорят о маршруте к хосту - host route) появляются на графе как оконечные сети. Маска подсети для маршрутов к хостам всегда имеет значение 0xffffffff, показывающее, что в подсети присутствует единственный узел.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:186.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>2.1.1. Представление сетей без широковещания</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Как было отмечено выше, протокол OSPF может работать в сетях без широковещания в одном из двух режимов - NBMA или Point-to-MultiPoint. Выбор режима определяет работу протокола Hello и лавинной маршрутизации в сетях без широковещания, а также способ представления сети в базе данных о каналах.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В режиме NBMA протокол OSPF эмулирует работу в широковещательной сети – для сети NBMA задается выделенный маршрутизатор DR, который генерирует LSA для сети. Графы для широковещательных сетей и сетей NBMA идентичны (см. рисунок 1a).</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Режим NBMA является наиболее эффективным вариантом использования OSPF в сетях без широковещания как с точки зрения размера базы данных о каналах, так и по объему служебного трафика. Однако этому режиму присущи серьезные ограничения – он требует подключения всех маршрутизаторов к сети NBMA для того, чтобы стал возможен прямой обмен информацией между маршрутизаторами. Это ограничение можно обойти для некоторых сетей без широковещания (например, для подсетей ATM, использующих SVC). Однако в других случаях, такое ограничение может оказаться очень существенным (например, для сетей Frame Relay, в которых поддерживаются только постоянные соединения PVC). В сетях без широковещания, где не все маршрутизаторы могут быть связаны напрямую, можно разбить сеть на логические подсети, в каждой из которых маршрутизаторы смогут взаимодействовать напрямую и тогда каждая отдельная подсеть может функционировать как сеть NBMA (см. [Ref15]). Однако такое решение требует от администратора значительных усилий и, к тому же, на этом пути легко допустить ошибки в настройке. Возможно, что для таких сетей будет лучше использовать режим Point-to-Multipoint.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:27.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.24pt;">
<div class=block style=" width:294.24pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:26.16pt;">
<div class=block style=" width:26.16pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 11.04pt; text-align:left;"><span class=font7><b>6</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:274.56pt;">
<div class=block style=" width:274.56pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 139.92pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:92.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:81.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:274.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:103.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:121.92pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В режиме Point-to-MultiPoint протокол OSPF трактует соединения между маршрутизаторами через сеть без широковещания просто как каналы &laquo;точка-точка&raquo;. В сети не задается маршрутизатор DR и для сети не генерируются LSA. Фактически, вершина для сетей Point-to-MultiPoint просто не появляется на графе базы каналов.</span></div>
<div class=paragraph style=" padding:4.32pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">На рисунке 1b показано представление базы данных для сети Point-to-MultiPoint. Слева приведена схема сети Point-to-MultiPoint. Предполагается, что все маршрутизаторы могут взаимодействовать напрямую, за исключением маршрутизаторов RT4 и RT5. Интерфейсы I3 - I6 идентифицируются по их IP-адресам в сети Point-to-MultiPoint. В графическом представлении базы данных маршрутизаторы, способные взаимодействовать напрямую через сеть Point-to-MultiPoint, соединены двунаправленными ребрами и каждый маршрутизатор также имеет stub-соединение со своим интерфейсом по IP-адресу (в отличие от сети point-to-point, показанной на рисунке 1a).</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">В некоторых сетях без широковещания использование режима Point-to-MultiPoint и протоколов канального уровня типа Inverse ARP (см. [Ref14]) позволяет автоматически детектировать соседей OSPF, несмотря на отсутствие широковещания.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="8" valign="top" style=" width:323.04pt;">
<div class=block style=" width:249.36pt; height:99.84pt; padding:2.16pt 15.36pt 0.00pt 58.32pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:249.36pt; height:99.84pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:88.08pt;">
<div class=block style=" width:88.08pt; height:30.72pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 34.08pt; text-align:left;"><span class=font2><b>R ТЗ</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:73.20pt;">
<div class=block style=" width:73.20pt; height:43.20pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:88.08pt;">
<div class=block style=" width:88.08pt; height:30.72pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 33.60pt; text-align:left;"><span class=font2><b>R T4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt;">
<div class=block style=" width:44.16pt; height:12.48pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.92pt;">
<div class=block style=" width:43.92pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font2><b>13</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.92pt;">
<div class=block style=" width:43.92pt; height:12.48pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.16pt;">
<div class=block style=" width:44.16pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font2><b>14</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt;">
<div class=block style=" width:44.16pt; height:13.20pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:161.04pt;">
<div class=block style=" width:161.04pt; height:13.20pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 73.68pt; text-align:left;"><span class=font2><b>N 2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.16pt;">
<div class=block style=" width:44.16pt; height:13.20pt;">
<div class=paragraph style=" text-align:center;"><span class=font9><b><i>^^^&gt;</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt;">
<div class=block style=" width:44.16pt; height:12.48pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.92pt;">
<div class=block style=" width:43.92pt; height:12.48pt;">
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font2><b>15</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:73.20pt;">
<div class=block style=" width:73.20pt; height:43.44pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.92pt;">
<div class=block style=" width:43.92pt; height:12.48pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.16pt;">
<div class=block style=" width:44.16pt; height:12.48pt;">
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font2><b>16</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:88.08pt;">
<div class=block style=" width:88.08pt; height:30.96pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 34.08pt; text-align:left;"><span class=font2><b>R T5</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:88.08pt;">
<div class=block style=" width:88.08pt; height:30.96pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 33.60pt; text-align:left;"><span class=font2><b>R T6</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:104.88pt;">
<div class=block style=" width:104.88pt; height:19.92pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 74.16pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:43.68pt;">
<div class=block style=" width:43.68pt; height:31.20pt;">
<div class=paragraph style=" padding:0.00pt 14.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;">От узла</span></div>
<div class=paragraph style=" padding:0.00pt 14.88pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><u>RT4</u></span></div>
<div class=paragraph style=" padding:0.00pt 15.36pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;">Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:19.92pt;">
<div class=block style=" width:19.92pt; height:19.92pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:103.44pt;">
<div class=block style=" width:103.44pt; height:19.92pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 17.52pt; text-align:left;"><span class=font38>RT6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:104.88pt;">
<div class=block style=" width:104.88pt; height:11.28pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 36.72pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:19.92pt;">
<div class=block style=" width:19.92pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.56pt; text-align:left;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:103.44pt;">
<div class=block style=" width:103.44pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 22.08pt; text-align:left;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:0.48pt;">
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:124.08pt;">
<div class=block style=" width:124.08pt; height:49.20pt; padding:0.00pt 0.00pt 2.40pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:124.08pt; height:49.20pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:40.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt;">
<div class=block style=" width:24.48pt; height:19.44pt;">
<div class=paragraph style=" padding:0.00pt 10.56pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">К узл</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:40.80pt;">
<div class=block style=" width:40.80pt; height:19.44pt;">
<div class=paragraph style=" padding:0.00pt 12.72pt 0.00pt 14.16pt; text-align:left; text-indent:-1.92pt;"><span class=font38 style=" line-height:10.08pt;">RT4 RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:19.44pt;">
<div class=paragraph style=" padding:0.00pt 15.36pt 0.00pt 13.44pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Х Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:23.52pt;">
<div class=block style=" width:23.52pt; height:19.44pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt;">
<div class=block style=" width:24.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>у</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:40.80pt;">
<div class=block style=" width:40.80pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:23.52pt;">
<div class=block style=" width:23.52pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:right;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt;">
<div class=block style=" width:24.48pt; height:19.68pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:40.80pt;">
<div class=block style=" width:40.80pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 15.12pt 0.00pt 16.56pt; text-align:left; text-indent:2.16pt;"><span class=font38 style=" line-height:10.08pt;">I3 I4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:23.52pt;">
<div class=block style=" width:23.52pt; height:19.68pt;">
<div class=paragraph style=" padding:9.12pt 1.68pt 0.00pt 0.00pt; text-align:right;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:40.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:24.48pt;">
<div class=block style=" width:24.48pt; height:18.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.48pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:18.24pt;">
</td>
<td class=cell rowspan="3" valign="top" style=" width:103.44pt;">
<div class=block style=" width:103.44pt; height:51.12pt;">
<div class=paragraph style=" padding:0.00pt 74.88pt 0.00pt 22.08pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Х Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:18.24pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:44.40pt;">
<div class=block style=" width:44.40pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt;">
<div class=block style=" width:24.48pt; height:2.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:19.92pt;">
<div class=block style=" width:19.92pt; height:22.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.56pt; text-align:left;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:148.56pt;">
<div class=block style=" width:148.56pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 41.04pt; text-align:left;"><span class=font38>I5</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:103.44pt;">
<div class=block style=" width:103.44pt; height:19.20pt;">
<div class=paragraph style=" padding:7.20pt 0.00pt 0.00pt 22.08pt; text-align:left;"><span class=font38>Х</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:148.56pt;">
<div class=block style=" width:148.56pt; height:12.00pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 41.04pt; text-align:left;"><span class=font38>I6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:10.56pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:248.16pt;">
<div class=paragraph style=" padding:0.00pt 50.16pt 0.00pt 78.24pt; text-align:left; text-indent:129.36pt;"><span class=font38 style=" line-height:9.84pt;"><i>Рисунок 1b: Компоненты представления сетей Point-to-MultiPoint Все маршрутизаторы (за исключением RT4 и RT5) могут взаимодействовать напрямую через сеть N2. Интерфейсы I3- I6</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 268.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><i>используют IP-адреса.</i></span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>2.1.2. Пример базы данных о каналах</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">На рисунке 2 показан пример автономной системы. Прямоугольник с меткой H1 показывает хост, имеющий SLIP-соединение с маршрутизатором RT12. Маршрутизатор RT12, следовательно, анонсирует маршрут к хосту. Линии между маршрутизаторами показывают физические сети point-to-point. Единственная сеть point-to-point, в которой используются адреса для интерфейсов, соединяет маршрутизаторы RT6 и RT10. Маршрутизаторы RT5 и RT7 имеют BGP-соединение с другими AS. Набор полученных по BGP маршрутов показан для обоих маршрутизаторов.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Стоимость связывается с выходом каждого интерфейса в маршрутизаторе. Значение стоимости задает администратор сети. Чем меньше стоимость для интерфейса, тем с большей вероятностью этот интерфейс будет использоваться для пересылки трафика. Значение стоимости связывается также с полученной извне маршрутной информацией (например, данными BGP).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Направленный граф для сети, показанной на рисунке 2, приведен в таблице 1. На рисунке цифры показывают стоимость, связанную с интерфейсами маршрутизаторов. Если стоимость не указана, предполагается нулевое значение. Отметим, что соединения, выходящие из сетей, всегда имеют нулевую стоимость. Также подчеркнем, что полученные извне маршрутные данные показаны на графе как оконечные (stub).</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">База данных о каналах собирается по частям из LSA, генерируемых маршрутизаторами. В связанном графическом представлении соседство каждого маршрутизатора или транзитной сети представлено в одной, отдельной записи LSA. В таблице 2 эти LSA представлены графически. Маршрутизатор RT12 имеет интерфейсы в две широковещательные сети и SLIP-соединение с хостом. Сеть N6 является широковещательной и с ней соединены три маршрутизатора. Стоимость всех соединений из сети N6 с подключенными к этой сети маршрутизаторами равна 0. Отметим, что LSA для сети N6 на самом деле порождается одним из подключенных к этой сети маршрутизаторов, который для этой сети как DR.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:300.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.72pt;">
<div class=block style=" width:306.72pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:164.88pt;">
<div class=block style=" width:164.88pt; height:12.72pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font8><b>7</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:123.36pt;">
<div class=block style=" width:123.36pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.92pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:103.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:34.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:115.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:69.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:447.36pt;">
<div class=block style=" width:447.36pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:147.60pt;">
<div class=block style=" width:147.60pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.12pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:78.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 118.56pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 120.72pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;">I <b>3+---+</b><span class=font6><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>N12      N14</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 107.28pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>N1|--|RT1|\ 1</b><span class=font6><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>\ N13 /</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 120.72pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>|  +</b>—<b>+ \</b><span class=font6><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>8\ |8/8</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 118.56pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+         \ </b>_____<span class=font6>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><b>\|/</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 177.12pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>/    \   1+—+8</b><span class=font6><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>8+ </b>—<b>-+6</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 172.08pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>*  N3  *---</b><span style=" letter-spacing:-0.55pt;"><b>|RT4|</b></span><b>------</b><span style=" letter-spacing:-0.55pt;"><b>|RT5|</b></span><b>-----</b></span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 177.12pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>\</b><span class=font6>_____</span><b>/    +</b>—<b>+</b><span class=font6><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>+</b>—<b>+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:186.96pt;">
<div class=block style=" width:186.96pt; height:97.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 123.84pt; text-align:left;"><span class=font23 style=" line-height:10.08pt;"><b>+         /</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 126.00pt; text-align:left;"><span class=font23 style=" line-height:10.08pt;">I <b>3+—+ /</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 112.56pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>N2 | </b>— <b>|RT2|/1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 126.00pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>|  +---+</b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:92.88pt;">
<div class=block style=" width:92.88pt; height:97.44pt;">
<div class=paragraph style=" padding:0.00pt 72.00pt 0.00pt 12.96pt; text-align:justify;"><span class=font23 style=" line-height:10.08pt;">I I И</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font25><b>+---+8</b></span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font25><b>|RT3| </b>—</span></div>
<div class=paragraph style=" text-align:left;"><span class=font25 style=" line-height:10.80pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.00pt 72.48pt 0.00pt 12.96pt; text-align:left;"><span class=font23 style=" line-height:10.80pt; letter-spacing:-0.95pt;">1<b>2 </b><span style=" letter-spacing:0.00pt;">I</span></span></div>
<div class=paragraph style=" padding:10.08pt 0.00pt 0.00pt 4.80pt; text-align:left;"><span class=font25><b>N4</b></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:315.12pt;">
<div class=block style=" width:315.12pt; height:40.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.24pt; text-align:left;"><span class=font23 style=" line-height:10.08pt; letter-spacing:-0.80pt;">1<b>7</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.24pt; text-align:left;"><span class=font23 style=" line-height:10.08pt;"><b>|</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 20.16pt; text-align:left;"><span class=font25 style=" line-height:10.08pt; letter-spacing:-0.70pt;"><b>|6</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>6+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:315.12pt;">
<div class=block style=" width:315.12pt; height:56.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.56pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>-|RT6|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.44pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 7.92pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;">l<b>a</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 149.76pt; text-align:left;"><span class=font29><b>N11</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:14.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:177.36pt;">
<div class=block style=" width:177.36pt; height:90.96pt;">
<div class=paragraph style=" padding:0.00pt 12.00pt 0.00pt 157.44pt; text-align:left;"><span class=font23 style=" line-height:9.36pt;">I <span style=" letter-spacing:-0.70pt;">1<b>3</b></span></span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 144.96pt; text-align:left;"><span class=font25 style=" line-height:9.36pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 147.12pt; text-align:left;"><span class=font25 style=" letter-spacing:-0.40pt;"><b>|RT9|</b></span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 144.96pt; text-align:left;"><span class=font25><b>+---+</b></span></div>
<div class=paragraph style=" padding:1.44pt 1.44pt 0.00pt 141.36pt; text-align:left; text-indent:7.92pt;"><span class=font32 style=" line-height:9.12pt;">И <b>_</b>l_ <span style=" letter-spacing:-1.50pt;"><b>/    \ </b></span><span class=font5 style=" letter-spacing:-1.45pt;"><i>к     </i></span><span class=font23 style=" letter-spacing:-1.45pt;">ид</span></span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:417.60pt;">
<div class=block style=" width:417.60pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 204.72pt; text-align:left;"><span class=font29><b>N12</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:81.60pt;">
<div class=paragraph style=" padding:60.24pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font25><b>1+----+2</b></span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font25><b>*------|RT11| </b>—</span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:22.56pt;">
<div class=block style=" width:22.56pt; height:168.96pt;">
<div class=paragraph style=" padding:50.16pt 3.84pt 0.00pt 0.00pt; text-align:left; text-indent:2.88pt;"><span class=font18 style=" line-height:10.08pt;">I I — I<b>-</b>I I</span></div>
<div class=paragraph style=" padding:0.00pt 8.88pt 0.00pt 3.36pt; text-align:left; text-indent:5.76pt;"><span class=font29 style=" line-height:10.56pt;"><b>+ N8</b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:168.96pt;">
<div class=paragraph style=" padding:49.44pt 0.00pt 0.00pt 8.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-1.40pt;">l<b>b |5</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.85pt;"><b>3+</b><span style=" letter-spacing:0.00pt;"><b>----</b></span><span style=" letter-spacing:-0.35pt;"><b>+1</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.65pt;">— <b>|RT10| </b>—</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.44pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="3" valign="top" style=" width:262.80pt;">
<div class=block style=" width:262.80pt; height:168.96pt;">
<div class=paragraph style=" padding:0.00pt 213.36pt 0.00pt 13.20pt; text-align:left; text-indent:12.96pt;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.80pt;">1<b>6 2/ </b><span style=" letter-spacing:0.00pt;"><b>+</b>—<b>+/</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 15.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.95pt;"><b>|RT7|</b><span style=" letter-spacing:0.00pt;"><b>---</b></span><span style=" letter-spacing:-0.30pt;"><b>N15</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.20pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+ 9</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 26.16pt; text-align:left;"><span class=font33>И</span></div>
<div class=paragraph style=" padding:8.64pt 218.40pt 0.00pt 0.00pt; text-align:left; text-indent:8.40pt;"><span class=font25 style=" line-height:10.32pt;"><b>/    \ -*  N6  *</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 8.40pt; text-align:left;"><span class=font25 style=" line-height:10.32pt;"><b>\</b>_____<b>/</b></span></div>
<div class=paragraph style=" padding:0.00pt 228.96pt 0.00pt 26.16pt; text-align:left;"><span class=font23 style=" line-height:10.32pt;">I И</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.44pt; text-align:left;"><span class=font25><b>+---+</b></span></div>
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 15.60pt; text-align:left;"><span class=font25 style=" letter-spacing:-0.40pt;"><b>|RT8|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.44pt; text-align:left;"><span class=font25 style=" line-height:10.80pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.00pt 229.20pt 0.00pt 26.16pt; text-align:left;"><span class=font23 style=" line-height:10.80pt;">И I</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:149.76pt;">
<div class=block style=" width:149.76pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 145.44pt; text-align:left;"><span class=font32><b>\</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:107.52pt;">
<div class=block style=" width:107.52pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 22.08pt; text-align:left;"><span class=font32><b>/</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:186.96pt;">
<div class=block style=" width:186.96pt; height:100.80pt;">
<div class=paragraph style=" padding:0.00pt 21.36pt 0.00pt 157.44pt; text-align:left;"><span class=font23 style=" line-height:10.08pt;">I И</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 97.44pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+</b>—<b>+   10+----+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.60pt; text-align:left;"><span class=font25 style=" line-height:10.08pt; letter-spacing:-2.00pt;"><b>| H</b>I <b>|</b><span style=" letter-spacing:0.00pt;"><b>-----</b></span><span style=" letter-spacing:-0.25pt;"><b>|RT12|</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 97.44pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+</b>—<b>+SLIP +----+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 157.44pt; text-align:left;"><span class=font23 style=" line-height:10.08pt; letter-spacing:-0.80pt;">1<b>2</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 157.44pt; text-align:left;"><span class=font23>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 128.88pt; text-align:left;"><span class=font25><b>+----------</b></span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 149.76pt; text-align:left;"><span class=font25><b>N10</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:70.32pt;">
<div class=block style=" width:70.32pt; height:76.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:24.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 168.96pt; text-align:left;"><span class=font25><b>N7</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.48pt; text-align:left;"><span class=font38><i>Рисунок 2. Пример автономной системы</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:332.16pt;">
<div class=block style=" width:332.16pt; height:21.84pt;">
<div class=paragraph style=" padding:10.08pt 0.00pt 0.00pt 298.56pt; text-align:left;"><span class=font38>От узла</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:262.80pt;">
<div class=block style=" width:262.80pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38><i>Таблица 1 Графическое представление базы данных.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="6" valign="top" style=" width:53.28pt;">
<div class=block style=" width:53.28pt; height:96.24pt;">
<div class=paragraph style=" padding:7.20pt 0.00pt 0.00pt 34.08pt; text-align:left;"><span class=font38>К</span></div>
<div class=paragraph style=" padding:7.92pt 14.64pt 0.00pt 34.08pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">у з л у</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:88.08pt;">
<div class=block style=" width:88.08pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 34.80pt; text-align:left;"><span class=font38>RT1     RT2</span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:163.92pt;">
<div class=block style=" width:163.92pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font38>RT3     RT4     RT5     RT6     RT7     RT8</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:142.08pt;">
<div class=block style=" width:142.08pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.76pt; text-align:left;"><span class=font38>RT9     RT10     RT11      RT12</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:12.96pt;">
<div class=block style=" width:12.96pt; height:40.08pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 3.60pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:9.84pt;"><u>N3 </u>0 0 0</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:40.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.20pt; text-align:left;"><span class=font38>N6      N8</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:69.36pt;">
<div class=block style=" width:69.36pt; height:40.08pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>N9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:133.68pt;">
<div class=block style=" width:133.68pt; height:32.88pt;">
<div class=paragraph style=" padding:0.96pt 118.08pt 0.00pt 0.24pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">RT1 RT2 <span style=" letter-spacing:-0.40pt;">RT3</span></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:260.40pt;">
<div class=block style=" width:260.40pt; height:32.88pt;">
<div class=paragraph style=" padding:20.88pt 0.00pt 0.00pt 50.16pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:96.48pt;">
<div class=block style=" width:96.48pt; height:56.16pt;">
<div class=paragraph style=" padding:0.00pt 80.64pt 0.00pt 0.24pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">RT4 RT5 <u>RT6 </u>RT7 RT8 RT9</span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:49.92pt;">
<div class=paragraph style=" padding:18.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:9.60pt;">
<div class=block style=" width:9.60pt; height:20.16pt;">
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 2.64pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:260.40pt;">
<div class=block style=" width:260.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 21.84pt; text-align:left;"><span class=font29>S</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:147.60pt;">
<div class=block style=" width:147.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:70.32pt;">
<div class=block style=" width:70.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 50.16pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:337.68pt;">
<div class=block style=" width:337.68pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:417.60pt;">
<div class=block style=" width:417.60pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 176.88pt; text-align:left;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:445.20pt;">
<div class=block style=" width:445.20pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 379.68pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="4" valign="top" style=" width:88.08pt;">
<div class=block style=" width:88.08pt; height:56.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT10</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT11</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>RT12</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.45pt;">N1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N3</span></div>
</div>
</td>
<td class=cell colspan="14" valign="top" style=" width:506.88pt;">
<div class=block style=" width:506.88pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 149.04pt; text-align:left;"><span class=font38>7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:506.88pt;">
<div class=block style=" width:506.88pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 414.96pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:506.88pt;">
<div class=block style=" width:506.88pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:61.68pt;">
<div class=block style=" width:61.68pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.40pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:417.60pt;">
<div class=block style=" width:417.60pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" rowspan="3" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:56.16pt;">
<div class=paragraph style=" padding:0.00pt 168.48pt 0.00pt 53.28pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">N4 N6 <u>N7 </u>N8 N9 N10</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:86.40pt;">
<div class=block style=" width:86.40pt; height:30.24pt;">
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 0.96pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:271.44pt;">
<div class=block style=" width:271.44pt; height:30.24pt;">
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:357.84pt;">
<div class=block style=" width:357.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 86.40pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:357.84pt;">
<div class=block style=" width:357.84pt; height:15.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 58.08pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="4" valign="top" style=" width:186.96pt;">
<div class=block style=" width:186.96pt; height:56.16pt;">
<div class=paragraph style=" padding:0.00pt 118.32pt 0.00pt 53.28pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">N11 N12 <u>N13 </u>N14 N15 H<b>I</b></span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 107.76pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 50.16pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 50.64pt; text-align:left;"><span class=font38>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 199.20pt; text-align:left;"><span class=font38>10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:50.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:279.84pt;">
<div class=block style=" width:279.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:167.52pt;">
<div class=block style=" width:167.52pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 25.44pt; text-align:left;"><span class=font7><b>8</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:147.60pt;">
<div class=block style=" width:147.60pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.96pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:34.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:115.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:69.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:11.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="15" rowspan="2" valign="top" style=" width:184.56pt;">
<div class=block style=" width:184.56pt; height:21.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="13" valign="top" style=" width:410.40pt;">
<div class=block style=" width:410.40pt; height:11.28pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 192.24pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:18.24pt;">
<div class=block style=" width:18.24pt; height:32.88pt;">
<div class=paragraph style=" padding:10.08pt 0.00pt 0.00pt 0.96pt; text-align:left;"><span class=font38>От</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:18.48pt;">
<div class=block style=" width:18.48pt; height:32.88pt;">
<div class=paragraph style=" padding:10.08pt 0.24pt 0.00pt 2.88pt; text-align:left; text-indent:-2.88pt;"><span class=font38 style=" line-height:9.84pt;"><u>зла </u>N10</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:159.36pt;">
<div class=block style=" width:159.36pt; height:10.08pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:185.76pt;">
<div class=block style=" width:185.76pt; height:51.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.28pt; text-align:left; text-indent:-11.28pt;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 2 Отдельные компоненты базы данных. </i><u>От</u> у<u>зла </u>RT9       RT11      RT12        N9 RT9<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>0</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT11<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>0</span></div>
</div>
</td>
<td class=cell rowspan="4" valign="top" style=" width:28.56pt;">
<div class=block style=" width:28.56pt; height:51.84pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:89.28pt;">
<div class=block style=" width:89.28pt; height:40.08pt;">
<div class=paragraph style=" padding:30.00pt 0.00pt 0.00pt 66.96pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">К</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:36.96pt;">
<div class=block style=" width:36.96pt; height:40.08pt;">
<div class=paragraph style=" padding:20.88pt 12.24pt 0.00pt 4.56pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RT12 N9</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:22.80pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 5.04pt; text-align:left;"><span class=font38>RT12</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:24.72pt;">
<div class=block style=" width:24.72pt; height:22.80pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 8.40pt; text-align:left;"><span class=font38>N9</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:159.36pt;">
<div class=block style=" width:159.36pt; height:22.80pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 21.60pt; text-align:left;"><span class=font38>H1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="18" valign="top" style=" width:198.24pt;">
<div class=block style=" width:198.24pt; height:17.28pt;">
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:17.28pt;">
<div class=paragraph style=" padding:7.20pt 0.00pt 0.00pt 35.76pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">К</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="24" valign="top" style=" width:380.64pt;">
<div class=block style=" width:380.64pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="3" valign="top" style=" width:63.60pt;">
<div class=block style=" width:63.60pt; height:18.96pt;">
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:18.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.32pt; text-align:left; text-indent:-4.32pt;"><span class=font38 style=" line-height:9.84pt;">узл у</span></div>
</div>
</td>
<td class=cell colspan="21" valign="top" style=" width:248.40pt;">
<div class=block style=" width:248.40pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N10        2</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:17.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 35.76pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">узл</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 35.76pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">у</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:48.72pt;">
<div class=block style=" width:48.72pt; height:17.28pt;">
<div class=paragraph style=" padding:0.00pt 17.52pt 0.00pt 11.04pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RT12 N9</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:165.60pt;">
<div class=block style=" width:165.60pt; height:17.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 122.64pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="21" valign="top" style=" width:248.40pt;">
<div class=block style=" width:248.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">H1<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="26" valign="top" style=" width:518.88pt;">
<div class=block style=" width:518.88pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 120.96pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSA для маршрутизатора RT12<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>LSA для сети N9</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Сети и маршрутизаторы представлены вершинами. Ребро стоимостью X соединяет вершину A с вершиной B, если на пересечении колонки A и строки B показан знак X.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" rowspan="2" valign="top" style=" width:132.24pt;">
<div class=block style=" width:132.24pt; height:40.08pt;">
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 73.44pt; text-align:left;"><span class=font29><b>RT5 </b>о—</span></div>
<div class=paragraph style=" padding:1.44pt 22.32pt 0.00pt 79.44pt; text-align:left; text-indent:10.80pt;"><span class=font21 style=" line-height:8.88pt;"><b>/l\ </b><span class=font29 style=" letter-spacing:-0.40pt;"><b>8/8|8\</b></span></span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:86.64pt;">
<div class=block style=" width:86.64pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 22.08pt 0.00pt 0.72pt; text-align:left; text-indent:3.84pt;"><span class=font29 style=" line-height:9.12pt;"><b>RT6(origin) </b>------о-----</span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="3" valign="top" style=" width:87.60pt;">
<div class=block style=" width:87.60pt; height:50.16pt;">
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 2.40pt; text-align:left;"><span class=font29><b>-o Ib</b></span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="17" valign="top" style=" width:288.48pt;">
<div class=block style=" width:288.48pt; height:366.48pt;">
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font11><b>2.2.&nbsp; Дерево кратчайших путей</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При отсутствии областей OSPF все маршрутизаторы в AS имеют идентичные базы данных о состоянии каналов; графическое представление этих баз также будет идентичным. Маршрутизатор генерирует свою таблицу маршрутов из графа базы данных, рассчитывая дерево кратчайших путей, корнем которого является сам маршрутизатор. Обычно дерево зависит от маршрутизатора, для которого оно рассчитано. Дерево для маршрутизатора RT6 из приведенного примера показано на рисунке 3.</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Дерево включает путь к любой сети или хосту. Однако при пересылке пакетов адресату используется только следующий маршрутизатор (next hop). Отметим также, что рассчитывается лучший путь к каждому маршрутизатору. Для обработки внешних данных отметим next hop и дистанцию для всех маршрутизаторов, анонсирующих внешние маршруты. Полученная в результате таблица маршрутизации для RT6 показана в таблице 3. Отметим, что существует отдельный маршрут для каждого конца адресуемой сети point-to-point (в нашем случае это последовательный канал между RT6 и RT10).</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы в сети, относящиеся к другим AS (например, N12) показаны пунктирными линиями на дереве кратчайших путей (рисунок 3). Использование этой полученной извне маршрутной информации рассмотрено в следующем параграфе.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font11><b>2.3.&nbsp;Внешние данные</b></span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После создания дерева проверяется маршрутная информация, полученная извне. Эта информация может приходить от других протоколов маршрутизации (например, BGP) или задаваться статически. Принятые по умолчанию маршруты также могут включаться как часть внешних маршрутных данных AS.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:20.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="9" rowspan="2" valign="top" style=" width:76.08pt;">
<div class=block style=" width:76.08pt; height:30.48pt;">
<div class=paragraph style=" padding:0.00pt 22.80pt 0.00pt 0.00pt; text-align:center;"><span class=font32 style=" letter-spacing:-2.65pt;">1<b>\</b></span></div>
<div class=paragraph style=" padding:0.00pt 17.04pt 0.00pt 0.00pt; text-align:center;"><span class=font32 style=" letter-spacing:-2.20pt;">| \</span></div>
<div class=paragraph style=" padding:0.00pt 18.96pt 0.00pt 0.00pt; text-align:center;"><span class=font32 style=" letter-spacing:-1.65pt;"><b>6</b>1  \</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:10.08pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:89.28pt;">
<div class=block style=" width:89.28pt; height:61.20pt;">
<div class=paragraph style=" padding:0.00pt 5.52pt 0.00pt 68.16pt; text-align:left; text-indent:5.52pt;"><span class=font29 style=" line-height:9.60pt;"><b>/ </b>о <b>N12</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:22.08pt;">
<div class=block style=" width:22.08pt; height:61.20pt;">
<div class=paragraph style=" padding:0.00pt 12.96pt 0.00pt 7.68pt; text-align:left;"><span class=font18 style=" line-height:9.60pt;">I I</span></div>
<div class=paragraph style=" padding:0.00pt 6.72pt 0.00pt 0.00pt; text-align:left; text-indent:6.48pt;"><span class=font29 style=" line-height:9.60pt;">о <span style=" letter-spacing:-0.40pt;"><b>N13</b></span></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:31.44pt;">
<div class=block style=" width:31.44pt; height:61.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>\</b></span></div>
<div class=paragraph style=" padding:0.00pt 15.60pt 0.00pt 0.00pt; text-align:left; text-indent:5.04pt;"><span class=font29 style=" line-height:10.08pt;">о <b>N14</b></span></div>
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 4.32pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>N4 </b>о<b>-</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:10.08pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:51.12pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:16.08pt;">
<div class=block style=" width:16.08pt; height:72.24pt;">
<div class=paragraph style=" padding:50.40pt 1.20pt 0.00pt 5.52pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.75pt;"><b>1/ </b><span style=" letter-spacing:0.00pt;"><b>/</b></span></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:15.12pt;">
<div class=block style=" width:15.12pt; height:72.24pt;">
<div class=paragraph style=" padding:0.00pt 7.44pt 0.00pt 0.00pt; text-align:right;"><span class=font18 style=" line-height:10.08pt;">I</span></div>
<div class=paragraph style=" padding:0.24pt 5.04pt 0.00pt 0.00pt; text-align:right;"><span class=font18 style=" line-height:10.08pt;">I</span></div>
<div class=paragraph style=" padding:0.00pt 7.44pt 0.00pt 0.00pt; text-align:right;"><span class=font18 style=" line-height:10.08pt;">I</span></div>
<div class=paragraph style=" padding:0.00pt 5.76pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" letter-spacing:-1.25pt;"><b>-</b>о</span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="3" valign="top" style=" width:68.88pt;">
<div class=block style=" width:68.88pt; height:81.60pt;">
<div class=paragraph style=" padding:0.00pt 32.64pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>\7 </b>\ \ <b>RT3  \ \</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 11.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>RT10 </b>о---</span></div>
<div class=paragraph style=" padding:0.48pt 11.04pt 0.00pt 32.16pt; text-align:left; text-indent:8.64pt;"><span class=font32 style=" line-height:9.84pt; letter-spacing:-2.75pt;">1<b>\ </b><span class=font29 style=" letter-spacing:-0.25pt;"><b>3| \1 </b></span></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:63.60pt;">
<div class=block style=" width:63.60pt; height:81.60pt;">
<div class=paragraph style=" padding:49.44pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.50pt;"><b>-</b>о 1а</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:51.12pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" rowspan="2" valign="top" style=" width:133.92pt;">
<div class=block style=" width:133.92pt; height:30.48pt;">
<div class=paragraph style=" padding:18.72pt 0.00pt 0.00pt 89.52pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>RT4 </b>о<b>-</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:8.88pt;">
<div class=block style=" width:8.88pt; height:21.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:17.04pt;">
<div class=paragraph style=" padding:0.00pt 0.96pt 0.00pt 3.60pt; text-align:left; text-indent:-3.60pt;"><span class=font29 style=" line-height:11.28pt; letter-spacing:-0.95pt;"><b>--о </b><span class=font21 style=" letter-spacing:-0.15pt;"><b>/</b>I</span></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:25.68pt;">
<div class=block style=" width:25.68pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font29><b>N3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:133.92pt;">
<div class=block style=" width:133.92pt; height:7.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:4.08pt;">
<div class=block style=" width:4.08pt; height:7.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="8" rowspan="2" valign="top" style=" width:68.88pt;">
<div class=block style=" width:68.88pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 60.96pt; text-align:left;"><span class=font18 style=" line-height:9.84pt;">I<br></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="9" valign="top" style=" width:35.52pt;">
<div class=block style=" width:35.52pt; height:118.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font29><b>\ N6</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 11.04pt; text-align:left;"><span class=font29>о---</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 13.20pt; text-align:left;"><span class=font18>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.20pt; text-align:left;"><span class=font18>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.96pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.80pt;"><b>|RT8</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 11.28pt; text-align:left;"><span class=font29>о</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 12.96pt; text-align:left;"><span class=font21>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.20pt; text-align:left;"><span class=font21 style=" letter-spacing:-0.40pt;">1<b>4</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.96pt; text-align:left;"><span class=font21>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.04pt; text-align:left;"><span class=font29>о <b>N7</b></span></div>
</div>
</td>
<td class=cell rowspan="9" valign="top" style=" width:49.68pt;">
<div class=block style=" width:49.68pt; height:118.08pt;">
<div class=paragraph style=" padding:0.00pt 16.80pt 0.00pt 0.00pt; text-align:left; text-indent:17.52pt;"><span class=font29 style=" line-height:8.40pt; letter-spacing:-0.45pt;"><b>RT7 </b><span style=" letter-spacing:0.00pt;">-----о</span></span></div>
<div class=paragraph style=" padding:2.64pt 11.28pt 0.00pt 1.20pt; text-align:left; text-indent:10.80pt;"><span class=font21 style=" line-height:9.84pt;"><b>/</b>I <span class=font29><b>2/ |9 </b></span><b>/  </b>I <span class=font29>о  о </span><span class=font29><b>N12 N15</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:3.36pt;">
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:131.52pt;">
<div class=block style=" width:131.52pt; height:15.36pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:11.28pt;">
<div class=block style=" width:11.28pt; height:15.36pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>/</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:9.60pt;">
<div class=block style=" width:9.60pt; height:23.76pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font18>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font18>I</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:3.36pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.48pt; text-align:left;"><span class=font29 style=" line-height:9.84pt;"><b>N8</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="4" valign="top" style=" width:10.08pt;">
<div class=block style=" width:10.08pt; height:40.80pt;">
<div class=paragraph style=" padding:0.00pt 5.52pt 0.00pt 2.16pt; text-align:justify; text-indent:-2.16pt;"><span class=font29 style=" line-height:10.56pt;">о <span class=font18>I I I</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" rowspan="5" valign="top" style=" width:126.24pt;">
<div class=block style=" width:126.24pt; height:49.20pt;">
<div class=paragraph style=" padding:6.00pt 0.24pt 0.00pt 105.84pt; text-align:left; text-indent:-6.00pt;"><span class=font29 style=" line-height:10.08pt;"><b>RT2 </b>о <b>/ </b><span style=" letter-spacing:-0.60pt;"><b>/3 </b></span><b>/</b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="5" valign="top" style=" width:7.68pt;">
<div class=block style=" width:7.68pt; height:49.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>/</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:8.88pt;">
<div class=block style=" width:8.88pt; height:8.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:18.48pt;">
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font29><b>RT1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:18.48pt;">
<div class=block style=" width:18.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font29>о</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:10.32pt;">
</td>
<td class=cell colspan="6" rowspan="4" valign="top" style=" width:40.08pt;">
<div class=block style=" width:40.08pt; height:76.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font21>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font21 style=" letter-spacing:-0.50pt;">1<b>3</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font21>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.40pt;">о <b>N1</b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:20.40pt;">
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 10.56pt; text-align:left;"><span class=font29><b>RT11</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:10.32pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:10.08pt;">
<div class=block style=" width:10.08pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font29>о</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:10.32pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:56.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:34.32pt;">
<div class=block style=" width:34.32pt; height:67.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font35 style=" line-height:10.08pt;"><b>I</b></span></div>
<div class=paragraph style=" padding:0.24pt 4.56pt 0.00pt 28.56pt; text-align:left; text-indent:-6.72pt;"><span class=font35 style=" line-height:10.08pt;"><b>II I</b></span></div>
<div class=paragraph style=" padding:0.00pt 3.12pt 0.00pt 0.00pt; text-align:right;"><span class=font29><b>N9 </b>о</span></div>
<div class=paragraph style=" padding:0.72pt 4.56pt 0.00pt 0.00pt; text-align:right;"><span class=font21 style=" line-height:10.08pt;">/I</span></div>
<div class=paragraph style=" padding:0.24pt 4.32pt 0.00pt 0.00pt; text-align:right;"><span class=font21 style=" line-height:10.08pt;">/ I</span></div>
<div class=paragraph style=" padding:0.24pt 16.80pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" line-height:10.08pt;">/</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:2.40pt;">
<div class=block style=" width:2.40pt; height:56.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:10.32pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:133.92pt;">
<div class=block style=" width:133.92pt; height:45.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 83.76pt; text-align:left;"><span class=font29><b>N2 </b>о</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="15" valign="top" style=" width:184.56pt;">
<div class=block style=" width:184.56pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 94.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>N11     RT9</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:87.60pt;">
<div class=block style=" width:87.60pt; height:11.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>RT12</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="22" valign="top" style=" width:306.48pt;">
<div class=block style=" width:306.48pt; height:104.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>o -------- o ------- o  o -------- o H1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 121.20pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>3</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>|  10</b></span></div>
<div class=paragraph style=" padding:0.00pt 69.12pt 0.00pt 210.72pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|2 | o N10</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Рисунок 3. Дерево SPF для маршрутизатора RT6</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 65.52pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Ребра, для которых не указана стоимость имеют нулевую</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>стоимость (нет соединения маршрутизатор - сеть).</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 65.52pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Маршруты в сети N12 - N15 являются внешней информацией,</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 65.52pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>которая будет рассматриваться в параграфе 2.3</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Внешняя маршрутная информация рассылается через AS без изменений с использованием лавинной маршрутизации. В нашем примере все маршрутизаторы в AS знают, что RT7 имеет два внешних маршрута с метрикой 2 и 9.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" rowspan="2" valign="top" style=" width:391.68pt;">
<div class=block style=" width:391.68pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 6.48pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF поддерживает два типа внешней метрики. Тип 1 использует для метрики такие же единицы, которые служат для обозначения стоимости интерфейсов в OSPF (т. е., метрика определяется состоянием канала). Внешняя </span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:203.28pt;">
<div class=block style=" width:203.28pt; height:31.20pt;">
<div class=paragraph style=" padding:0.00pt 34.08pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 3 Часть таблицы</i></span></div>
<div class=paragraph style=" padding:0.00pt 34.08pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;"><i>маршрутизации RT6 с локальными</i></span></div>
<div class=paragraph style=" padding:0.00pt 34.08pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;"><i>адресатами.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:0.48pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:203.28pt;">
<div class=block style=" width:174.96pt; height:161.28pt; padding:0.00pt 26.64pt 0.00pt 1.68pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:174.96pt; height:161.28pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" text-align:center;"><span class=font38>Получатель</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Next Hop</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Дистанция</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font38>7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>Ib</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>*</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font38>7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>Ia</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>13</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38>H1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>21</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:11.28pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:11.28pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:11.28pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38>RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.84pt;">
<div class=block style=" width:57.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.48pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:391.68pt;">
<div class=block style=" width:391.68pt; height:160.80pt;">
<div class=paragraph style=" padding:0.00pt 6.24pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">метрика типа 2 использует на порядок большие значения и предполагается, что любая метрика типа 2 заведомо превосходит стоимость любого пути внутреннего по отношению к AS.</span></div>
<div class=paragraph style=" padding:4.08pt 6.24pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Использование метрики типа 2 предполагает, что маршрутизация между AS составляет основную часть стоимости пересылки пакетов – это избавляет от необходимости преобразования внешней метрики во внутренние единицы.</span></div>
<div class=paragraph style=" padding:4.08pt 6.24pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В качестве примера обработки внешней метрики типа 1 предположим, что маршрутизаторы RT7 и RT5 на рисунке 2 анонсируют внешнюю метрику этого типа. Для каждого из анонсируемых внешних маршрутов стоимость от маршрутизатора RT6 рассчитывается как сумма анонсированной стоимости внешнего маршрута и дистанции от RT6 до анонсирующего маршрутизатора. Когда два маршрутизатора анонсируют путь к одному получателю, RT6 выбирает тот маршрутизатор, через который общая стоимость доставки будет меньше. После этого RT6 устанавливает в качестве значения next hop на пути к внешнему адресату следующий маршрутизатор, который использовался для выбора анонсированного </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:82.32pt;">
<div class=paragraph style=" padding:0.00pt 517.92pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">пути.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">На рисунке 2 оба маршрутизатора RT5 и RT7 анонсируют внешний маршрут в сеть N12. Маршрутизатор RT7 является предпочтительным, поскольку он анонсирует для N12 дистанцию 10 (8+2), а маршрутизатор RT5 - 14 (6+8). В таблице 4 показаны записи, добавляемые в таблицу маршрутизации при проверке внешних маршрутов.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Обработка внешней метрики типа 2 проще. Выбирается граничный маршрутизатор AS, анонсирующий наименьшую метрику, независимо от внутренней дистанции до граничного маршрутизатора AS. Предположим, что в нашем примере маршрутизаторы RT5 и RT7 анонсируют внешние маршруты типа 2. Тогда весь трафик для сети N12 будет пересылаться маршрутизатору RT7,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="21" valign="top" style=" width:256.80pt;">
<div class=block style=" width:256.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:172.56pt;">
<div class=block style=" width:172.56pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 49.68pt; text-align:left;"><span class=font7><b>9</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:165.60pt;">
<div class=block style=" width:165.60pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.16pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="28" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:11.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:211.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:245.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:211.44pt;">
<div class=block style=" width:174.96pt; height:69.60pt; padding:0.00pt 7.68pt 0.00pt 28.80pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:174.96pt; height:69.60pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:174.96pt;">
<div class=block style=" width:174.96pt; height:29.28pt;">
<div class=paragraph style=" padding:0.00pt 43.92pt 0.00pt 6.72pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 4 Часть таблицы маршрутизации RT6 с внешними маршрутами.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt;">
<div class=block style=" width:62.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 3.84pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Получатель</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.00pt;">
<div class=block style=" width:54.00pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Next Hop</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Дистанция</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt;">
<div class=block style=" width:62.40pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N12<b>_________</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N13</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.00pt;">
<div class=block style=" width:54.00pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RT10 RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38 style=" letter-spacing:-0.65pt;">10<span style=" letter-spacing:0.00pt;"><b>__________</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt;">
<div class=block style=" width:62.40pt; height:10.32pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.00pt;">
<div class=block style=" width:54.00pt; height:10.32pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:10.32pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:383.52pt;">
<div class=block style=" width:383.52pt; height:69.60pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">поскольку 2 &lt; 8. При наличии нескольких маршрутов типа 2 с равной стоимостью, выбор осуществляется с учетом внутренней дистанции до маршрутизатора.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В AS может одновременно использоваться внешняя метрика типов 1 и 2, однако при наличии обоих типов предпочтение отдается внешней метрике типа 1.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе предполагается, что адресованные во внешние сети пакеты всегда пересылаются через анонсирующий граничный маршрутизатор AS. Однако, </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:689.04pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">N15<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>RT10<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>17<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>такой вариант не всегда желателен. Предположим, к примеру, что в сети на</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">рисунке 2 присутствует дополнительный маршрутизатор RTX, подключенный к сети N6. Предположим также, что RTX не участвует в маршрутизации OSPF, но обменивается информацией BGP с граничным маршрутизатором AS RT7. В этом случае RT7 будет анонсировать все внешние маршруты OSPF для адресатов, которые должны маршрутизироваться через RTX. Ели пакеты для таких адресатов всегда будут передаваться через RT7 (анонсирующий маршрутизатор), в некоторых случаях будет появляться ненужная петля. В таких ситуациях протокол OSPF позволяет граничному маршрутизатору AS задать &laquo;адрес пересылки&raquo; (forwarding address) в его внешнем по отношению к AS анонсе LSA. В приведенном выше примере маршрутизатор RT7 будет указывать IP-адрес RTX как адрес пересылки для всех получателей, пакеты к которым должны маршрутизироваться напрямую в RTX.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Адрес пересылки имеет еще одно применение – он позволяет маршрутизаторам внутри AS работать в качестве маршрутных серверов (route server). Например, маршрутизатор RT6 на рисунке 2 может стать маршрутным сервером, получающим внешние маршрутные данные из статических конфигурационных параметров и внешних протоколов маршрутизации. RT6 будет в этом случае анонсировать себя как граничный маршрутизатор AS и может генерировать анонсы OSPF LSA, внешние по отношению к AS. В каждом таком анонсе LSA маршрутизатор RT6 будет корректно указывать выходную точку AS для рассылки соответствующим получателям путем установки в LSA поля forwarding address.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>2.4. Множество равноценных путей</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В предыдущих параграфах для простоты предполагался единственный маршрут к каждому получателю. На практике к каждому адресату может вести множество равноценных маршрутов и все такие маршруты определяются и используются. Такое расширение не требует концептуального изменения алгоритма и мы отложим рассмотрение вопроса обработки множества равноценных путей до момента более детального описания процесса построения дерева маршрутов.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При наличии множества равноценных путей маршрутизатор может иметь несколько вариантов next hop (следующий маршрутизатор) для каждого адресата.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b><i>3. Деление AS на области</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF позволяет объединять смежные сети и хосты в группы. Такая группа вместе с маршрутизаторами, имеющими интерфейс в одну (любую) из включенных в группу сетей, называется областью - area. В каждой области работает своя независимая копия алгоритма маршрутизации link-state. Это означает, что каждая область имеет свою базу каналов и соответствующий граф, как было описано в предыдущих параграфах.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Топология области невидима за ее пределами и наоборот, внутренние маршрутизаторы области не знают ничего о топологии за пределами данной области. Такая локализация сведений о топологии позволяет сильно снизить объем служебного трафика протокола по сравнению с ситуацией, когда вся AS является единым доменом link-state.</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.60pt;">При использовании областей допущение идентичности баз данных о каналах на всех маршрутизаторах AS перестает быть верным. Маршрутизаторы теперь имеют раздельные базы данных для каждой области, с которой данный маршрутизатор соединен<sup>4</sup>. Два маршрутизатора, относящиеся к одной области имеют для этой области идентичные базы каналов.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизация в AS осуществляется на двух уровнях в зависимости от местоположения отправителя и получателя. Если обе стороны находятся в одной области используется внутридоменная маршрутизация (intra-area routing), при расположении отправителя и получателя в разных областях применяется междоменная маршрутизация (inter-area routing). При внутридоменной маршрутизации используются только сведения, полученные из данной области. Такое решение предохраняет область от использования некорректных маршрутных данных. Междоменная маршрутизация рассматривается в параграфе 3.2.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>3.1.&nbsp;Магистраль AS</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Магистраль OSPF (backbone) представляет собой специальную область OSPF Area 0 (ее часто обозначают как Area 0.0.0.0, поскольку в OSPF идентификаторы областей обычно записывают в формате IP-адресов). Магистраль OSPF всегда включает все граничные маршрутизаторы областей. Магистраль отвечает за распространение маршрутной информации между остальными (non-backbone) областями. Магистраль должна обеспечивать смежность (contiguous), однако это не обязательно физическое соседство – магистральные соединения могут организовываться и поддерживаться с помощью настройки виртуальных соединений.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Виртуальное соединение можно настроить между любой парой маршрутизаторов магистрали, имеющих интерфейсы в одну область за пределами магистрали. Виртуальные соединения относятся к магистральной области. Протокол трактует пару маршрутизаторов, соединенных виртуальным каналом, как маршрутизаторы, связанные через безадресную магистральную сеть point-to-point. На графе магистрали два таких маршрутизатора соединяются дугами (arc), для которых стоимость определяется внутридоменным расстоянием между маршрутизаторами. Для служебного трафика, передаваемого через виртуальное соединение, используется только внутридоменная маршрутизация.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>3.2.&nbsp;Маршрутизация между областями</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При маршрутизации пакетов между двумя областями, лежащими за пределами магистрали, используется магистраль AS. Маршрут передачи пакетов можно разбить на три смежных фрагмента – путь внутри области до граничного маршрутизатора области, путь через магистраль между областями отправителя и получателя, путь внутри области от граничного маршрутизатора до адресата. Алгоритм маршрутизации обеспечивает нахождение набора сегментов пути с минимальной стоимостью суммарного маршрута.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Такой подход позволяет представить AS как систему с топологией &laquo;звезда&raquo;, имеющую в центре концентратор-магистраль (backbone hub), к которому подключены все остальные области автономной системы.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:34.80pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><sup>4</sup> Маршрутизаторы, имеющие интерфейсы в несколько областей, называют граничными маршрутизаторами областей - area border router.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:211.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:245.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:110.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:11.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:15.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:129.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="21" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font6><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font6><b><u>Разумные сети от компании BiLiM Systems</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="21" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:76.08pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Топология магистральной области определяет пути между областями. Для более эффективной организации магистральных путей могут использоваться виртуальные соединения. Это дает администратору некоторые средства контроля для маршрутов передачи междоменного трафика.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Подходящий граничный маршрутизатор для вывода пакетов из области отправителя определяется так же, как выбираются маршрутизаторы, анонсирующие внешние пути. Каждый граничный маршрутизатор в области резюмирует для области стоимость доставки во все внешние по отношению к данной области сети. После расчета для области дерева SPF маршруты ко всем внешним получателям рассчитываются путем проверки резюме от граничных маршрутизаторов области.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:47.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>3.3. Классификация маршрутизаторов</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">До введения областей единственными маршрутизаторами OSPF, выполняющими специальные функции, были те маршрутизаторы, которые анонсировали внешние маршрутные данные (например, RT5 на рисунке 2). После раздела AS на области OSPF, маршрутизаторы приобретают дополнительную специализацию в соответствии с выполняемыми функциями:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:153.36pt;">
<div class=block style=" width:153.36pt; height:60.96pt;">
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 94.32pt; text-align:left;"><span class=font25 style=" line-height:10.32pt;"><b>+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 82.80pt; text-align:left; text-indent:13.68pt;"><span class=font6 style=" line-height:10.32pt;"><b>I   </b><span class=font25><b>3+—+ </b></span><b>Nl|—</b><span class=font25><b>|RT1|\ 1 </b></span>I      <span class=font25><b>+</b>—<b>+ \ </b></span><span class=font25><b>+</b></span><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b><span class=font25><b>\</b></span></span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:91.20pt;">
<div class=block style=" width:91.20pt; height:60.96pt;">
</div>
</td>
<td class=cell colspan="10" rowspan="3" valign="top" style=" width:163.44pt;">
<div class=block style=" width:163.44pt; height:74.40pt;">
<div class=paragraph style=" padding:21.12pt 98.40pt 0.00pt 16.32pt; text-align:left; text-indent:-14.40pt;"><span class=font25 style=" line-height:10.32pt;"><b>N12      N14 \ N13 / 8\ |8/8</b></span></div>
<div class=paragraph style=" padding:0.48pt 109.20pt 0.00pt 17.52pt; text-align:left; text-indent:10.80pt;"><span class=font22 style=" line-height:9.12pt;"><b>\l/ </b><span class=font25><b>8+---+6</b></span></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="22" valign="top" style=" width:186.96pt;">
<div class=block style=" width:186.96pt; height:499.68pt;">
<div class=paragraph style=" padding:0.00pt 113.52pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Внутренние маршрутизаторы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор, непосредственно подключенный<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>к<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>сетям</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">единственной области. Такие маршрутизаторы<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>используют</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">единственную копию базового алгоритма маршрутизации.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Граничные</i></b><span class=font7><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><b><i>маршрутизаторы</i></b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>областей (Area border router)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы, подключенные к нескольким<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>областям.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>На</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">граничных<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>маршрутизаторах</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">областей используется несколько копий базового алгоритма маршрутизации – по одной копии на каждую подключенную к маршрутизатору<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>область.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Граничные<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>маршрутизаторы</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">областей собирают сведения о топологии подключенных областей для передачи этих сведений в магистральную<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>область.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Магистраль<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>распространяет</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">полученную информацию между всеми областями.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Магистральные</i></b><span class=font7><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><b><i>(Backbone)</i></b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>маршрутизаторы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы,<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>имеющие</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">интерфейс в магистральную область. К этому типу относятся все маршрутизаторы, подключенные к нескольким областям (т. е., граничные<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>маршрутизаторы</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 18.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">областей). Однако магистральные маршрутизаторы не обязаны быть граничными маршрутизаторами областей, поскольку некоторые маршрутизаторы могут быть подключены<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>только<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>к</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">магистральной области.</span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Граничные маршрутизаторы AS (AS boundary router)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы,</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 4.80pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">обменивающимися маршрутными данными с маршрутизаторами других AS. Такие маршрутизаторы анонсируют внешние маршрутные известны каждому маршрутизатору в граничными маршрутизаторами AS</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:155.04pt;">
<div class=block style=" width:155.04pt; height:2.40pt;">
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:89.52pt;">
<div class=block style=" width:89.52pt; height:2.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:153.36pt;">
<div class=block style=" width:153.36pt; height:30.72pt;">
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 149.28pt; text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:8.64pt;">
<div class=block style=" width:8.64pt; height:30.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>/</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:30.00pt;">
<div class=block style=" width:30.00pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.44pt; text-align:left;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:26.64pt;">
<div class=block style=" width:26.64pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font29><b>1+-</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:25.92pt;">
<div class=block style=" width:25.92pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font29><b>-+8</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:23.04pt;">
<div class=block style=" width:23.04pt; height:19.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>N3</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:17.76pt;">
<div class=block style=" width:17.76pt; height:30.00pt;">
<div class=paragraph style=" padding:18.24pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:43.68pt;">
<div class=block style=" width:43.68pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font25><b>|RT4|-</b></span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 4.80pt; text-align:left;"><span class=font25><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="9" rowspan="5" valign="top" style=" width:161.52pt;">
<div class=block style=" width:161.52pt; height:142.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.24pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>-|RT5| </b><span class=font6><b>—</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.64pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.00pt 120.48pt 0.00pt 29.04pt; text-align:left;"><span class=font31 style=" line-height:10.08pt; letter-spacing:-2.30pt;">1<b>7 </b><span class=font6 style=" letter-spacing:0.00pt;"><b>I </b></span><span style=" letter-spacing:-2.05pt;">1<b>6</b></span></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 15.84pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>6+---+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.24pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>-|RT6|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.64pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 16.80pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>Ia|7</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:10.32pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:110.16pt;">
<div class=block style=" width:110.16pt; height:61.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.60pt; text-align:left;"><span class=font25><b>+</b></span></div>
<div class=paragraph style=" padding:2.64pt 2.64pt 0.00pt 88.08pt; text-align:left; text-indent:13.68pt;"><span class=font6 style=" line-height:8.88pt;"><b>I </b><span class=font25><b>N2|-</b></span></span></div>
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 101.76pt; text-align:left;"><span class=font6><b>I</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.60pt; text-align:left;"><span class=font25><b>+</b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="3" valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:87.36pt;">
<div class=paragraph style=" padding:8.88pt 32.16pt 0.00pt 0.00pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>3+—+ / -|RT2|/1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:10.32pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:50.88pt;">
<div class=paragraph style=" padding:0.00pt 2.88pt 0.00pt 9.60pt; text-align:left; text-indent:2.64pt;"><span class=font25 style=" line-height:10.08pt;"><b>\ 1\</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:50.88pt;">
<div class=paragraph style=" padding:19.44pt 0.00pt 0.00pt 0.72pt; text-align:left;"><span class=font25><b>+---+8</b></span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font25><b>*T3| </b><span class=font6><b>—</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:left;"><span class=font25><b>+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="3" valign="top" style=" width:110.16pt;">
<div class=block style=" width:110.16pt; height:82.32pt;">
<div class=paragraph style=" padding:26.16pt 0.00pt 0.00pt 77.76pt; text-align:left;"><span class=font25><b>Area 1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:6.96pt;">
<div class=block style=" width:6.96pt; height:26.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="7" rowspan="2" valign="top" style=" width:54.48pt;">
<div class=block style=" width:54.48pt; height:61.92pt;">
<div class=paragraph style=" padding:0.00pt 39.60pt 0.00pt 5.04pt; text-align:left;"><span class=font25 style=" line-height:10.80pt;"><b>2/ /</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font25><b>--+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:51.84pt;">
<div class=block style=" width:51.84pt; height:56.16pt;">
<div class=paragraph style=" padding:33.36pt 0.00pt 0.00pt 14.88pt; text-align:left;"><span class=font29><b>N11</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:30.00pt;">
<div class=block style=" width:30.00pt; height:35.76pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font29><b>N4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt;">
<div class=block style=" width:19.44pt; height:20.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="18" rowspan="2" valign="top" style=" width:226.56pt;">
<div class=block style=" width:226.56pt; height:30.00pt;">
<div class=paragraph style=" padding:18.96pt 0.00pt 0.00pt 175.92pt; text-align:left;"><span class=font25 style=" letter-spacing:-1.00pt;"><b>N 12</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:9.60pt;">
</td>
<td class=cell colspan="5" rowspan="8" valign="top" style=" width:181.44pt;">
<div class=block style=" width:181.44pt; height:102.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 134.64pt; text-align:left;"><span class=font6 style=" line-height:9.84pt;"><b>I</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 134.64pt; text-align:left;"><span class=font31 style=" line-height:9.84pt; letter-spacing:-2.15pt;">1<b>3</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 121.68pt; text-align:left;"><span class=font25 style=" line-height:9.84pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 33.60pt 0.00pt 121.68pt; text-align:left; text-indent:2.16pt;"><span class=font25 style=" line-height:9.84pt; letter-spacing:-0.65pt;"><b>|RT9| </b><span style=" letter-spacing:0.00pt;"><b>+---+</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 95.52pt; text-align:center;"><span class=font8><b>И</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.60pt; text-align:center;"><span class=font8><b>_l_</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.60pt; text-align:center;"><span class=font25><b>/    \</b></span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 95.52pt; text-align:center;"><span class=font25><b>* N9  *-</b></span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 93.60pt; text-align:center;"><span class=font25><b>\</b><span class=font6><b>_____</b></span><b>/</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:9.60pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 81.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.75pt;">l<b>b </b><span class=font7>1</span><b>5</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:25.44pt;">
<div class=block style=" width:25.44pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.40pt; text-align:left;"><span class=font31>1<b>6</b></span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:63.36pt;">
<div class=block style=" width:63.36pt; height:21.12pt;">
<div class=paragraph style=" padding:0.00pt 49.68pt 0.00pt 0.00pt; text-align:left; text-indent:2.64pt;"><span class=font29 style=" line-height:10.56pt; letter-spacing:-0.50pt;"><b>2/ </b><span style=" letter-spacing:-0.90pt;"><b>-+/</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:163.20pt;">
<div class=block style=" width:163.20pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.92pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="15" valign="top" style=" width:175.92pt;">
<div class=block style=" width:175.92pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 80.40pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-1.00pt;"><b>. &#163;T10|</b><span style=" letter-spacing:0.00pt;"><b>.....</b></span><span style=" letter-spacing:-1.05pt;"><b>|RT7|</b></span></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:50.64pt;">
<div class=block style=" width:50.64pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.85pt;"><b>-N15.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" rowspan="4" valign="top" style=" width:54.48pt;">
<div class=block style=" width:54.48pt; height:61.20pt;">
<div class=paragraph style=" padding:28.08pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.70pt;"><b>1+</b><span style=" letter-spacing:0.00pt;"><b>----</b></span><span style=" letter-spacing:-0.60pt;"><b>+2</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.45pt;"><b>-IRT11I--</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.32pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="5" valign="top" style=" width:25.92pt;">
<div class=block style=" width:25.92pt; height:81.60pt;">
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 9.84pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.72pt 0.00pt 8.64pt; text-align:left;"><span class=font6 style=" line-height:10.08pt; letter-spacing:-1.65pt;"><b>I   </b><span class=font25><b>/ </b></span><span class=font26 style=" letter-spacing:-0.90pt;">I<b>/ </b></span><span style=" letter-spacing:0.00pt;"><b>I I I </b></span><span class=font25 style=" letter-spacing:0.00pt;"><b>+</b></span></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:29.04pt;">
<div class=block style=" width:29.04pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 14.88pt 0.00pt 0.72pt; text-align:left; text-indent:4.80pt;"><span class=font25 style=" line-height:10.80pt; letter-spacing:-0.55pt;"><b>+-</b><span style=" letter-spacing:-0.10pt;"><b>/3</b></span></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 14.88pt 0.00pt 4.08pt; text-align:left; text-indent:-4.08pt;"><span class=font25 style=" line-height:10.56pt; letter-spacing:-0.70pt;"><b>-+ </b><span style=" letter-spacing:-0.15pt;"><b>1\</b></span></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:88.80pt;">
<div class=block style=" width:88.80pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 25.44pt; text-align:left;"><span class=font25><b>-+ 9</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:88.80pt;">
<div class=block style=" width:88.80pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.64pt; text-align:left;"><span class=font7><b>И</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:146.16pt;">
<div class=block style=" width:146.16pt; height:8.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.92pt; text-align:left;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:32.64pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:43.92pt;">
<div class=block style=" width:43.92pt; height:53.04pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="6" rowspan="3" valign="top" style=" width:102.24pt;">
<div class=block style=" width:45.84pt; height:107.76pt; padding:0.00pt 42.96pt 6.48pt 13.44pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:45.84pt; height:107.76pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font29><b>/</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.32pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:9.60pt;">
<div class=paragraph style=" text-align:right;"><span class=font29><b>N6</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>*</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:10.56pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 2.64pt; text-align:left;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.56pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font29><b>/</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:21.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:21.36pt;">
<div class=paragraph style=" padding:0.24pt 17.28pt 0.00pt 3.60pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>1 И</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:9.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font29><b>+--</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:left;"><span class=font29><b>-+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:11.28pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font25><b>RT8|</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:9.12pt;">
<div class=paragraph style=" text-align:center;"><span class=font31 style=" letter-spacing:-1.30pt;"><b>+ </b><span class=font8><b>—</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.96pt; text-align:left;"><span class=font29><b>-+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt;">
<div class=block style=" width:17.04pt; height:26.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:26.40pt;">
<div class=paragraph style=" padding:0.00pt 17.52pt 0.00pt 3.60pt; text-align:left;"><span class=font31 style=" line-height:11.04pt;">1<b>4 </b><span class=font8><b>1</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:32.64pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" rowspan="3" valign="top" style=" width:207.60pt;">
<div class=block style=" width:207.60pt; height:119.76pt;">
<div class=paragraph style=" padding:0.00pt 65.04pt 0.00pt 134.64pt; text-align:left;"><span class=font6 style=" line-height:10.32pt;"><b>I И</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 72.96pt; text-align:left;"><span class=font25><b>+</b><span class=font6><b>—</b></span><b>+   10+----+</b></span></div>
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font25 style=" letter-spacing:-0.65pt;"><b>|H1|</b><span style=" letter-spacing:0.00pt;"><b>-----</b></span><span style=" letter-spacing:-0.30pt;"><b>|RT12|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 72.96pt; text-align:left;"><span class=font25 style=" line-height:10.80pt;"><b>+</b><span class=font6><b>—</b></span><b>+SLIP +----+</b></span></div>
<div class=paragraph style=" padding:0.00pt 65.52pt 0.00pt 134.64pt; text-align:left;"><span class=font31 style=" line-height:10.80pt; letter-spacing:-2.35pt;">1<b>2 </b><span class=font6 style=" letter-spacing:0.00pt;"><b>I</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 105.36pt; text-align:left;"><span class=font25><b>+----------</b></span></div>
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 125.04pt; text-align:left;"><span class=font25><b>N10</b></span></div>
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 61.68pt; text-align:left;"><span class=font25><b>Area 3</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:20.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:98.16pt;">
<div class=block style=" width:98.16pt; height:61.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font29><b>N8</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:111.60pt;">
<div class=block style=" width:111.60pt; height:38.16pt;">
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 11.04pt; text-align:left;"><span class=font25><b>.Area 2</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:88.80pt;">
<div class=block style=" width:88.80pt; height:38.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.76pt; text-align:left;"><span class=font29><b>N7</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="23" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:18.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 131.28pt; text-align:left;"><span class=font38><i>Рисунок 4. Пример конфигурации областей OSPF</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="23" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">данные в автономную систему. Пути ко всем граничным маршрутизаторам AS</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">автономной системе. Эта классификация никак не связана с предыдущими типами</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">могут быть внутренние маршрутизаторы или граничные маршрутизаторы областей, а также магистральные маршрутизаторы.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="23" valign="top" style=" width:408.00pt;">
<div class=block style=" width:408.00pt; height:18.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>3.4. Пример конфигурации областей</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:186.96pt;">
<div class=block style=" width:186.96pt; height:19.20pt;">
<div class=paragraph style=" padding:0.00pt 33.60pt 0.00pt 8.88pt; text-align:justify; text-indent:19.92pt;"><span class=font38 style=" line-height:9.60pt;"><i>Таблица 5 Сети, анонсируемые в магистраль, маршрутизаторами RT3 </i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="22" rowspan="2" valign="top" style=" width:406.56pt;">
<div class=block style=" width:406.56pt; height:68.40pt;">
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.60pt;">На рисунке 4 показан пример конфигурации областей. Первая область включает сети N1 - N4 и подключенные к ним маршрутизаторы RT1 - RT4. Во вторую область входят сети N6 - N8 и маршрутизаторы RT7, RT8, RT10, RT11. Третья область состоит из сетей N9 - N11 и хоста H1 вместе с подключенными к ним маршрутизаторами RT9, RT11 и RT12. Третья область настроена так, что сети N9 - N11 и хост H1 группируются в один маршрут при анонсировании внешних по отношению к данной области путей (см. параграф 3.5).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:1.44pt;">
<div class=block style=" width:1.44pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:188.40pt;">
<div class=block style=" width:161.76pt; height:59.52pt; padding:0.00pt 26.64pt 8.16pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:161.76pt; height:59.52pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt;">
<div class=block style=" width:35.76pt; height:19.44pt;">
<div class=paragraph style=" padding:8.64pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Сеть</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.32pt;">
<div class=block style=" width:70.32pt; height:19.44pt;">
<div class=paragraph style=" padding:8.64pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Анонс RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:55.68pt;">
<div class=block style=" width:55.68pt; height:19.44pt;">
<div class=paragraph style=" padding:0.00pt 6.96pt 0.00pt 5.52pt; text-align:left; text-indent:19.20pt;"><span class=font38 style=" line-height:9.84pt;"><i>и RT4. </i>Анонс RT4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt;">
<div class=block style=" width:35.76pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 18.24pt 0.00pt 6.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">N1 N2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">N3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.32pt;">
<div class=block style=" width:70.32pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38>4<b>____________</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:55.68pt;">
<div class=block style=" width:55.68pt; height:30.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>4<b>__________</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt;">
<div class=block style=" width:35.76pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>N4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:70.32pt;">
<div class=block style=" width:70.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:55.68pt;">
<div class=block style=" width:55.68pt; height:10.08pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="24" valign="top" style=" width:537.84pt;">
<div class=block style=" width:537.84pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 3.60pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">На рисунке 4 маршрутизаторы RT1, RT2, RT5, RT6, RT8, RT9 и RT12 являются внутренними, RT3, RT4, RT7, RT10 и граничными маршрутизаторами областей, а RT5 и RT7 – граничными маршрутизаторами AS.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:57.12pt;">
<div class=block style=" width:57.12pt; height:21.84pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>RT11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:290.88pt;">
<div class=block style=" width:290.88pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font6 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:117.12pt;">
<div class=block style=" width:117.12pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 13.20pt; text-align:left;"><span class=font7><b>11</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:186.96pt;">
<div class=block style=" width:186.96pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 83.52pt; text-align:left;"><span class=font6 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="25" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:110.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:11.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:15.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:129.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:127.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:61.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:15.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:113.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:71.28pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В таблице 6 показана база данных о каналах для области 1. Эта таблица полностью описывает внутридоменную маршрутизацию. В таблице также приведено полное представление внешних сетей (internet) для двух внутренних маршрутизаторов RT1 и RT2. Ответственность за анонсирование в области 1 дистанций до всех внешних адресатов ложится на граничные маршрутизаторы области - RT3 и RT4. Маршрутизаторы RT3 и RT4 должны также анонсировать в область 1 местоположение граничных маршрутизаторов AS RT5 и RT7. И, наконец, внешние по отношению к AS анонсы LSA от маршрутизаторов RT5 и RT7 рассылаются с использованием лавинной маршрутизации через всю AS и, в частности, через область 1. Эти LSA включаются в базу данных области 1 и дают маршруты в сети N12 - N15.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:165.60pt;">
<div class=block style=" width:165.60pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 39.36pt; text-align:left;"><span class=font38>К</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:121.20pt;">
<div class=block style=" width:121.20pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">От узла</span></div>
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:308.16pt;">
<div class=block style=" width:308.16pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 13.92pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы RT3 и RT4 также будут резюмировать<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:300.72pt;">
<div class=block style=" width:253.92pt; height:202.80pt; padding:0.00pt 8.88pt 0.00pt 37.92pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:253.92pt; height:202.80pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:11.28pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:11.28pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>RT2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>RT4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font38>RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:11.28pt;">
<div class=paragraph style=" padding:1.20pt 0.96pt 0.00pt 0.00pt; text-align:center;"><span class=font38>N3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>у</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38>з</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>л</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>у</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 24.96pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT4 RT5 RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:30.00pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:30.00pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:30.00pt;">
<div class=paragraph style=" padding:10.08pt 9.36pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">14 20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:30.00pt;">
<div class=paragraph style=" padding:10.08pt 9.60pt 0.00pt 10.80pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">8 14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:30.00pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:30.00pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:30.00pt;">
<div class=paragraph style=" text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Ia, Ib</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>27</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>16</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font38>19</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>18</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>18</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:center;"><span class=font38>N9-11, H1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>29</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>36</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.96pt; text-align:center;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:center;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N13</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.96pt; text-align:center;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.96pt; text-align:center;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font38>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.80pt;">
<div class=block style=" width:28.80pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:294.24pt;">
<div class=block style=" width:294.24pt; height:202.80pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">топологию области 1 для передачи в магистраль. Анонсы LSA от этих маршрутизаторов показаны в таблице 4. Эти анонсы показывают какие сети включены в область 1 (N1 -N4) и указывают дистанцию до этих сетей от маршрутизаторов RT3 и RT4, соответственно.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">База данных о состоянии каналов для магистральной области показана в таблице 7. В таблицу включены маршрутизаторы,<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>являющиеся<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>магистральными.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор RT11 является магистральным, поскольку он подключен к двум областям. Для организации магистрали между маршрутизаторами R10 и R11 организовано виртуальное соединение.</span></div>
<div class=paragraph style=" padding:4.32pt 56.16pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Граничные маршрутизаторы областей RT3, RT4, RT7, RT10 и RT11 собирают маршрутные сведения от своих областей, не относящихся к магистрали для распространения этих данных через магистраль AS. Напомним, что для третьей области настроена группировка сетей N9 - N11 и хоста H1 в один маршрут. Этим обусловлена общая запись для сетей N9 - N11 и хоста H1 в таблице 7. Маршрутизаторы RT5 и RT7 </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:72.00pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">являются пограничными для AS и полученная от них внешняя маршрутная информация также показана в таблице 7.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Магистраль обеспечивает возможность обмена маршрутной информацией между граничными маршрутизаторами областей. Каждый граничный маршрутизатор области получает суммарную информацию для других областей от всех остальных граничных маршрутизаторов областей. После этого маршрутизатор может сформировать таблицу дистанций до всех сетей за пределами своей области, проверяя собранные анонсы LSA и добавляя дистанцию через магистраль до каждого анонсирующего маршрутизатора.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:165.60pt;">
<div class=block style=" width:165.60pt; height:36.96pt;">
<div class=paragraph style=" padding:0.24pt 7.68pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если      снова      использовать маршрутизаторы   RT3   и   RT4, следующие этапы:</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="4" valign="top" style=" width:59.76pt;">
<div class=block style=" width:59.76pt; height:48.72pt;">
<div class=paragraph style=" padding:0.24pt 4.56pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">в      качестве расчет   будет</span></div>
<div class=paragraph style=" padding:15.12pt 0.00pt 0.00pt 15.36pt; text-align:left;"><span class=font38>SPF</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:61.44pt;">
<div class=block style=" width:61.44pt; height:23.04pt;">
<div class=paragraph style=" padding:0.24pt 21.12pt 0.00pt 3.84pt; text-align:left; text-indent:4.08pt;"><span class=font38 style=" line-height:9.84pt;">примера включать</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="8" valign="top" style=" width:16.08pt;">
<div class=block style=" width:16.08pt; height:92.88pt;">
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>К</span></div>
<div class=paragraph style=" padding:8.16pt 11.76pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">у з л у</span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:292.08pt;">
<div class=block style=" width:292.08pt; height:23.04pt;">
<div class=paragraph style=" padding:0.00pt 64.56pt 0.00pt 123.60pt; text-align:left; text-indent:-77.28pt;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 7 База данных магистральной области </i>От узла</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:13.92pt;">
</td>
<td class=cell rowspan="3" valign="top" style=" width:61.44pt;">
<div class=block style=" width:61.44pt; height:25.68pt;">
<div class=paragraph style=" padding:13.92pt 20.88pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">агистрали.<br></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:102.72pt;">
<div class=block style=" width:102.72pt; height:18.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38>RT3     RT4</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:17.52pt;">
<div class=block style=" width:17.52pt; height:18.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>RT</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:18.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font38>RT6    RT7</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:113.04pt;">
<div class=block style=" width:113.04pt; height:18.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>RT10    RT11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:13.92pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:4.08pt;">
</td>
<td class=cell rowspan="7" valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:66.00pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font6><b>&#9830;</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:127.68pt;">
<div class=block style=" width:127.68pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.40pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Сначала рассчитывается дере</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:4.08pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:7.68pt;">
</td>
<td class=cell colspan="2" rowspan="5" valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:51.84pt;">
<div class=paragraph style=" padding:0.00pt 30.48pt 0.00pt 0.24pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">RT3 <u>RT4 RT5 </u>RT6 RT7</span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:245.76pt;">
<div class=block style=" width:245.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.08pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:7.68pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:4.80pt;">
</td>
<td class=cell colspan="4" rowspan="9" valign="top" style=" width:248.88pt;">
<div class=block style=" width:248.88pt; height:152.16pt;">
<div class=paragraph style=" padding:0.00pt 20.88pt 0.00pt 8.40pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Этот расчет дает дистанции до всех остальных граничных маршрутизаторов областей. Определяются также дистанции до сетей (Ia и Ib) и граничных маршрутизаторов AS (RT5 и RT7), входящих в магистраль. Эти расчеты показаны в таблице 8.</span></div>
<div class=paragraph style=" padding:5.28pt 20.64pt 0.00pt 8.40pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После этого просматриваются резюме областей от граничных маршрутизаторов RT3 и RT4 для определения дистанции до всех маршрутизаторов за пределами данной области. Эти данные анонсируются внутри области маршрутизаторами RT3 и RT4. Анонсы, которые маршрутизаторы RT3 и RT4 будут передавать в область 1, показаны в таблице 9. Отметим, что в таблице 9 предполагается группировка интерфейсов Ia и Ib в один анонс LSA.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:4.80pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:56.40pt;">
<div class=block style=" width:56.40pt; height:19.68pt;">
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 33.84pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:189.36pt;">
<div class=block style=" width:189.36pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.32pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:50.88pt;">
<div class=block style=" width:50.88pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.68pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font38>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:73.92pt;">
<div class=block style=" width:73.92pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:29.76pt;">
<div class=paragraph style=" padding:17.76pt 0.00pt 0.00pt 13.68pt; text-align:left;"><span class=font38>7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:113.04pt;">
<div class=block style=" width:113.04pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:136.32pt;">
<div class=block style=" width:136.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 16.32pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:113.04pt;">
<div class=block style=" width:113.04pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 38.40pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="4" valign="top" style=" width:37.92pt;">
<div class=block style=" width:37.92pt; height:97.92pt;">
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font6><b>&#9830;</b></span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:195.12pt;">
<div class=block style=" width:195.12pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 16.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;">RT11</span></div>
<div class=paragraph style=" padding:0.00pt 168.48pt 0.00pt 16.08pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.45pt;"><u>N1 </u><span style=" letter-spacing:-0.30pt;"><u>N2 </u>N3 N4</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:113.04pt;">
<div class=block style=" width:113.04pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:195.12pt;">
<div class=block style=" width:195.12pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 16.32pt; text-align:left;"><span class=font38>Ia</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:113.04pt;">
<div class=block style=" width:113.04pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:16.08pt;">
<div class=block style=" width:16.08pt; height:40.80pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:102.72pt;">
<div class=block style=" width:102.72pt; height:52.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ib</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>N6</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>N7</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N8</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>N9-11, H1</u></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:189.36pt;">
<div class=block style=" width:189.36pt; height:11.28pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font38>7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:29.52pt;">
</td>
<td class=cell colspan="4" rowspan="4" valign="top" style=" width:189.36pt;">
<div class=block style=" width:116.88pt; height:79.92pt; padding:0.00pt 54.96pt 0.00pt 17.52pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:116.88pt; height:79.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 11.52pt 0.00pt 0.00pt; text-align:right;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.84pt;">
<div class=block style=" width:27.84pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 0.00pt; text-align:center;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 11.04pt 0.00pt 0.00pt; text-align:right;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.84pt;">
<div class=block style=" width:27.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 0.00pt; text-align:center;"><span class=font38>7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 10.80pt 0.00pt 0.00pt; text-align:right;"><span class=font38>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.84pt;">
<div class=block style=" width:27.84pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.68pt; text-align:left;"><span class=font38>2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.28pt; text-align:left;"><span class=font40>11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 10.80pt 0.00pt 0.00pt; text-align:right;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:61.44pt;">
<div class=block style=" width:61.44pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:61.44pt;">
<div class=block style=" width:61.44pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:10.32pt;">
<div class=paragraph style=" padding:1.68pt 10.80pt 0.00pt 0.00pt; text-align:right;"><span class=font38>9</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:61.44pt;">
<div class=block style=" width:61.44pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:29.52pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:189.60pt;">
<div class=block style=" width:154.32pt; height:137.04pt; padding:0.96pt 6.96pt 0.00pt 28.32pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:154.32pt; height:137.04pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:39.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:154.32pt;">
<div class=block style=" width:154.32pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 1.20pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><i>Таблица 8 Магистральные дистанции, рассчитанные RT3 и RT4</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:139.92pt;">
<div class=block style=" width:139.92pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Дистанция      от RT3     от RT</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 3.36pt 0.00pt 5.52pt; text-align:left;"><span class=font37 style=" line-height:8.88pt;">Д и</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:139.92pt;">
<div class=block style=" width:139.92pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3                  *             <b>| </b>21</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT4                  22</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:9.84pt;">
<div class=paragraph style=" text-align:center;"><span class=font37>с</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT7                  20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 5.28pt 0.00pt 5.52pt; text-align:left;"><span class=font37 style=" line-height:8.88pt;">т а</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT10                15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font40>22</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT11                 18</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>25</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font38>Ia<b>__________ </b>20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>27</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:19.92pt;">
<div class=paragraph style=" padding:1.44pt 4.56pt 0.00pt 5.52pt; text-align:left;"><span class=font37 style=" line-height:8.88pt;">и я</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Ib                    15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font40>22</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT5                  14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT7                  20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:8.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font37>д</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:8.88pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:8.88pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt;">
<div class=block style=" width:14.40pt; height:7.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:center;"><span class=font37>о</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:7.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:39.60pt;">
<div class=block style=" width:39.60pt; height:7.92pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:39.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:113.28pt;">
<div class=block style=" width:113.28pt; height:12.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Информация,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:113.28pt;">
<div class=block style=" width:113.28pt; height:6.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:15.12pt;">
<div class=block style=" width:15.12pt; height:6.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>N12</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:87.60pt;">
<div class=block style=" width:87.60pt; height:6.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:216.00pt;">
<div class=block style=" width:216.00pt; height:32.16pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">импортируемая    в</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">область<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>1<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>N13</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторами<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>N14</u></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT3       и       RT4,<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>N15</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:405.36pt;">
<div class=block style=" width:405.36pt; height:87.60pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">позволяет   внутренним   маршрутизаторам   (например,   RT1)   выбирать   граничный</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатор области более эффективно. Маршрутизатор RT1 будет использовать RT4</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">для трафика в сеть N6, RT3 – для сети N10, а для трафика в сеть N8 будут использоваться</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">оба маршрутизатора с распределением нагрузки.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор RT1 таким же способом может определить кратчайший путь до граничных маршрутизаторов AS (RT5 и RT7). Просматривая в маршрутизаторах RT5 и RT7 записи AS-external-LSA, маршрутизатор RT1 может выбирать между RT5 и RT7 при пересылке пакетов адресатам из других AS (одна из сетей N12 - N15). </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:69.36pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Отметим, что разрыв соединения между маршрутизаторами RT6 и RT10 будет приводить к разрыву магистрали. Организация виртуального соединения между маршрутизаторами RT7 и RT10 позволит обеспечить устойчивость магистрали к такого рода сбоям.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>3.5. Поддержка подсетей IP</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">OSPF связывает адресную маску IP с каждым анонсируемым маршрутом. Маска показывает диапазон адресов, описываемых данным маршрутом. Например, summary-LSA для адресата 128.185.0.0 с маской 0xffff0000 на самом деле описывает маршрут к</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:10.80pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:300.72pt;">
<div class=block style=" width:300.72pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:155.76pt;">
<div class=block style=" width:155.76pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font7><b>12</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:127.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:61.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:15.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:113.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:114.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:109.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:103.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.96pt;">
<div class=block style=" width:138.96pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:235.92pt;">
<div class=block style=" width:235.92pt; height:12.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:1.92pt;">
<div class=block style=" width:1.92pt; height:12.72pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:374.88pt;">
<div class=block style=" width:374.88pt; height:110.16pt;">
<div class=paragraph style=" padding:0.00pt 11.76pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">адресатам в диапазоне.185.0.0 - 128.185.255.255. Аналогичным способом указываются маршруты к хостам – маска 0xffffffff показывает наличие в подсети единственного адреса.</span></div>
<div class=paragraph style=" padding:4.32pt 11.76pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Включение масок в каждый анонсируемый маршрут позволяет использовать при распределении адресов маски переменной длины (variable-length subnetting). Это значит, что в одной IP-сети класса A, B или C может существовать множество подсетей различных размеров. Например, сеть 128.185.0.0 можно разбить на 62 подсети переменного размера: 15 подсетей по 4K, 15 подсетей по 256, и 32 подсети по 8 адресов. В таблице 10 приведены примеры адресов таких подсетей вместе с масками.</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:220.08pt;">
<div class=block style=" width:220.08pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 34.08pt 0.00pt 67.68pt; text-align:left; text-indent:-67.68pt;"><span class=font38 style=" line-height:10.08pt;"><i>Таблица 9 Дистанции, анонсируемые в область 1 маршрутизаторами RT3 и RT4</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:6.96pt;">
<div class=block style=" width:6.96pt; height:90.24pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:213.12pt;">
<div class=block style=" width:186.48pt; height:129.12pt; padding:0.00pt 26.64pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:186.48pt; height:129.12pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:60.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:9.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Адресат</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 5.28pt 0.00pt 8.40pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:10.08pt;"><u>анонс RT3 </u>20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.92pt; text-align:left;"><span class=font38>анонс RT</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 4.32pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Д</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Ia, Ib</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.92pt; text-align:left;"><span class=font38>27</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>и</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.12pt; text-align:left;"><span class=font38>16</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font38>15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>с</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N7</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 37.68pt 0.00pt 8.40pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:10.08pt;"><u>20 </u>18</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font38>19</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>т</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font38>18</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>а</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 1.44pt 0.00pt 0.00pt; text-align:center;"><span class=font38>N9 - N11, H1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.16pt; text-align:left;"><span class=font38>29</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.40pt; text-align:left;"><span class=font38>36</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>н</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:20.64pt;">
<div class=paragraph style=" padding:0.00pt 37.68pt 0.00pt 8.16pt; text-align:left; text-indent:0.72pt;"><span class=font38 style=" line-height:10.08pt;"><u>14 </u>20</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.40pt; text-align:left;"><span class=font38>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>ц</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font38>14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>и</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:9.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:14.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>я</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:14.88pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:14.88pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:14.88pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:15.60pt;">
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>д</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:15.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:15.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:15.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:8.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>о</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:8.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:54.24pt;">
<div class=block style=" width:54.24pt; height:8.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.32pt;">
<div class=block style=" width:58.32pt; height:8.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:60.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:253.92pt;">
<div class=block style=" width:253.92pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 15.12pt 0.00pt 61.92pt; text-align:left; text-indent:35.28pt;"><span class=font38 style=" line-height:10.08pt;"><i>Таблица 10 Примеры масок подсетей </i><u>Адрес сети        Маска IP       Размер подсети</u></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:127.92pt;">
<div class=block style=" width:127.92pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 18.72pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">Существует        множество способов    деления    сетей </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:381.84pt;">
<div class=block style=" width:381.84pt; height:17.04pt;">
<div class=paragraph style=" padding:0.00pt 18.96pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">128.185.16.0      0xfffff000      4K<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>класса A, B и C на подсети</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:229.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">128.185.1.0        0xffffff00      256<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>переменного<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>размера.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>128.185.0.8        0xfffffff8       8</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Описание процедур такого деления выходит за пределы данной спецификации,</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify; text-indent:197.04pt;"><span class=font38 style=" line-height:9.84pt;">однако мы рекомендуем пользоваться следующим правилом – при пересылке пакетов IP их следует адресовать в ту сеть, которая точнее всего совпадает с адресом получателя пакета. В контексте подсетей наилучшее соответствие эквивалентно самой длинной маске<sup>5</sup>. Например, используемый по умолчанию маршрут с адресом 0.0.0.0 и маской 0x00000000 соответствует любому из возможных адресов IP, но этот адрес является наименее соответствующим из всех возможных. Маски подсетей следует задавать таким образом, чтобы можно было однозначно определить наилучшее соответствие для любого адреса IP.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Добавление адресных масок в каждый маршрут позволяет поддерживать &laquo;сверхсети&raquo; (IP supernetting). Например, физическому сегменту может соответствовать пара адрес-маска [192.9.4.0,0xfffffc00]. Такой сегмент, являющийся единой сеть IP, содержит адреса из четырех последовательных сетей класса C – от 192.9.4.0 до 192.9.7.0. Такая адресация стала общепринятой после введения CIDR (см. [Ref10]).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для более эффективного объединения маршрутов на границе области можно указать диапазон адресов области (см. Приложение C.2). Каждый диапазон адресов задается парой [адрес, маска]. Это позволяет объединить множество разных сетей в общий диапазон адресов (как сеть делится на множество разных подсетей). Граничные маршрутизаторы областей будут резюмировать содержимое области (для передачи в магистраль) анонсируя один маршрут для каждого диапазона адресов. Стоимость для такого маршрута устанавливается равной максимальному значению стоимости сетей из данного диапазона адресов.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Например, сеть, разделенная на подсети IP, может быть настроена как единая область OSPF. В таких случаях можно обойтись единственным диапазоном адресов – номером сети класса A, B или C с соответствующей классу маской адреса. Внутри области может быть организовано любое число подсетей, однако за пределы области будет распространяться единственный маршрут, скрывающий факт разбиения на подсети. Стоимость такого маршрута будет равна максимальной из стоимостей входящих в область подсетей.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:300.96pt;">
<div class=block style=" width:300.96pt; height:18.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>3.6. Поддержка &laquo;тупиковых&raquo; областей</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:294.00pt;">
<div class=block style=" width:294.00pt; height:18.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:251.52pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В некоторых автономных системах основная часть базы данных о каналах может состоять из внешней информации AS-external-LSA. Записи OSPF AS-external-LSA обычно рассылаются с использованием лавинной маршрутизации через всю AS. Однако протокол OSPF позволяет указать некоторые области как тупиковые (stub area) и анонсы AS-external-LSA не будут рассылаться в такие области или передаваться через них. Маршрутизация внешним по отношению к AS адресатам в таких системах базируется полностью на принятых по умолчанию для таких областей маршрутах. Выделение &laquo;тупиковых&raquo; областей позволяет уменьшить размер базы данных link-state и связанный с этим расход памяти для внутренних маршрутизаторов stub-областей.</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Чтобы воспользоваться преимуществами поддержки тупиковых областей OSPF, для таких областей следует обязательно задавать принятые по умолчанию маршруты. Для этого один или несколько граничных маршрутизаторов stub-области должны анонсировать принятый по умолчанию маршрут с помощью summary-LSA. Такие анонсы рассылаются с использованием лавинной маршрутизации внутри тупиковой области, не покидая ее пределов (принятый по умолчанию маршрут относится только к данной области). Заданный для использования по умолчанию маршрут будет применяться во всех случаях, когда адресат недоступен явно с использованием пути внутри области или между областями AS (т. е., адресат относится к другой автономной системе).</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Область можно назначить тупиковой, если имеется единственный выход из данной области или когда точек выхода несколько, но для выбора не требуется принимать решение с учетом адреса внешнего (по отношению к области) получателя. Например, область 3 на рисунке 4 можно указать как тупиковую, поскольку весь внешний трафик этой области должен проходить через один граничный маршрутизатор RT11. Если область 3 указана как тупиковая, маршрутизатор RT11 будет анонсировать принятый по умолчанию маршрут для его распространения внутри области 3 (с анонсах summary-LSA) взамен лавинной рассылки анонсов AS-external-LSA для сетей N12 - N15 в область 3.</span></div>
<div class=paragraph style=" padding:4.32pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Протокол OSPF обеспечивает оповещение всех маршрутизаторов области о тупиковом характере данной области – такое решение предотвращает ненужные лавинные рассылки анонсов AS-external-LSA.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Существуют некоторые ограничения на использование stub-областей. Через такие области невозможно организовать виртуальные соединения и, кроме того, внутрь тупиковых областей не должны попадать граничные маршрутизаторы AS.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:102.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>3.7. Разделение областей</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">OSPF не предпринимает активных попыток восстановления распавшихся на части областей (area partition). В таких случаях просто каждый фрагмент области рассматривается как новая область и магистраль автономной системы обеспечивает маршрутизацию между новыми областями. Некоторые адресаты, для которых использовалась внутридоменная маршрутизация, могут после раздела потребовать междоменной маршрутизации.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Однако для сохранения полной маршрутизации после разделения области диапазон адресов не должен разделяться на множество компонент, связанных с фрагментами области. Не должна делиться на части и магистраль. Если это произойдет, некоторые части AS перестанут быть доступными. Разорванную магистральную область можно собрать заново путем организации виртуальных соединений (см. параграф 15).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.04pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:491.52pt;">
<div class=block style=" width:491.52pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38><sup>5</sup> Самой длинной маске будет соответствовать самая мелкая из возможных подсетей. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>13</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:103.44pt;">
<div class=block style=" width:103.44pt; height:24.96pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:114.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:109.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:103.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:724.08pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Другой способ представления раздела областей основан на графах AS, описанных в параграфе 2. Идентификаторы областей (Area ID) можно представить цветом ребер графа<sup>6</sup>. Каждое ребро графа подключено к сети или является сетью point-to-point. В любом случае цвета графов отображают идентификаторы областей. Группа ребер одного цвета, соединенных вершинами, представляет область. Если топология AS не изменяется, граф будет иметь несколько цветных областей для различных идентификаторов Area ID.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда топология AS изменяется, одна из областей может быть разделена на части. В этом случае граф AS будет включать несколько областей одного цвета (Area ID). Маршрутизация в AS будет сохраняться до тех пор, пока такие области одного цвета могут быть соединены через единую магистральную область.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font11><b><i>4. Основные функции</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В каждой области работает отдельная копия базового алгоритма маршрутизации OSPF. Маршрутизаторы с интерфейсами в разные области поддерживают соответствующее число копий алгоритма маршрутизации. В последующих параграфах приведено краткое описание алгоритма.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При активизации маршрутизатора он сначала инициализирует структуры данных протокола. После инициализации маршрутизатор ждет от протоколов нижележащих уровней индикации активности интерфейсов. Далее маршрутизатор отыскивает соседей с помощью протокола OSPF Hello – для этого соседям передаются пакеты Hello и в ответ должны также прийти пакеты Hello. В широковещательных сетях и сетях point-to-point маршрутизаторы динамически детектируют соседей, передавая пакеты Hello по групповом адресу AllSPFRouters. В сетях без поддержки широковещания обнаружение соседей может потребовать некоторой настройки маршрутизатора. В широковещательных сетях и сетях NBMA протокол Hello также указывает выделенный маршрутизатор (Designated Router или DR).</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор будет пытаться установить отношения смежности (adjacency) с некоторыми из новообретенных соседей. Пары смежных маршрутизаторов синхронизируют между собой базы данных о каналах. В широковещательных сетях и сетях NBMA выделенный маршрутизатор DR определяет, какие маршрутизаторы должны быть смежными. Отношения смежности определяют распространение маршрутной информации – обновления маршрутных данных передаются только смежным маршрутизаторам.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор периодически анонсирует свое состояние, называемое также состоянием канала - link state. При изменении состояния маршрутизатора изменяется и состояние канала. Отношения смежности маршрутизаторов отражаются в содержимом анонсов LSA. Связь между отношениями смежности и состояниями каналов позволяет протоколу обнаруживать неработающие (&laquo;мертвые&raquo;) маршрутизаторы достаточно быстро.</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы LSA рассылаются в области с использованием лавинной маршрутизации. Алгоритм лавинной рассылки надежен и обеспечивает распространение по всей области единой копии базы данных о каналах. База данных содержит набор LSA от каждого маршрутизатора, входящего в область. На основании этих данных каждый маршрутизатор рассчитывает дерево кратчайших путей, используя себя в качестве корня. Это дерево дает таблицу маршрутизации для протокола.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>4.1.&nbsp;Междоменная маршрутизация</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В предыдущем параграфе рассматривалась маршрутизация в пределах одной области. В таких случаях никакой дополнительной маршрутной информации не требуется. Для обеспечения маршрутизации между областями граничные маршрутизаторы областей вводят в область дополнительные сведения о маршрутах. Эта информация представляет собой выжимку из сведений о топологии остальной части AS.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Распространение сведений о топологии автономной системы происходит следующим образом. Каждый граничный маршрутизатор области по определению связан с магистралью области. Все граничные маршрутизаторы областей анонсируют топологию подключенных к ним областей, не являющихся магистральными, для передачи в магистраль и, следовательно, всем остальным граничным маршрутизаторам областей. В результате каждый граничный маршрутизатор области имеет полные сведения о магистрали и суммарные данные по каждой области от граничных маршрутизаторов остальных областей. На основании этих данных маршрутизатор рассчитывает пути для междоменной маршрутизации и анонсирует эти пути в подключенные к нему области. Получив такие сведения, внутренние маршрутизаторы могут выбрать оптимальные точки выхода из области для рассылки междоменного трафика.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>4.2.&nbsp;Внешние маршруты AS</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы, имеющие сведения о других AS, могут организовать лавинную рассылку этой информации в своей AS. Внешняя маршрутная информация передается без изменения каждому заинтересованному в ней маршрутизатору. Единственным исключением является то, что внешняя маршрутная информация не передается в &laquo;тупиковые&raquo; области (см. параграф 3.6).</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для использования внешних маршрутных данных, путь ко всем маршрутизаторам, анонсирующим такие данные, должен быть известен во всей AS (за исключением тупиковых областей). По этой причине местоположение таких граничных маршрутизаторов резюмируется и рассылается граничными маршрутизаторами областей (нетупиковых).</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>4.3.&nbsp;Пакеты протокола маршрутизации</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF работает непосредственно на базе IP, используя идентификатор 89. OSPF не требует какой-либо дополнительной фрагментации/сборки пакетов – при возникновении такой необходимости используется обычная фрагментация и сборка IP. Пакеты протокола OSPF имеют такой формат, что большие блоки протокольной информации в общем случае можно легко разделить на более мелкие пакеты. Рекомендуется использовать именно такой вариант, избегая по возможности фрагментирования IP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты протокола маршрутизации всегда должны передаваться с нулевым значением поля IP TOS. Если это возможно, пакеты протоколов маршрутизации должны иметь преимущество по сравнению с обычным трафиком данных IP как для приема, так и при передаче. Чтобы облегчить эту задачу, протокол OSPF должен использовать в поле IP precedence значение Internetwork Control (см. [Ref5]).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:41.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:34.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><sup>6</sup><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Вершины графов представляют маршрутизаторы, транзитные или оконечные сети. Поскольку маршрутизаторы могут</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38>принадлежать нескольким областям, невозможно использовать для маркировки цвет вершин графа.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>14&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:85.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:313.68pt;">
<div class=block style=" width:313.68pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b>Перевод RFC 2328</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:281.28pt;">
<div class=block style=" width:281.28pt; height:11.28pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:138.96pt;">
<div class=block style=" width:138.96pt; height:1.44pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:16.08pt;">
<div class=block style=" width:16.08pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:411.36pt;">
<div class=block style=" width:411.36pt; height:1.20pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:28.56pt;">
<div class=block style=" width:28.56pt; height:1.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:139.44pt;">
<div class=block style=" width:139.44pt; height:0.24pt;">
</div>
</td>
<td class=cell colspan="4" rowspan="3" valign="top" style=" width:273.84pt;">
<div class=block style=" width:273.84pt; height:79.68pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:273.84pt; height:79.68pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:31.20pt;">
<div class=paragraph style=" padding:8.88pt 5.28pt 0.00pt 6.96pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">Тип 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:91.92pt;">
<div class=block style=" width:91.92pt; height:31.20pt;">
<div class=paragraph style=" padding:8.88pt 48.72pt 0.00pt 7.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Название Hello</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.80pt;">
<div class=block style=" width:154.80pt; height:31.20pt;">
<div class=paragraph style=" padding:0.00pt 3.12pt 0.00pt 5.52pt; text-align:left; text-indent:20.88pt;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 11 Типы пакетов OSPF </i>Назначение Обнаружение        и        поддержка</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:18.48pt;">
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:91.92pt;">
<div class=block style=" width:91.92pt; height:18.48pt;">
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>Database Description</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.80pt;">
<div class=block style=" width:154.80pt; height:18.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>соседства</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Резюмирование содержимого БД</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt;">
<div class=block style=" width:27.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">3</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">4</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 7.44pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:91.92pt;">
<div class=block style=" width:91.92pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 15.12pt 0.00pt 7.44pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Link State Request Link State Update Link State Ack</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.80pt;">
<div class=block style=" width:154.80pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Загрузка БД</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Обновление БД</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Подтверждение лавинной рассылки</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:26.64pt;">
<div class=block style=" width:26.64pt; height:79.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:157.44pt;">
<div class=block style=" width:157.44pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Все  пакеты  протокола заголовки, описанные в</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:137.04pt;">
<div class=block style=" width:137.04pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">OSPF  используют  однотипные</span></div>
<div class=paragraph style=" padding:0.00pt 8.16pt 0.00pt 2.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Приложении A. Типы пакетов<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.48pt;">
<div class=block style=" width:294.48pt; height:59.04pt;">
<div class=paragraph style=" padding:0.00pt 8.16pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">OSPF перечислены в таблице 11. Форматы пакетов также описаны в Приложении A.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Протокол   OSPF   Hello   использует   пакеты   Hello   для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">организации и поддержки соседских отношений. Пакеты</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Database Description (описание базы данных) и Link State</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:26.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Request (запрос состояния канала) служат для поддержки</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отношений смежности. Гарантированный обмен обновлениями OSPF основан на обмене пакетами Link State Update (обновление</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">состояния канала) Link State Acknowledgment (подтверждение приема обновления).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:72.48pt;">
<div class=paragraph style=" padding:10.08pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ти</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">п</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:69.84pt;">
<div class=block style=" width:69.84pt; height:32.88pt;">
<div class=paragraph style=" padding:10.08pt 0.00pt 0.00pt 2.40pt; text-align:left;"><span class=font38>Имя LSA</span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="6" valign="top" style=" width:221.76pt;">
<div class=block style=" width:221.76pt; height:260.88pt;">
<div class=paragraph style=" padding:0.00pt 10.80pt 0.00pt 4.80pt; text-align:left; text-indent:59.76pt;"><span class=font38 style=" line-height:10.08pt;"><i>Таблица 12 Типы анонсов OSPF (LSA). </i>Описание LSA</span></div>
<div class=paragraph style=" padding:8.16pt 10.08pt 0.00pt 2.40pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Генерируются всеми маршрутизаторами. Этот тип LSA описывает состояния интерфейсов маршрутизатора в область. Анонс рассылается в лавинном режиме внутри области. Генерируется выделенным маршрутизатором DR для широковещательных и NBMA-сетей. Этот тип LSA включает список маршрутизаторов, подключенных к сети. Рассылается в лавинном режиме внутри <u>области.</u></span></div>
<div class=paragraph style=" padding:0.00pt 10.08pt 0.00pt 2.40pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Генерируется граничными маршрутизаторами областей и рассылается в лавинном режиме в пределах связанной с LSA области. Каждый анонс summary-LSA описывает маршрут к адресату за пределами данной области, но внутри данной AS (междоменный маршрут). Тип 3 summary-LSA описывает маршруты в сети, а тип 4 – к граничным <u>маршрутизаторам AS.</u></span></div>
<div class=paragraph style=" padding:0.00pt 10.08pt 0.00pt 2.40pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Генерируется граничными маршрутизаторами AS и рассылается по всей автономной системе. Каждый анонс AS-external-LSA описывает маршрут к адресатам в другой AS. Принятые по умолчанию маршрутизаторы AS также могут описываться в AS-external-LSA.</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="6" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:260.88pt;">
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 4.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждый пакет Link State Update содержит набор новых анонсов состояния каналов (LSA) на один интервал (hop) удаленных от пункта генерации анонса. Один пакет Link State Update может содержать анонсы LSA от нескольких маршрутизаторов. Каждая запись LSA помечается идентификатором создавшего анонс маршрутизатора и сопровождается контрольной суммой содержимого. В каждой записи LSA имеется также поле типа; возможные варианты этого поля описаны в таблице 12.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 4.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты протокола OSPF (за исключением пакетов Hello) передаются только между смежными маршрутизаторами. Это означает, что все пакеты протокола OSPF проходят только<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>один<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>интервал<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>между</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 4.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторами (IP hop), за исключением тех ситуаций, когда смежность поддерживается через виртуальные соединения (virtual adjacency). IP-адрес отправителя пакета OSPF является адресом одного из смежных маршрутизаторов, а IP-адрес получателя является адресом второго из смежных маршрутизаторов или групповым IP-адресом.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:69.84pt;">
<div class=block style=" width:69.84pt; height:39.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font38>Router-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:69.84pt;">
<div class=block style=" width:69.84pt; height:49.92pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>Network-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:76.80pt;">
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font38>4</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:69.84pt;">
<div class=block style=" width:69.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:left;"><span class=font38>Summary-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:66.72pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:69.84pt;">
<div class=block style=" width:69.84pt; height:128.40pt;">
<div class=paragraph style=" padding:66.72pt 23.04pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">AS-external-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:66.72pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:61.68pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 62.40pt; text-align:left;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.04pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:313.68pt;">
<div class=block style=" width:313.68pt; height:18.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>4.4. Основные требования к реализации</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:281.28pt;">
<div class=block style=" width:281.28pt; height:18.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:386.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Каждая реализация OSPF должна обеспечивать перечисленные ниже возможности.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Таймеры</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протоколы требуются таймеры двух типов. Первый тип - single shot timers (одноразовый таймер) служит для запуска обработки событий по истечении заданного времени. Второй тип таймеров называют интервальными (interval timer) и они служат для непрерывного отсчета интервалов. Такие таймеры используются для периодической отправки пакетов. Хорошим примером может служить регулярная широковещательная рассылка пакетов Hello. Единица отсчета для таймеров обоих типов составляет 1 сек.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Реализация периодических таймеров не должна иметь дрейфа. В некоторых маршрутизаторах обработка пакетов может влиять на скорость работы таймера. При подключении множества маршрутизаторов к одной сети они все рассылают широковещательные пакеты и может возникнуть синхронная рассылка служебных пакетов, которой следует избегать. Если таймеры не удается реализовать без дрейфа, следует менять интервалы периодической рассылки на небольшие случайные значения для каждого периода.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Групповая адресация - IP multicast</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Некоторые пакеты OSPF передаются в виде дейтаграмм IP multicast. Поэтому требуется поддержка приема и передачи дейтаграмм с групповыми адресами IP и (при необходимости) соответствующих протоколов нижележащих уровней. Групповые дейтаграммы IP, используемые протоколом OSPF никогда не передаются дальше следующего маршрутизатора. По этой причине поддержка пересылки дейтаграмм IP multicast не требуется. Групповая адресация IP описана в работе [Ref7].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Подсети разных размеров - Variable-length subnet support</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Реализация протокола IP в маршрутизаторах должна поддерживать возможность разделения сетей класса A, B или C на множество подсетей различных размеров. Обычно такое деление называют variable-length subnetting (см. параграф 3.5).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Поддержка &laquo;сверхсетей&raquo; - IP supernetting support</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Реализация протокола IP в маршрутизаторах должна поддерживать возможность объединения непрерывного набора сетей классов A, B и C в более крупные объекты, называемые сверхсетями (supernet). Поддержка сверхсетей предложена в качестве одного из способов масштабирования маршрутизации IP в рамках сети Internet в целом. Дополнительную информацию о сверхсетях можно найти в работе [Ref10].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Поддержка протоколов нижележащих уровней - Lower-level protocol support</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">К упоминаемым в этой спецификации протоколам нижних уровней относятся протоколы доступа в сеть (например, канальный протокол Ethernet). От этих протоколов к OSPF должна передаваться индикация состояний интерфейса (up и down). В случае Ethernet представляется разумным получение информации об отключении сетевого кабеля Ethernet.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>Поддержка протоколов нижних уровней без широковещания - Non-broadcast lower-level protocol support</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В сетях без широковещания протокол OSPF Hello можно использовать, обеспечивая индикацию попыток отправки пакетов несуществующему или неработающему маршрутизатору. Например, в сетях X.25 PDN &laquo;умерший&raquo; соседний маршрутизатор можно указать с помощью X.25 clear (сведения о причинах &laquo;умирания&raquo; и диагностика), передавая эти данные протоколу OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия со списками - List manipulation primitives</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Большая часть функций OSPF описывается как операции над списками LSA. Например, набор LSA, передаваемых смежному маршрутизатору, пока не будет получено подтверждение, может быть представлен в виде списка. Любая отдельно взятая запись LSA может включаться во множество таких списков. Реализация OSPF должна поддерживать работу с такими списками, удаляя или добавляя в них при необходимости соответствующие LSA.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.48pt;">
<div class=block style=" width:294.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:82.32pt;">
<div class=block style=" width:82.32pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font7><b>15</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:85.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:1.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:740.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Поддержка задач - Tasking support</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Некоторые процедуры, описанные в этой спецификации, включают в себя выполнение других процедур. Иногда такие процедуры должны выполняться в режиме in-line, т. е., до того, как будет завершена текущая процедура. В тексте такие ситуации указаны инструкциями на выполнение процедуры. В других случаях, новая процедура выполняется только после завершения текущей. Такие ситуации показаны инструкциями на планирование задач.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>4.5. Дополнительные возможности OSPF</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF включает несколько дополнительных возможностей, реализация которых осуществляется по усмотрению разработчиков. Маршрутизатор указывает поддерживаемые им дополнения в своих пакетах OSPF Hello, Database Description LSA. Это позволяет использовать в одной автономной системе маршрутизаторы с разными наборами дополнительных возможностей. Некоторое возможности должны поддерживаться всеми маршрутизаторами, подключенными к данной области. В таких случаях маршрутизатор не будет воспринимать пакеты Hello от соседей, пока не убедится в наличии требуемого соответствия (т. е., несоответствие возможностей предотвращает организацию отношений соседства). Примером такой дополнительной функции может служить ExternalRoutingCapability (см. ниже).</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Другие возможности могут быть согласованы при обмене базами данных (Database Exchange). Это согласование реализуется указанием дополнительных возможностей в пакетах Database Description. Несоответствие возможностей с соседями в данном случае будет приводить лишь к сужению числа используемых дополнений и соответствующей корректировке содержимого баз данных при обмене между соседями.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Наличие дополнительных возможностей может влиять и на процесс построения таблицы маршрутов. Поскольку дополнительные возможности указываются в LSA, маршрутизаторы, неспособные поддерживать те или иные дополнения, могут быть опущены при построении дерева кратчайших путей.</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Дополнительные возможности протокола OSPF, определенные в данной спецификации, перечислены ниже. Более подробные сведения о таких возможностях приведены в параграфе A.2.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ExternalRoutingCapability</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Как было сказано выше (параграф 3.6) целые области OSPF могут быть настроены как тупиковые (stub). Анонсы AS-external-LSA не будут рассылаться в такие области. Эта возможность указывается битом E в поле опций OSPF (см. параграф A.2). Для того чтобы обеспечить согласованную настройку тупиковых областей, все маршрутизаторы, имеющие интерфейсы в такие области, должны устанавливать нулевое значение бита E в своих пакетах Hello (см. параграфы 9.5 и 10.5).</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b><i>5. Структуры данных протокола</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF описывается в данной спецификации в терминах обработки различных структур данных этого протокола. Ниже приведен список структур данных OSPF верхнего уровня. Если структура данных требует инициализации, нужные действия указаны явно. В протоколе OSPF области, интерфейсы и соседи также используют структуры данных, которые описаны ниже вместе с соответствующими объектами.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router ID (идентификатор маршрутизатора)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовое целое число, позволяющее уникально пронумеровать каждый маршрутизатор в AS. Одним из вариантов идентификатора может служить наименьший из IP-адресов маршрутизаторов интерфейса. При смене значения Router ID требуется перезагрузка программ OSPF в маршрутизаторе для работы с новым идентификатором Router ID. В таких случаях маршрутизатор должен удалить свои (self-originated) LSA из области маршрутизации (см. параграф 14.1) до перезагрузки, поскольку в противном случае эти анонсы будут сохраняться в течение времени MaxAge.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area structures (структуры области)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждая из областей, к которой подключен маршрутизатор, имеет свою структуру данных, описывающую работу базового алгоритма OSPF. Напомним, что в каждой области работает отдельная копия базового алгоритма OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Backbone (area) structure (структура магистральной области)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Магистральная область OSPF отвечает за распространение данных междоменной (inter-area) маршрутизации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Virtual links configured (настроенное виртуальное соединение)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Виртуальные соединения настраиваются между маршрутизаторами, служащими конечными точками таких соединений. Для организации виртуального соединения маршрутизатор должен быть граничным в области. Виртуальные соединения обозначаются идентификаторами Router ID удаленного маршрутизатора (он также является граничным в своей области). Для организации виртуального соединения оба участвующих в нем маршрутизатора должны быть подключены к общей области, называемой транзитной для виртуального канала (virtual link's Transit area). Виртуальные соединения включаются в магистраль AS, как будто они связаны между собой через сеть &laquo;точка-точка&raquo; без адресации интерфейсов (unnumbered). Виртуальное соединение использует внутридоменную маршрутизацию своей транзитной области для пересылки пакетов. Виртуальные соединения организуются (up) и удаляются (down) при построении дерева кратчайших путей для транзитной области.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of external routes (список внешних маршрутов)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этот список включаются маршруты ко внешним по отношению к AS адресатам, которые были явно получены от других протоколов маршрутизации (таких, как BGP), заданы администратором или получены иным способом (например, динамическая маршрутная информация, анонсируемая OSPF с заданным значением метрики). Все маршрутизаторы, имеющие такие внешние маршруты, называются граничными маршрутизаторами AS. Внешние маршруты анонсируются маршрутизаторами в область маршрутизации OSPF с помощью AS-external-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of AS-external-LSAs (список AS-external-LSA)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Часть базы данных о каналах, полученная от граничных маршрутизаторов AS. Этот список содержит маршруты ко внешним по отношению к данной AS адресатам. Отметим, что для граничных маршрутизаторов AS часть записей AS-external-LSA порождена данным маршрутизатором (self-originated).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>The routing table (таблица маршрутизации)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Эта таблица строится на основе базы данных о каналах (link-state database). Каждая запись в таблице маршрутизации индексируется по получателям и включает набор путей для пересылки пакетов адресатам. Для описания путей используется их тип и адрес следующего маршрутизатора (см. параграф 11). На рисунке 5 показана структура данных типичного маршрутизатора (RT10 из примера на рисунке 4). Отметим, что маршрутизатор RT10 имеет виртуальное соединение с RT11, а область 2 является для этого соединения транзитной. Это соединение показано звездочками (*) на рисунке 5. Когда виртуальное соединение активизируется при построении дерева кратчайших путей для области 2, оно становится интерфейсом в магистральную область (см. два магистральных интерфейса, отмеченных на рисунке 3).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:48.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>16</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:23.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:77.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.96pt;">
<div class=block style=" width:138.96pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:232.56pt;">
<div class=block style=" width:232.56pt; height:12.72pt;">
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:223.44pt;">
<div class=block style=" width:223.44pt; height:15.12pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" rowspan="3" valign="top" style=" width:348.96pt;">
<div class=block style=" width:348.96pt; height:61.92pt;">
<div class=paragraph style=" padding:0.00pt 174.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12 style=" line-height:15.60pt;"><b><i>6.      Структура данных области</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Структура   данных   области<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font34><b>/</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">содержит   всю  информацию,<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font34><b>/</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">используемую    при    работе<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font34><b>/</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:22.56pt;">
<div class=block style=" width:22.56pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:70.08pt;">
<div class=block style=" width:70.08pt; height:28.80pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 2.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.70pt;"><b>|RT10|-</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:38.88pt;">
<div class=block style=" width:38.88pt; height:59.52pt;">
<div class=paragraph style=" padding:16.80pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.60pt;"><b>\+</b><span style=" letter-spacing:0.00pt;"><b>-----</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.85pt;"><b>|Табл.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+-----</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:137.04pt;">
<div class=block style=" width:137.04pt; height:59.52pt;">
<div class=paragraph style=" padding:27.12pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font29><b>маршрут|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29><b>-------+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:70.08pt;">
<div class=block style=" width:70.08pt; height:30.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 32.40pt; text-align:left;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:253.92pt;">
<div class=block style=" width:253.92pt; height:26.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">базового<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>алгоритма</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизации OSPF. Каждая</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:117.60pt;">
<div class=block style=" width:117.60pt; height:26.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.56pt; text-align:left;"><span class=font29><b>+------+    /</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.65pt;"><b>|Обл. 2|</b><span style=" letter-spacing:0.00pt;"><b>---+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.56pt; text-align:left;"><span class=font3 style=" letter-spacing:-0.75pt;"><b>-I</b><span class=font6 style=" letter-spacing:0.00pt;"><b>_____________________</b></span><span class=font16 style=" letter-spacing:0.00pt;"><b>i-************</b></span></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:47.52pt;">
<div class=block style=" width:47.52pt; height:26.64pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:175.92pt;">
<div class=block style=" width:175.92pt; height:26.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+--------+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.45pt;"><b>-|Магистр.|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+--------+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:371.52pt;">
<div class=block style=" width:371.52pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">область   поддерживает   свою</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">базу  данных  link-state. Сеть<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font34 style=" letter-spacing:-1.40pt;"><b>/       \</b></span></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:73.92pt;">
<div class=block style=" width:73.92pt; height:91.20pt;">
<div class=paragraph style=" padding:0.00pt 22.32pt 0.00pt 6.48pt; text-align:left; text-indent:39.60pt;"><span class=font29 style=" line-height:10.08pt;"><b>/ *     /</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ -----------</b></span></div>
<div class=paragraph style=" padding:0.00pt 6.48pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|Вирт. канал |  до RT11</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ -----------</b></span></div>
<div class=paragraph style=" padding:0.00pt 24.24pt 0.00pt 44.40pt; text-align:left; text-indent:-3.84pt;"><span class=font29 style=" line-height:10.08pt;"><b>| |</b></span></div>
</div>
</td>
<td class=cell rowspan="5" valign="top" style=" width:12.48pt;">
<div class=block style=" width:12.48pt; height:118.80pt;">
<div class=paragraph style=" padding:83.76pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" letter-spacing:-1.25pt;"><b>-+</b></span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font3><b>I</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" letter-spacing:-1.25pt;"><b>-+</b></span></div>
</div>
</td>
<td class=cell rowspan="5" valign="top" style=" width:137.04pt;">
<div class=block style=" width:78.00pt; height:99.36pt; padding:12.72pt 32.16pt 6.72pt 26.88pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:78.00pt; height:99.36pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt;">
<div class=block style=" width:42.96pt; height:15.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font29><b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:15.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:20.40pt;">
<div class=paragraph style=" padding:4.80pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font29 style=" letter-spacing:-0.85pt;"><b>| Интерфейс Ib|</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt;">
<div class=block style=" width:42.96pt; height:40.80pt;">
<div class=paragraph style=" padding:14.40pt 0.48pt 0.00pt 35.52pt; text-align:left;"><span class=font4 style=" line-height:11.28pt;"><b>i i</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:40.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt;">
<div class=block style=" width:42.96pt; height:22.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font29><b>+ -------</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font29><b>| Сосед</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:22.80pt;">
<div class=paragraph style=" padding:4.80pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.40pt;"><b>RT6 |</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:left;"><span class=font8><b>--------</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:227.28pt;">
<div class=block style=" width:227.28pt; height:67.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">целиком      принадлежит      к<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">одной    области    и   каждый</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">интерфейс     маршрутизатора</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">тоже   подключен    к   одной</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">области.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Отношения</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">смежности<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>организуются</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">между        маршрутизаторами<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:68.88pt;">
<div class=block style=" width:68.88pt; height:71.28pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ --------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 10.56pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|Интерфейс| |в сеть N6|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ --------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 26.40pt 0.00pt 15.84pt; text-align:left; text-indent:5.28pt;"><span class=font29 style=" line-height:10.08pt;"><b>/ \ / </b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:75.36pt;">
<div class=block style=" width:75.36pt; height:58.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ --------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 17.04pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|Интерфейс| |в сеть N8|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ --------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.44pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:9.12pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:75.36pt;">
<div class=block style=" width:75.36pt; height:13.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 33.36pt; text-align:left;"><span class=font34 style=" line-height:9.84pt;"><b>|</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:9.12pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:227.28pt;">
<div class=block style=" width:227.28pt; height:4.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">одной области.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:216.72pt;">
<div class=block style=" width:216.72pt; height:27.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Магистраль   OSPF   является</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">специальной областью OSPF,</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:37.20pt;">
<div class=block style=" width:37.20pt; height:27.60pt;">
<div class=paragraph style=" padding:0.00pt 10.32pt 0.00pt 5.28pt; text-align:left; text-indent:-5.28pt;"><span class=font29 style=" line-height:10.32pt;"><b>Сосед RT8</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:27.60pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:116.88pt;">
<div class=block style=" width:116.88pt; height:27.60pt;">
<div class=paragraph style=" padding:0.00pt 80.16pt 0.00pt 15.84pt; text-align:left; text-indent:-5.52pt;"><span class=font29 style=" line-height:10.32pt;"><b>Сосед RT7</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:64.08pt;">
<div class=block style=" width:64.08pt; height:27.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.32pt; text-align:left;"><span class=font29><b>Сосед RT11</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:227.28pt;">
<div class=block style=" width:227.28pt; height:23.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отвечающей<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>за</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">распространение<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>данных</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">междоменной</span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:367.68pt;">
<div class=block style=" width:367.68pt; height:19.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 26.64pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:68.88pt;">
<div class=block style=" width:68.88pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:75.36pt;">
<div class=block style=" width:75.36pt; height:21.36pt;">
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 15.60pt; text-align:left;"><span class=font29><b>Сосед RT11</b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="3" valign="top" style=" width:223.44pt;">
<div class=block style=" width:223.44pt; height:24.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" letter-spacing:-1.25pt;"><b>-+</b></span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font3><b>I</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" letter-spacing:-1.25pt;"><b>-+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:296.16pt;">
<div class=block style=" width:296.16pt; height:17.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">База     данных     о     каналах</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:371.52pt;">
<div class=block style=" width:371.52pt; height:3.60pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:264.48pt;">
<div class=block style=" width:264.48pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">состоит из набора router-LSA,</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:330.48pt;">
<div class=block style=" width:330.48pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.32pt; text-align:left;"><span class=font38><i>Рисунок 5. Структуры данных маршрутизатора RT10.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:443.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">network-LSA и summary-LSA,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">получаемых от маршрутизаторов области. Эта информация рассылается в лавинном режиме в пределах данной области. Список</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">AS-external-LSA (см. параграф 5) также является частью каждой базы каналов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID – идентификатор области</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">32-битовый идентификатор области<sup>7</sup>. Значение ID = 0.0.0.0 зарезервировано для магистральной области.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of area address ranges – список адресных диапазонов</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для агрегирования маршрутной информации на границах областей могут использоваться диапазоны адресов. Каждый такой диапазон задается парой [адрес, маска] с указанием информации о состоянии (Advertise или DoNotAdvertise, см. параграф 12.4.3).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Associated router interfaces – интерфейсы подключенных маршрутизаторов</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Интерфейс маршрутизатора, подключенный к области. Интерфейс маршрутизатора может относиться к одной и только к одной области (или магистрали). Для магистральной области этот список включает также все виртуальные соединения. Виртуальное соединение обозначается идентификатором Router ID маршрутизатора на другой стороне соединения; стоимость виртуального соединения совпадает со стоимостью кратчайшего пути через транзитную область между маршрутизаторами.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of router-LSAs – список router-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы router-LSA генерируются каждым маршрутизатором области и описывают состояние интерфейсов маршрутизатора в данную область.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of network-LSAs – список network-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Один анонс network-LSA генерируется для каждой транзитной широковещательной или NBMA-сети в данной области. Анонсы network-LSA описывают набор маршрутизаторов, подключенных в данный момент к области.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of summary-LSAs – список summary-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы Summary-LSA исходят от граничных маршрутизаторов областей и описывают пути к получателям в пределах данной AS, но внешних по отношению к этой области (междоменный маршрут).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Shortest-path tree – дерево кратчайших путей</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Дерево кратчайших путей для данной области с маршрутизатором в качестве корня. Дерево строится на базе анонсов router-LSA и network-LSA с помощью алгоритма Dijkstra (см. параграф 16.1).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TransitCapability – возможность транзита</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот параметр показывает возможность передачи через область транзитного трафика, т. е., пакетов, отправители и получатели которых находятся за пределами области. Значение этого параметра определяется при построении для области дерева кратчайших путей (см. параграф 16.1 – поле TransitCapability имеет значение TRUE тогда и только тогда, когда существует один или несколько виртуальных соединений, для которых данная область является транзитной) и используется при построении таблицы маршрутов для области (см. параграф 16.3). Если TransitCapability = TRUE, область называю транзитной (transit area).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ExternalRoutingCapability</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот задаваемый административно параметр определяет лавинную рассылку анонсов AS-external-LSA в область. Если рассылка AS-external-LSA не проводится для данной области, область считается тупиковой (stub). В тупиковых областях маршрутизация внешним адресатам осуществляется исключительно на базе принятого по умолчанию summary-LSA для данной области. Магистральная область не может быть тупиковой. Кроме того, через тупиковые области невозможно организовать виртуальные соединения. Дополнительная информация о тупиковых областях содержится в параграфе 3.6.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>StubDefaultCost</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если область указана как тупиковая и данный маршрутизатор является граничным для такой области, параметр StubDefaultCost показывает стоимость принятого по умолчанию summary-LSA, который маршрутизатор должен анонсировать в область (см. параграф 12.4.3).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если явно не указано иное, в остальной части данной спецификации работа протокола OSPF рассматривается в масштабе одной</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">области.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:88.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>7. Организация отношений смежности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF организует отношения смежности (adjacency) между соседними маршрутизаторами для обмена маршрутной информацией. Не каждая пара соседних маршрутизаторов является смежной. В этой главе рассмотрены общие вопросы организации отношений смежности, а более детальное рассмотрение приводится в главе 10.</span></div>
<div class=paragraph style=" padding:5.28pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.80pt;"><sup>7</sup> Для записи Area ID часто используют общепринятый формат записи IP-адресов в виде десятичных чисел, разделенных точками. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128); line-height:10.80pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>17&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:77.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:751.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.50pt;"><b>7.1.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>Протокол Hello</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол Hello отвечает за организацию и поддержку отношений смежности между соседними маршрутизаторами, а также обеспечивает двухстороннюю связь между соседями. Пакеты Hello периодически передаются через все интерфейсы маршрутизатора. Наличие двухсторонней связи устанавливается, когда маршрутизатор видит себя в пакете Hello от соседа. В широковещательных и NBMA-сетях протокол Hello используется также для выбора маршрутизатора DR для данной сети.</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Работа протокола Hello различается в широковещательных сетях, сетях NBMA и Point-to-MultiPoint. В широковещательных сетях каждый маршрутизатор анонсирует себя, периодически передавая пакеты Hello с использованием групповой адресации. Это позволяет динамически обнаруживать присутствие соседей. Такие пакеты Hello содержат представление маршрутизатора о тождественности DR и список маршрутизаторов, чьи пакеты Hello были приняты недавно. В сетях NBMA требуется некоторая настройка для обеспечения работы протокола Hello. Каждый маршрутизатор, который потенциально может быть назначен в качестве DR, имеет список всех маршрутизаторов, подключенных к сети. Маршрутизатор, имеющий возможность стать DR, передает пакеты Hello всем остальным потенциальным DR, когда его интерфейс в сеть NBMA начинает работать. Это является попыткой обнаружения маршрутизатора DR для данной сети. Если данный маршрутизатор назначен в качестве DR, он начинает передачу пакетов Hello всем остальным маршрутизаторам, подключенным к сети.</span></div>
<div class=paragraph style=" padding:5.76pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В сетях Point-to-MultiPoint маршрутизатор передает пакеты Hello всем соседям, с которыми он может взаимодействовать напрямую. Поиск таких соседей может осуществляться динамически с использованием протоколов типа Inverse ARP [Ref14] или соседи могут быть заданы статически.</span></div>
<div class=paragraph style=" padding:6.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После того, как найдены соседи, организована двухсторонняя связь и (в широковещательных и NBMA-сетях) назначен выделенный маршрутизатор DR, принимается решение о возможности и целесообразности поддержки отношений смежности с соседом (см. параграф 10.4). Если отношения смежности организованы, первым шагом является синхронизация баз данных между смежными маршрутизаторами, подробно описанная в следующем параграфе.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.50pt;"><b>7.2.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>Синхронизация баз данных</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для алгоритмов link-state большое значение имеет синхронизация баз данных о состоянии каналов во всех маршрутизаторах. Протокол OSPF упрощает ситуацию, требуя синхронизировать лишь базы данных смежных маршрутизаторов. Процесс синхронизации начинается сразу после попытки маршрутизаторов организовать отношения смежности. Каждый маршрутизатор описывает свою базу каналов, посылая соседу последовательность пакетов Database Description, каждый из которых описывает набор LSA, включенных в базу данных маршрутизатора. Когда сосед видит анонсы LSA, более новые по сравнению с имеющейся у него копией, он делает отметку о необходимости запроса новейших LSA.</span></div>
<div class=paragraph style=" padding:6.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Процесс обмена пакетами Database Description называется обменом базами данных (Database Exchange Process). Во время обмена между маршрутизаторами организуются отношения ведущий - ведомый (master/slave). Каждый пакет Database Description имеет порядковый номер. Переданные ведущим маршрутизатором пакеты Database Description подтверждаются ведомой стороной с возвратом порядкового номера подтверждаемого пакета. Передаваемые в обоих направлениях пакеты содержат резюме данных о состоянии соединений (link state data). Ведущий маршрутизатор может повторно передавать пакеты Database Description с использованием фиксированного интервала, задаваемого для каждого интерфейса административно с помощью параметра RxmtInterval.</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждый пакет Database Description содержит флаг индикации наличия последующих пакетов - бит M. Процесс Database Exchange завершается, когда маршрутизатор принял и передал пакет Database Description с нулевым значением бита M. В процессе Database Exchange и после его завершения каждый маршрутизатор имеет список LSA, для которых сосед имеет более свежие данные. Для запроса этой информации используются пакеты Link State Request. Если запрос не выполнен пакет Link State Request передается повторно по истечении интервала RxmtInterval. После завершения процесса Database Exchange<sup>8</sup> и выполнения всех запросов Link State базы данных засинхронизированы и маршрутизаторы маркируются как смежные (fully adjacent). С этого момента отношения смежности являются полными и анонсируются в router -LSA обоих маршрутизаторов.</span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 28.56pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Смежность используется процедурой лавинной рассылки с самого начала процесса Database Exchange. Это упрощает синхронизацию баз данных и гарантирует ее завершение в разумные сроки.</span></div>
<div class=paragraph style=" padding:12.24pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.50pt;"><b>7.3.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>Выделенный маршрутизатор DR</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">В каждой широковещательной или NBMA-сети имеется выделенный маршрутизатор DR, выполняющий две основных задачи:</span></div>
<div class=paragraph style=" padding:0.24pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Маршрутизатор DR генерирует анонсы network-LSA от имени сети. Эти LSA содержат список маршрутизаторов (включая DR), подключенных в данный момент к сети. Идентификатором Link State ID для таких LSA (см. параграф 12.1.4) является IP-адрес интерфейса в маршрутизаторе DR. Номер IP-сети можно найти по этому адресу, используя адресную маску.</span></div>
<div class=paragraph style=" padding:0.48pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Маршрутизатор DR является смежным для всех остальных маршрутизаторов сети. Поскольку базы данных смежных маршрутизаторов синхронизируются (в процессе организации отношений смежности), маршрутизатор DR играет центральную роль в процессе синхронизации данных.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор DR задается с помощью протокола Hello. Пакет Hello от маршрутизатора содержит значение Router Priority, настраиваемое для каждого интерфейса. В общем случае перед тем как интерфейс маршрутизатора в сеть начнет работать, он проверяет наличие в сети маршрутизатора DR. Если такой маршрутизатор уже задан, он принимается, независимо от значения Router Priority. Такой подход осложняет прогноз тождественности DR, но избавляет от частой смены маршрутизатора DR (см. ниже). Если маршрутизатор DR еще не назначен, им становится данный маршрутизатор, если он имеет наивысшее в сети значение Router Priority. Более детальное и точное описание процедуры выбора DR приведено в параграфе 9.4.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор DR является конечной точкой для множества смежных пар. Для оптимизации процедуры лавинной рассылки в широковещательных сетях DR использует для передачи своих пакетов Link State Update Packets групповой адрес AllSPFRouters, вместо передачи пакетов каждому из смежных маршрутизаторов по отдельности.</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В главе 2 было рассмотрено представление областей в виде графа. Маршрутизаторы помечаются их идентификаторами (Router ID), для обозначения транзитных сетей используются IP-адреса их маршрутизатора DR. Из сказанного следует, что при смене маршрутизатора DR на графе это отражается как полная замена сетевого узла. При такой смене сеть и все подключенные к ней маршрутизаторы будут генерировать новые анонсы LSA. В результате может теряться связность сети, пока не будут засинхронизированы все базы данных. В результате потери связности может быть сгенерировано множество сообщений ICMP unreachable. По этим причинам замены DR-маршрутизатора не должны быть частыми. Параметр Router Priority следует устанавливать таким, чтобы наиболее надежный маршрутизатор сети в конце концов принимал на себя функции DR.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><sup>8</sup> В оригинале ошибочно указано Database Description. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>18</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:24.96pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:145.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:11.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:129.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:2.16pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:182.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>7.4. Резервный маршрутизатор DR</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для облегчения процесса перехода к новому маршрутизатору DR вводится понятие резервного DR-маршрутизатора (Backup Designated Router) для каждой широковещательной и NBMA-сети. Маршрутизатор Backup DR также является смежным со всеми маршрутизаторами сети и берет на себя функции выделенного маршрутизатора при сбое прежнего DR. Если в сети нет Backup DR, для назначения нового DR от этого маршрутизатора потребуется организовать отношения смежности со всеми остальными маршрутизаторами в сети. Частью этого процесса является синхронизация баз данных, которая может занимать достаточно много времени, в течение которого сеть будет недоступна для передачи данных. Наличие маршрутизатора Backup DR избавляет от необходимости формирования отношений смежности, поскольку они уже существуют. Это уменьшает время простоя для транзитного трафика до периода, требуемого для лавинной рассылки новых LSA, которые анонсируют новый маршрутизатор DR.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Резервный маршрутизатор DR не генерирует анонсов network-LSA для сети (если это сделать, переход к новому DR дополнительно ускорится, но приходится учитывать соотношение между ростом базы данных и скоростью перехода к новому DR).</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор Backup DR также задается с помощью протокола Hello. Каждый пакет Hello имеет поле для указания Backup DR для сети.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">На некоторых этапах процедуры лавинной рассылки Backup DR играет пассивную роль, позволяя маршрутизатору DR выполнять больше работы. В результате снижается уровень локального служебного трафика (см. параграф 13.3).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:19.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" rowspan="3" valign="top" style=" width:288.72pt;">
<div class=block style=" width:288.72pt; height:146.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>7.5. Граф смежности</b></span></div>
<div class=paragraph style=" padding:0.00pt 9.12pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Смежность привязывается к сети, в которую оба маршрутизатора имеют интерфейс. Если смежные маршрутизаторы имеют несколько общих сетей, между этими маршрутизаторами организуется соответствующее число отношений смежности.</span></div>
<div class=paragraph style=" padding:4.08pt 9.12pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Набор отношений смежности сети можно представить в форме ненаправленного графа. Вершины графа представляют маршрутизаторы, а ребра соединяют смежные маршрутизаторы между собой. Граф смежности описывает поток пакетов протокола маршрутизации и, в частности, пакетов Link State Update через AS.</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:36.96pt;">
<div class=block style=" width:36.96pt; height:75.84pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 2.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.80pt;"><b>|RT1|-</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:51.12pt;">
<div class=block style=" width:51.12pt; height:75.84pt;">
<div class=paragraph style=" padding:21.36pt 0.00pt 0.00pt 11.04pt; text-align:left;"><span class=font29><b>N1</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:88.32pt;">
<div class=block style=" width:88.32pt; height:75.84pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-1.05pt;"><b>|RT2|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell rowspan="4" valign="top" style=" width:129.84pt;">
<div class=block style=" width:104.64pt; height:168.72pt; padding:15.36pt 25.20pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:104.64pt; height:168.72pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt;">
<div class=block style=" width:26.88pt; height:52.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font29>о---</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font29><b>RT1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.88pt;">
<div class=block style=" width:44.88pt; height:52.32pt;">
<div class=paragraph style=" padding:36.72pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font29><b>RT7</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.88pt;">
<div class=block style=" width:32.88pt; height:52.32pt;">
<div class=paragraph style=" text-align:left;"><span class=font29>---о</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 16.08pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.40pt;"><b>RT2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:71.76pt;">
<div class=block style=" width:71.76pt; height:64.80pt;">
<div class=paragraph style=" padding:5.52pt 1.20pt 0.00pt 1.44pt; text-align:left;"><span class=font31 style=" line-height:9.84pt;"><b>/l\ </b>/ 1 \ <span style=" letter-spacing:-0.95pt;">/  1  \ </span><span style=" letter-spacing:-0.75pt;">/   1   <b>\ </b></span><span class=font29><b>RT5o RT6o</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.92pt; text-align:left;"><span class=font29><b>*   *   *</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.88pt;">
<div class=block style=" width:32.88pt; height:64.80pt;">
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 0.48pt; text-align:left; text-indent:22.80pt;"><span class=font32 style=" line-height:9.84pt;">1 1 1 1 <span class=font29 style=" letter-spacing:-0.50pt;"><b>oRT4 | </b></span><span class=font29><b>|</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt;">
<div class=block style=" width:26.88pt; height:10.56pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.88pt;">
<div class=block style=" width:44.88pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:left;"><span class=font29><b>* * *</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.88pt;">
<div class=block style=" width:32.88pt; height:10.56pt;">
<div class=paragraph style=" padding:0.48pt 3.36pt 0.00pt 0.00pt; text-align:right;"><span class=font32>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt;">
<div class=block style=" width:26.88pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.88pt;">
<div class=block style=" width:44.88pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.24pt; text-align:left;"><span class=font29><b>* * *</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.88pt;">
<div class=block style=" width:32.88pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 3.36pt 0.00pt 0.00pt; text-align:right;"><span class=font32>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt;">
<div class=block style=" width:26.88pt; height:16.56pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.88pt;">
<div class=block style=" width:44.88pt; height:16.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.48pt; text-align:left;"><span class=font29><b>***</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.88pt;">
<div class=block style=" width:32.88pt; height:16.56pt;">
<div class=paragraph style=" padding:0.24pt 3.36pt 0.00pt 0.00pt; text-align:right;"><span class=font32>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt;">
<div class=block style=" width:26.88pt; height:14.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:44.88pt;">
<div class=block style=" width:44.88pt; height:14.40pt;">
<div class=paragraph style=" padding:4.80pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font29><b>RT3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.88pt;">
<div class=block style=" width:32.88pt; height:14.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:48.00pt;">
<div class=block style=" width:48.00pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 15.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 18.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.95pt;"><b>|RT7|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 15.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font19>I</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:40.08pt;">
<div class=block style=" width:40.08pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.08pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 12.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-1.00pt;"><b>|RT3|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.08pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 23.76pt; text-align:left;"><span class=font19>I</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:88.32pt;">
<div class=block style=" width:88.32pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 14.40pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.95pt;"><b>|RT4|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 26.88pt; text-align:left;"><span class=font19>I</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt;">
<div class=block style=" width:7.68pt; height:20.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:72.48pt;">
<div class=block style=" width:72.48pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font19>I</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 31.44pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.90pt;"><b>|RT5|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:40.80pt;">
<div class=block style=" width:40.80pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font19>I</span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 2.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.90pt;"><b>|RT6|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:58.32pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>N2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:113.76pt;">
<div class=block style=" width:113.76pt; height:37.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В   зависимостмаршрутизатор</span></div>
<div class=paragraph style=" padding:0.00pt 12.00pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">физических</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.04pt;">
<div class=block style=" width:29.04pt; height:37.44pt;">
<div class=paragraph style=" padding:0.00pt 4.32pt 0.00pt 0.00pt; text-align:left; text-indent:4.80pt;"><span class=font38 style=" line-height:9.84pt;">от DR сетях</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:153.60pt;">
<div class=block style=" width:153.60pt; height:37.44pt;">
<div class=paragraph style=" padding:0.00pt 16.56pt 0.00pt 0.00pt; text-align:left; text-indent:5.28pt;"><span class=font38 style=" line-height:9.84pt;">наличия   в   сети   выделенного возможны два варианта графа. В &laquo;точка-точка&raquo;,    сетях</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:368.88pt;">
<div class=block style=" width:368.88pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 89.28pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">MultiPoint и виртуальных каналах соседние маршрутизаторы становятся смежными, если они могут </span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:226.08pt;">
<div class=block style=" width:226.08pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.32pt; text-align:left;"><span class=font38><i>Рисунок 6. Граф смежности</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 315.12pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">обмениваться<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>данными<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>напрямую.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>В</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">широковещательных и NBMA-сетях маршрутизаторы DR и Backup DR являются смежными для всех остальных маршрутизаторов</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:75.60pt;">
<div class=block style=" width:75.60pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>сети.</span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:519.36pt;">
<div class=block style=" width:519.36pt; height:12.00pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Оба варианта графов показаны на рисунке 6. Предполагается, что маршрутизатор RT7 является DR, а RT3 - Backup DR для сети N2. Маршрутизатор Backup DR выполняет меньше работы в процессе лавинной рассылки, нежели маршрутизатор DR (см. параграф 13.3). По этой причине соединение с маршрутизатором Backup DR (RT3) выделено на графе звездочками (*).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt;">
<div class=block style=" width:57.12pt; height:19.68pt;">
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:239.28pt;">
<div class=block style=" width:239.28pt; height:19.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font11><b><i>8. Обработка пакетов протокола</i></b></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:298.56pt;">
<div class=block style=" width:298.56pt; height:19.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:285.84pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этой главе рассмотрены общие вопросы обработки сообщений протокола маршрутизации OSPF. Важно обеспечение синхронного состояния баз данных о каналах в маршрутизаторах. По этой причине пакеты протокола маршрутизации должны иметь преимущества перед обычными пакетами данных как для приема, так и для передачи.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты протокола маршрутизации передаются только между смежными узлами (исключением являются пакеты Hello, используемые для организации отношений смежности). Это означает, что все пакеты протокола маршрутизации передаются только на один интервал (hop), за исключением пакетов, передаваемых через виртуальные соединения.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Все пакеты протокола маршрутизации используют стандартный заголовок. В следующих параграфах детально описаны правила заполнения и проверки полей заголовка. Далее приведены более детальные описания для всех типов пакетов и сведения об обработке пакетов.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>8.1. Передача пакетов</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда маршрутизатор передает пакет протокола маршрутизации, он заполняет поля стандартного заголовка OSPF, перечисленные ниже. Детальное описание формата заголовка приведено в параграфе A.3.1:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Version #</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Это поле имеет значение 2 – текущий номер версии протокола в соответствии с данной спецификацией.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Packet type</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Тип пакета OSPF (например, Link State Update или Hello).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Packet length</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Размер всего пакета OSPF в байтах и учетом стандартного заголовка OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Идентификатор маршрутизатора, породившего пакет.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Идентификатор области OSPF, в которую передается пакет.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Checksum</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Стандартная контрольная сумма IP для пакета OSPF в целом без учета 64-битового поля аутентификации. Эта контрольная сумма рассчитывается в процессе аутентификации и для некоторых типов аутентификации OSPF контрольная сумма не используется (см. параграф D.4).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:296.40pt;">
<div class=block style=" width:296.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:168.72pt;">
<div class=block style=" width:168.72pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font7><b>19</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:129.84pt;">
<div class=block style=" width:129.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 26.40pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:145.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:11.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:129.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:107.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:80.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:209.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AuType и Authentication</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Весь обмен пакетами OSPF осуществляется с использованием аутентификации. Типы аутентификации задаются протоколом и описаны в Приложении D. Для каждой сети или подсети IP могут использоваться различные процедуры аутентификации. Значение AuType показывает тип используемой процедуры аутентификации. 64-битовое поле аутентификации используется выбранной процедурой проверки полномочий, которая должна вызываться при передаче сформированного пакета (см. параграф D.4). При установке IP-адреса получателя используются описанные здесь правила. В физических сетях point-to-point в качестве IP-адреса получателя всегда устанавливается значение AllSPFRouters. Для других типов сетей (включая виртуальные соединения), большинство пакетов OSPF передается с указанием точного адреса (unicast) смежного маршрутизатора - Neighbor IP (см. главу 10). В широковещательных сетях для передачи пакетов Hello используется multicast-адрес AllSPFRouters, маршрутизаторы DR и Backup DR передают пакеты Link State Update и Link State Acknowledgment также по групповому адресу AllSPFRouters, а все прочие маршрутизаторы передают пакеты Link State Update и Link State Acknowledgment по групповому адресу AllDRouters. Retransmissions of Link State Update packets are ALWAYS sent directly to the neighbor. On multi-access networks, this means that retransmissions should be sent to the neighbor's IP address.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В качестве адреса отправителя должен устанавливаться IP-адрес передающего интерфейса маршрутизатора. Интерфейсы в безадресные сети point-to-point не имеют IP-адресов, поэтому для таких интерфейсов в качестве адреса отправителя может устанавливаться IP-адрес любого из интерфейсов данного маршрутизатора. По этой причине каждый маршрутизатор должен иметь по крайней мере один интерфейс с IP-адресом<sup>9</sup>. Отметим, что в большинстве случаев виртуальные соединения работают подобно безадресным сетям point-to-point. Однако с каждым виртуальным каналом связан IP-адрес интерфейса (этот адрес определяется при построении таблицы маршрутизации), который используется в качестве адрес отправителя при передаче пакетов в виртуальный канал.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.08pt;">
<div class=block style=" width:376.08pt; height:90.00pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Более  подробные  сведения  о   форматах  различных  пакетов   OSPF  приведены  в параграфах, указанных в таблице 13.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font11><b>8.2. Прием пакетов протокола</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Когда пакет протокола принимается маршрутизатором, он маркируется принявшим</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style="блице 13.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font11><b>8.2. Прием пакетов протокола</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Когда пакет протокола принимается маршрутизатором, он маркируется принявшим</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакет интерфейсом. Для маршрутизаторов, использующих виртуальные соединения,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">не всегда возможно сразу определить с каким интерфейсом связан пакет. Рассмотрим</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">в качестве примера маршрутизатор RT11 (рисунок 4). Если RT11 принимает пакет</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">протокола OSPF  на своем интерфейсе  в  сеть N8, этот пакет можно  связать  с</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:218.88pt;">
<div class=block style=" width:163.92pt; height:90.00pt; padding:0.00pt 54.96pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:163.92pt; height:90.00pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:84.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt;">
<div class=block style=" width:26.64pt; height:39.84pt;">
<div class=paragraph style=" padding:19.20pt 6.00pt 0.00pt 5.28pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;">Тип 1</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:137.28pt;">
<div class=block style=" width:137.28pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 3.12pt 0.00pt 4.08pt; text-align:left; text-indent:9.36pt;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 13 Описания способов распространения пакетов OSPF. </i>Название пакета       Параграф Hello                         9.5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt;">
<div class=block style=" width:26.64pt; height:30.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 2.16pt; text-align:center;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:84.72pt;">
<div class=block style=" width:84.72pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 11.52pt 0.00pt 8.16pt; text-align:left; text-indent:0.48pt;"><span class=font38 style=" line-height:9.84pt;">Database description Link state request</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.56pt;">
<div class=block style=" width:52.56pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 31.92pt 0.00pt 6.48pt; text-align:left;"><span class=font38 style=" line-height:19.68pt;">10.8 10.9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt;">
<div class=block style=" width:26.64pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.16pt; text-align:center;"><span class=font38>4</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.64pt; text-align:center;"><span class=font38>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:84.72pt;">
<div class=block style=" width:84.72pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 13.20pt 0.00pt 8.16pt; text-align:left; text-indent:0.48pt;"><span class=font38 style=" line-height:10.08pt;">Link state update Link state ack</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.56pt;">
<div class=block style=" width:52.56pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 31.92pt 0.00pt 6.48pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">13.3 13.5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:84.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:372.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">интерфейсом в область 2 или виртуальным каналом к маршрутизатору RT10, являющемуся частью магистрали. При дальнейшем</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">рассмотрении предполагается, что пакет изначально связан не с виртуальным соединением<sup>10</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для того, чтобы пакет был воспринят на уровне IP, он должен пройти ряд проверок еще до того, как будет передан протоколу</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:11.04pt;">OSPF для обработки:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:11.04pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Контрольная сумма IP должна совпадать с одноименным полем заголовка пакета.</span></div>
<div class=paragraph style=" padding:0.72pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:11.04pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В качестве адреса получателя должен быть задан IP-адрес принявшего пакет интерфейса или один из групповых адресов IP (AllSPFRouters или AllDRouters).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:11.04pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Поле протокола IP должно указывать на OSPF (89).</span></div>
<div class=paragraph style=" padding:0.72pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:11.04pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Пакеты локального происхождения не должны передаваться протоколу OSPF - IP-адрес отправителя должен проверяться на предмет совпадения с одним из адресов принявшего пакет маршрутизатора или одним из групповых адресов.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После этого проверяется заголовок OSPF - поля, указанные в заголовке, должны совпадать со значениями, настроенными для принявшего пакет интерфейса. При отсутствии требуемого пакет должен отбрасываться:</span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Поле версии должно содержать значение 2 (текущая версия протокола).</span></div>
<div class=paragraph style=" padding:1.20pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Проверяется идентификатор области Area ID из заголовка OSPF - если не выполняется ни одно из двух перечисленных ниже условий, пакет должен быть отброшен.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.08pt; text-align:justify; text-indent:-17.52pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;<b><i>Идентификатор Area ID относится к области принявшего пакет интерфейса</i></b><i>. </i>В этом случае пакет был принят через один интервал и, следовательно, IP-адрес отправителя должен относиться к той же сети, что и адрес принявшего пакет интерфейса. Это можно проверить, сравнив IP-адрес отправителя из заголовка пакета с IP-адресом принявшего интерфейса после использования для обоих адресов маски подсети, заданной для интерфейса. Такое сравнение не должно проводиться для сетей point-to-point, в таких сетях адреса на каждой стороне соединения выделяются совершенно или могут отсутствовать вообще.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 64.08pt; text-align:justify; text-indent:-17.52pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;<b><i>Пакет принят из магистрали</i></b><i>. </i>В таких случаях пакеты передаются через виртуальное соединение. Принявший пакет маршрутизатор должен быть граничным в своей области и значение Router ID, указанное в пакете (маршрутизатор-отправитель) должно относиться к другой стороне виртуального соединения. Принимающий интерфейс должен быть подключен к настроенной для виртуального соединения транзитной области. После выполнения всех перечисленных проверок пакет принимается и ассоциируется с виртуальным соединением (и магистральной областью).</span></div>
<div class=paragraph style=" padding:0.48pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Пакеты, отправленные по адресу AllDRouters должны приниматься только маршрутизаторами DR и Backup (см. параграф 9.1).</span></div>
<div class=paragraph style=" padding:0.24pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Указанное в пакете значение AuType (тип аутентификации) должно совпадать со значением AuType для связанной с пакетом области.</span></div>
<div class=paragraph style=" padding:0.48pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Выполняется процедура аутентификации пакета, указанная полем AuType (см. Приложение D). В процедуре аутентификации может использоваться один или несколько ключей Authentication, которые задаются независимо для каждого интерфейса. Процедура аутентификации может также проверять контрольную сумму полей заголовка OSPF (если эта контрольная сумма используется она представляет собой стандартную контрольную сумму IP для содержимого пакета OSPF без учета 64-битового поля аутентификации). Пакеты, не прошедшие процедуру аутентификации, должны отбрасываться.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 81.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 14 Параграфы, описывающие прием пакетов OSPF.      </i>В   случае   приема   пакетов   Hello   их   дальнейшая<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt;">
<div class=block style=" width:250.08pt; height:40.32pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 33.84pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>Тип     Название</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 34.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Hello<b>______________________________________</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 33.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Описание базы данных (Database description)</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 34.08pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Запрос состояния канала (Link state request)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:18.48pt;">
<div class=block style=" width:18.48pt; height:40.32pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:326.40pt;">
<div class=block style=" width:326.40pt; height:41.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>Описание</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; </span>обработка      осуществляется      протоколом      Hello,</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; описанным в параграфе 10.5. Все остальные типы</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; пакетов     предаются     только     между     смежными</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>10.7</u>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; маршрутизаторами. Это означает, что пакет должен</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:268.56pt;">
<div class=block style=" width:268.56pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 33.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Обновление состояния канала (Link state update)       13<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>быть передан одним из активных соседей принявшего</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 33.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Подтверждение состояния канала (Link state ack)      13.7<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>маршрутизатора.    Если    принимающий    интерфейс</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 325.20pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">подключен к широковещательной сети, сети Point-to-</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:10.56pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:44.64pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><sup>9</sup>&nbsp;Все интерфейсы маршрутизатора могут быть подключены к безадресным каналам point-to-point. В таких случаях следует связать IP-адрес с самим маршрутизатором. Этот адрес будет анонсироваться в router-LSA как маршрут к хосту.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>10</sup><span style=" letter-spacing:0.00pt;">&nbsp;Отметим, что в таких случаях оба интерфейса (виртуальный и реальный) имеют одинаковый адрес IP.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>20&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:107.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:80.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:60.24pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">MultiPoint или NBMA, отправитель идентифицируется адресом IP в заголовке IP-пакета. Если принимающий интерфейс подключен к сети point-to-или виртуальному соединению, отправитель идентифицируется полем Router ID в заголовке пакета OSPF. Структура данных принимающего интерфейса содержит список активных соседей. Пакеты, не соответствующие любому из перечисленных выше условий, должны отбрасываться.</span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После проверки пакет ассоциируется с передавшим его активным соседом. Дальнейшие операции по обработке принимаемых пакетов описаны ниже в отдельных параграфах (см. таблицу 14).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:13.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:704.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>9. Структура данных интерфейса</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Интерфейс OSPF представляет собой соединение между маршрутизатором и сетью. Мы предполагаем один интерфейс OSPF в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">каждую сеть/подсеть, хотя в приложении F рассматриваются варианты с множеством интерфейсов в одну сеть. С каждой</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">структурой данных интерфейса связан по крайней мере один адрес IP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Интерфейс OSPF можно рассматривать как часть области, к которой относится соединенная с интерфейсом сеть. Все пакеты</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">протокол   маршрутизации,   передаваемые   маршрутизатором   через   интерфейс,   помечаются   идентификатором   Area   ID</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соответствующей области. Через один интерфейс может быть организовано несколько отношений смежности. Записи LSA в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторе отражают состояние его интерфейсов и отношения смежности.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ниже приведен список данных, связанных с каждым интерфейсом. Отметим, что многие параметры задают конфигурацию</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">подключенной к интерфейсу сети и должны быть одинаковы для всех подключенных к этой сети маршрутизаторов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Type</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Интерфейсы OSPF могут быть нескольких типов - point-to-point, broadcast, NBMA, Point-to-MultiPoint или virtual link.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>State</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Функциональное состояние интерфейса, определяющее возможность организации отношений смежности через данный интерфейс. Состояние интерфейса отражается также в LSA маршрутизатора.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>IP interface address</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">IP-адрес, связанный с интерфейсом. Этот адрес появляется в качестве адреса отправителя для пакетов, исходящих от данного интерфейса. Интерфейсы в безадресные сети point-to-point не имеют своего IP-адреса.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>IP interface mask</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маска сети/подсети, определяющую часть IP-адреса интерфейса, обозначающую номер сети. Маскирование IP-адресов позволяет определять IP-номер подключенной к интерфейсу сети. В сетях point-to-point и виртуальных каналах маска для интерфейса не задается, поскольку в таких сетях соединение не имеет связанного с ним адреса IP, а адреса для разных сторон соединения задаются независимо или не используются совсем.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Идентификатор области, в которую входит подключенная к интерфейсу сеть. Все пакеты протокола маршрутизации, отправляемые с данного интерфейса, помечаются значением ID.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>HelloInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Промежуток времени (в секундах) между передачей интерфейсом двух последовательных пакетов Hello. Это значение анонсируется в передаваемых интерфейсом пакетах Hello.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>RouterDeadInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Время (в секундах), по истечении которого соседний маршрутизатор признается неработающим. Время исчисляется от момента приема последнего пакета Hello от соседнего маршрутизатора. Значение этого параметра анонсируется в пакетах Hello.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>I nfTransDelay</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Оценка времени (в секундах), затрачиваемого на передачу пакета Link State Update Packet через данный интерфейс. Анонсы LSA, содержащиеся в пакете Link State Update будут увеличивать свой возраст на величину этого параметра до передачи пакета в интерфейс. Это значение должно учитывать задержки на прохождение и передачу сигнала. Параметр должен иметь положительное значение.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router Priority</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">8-битовое беззнаковое целое, определяющее приоритет маршрутизатора. Когда два подключенных к сети маршрутизатора пытаются занять место DR, выбирается маршрутизатор с большим значением Router Priority. Для маршрутизаторов, которые не должны играть роль DR устанавливается Router Priority = 0. Значение этого параметра анонсируется в пакетах Hello.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Hello Timer</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Интервальный таймер, используемый для передачи пакетов Hello. Этот таймер запускается каждые HelloInterval секунд. Отметим, что в сетях без широковещания пакеты Hello передаются по отдельности каждому соседу.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Wait Timer</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Однократный таймер, вынуждающий интерфейс выходить из состояния Waiting (ожидание) и, как следствие, выбирать маршрутизатор DR в сети. Время отсчета этого таймера составляет RouterDeadInterval.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of neighboring routers</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Список всех прочих маршрутизаторов, подключенных к данной сети, который формируется протоколом Hello. С некоторыми из соседних er или DR) для подключенной к интерфейсу сети. Маршрутизаторы DR выбираются в широковещательных и NBMA-сетях протоколом Hello. Для маршрутизатора DR сохраняются два параметра -Router ID и IP-адрес интерфейса в данную сеть. Маршрутизатор DR анонсирует состояние канала для сети; анонс network-LSA помечается IP-адресом маршрутизатора DR. При инициализации поле Designated Router принимает значение 0.0.0.0, говорящее об отсутствии в сети маршрутизатора DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Backup Designated Router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор Backup DR также назначается для всех широковещательных и NBMA-сетей с помощью протокола Hello. Все маршрутизаторы сети являются смежными как с DR, так и с Backup DR. Маршрутизатор Backup Designated Router переходит в состояние DR, если текущий маршрутизатор DR &laquo;падает&raquo;. При инициализации Backup DR принимает значение 0.0.0.0, говорящее об отсутствии в сети маршрутизатора Backup DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Interface output cost(s)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Стоимость передачи пакета данных через интерфейс, выраженная в единицах метрики link state. Это значение анонсируется как стоимость для данного интерфейса в пакетах router-LSA. Стоимость должна иметь положительное значение.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>RxmtInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Период (в секундах) повтора передачи LSA для смежных узлов данного интерфейса. Этот же период используется для повтора передачи пакетов Database Description и Link State Request.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AuType</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.96pt;">
<div class=block style=" width:72.96pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>21</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:735.36pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Тип аутентификации, используемой в подключенной к интерфейсу сети/подсети. Описание типов аутентификации приведено в Приложении D. Весь обмен пакетами OSPF осуществляется с использованием аутентификации. В разных сетях/подсетях могут использоваться различные варианты аутентификации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Authentication key</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Эти задаваемые административно данные позволяют процедуре аутентификации генерировать и/или проверять пакеты протокола OSPF. Ключи аутентификации можно независимо задавать для каждого интерфейса. Например, если полу AuType указывает на использование простого пароля, Authentication key будет содержать 64-байтовое значение пароля, помещаемое в заголовок пакета OSPF без шифрования. Если для Autype указана криптографическая аутентификация (Cryptographic) поле Authentication key будет содержать открытый ключ (shared secret), позволяющий генерировать/проверять цифровые подписи (message digests), добавляемые к пакетам протокола OSPF. При использовании криптографической аутентификации поддерживается множество ключей, что позволяет обеспечить эффективную работу системы аутентификации (см. параграф D.3).</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>9.1.&nbsp;Состояния интерфейса</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе описаны различные состояния, в которых может находиться интерфейс маршрутизатора. Состояния перечислены в порядке расширения их функциональности. Например, нерабочее состояние указано первым, после чего следует набор промежуточных состояний и заканчивается список полнофункциональным состоянием интерфейса. В данной спецификации будет сохраняться такой порядок состояний и могут встречаться фразы типа: &laquo;интерфейс находится в состоянии, более высоком по сравнению с X&quot;. На рисунке 7 показан граф состояний интерфейса. Дуги графа отмечены событиями, вызывающими смену состояния интерфейса. Эти события описаны в параграфе 9.2. Машина состояний интерфейса описана в параграфе 9.3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Down</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Изначальное состояние интерфейса, в котором протоколы нижних уровней показывают, что интерфейс неработоспособен. Никакой трафик не может быть передан или принят через неактивный интерфейс. В этом состоянии для параметров интерфейса должны быть установлены начальные значения. Все таймеры должны быть отключены и не должно существовать отношений смежности, связанных с неактивным интерфейсом.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Loopback</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом состоянии интерфейс маршрутизатора в сеть закольцован (петля, шлейф, loopback) на программном или аппаратном уровне. Интерфейс не может использоваться для реальной передачи данных. Однако в таком состоянии желательно получать информацию о работе интерфейса с помощью пакетов ICMP (ping) или за счет использования тестового оборудования (скажем, BER-тестера). По этой причине могут появляться пакеты IP, адресованные интерфейсу, который находится в состоянии Loopback. Для упрощения процедур шлейфовой проверки интерфейсов они анонсируются в router-LSA как маршруты к хосту, адрес которого совпадает с IP-адресом проверяемого интерфейса<sup>11</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Waiting</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом состоянии маршрутизатор пытается определить наличие в сети маршрутизатора (Backup) DR. Для решения этой задачи маршрутизатор использует мониторинг принимаемых пакетов Hello. Маршрутизатор не может занимать место Backup DR или DR, пока он не выйдет из состояния Waiting. Это позволяет избавиться от ненужных замен маршрутизатора (Backup) DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Point-to-point</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Интерфейс работает и соединен с физической сетью point-to-point или виртуальным каналом. При переходе в это состояние маршрутизатор пытается оформить отношения смежности с соседним маршрутизатором. Соседу передаются пакеты Hello с периодом HelloInterval.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>DR Other</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Интерфейс соединен с широковещательной или NBMA-сетью, в которой уже присутствует выделенный маршрутизатор DR. В этом состоянии данный маршрутизатор не может быть назначен в качестве Backup DR. Маршрутизатор формирует отношения смежности с DR и Backup DR (если он назначен).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Backup</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор используется в качестве Backup DR для подключенной сети. При сбоях основного маршрутизатора DR его место займет данный маршрутизатор. Маршрутизатор формирует отношения смежности со всеми остальными маршрутизаторами подключенной сети. Функции Backup DR несколько отличаются от функций DR в процессе лавинной рассылки Flooding Procedure, (см. параграф 13.3). Детальное описание функций маршрутизатора Backup DR приведено в параграфе 7.4.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>DR</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор выполняет функции DR для подключенной к нему сети и формирует отношения смежности со всеми остальными маршрутизаторами сети. Выделенный маршрутизатор генерирует для сетевого узла анонсы network-LSA, содержащие ссылки на все маршрутизаторы (включая DR), подключенные к сети. Функции выделенного маршрутизатора DR подробно описаны в параграфе 7.3.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>9.2.&nbsp;События, изменяющие состояние интерфейса</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Состояния интерфейса могут меняться в результате различных событий, показанных на рисунке 7. Приведенные на рисунке метки событий описаны ниже, а детальное рассмотрение этих событий на работу OSPF содержится в параграфе 9.3.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>InterfaceUp</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протоколы нижележащих уровней показали работоспособность сетевого интерфейса. Это позволяет интерфейсу выйти из состояния Down. На виртуальных каналах активизация интерфейса ведет к расчету кратчайшего пути (см. параграф 16.7).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>WaitTimer</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Включен таймер Wait, показывающий окончание периода ожидания перед назначением (Backup) DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>BackupSeen</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор обнаружил наличие или отсутствие в сети Backup DR. Такое детектирование может выполняться двумя способами – по приему от соседа пакета Hello, содержащего анонс соседнего маршрутизатора как Backup DR или по приему от соседа пакета Hello, содержащего анонс DR и сведения об отсутствии Backup DR. В любом случае с соседом должна быть двухсторонняя связь, т. е., данный маршрутизатор должен также появиться в пакете от соседа. Это событие говорит о завершении состояния Waiting.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>NeighborChange</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:30.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:34.80pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-1.85pt;"><sup>11</sup>  <span style=" letter-spacing:0.00pt;">Что для интерфейсов в безадресные сети point-to-point не генерируется анонсов маршрута к хосту или тестовых IP-пакетов независимо от состояния такого интерфейса.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>22&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:808.08pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font7 style=" line-height:10.08pt;"><b><u>Перевод 
          RFC 2328</u>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Это событие связано с изменениями набора<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font29><b>+----+  Unlooplnd  +--------+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">соседей данного интерфейса, с которыми<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29 style=" letter-spacing:-0.50pt;"><b>|Down|&lt;</b></span><span class=font29><b>-------------</b></span><span class=font29 style=" letter-spacing:-0.60pt;"><b>|Loopback|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">осуществляется<span class=font40>   </span>двухсторонняя<span class=font40>   </span><span class=font39>связь.   В</span><span class=font8>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font28><b>+</b></span><span class=font31><b>---</b></span><span class=font28><b>+</b></span><span class=font8><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font28><b>+</b></span><span class=font31><b>-------</b></span><span class=font28><b>+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">результате<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>требуется<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>перерасчет<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">выделенного маршрутизатора (Backup) DR.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font29><b>|InterfaceUp</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Событие    NeighborChange    может    быть<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>+-------</b></span><span class=font29 style=" letter-spacing:-0.65pt;"><b>+  |</b></span><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font29><b>+-------------+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font39 style=" line-height:10.08pt;">вызвано   одной   из  перечисленных   ниже<span class=font8>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font28 style=" letter-spacing:-0.40pt;"><b>|Waiting|&lt;-+</b></span><span class=font31><b>--------------</b></span><span class=font28 style=" letter-spacing:-0.50pt;"><b>&gt;|Point-to-point |</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">причин     (описания     состояний     соседей<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>+-------+</b></span><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font29><b>+-------------+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">приведены в параграфе 10.1):<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 176.88pt 0.00pt 93.84pt; text-align:left; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Организована двухсторонняя связь с<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29 style=" letter-spacing:-0.45pt;"><b>WaitTimer IBackupSeen </b></span>соседом (состояние соседа перешло на<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.84pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">уровень 2-Way или выше).<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font29><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 75.84pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Прервана     двухсторонняя     связь     с<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=" letter-spacing:-1.20pt;"><b>I        </b></span><span class=font29 style=" letter-spacing:-1.20pt;"><b>NeighborChange</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 94.08pt; text-align:left;"><span class=font39 style=" line-height:10.32pt;">соседом (состояние соседа перешло на   <span class=font30><b>+</b></span><span class=font31><b>------</b></span><span class=font28><b>+</b></span><span class=font8><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font28><b>+-+&lt;</b></span><span class=font31><b>----------------</b></span><span class=font28><b>+</b></span><span class=font31><b>-------</b></span><span class=font28><b>+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.84pt; text-align:left;"><span class=font39 style=" line-height:10.32pt;">уровень Init или ниже).<span class=font8>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font28><b>|Backup|&lt;</b></span><span class=font31><b>----------</b></span><span class=font28 style=" letter-spacing:-1.45pt;"><b>|?|</b></span><span class=font31><b>-----------------</b></span><span class=font28><b>&gt;|DROther|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.84pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp;</b><span class=font39>Один   из   соседей   с   двухсторонней   </span><span class=font30><b>+</b></span><span class=font31><b>------</b></span><span class=font28><b>+</b></span><span class=font31><b>----------</b></span><span class=font28><b>&gt;+-+&lt;</b></span><span class=font31><b>-----</b></span><span class=font28><b>+</b></span><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b><span class=font28><b>+</b></span><span class=font31><b>-------</b></span><span class=font28><b>+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 94.08pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">связью   недавно   обозначил   себя   в<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>Neighbor  |       |</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.84pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">качестве     DR     или     Backup     DR<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>Change    |       |Neighbor</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 94.08pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">(определяется   из   пакетов   Hello   от<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><b>I</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span class=font29><b>|Change</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.84pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">этого соседа).<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><b>I</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span class=font34><b>+~+</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 75.84pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Один   из   соседей   с   двухсторонней<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font29><b>+----</b></span><span class=font29 style=" letter-spacing:-0.75pt;"><b>&gt;IDR|</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 94.08pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">связью перестал играть роль DR или<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>+  +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.84pt; text-align:left;"><span class=font38>Backup DR (определяется из пакетов<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><i>Рисунок 7. Смена состояний интерфейса</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.84pt; text-align:left;"><span class=font38>Hello от этого соседа).<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><i>В дополнение к показанным на графе переходам событие InterfaceDown всегда</i></span></div>
<div class=paragraph style=" padding:0.00pt 61.68pt 0.00pt 93.84pt; text-align:left; text-indent:-18.00pt;"><span class=font38 style=" line-height:12.48pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Изменилось   анонсируемое   значение<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><i>приводит к состоянию Down,а LoopInd – к состоянию Loopback. </i>Router      Priority      для      соседа      с</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 94.08pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">двунаправленной связью (определяется из пакетов Hello от этого соседа).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LoopInd</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 29.28pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Принята индикация перевода интерфейса в состояние loopback (эта информация может быть получена от программ сетевого управления или протоколов нижележащих уровней).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>UnloopInd</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Принята индикация выхода интерфейса из состояния loopback. Как и для события LoopInd, эта информация может быть получена от программ сетевого управления или протоколов нижележащих уровней.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>InterfaceDown</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Протокол нижележащего уровня сообщил об утрате интерфейсом работоспособности. Независимо от текущего состояния интерфейса он должен быть переведен в состояние Down.</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font11 style=" line-height:10.32pt;"><b>9.3. Машина состояний интерфейса</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">Ниже приводится детальное описание изменений в состояниях интерфейсов. Каждое такое изменение вызывается событиями,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">перечисленными в параграфе 9.2. Результат событий зависит от текущего состояния интерфейса, поэтому приведенные ниже</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">описания используют в качестве отправной точки текущее состояние интерфейса. Каждая запись в машине состояний интерфейса</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">описывает переход в новое состояние и требуемые действия.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При изменении состояния интерфейса может потребоваться генерация нового анонса router-LSA (см. параграф 12.4).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Некоторые из перечисленных ниже действий включают генерацию событий для машины состояний соседа. Например, при</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">прекращении  работы  интерфейса  должны  быть  уничтожены  все  записи  о  соседстве  этого  интерфейса.   Дополнительная</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">информация о машине состояний соседа приведена в параграфе 10.3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>InterfaceUp</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>В зависимости от предпринятых действий</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Начало нового отсчета таймера Hello, задающего периодическую рассылку пакетов Hello данным интерфейсом. Если</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">интерфейс подключен к физической сети point-to-point, сети Point-to-MultiPoint или виртуальному соединению, он переводится в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">состояние Point-to-Point. Для широковещательных сетей и сетей NBMA интерфейс переводится в состояние DR Other, если для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатора нежелательна работа в качестве DR. Если же маршрутизатор может играть роль DR для подключенной сети,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">интерфейс переводится в состояние Waiting и запускается таймер Wait Timer. Кроме того, в сетях NBMA проверяется список</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседей интерфейса и генерируется событие Start для каждого из соседей, который тоже может стать DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Waiting</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>BackupSeen</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>В зависимости от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Определяются маршрутизаторы Backup DR и DR (см. параграф 9.4). В результате завершения расчетов интерфейс</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">будет переведен в состояние DR Other, Backup или DR.<b>__________________________________________________________________</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Waiting</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>WaitTimer</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>В зависимости от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Определяются маршрутизаторы Backup DR и DR (см. параграф 9.4). В результате завершения расчетов интерфейс</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>будет переведен в состояние DR Other, Backup или DR.</u><b>__________________________________________________________________</b></span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>DR Other, Backup или DR</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>NeighborChange</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>В зависимости от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Заново определяются маршрутизаторы Backup DR и DR (см. параграф 9.4). В результате завершения расчетов</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">интерфейс будет переведен в состояние DR Other, Backup или DR.<b>________________________________________________________</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Любое</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>InterfaceDown</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия:  </i></b>Сбрасываются все связанные с интерфейсом переменные,  отключаются таймеры интерфейса и удаляются все</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отношения соседства (путем генерации события KillNbr для всех соседей - см. параграф 10.2).<b>________________________________</b></span></div>
<div class=paragraph style=" padding:0.72pt 462.72pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Любое <b><i>Событие: </i></b>LoopInd</span></div>
<div class=paragraph style=" padding:8.64pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>23</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:594.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:670.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>Loopback</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Поскольку интерфейс в таком состоянии больше не связан с подключенной сетью, выполняются операции, связанные</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>с описанным выше событием InterfaceDown.</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Loopback</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>UnloopInd</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Не требуется выполнения каких-либо действий (например, все связанные с интерфейсом переменные уже были</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сброшены при переходе в состояние Loopback). Отметим, что для перехода интерфейса в рабочее состояние он должен получить</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сигнал InterfaceUp.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>9.4.&nbsp;Назначение DR</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе описан механизм назначения выделенных маршрутизаторов DR и Backup DR, используемых машиной состояний Interface. Сначала маршрутизатор запускает механизм выбора выделенного маршрутизатора для сети. Значения DR и Backup DR равны 0.0.0.0 – это говорит об отсутствии в сети как DR, так и Backup DR.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Рассмотрим механизм назначения DR более подробно, обозначив маршрутизатор, делающий расчет, как Router X. Проверяется список соседей, подключенных к сети и организовавших двухстороннюю связь с Router X. Этот список в точности совпадает с набором соседей Router X (в той же сети), чьи состояния не ниже 2-Way (см. параграф 10.1). Маршрутизатор Router X также присутствует в этом списке. Сначала из списка исключаются все маршрутизаторы, которые нежелательно использовать в качестве DR (маршрутизаторы с Router Priority = 0 не могут быть DR). После этого для оставшихся в списке маршрутизаторов выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Фиксируются текущие значения для DR и Backup DR, которые будут потом использоваться для сравнения.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Определяется новый маршрутизатор Backup DR с учетом только тех маршрутизаторов, которые не заявили о своем нежелании выступать в качестве Backup DR. Если на роль Backup DR претендует (т. е., указали себя в качестве Backup DR, но не DR в своих пакетах Hello) один или несколько маршрутизаторов, среди них выбирается тот, для которого задан высший приоритет Router Priority. Если высший приоритет заявлен для нескольких маршрутизаторов, выбирается тот, у которого больше значение Router ID. Если ни один маршрутизатор не заявлен как Backup DR, выбирается маршрутизатор с наибольшим Router Priority среди тех маршрутизаторов, которые не заявили себя в качестве DR (если таких маршрутизаторов окажется несколько, снова используется Router ID).</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Определяется новый маршрутизатор DR для сети. Если на роль DR претендует (т. е., указали себя в качестве DR в своих пакетах Hello) один или несколько маршрутизаторов, среди них выбирается тот, для которого задан высший приоритет Router Priority. Если высший приоритет заявлен для нескольких маршрутизаторов, выбирается тот, у которого больше значение Router ID. Если ни один маршрутизатор не заявлен как DR, в качестве выделенного маршрутизатора выбирается назначенный в последний раз Backup DR.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;Если маршрутизатор Router X стал (Backup) DR или наоборот, утратил это значение, повторяются п.п. 2 и 3, а затем выполняется пункт 5. Пусть Router X играет роль DR, тогда при повторении п. 2 для X уже невозможно назначение на роль Backup DR. Наряду с другими мерами это предотвращает захват функций DR и Backup DR одним маршрутизатором<sup>12</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;В результате проведения расчетов маршрутизатор сам может занять место DR или Backup DR (см. параграфы 7.3 и 7.4, содержащие детальное описание). Состояние интерфейса маршрутизатора соответствующим образом изменяется. Если маршрутизатор занял место DR, интерфейс перейдет в состояние DR. Интерфейс маршрутизатора, ставшего Backup DR, перейдет в состояние Backup. В остальных случаях интерфейс переходит в состояние DR Other.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(6)&nbsp; &nbsp;Если подключенная сеть относится к типу NBMA, а маршрутизатор является DR или Backup DR, он должен начать передачу пакетов Hello тем из соседей, которые не могут стать DR (см. параграф 9.5.1). Это осуществляется созданием события Start для каждого из соседей с Router Priority = 0.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(7)&nbsp; &nbsp;Если описанные расчеты привели к смене DR или Backup DR, требуется обновить набор отношений смежности, связанных с данным интерфейсом – для этого может потребоваться организация новых отношений смежности или удаление существовавших ранее. Для обновления отношений смежности вводится событие AdjOK? для всех соседей, состояние которых не ниже 2-Way. Это событие приводит к пересмотру отношений смежности (см. параграфы 10.3 и 10.4).</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Усложнение механизма назначения выделенного маршрутизатора обусловлено желанием обеспечить упорядоченный переход от Backup DR к DR при сбоях в работе текущего маршрутизатора DR. Упорядоченность перехода обеспечивается за счет введения гистерезиса (запаздывания, <i>прим. перев.</i>) – новый маршрутизатор Backup DR не может быть назначен, пока прежний маршрутизатор не примет на себя функции DR.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Описанная выше процедура может привести к выбору одного маршрутизатора в качестве DR и Backup DR, хотя этого никогда не может случиться с маршрутизатором, проводящим вычислений для выбора маршрутизатора (в нашем примере Router X). Выбранный маршрутизатор DR не обязательно имеет наибольшее значение Router Priority, а Backup DR не обязан иметь второе по порядку значение Router Priority. Если Router X не может стать DR, возможно, что приведенные выше процедуры не позволят назначить ни Backup DR, ни DR. Отметим также, что в тех случаях, когда Router X является единственным маршрутизатором, способным стать DR, он может назначить себя на роль DR, а маршрутизатор Backup DR просто не будет выбран для сети.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>9.5.&nbsp;Передача пакетов Hello</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты Hello передает каждый работающий интерфейс маршрутизатора. Эти пакеты служат для организации и поддержки соседских отношений<sup>13</sup>. В широковещательных и NBMA-сетях пакеты Hello используются также при выборе DR и Backup DR. Формат пакетов Hello рассмотрен в параграфе A.3.2. Пакеты Hello содержат значения Router Priority (для выбора DR) и HelloInterval (интервала между пакетами Hello передаваемыми интерфейсом). Пакет Hello также показывает, как часто должно быть слышно соседа для осознания его работоспособности (RouterDeadInterval). Значения HelloInterval и RouterDeadInterval должны быть одинаковы для всех маршрутизаторов, подключенных к одной сети. Пакеты Hello также содержат маску IP для подключенной сети (Network Mask); для безадресных сетей point-to-point и виртуальных каналов это поле должно иметь значение 0.0.0.0.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:124.32pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.90pt;"><sup>12</sup><span style=" letter-spacing:0.00pt;">&nbsp; Будет поучительно рассмотреть ситуацию, когда маршрутизатор DR перестает работать. Пусть функции DR выполняет маршрутизатор RT1, а Backup DR - RT2. Если RT1 &laquo;падает&raquo; (или прекращает работать интерфейс в данную сеть), другие маршрутизаторы смогут обнаружить отсутствие RT1 в течение RouterDeadInterval. Все маршрутизаторы не смогут обнаружить отсутствие выделенного маршрутизатора одновременно. В результате маршрутизатор, обнаруживший отсутствие RT1 до того, как это удалось сделать RT2 на некоторое время выберет RT2 в качестве DR и Backup DR одновременно. Когда RT2 обнаружит отсутствие RT1, он объявит себя DR. Одновременно с этим произойдет назначение маршрутизатора с высшим значением Router Priority на роль Backup DR.</span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.90pt;"><sup>13</sup><span style=" letter-spacing:0.00pt;">&nbsp; В сетях point-to-point наличие и работоспособность соседа проверяется протоколами нижних уровней с соответствующей индикацией. Для виртуальных каналов существование соседей определяется при расчете таблицы маршрутизации. Однако в том и другом случае по-прежнему используется протокол Hello. Это обеспечивает между соседями двухстороннюю связь и дает гарантию работоспособности протокола маршрутизации на соседнем маршрутизаторе.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>24&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:777.84pt;">
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Поле Options в пакетах Hello описывает дополнительные возможности OSPF, определенные в данной спецификации (см. параграфы 4.5 и A.2). Бит E в поле Options устанавливается тогда и только тогда, когда подключенная область может обрабатывать анонсы AS-external-LSA (т. е., не является тупиковой). Если бит E установлен некорректно, соседние маршрутизаторы не будут воспринимать пакеты Hello (см. параграф 10.5). Непонятные биты поля Options должны иметь нулевые значения.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для обеспечения двухсторонней связи между маршрутизаторами, пакеты Hello содержат список всех маршрутизаторов сети, от которых недавно были приняты пакеты Hello. Пакет Hello также содержит текущий выбор маршрутизатора для DR и Backup DR (0.0.0.0 в этих полях говорит о том, что эти маршрутизаторы еще не выбраны).</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В широковещательных сетях и физических сетях point-to-point пакеты Hello передаются с интервалом HelloInterval по групповому адресу AllSPFRouters. В виртуальных соединениях пакеты Hello передаются по конкретному адресу на другую сторону виртуального канала каждые HelloInterval секунд. В сетях Point-to-MultiPoint пакеты Hello раздельно передаются каждому подключенному соседу с интервалом HelloInterval. Передача пакетов Hello в сетях NBMA описана ниже.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>9.5.1. Передача пакетов Hello в сети NBMA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для работы протокола Hello в сетях без широковещания может потребоваться специальная настройка (см. параграфы C.5 и C.6). В сетях NBMA каждый подключенный маршрутизатор, который может быть выбран DR, знает всех своих соседей по сети (для этого может потребоваться специальная настройка или дополнительный механизм). Для каждого соседа создается метка возможности использования в качестве DR.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для передачи пакетов Hello в сетях NBMA интерфейс должен иметь состояние не ниже Waiting. Пакеты Hello передаются напрямую (unicast) некоторому подмножеству соседей маршрутизатора. В некоторых случаях пакеты Hello передаются периодически, а в иных ситуациях – в ответ на принятый пакет Hello. Поведение маршрутизатора в части передачи этих пакетов зависит от возможности данного маршрутизатора выполнять функции DR.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если маршрутизатор может стать DR, он должен периодически посылать пакеты Hello тем соседям, которые также могут быть DR. В дополнение к этому маршрутизаторы, играющие роль DR или Backup DR, должны передавать пакеты Hello всем своим соседям. Это означает, что любая пара маршрутизаторов, способных быть DR, постоянно обменивается пакетами Hello, которые нужны для корректной работы механизма выбора DR. Для минимизации числа передаваемых пакетов Hello число претендентов на роль DR в сетях NBMA должно быть небольшим.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если маршрутизатор не может стать DR, он должен периодически передавать пакеты Hello маршрутизаторам DR и Backup DR (если он задан). Кроме того, пакеты Hello должны передаваться в ответ на прием пакетов Hello от соседей, способных быть DR, но не являющихся DR или Backup DR. Это требуется для организации начальной двухсторонней связи с любым потенциальным DR. Когда пакеты Hello периодически отправляются всем соседям, интервал между пакетами Hello определяется состоянием соседа. Если сосед находится в состоянии Down, пакеты Hello передаются каждые PollInterval секунд, в остальных случаях интервал передачи Hello составляет HelloInterval секунд.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>10. Структура данных Neighbor</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы OSPF обмениваются данными со своими соседями. В каждом случае обмена используются структуры данных neighbor (сосед). Факт обмена данными ограничен конкретным интерфейсом маршрутизатора OSPF, а для идентификации сеанса используется Router ID соседнего маршрутизатора адрес Neighbor IP (см. ниже). Если маршрутизатор OSPF и второй маршрутизатор подключены к нескольким сетям, возникает множество сеансов обмена данными, каждое из которых описывается уникальной структурой данных о соседе. Каждый отдельный &laquo;разговор&raquo; между маршрутизаторами будем рассматривать как обмен данными с отдельным соседом.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Структура данных о соседе содержит всю информацию, относящуюся к формируемым или существующим отношениям смежности между двумя соседями (напомним, что не все соседи являются смежными). Смежность можно рассматривать как расширенную форму &laquo;разговора&raquo; между двумя маршрутизаторами.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>State</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Функциональный уровень обмена данными между маршрутизаторами, описанный в параграфе 10.1.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Inactivity Timer</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Однократный таймер, активизируемый при отсутствии пакета Hello от соседа (отсчет RouterDeadInterval секунд).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Master/Slave</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При обмене базами данных между соседями используются отношения &laquo;ведущий-ведомый&raquo; (master/slave). Ведущий маршрутизатор передает пакет Database Description (это единственная част обмена, которую при необходимости можно повторять). Ведомый маршрутизатор может только отвечать на пакеты Database Description. Отношения ведущий ведомый согласуются в состоянии ExStart.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>DD Sequence Number</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Порядковый номер пакета Database Description (далее DD, <i>прим. перев.</i>), передаваемого в настоящий момент соседу.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Last received Database Description packet</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Биты I (инициализация), M (дополнение) и MS (ведущий), полк Options и порядковый номер DD, содержавшиеся в последнем пакете DD, полученном от соседа. Эти данные используются для обнаружения дубликатов пакетов DD.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Идентификатор OSPF Router ID соседнего маршрутизатора. Значение Neighbor ID определяется из пакета Hello, полученного от соседа, или задается административно для случаев виртуальной смежности (см. параграф C.4).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor Priority</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Значение Router Priority для соседнего маршрутизатора, получаемое из пакета Hello и используемое при выборе DR для подключенной сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor IP address</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">IP-адрес интерфейса соседнего маршрутизатора в подключенную сеть. Этот адрес используется как Destination IP при передаче пакетов в режиме unicast. Кроме того, это значение используется как параметр Link ID для подключенной сети в анонсах router-LSA, если соседний маршрутизатор выбран в качестве DR (см. параграф 12.4.1). Адрес Neighbor IP определяется из пакетов Hello, принятых от соседа. Для виртуальных каналов адрес Neighbor IP определяется в процессе построения таблицы маршрутизации (см. главу 15).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor Options</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Дополнительные возможности OSPF, поддерживаемые соседом. Это значение определяется в процессе Database Exchange (см. параграф 10.6). Дополнительные возможности OSPF сосед также указывает в своих пакетах Hello. Это позволяет отбрасывать принятые пакеты Hello (даже не начав формирование соседских отношений), при рассогласовании некоторых важных опций OSPF (см. параграф 10.5). Дополнительные возможности OSPF описаны в параграфе 4.5.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor's Designated Router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Соображения соседа по поводу выделенного маршрутизатора DR. Если сосед предлагает себя как DR, это важно принимать во внимание при локальном расчете DR.Этот параметр определен только для широковещательных и NBMA-сетей.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.96pt;">
<div class=block style=" width:72.96pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>25</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:39.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:60.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:170.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor's Backup Designated Router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Соображения соседа по поводу Backup DR. Если сосед предлагает себя в этом качестве, это важно принимать во внимание при локальном расчете Backup DR.Этот параметр определен только для широковещательных и NBMA-сетей. Остальные переменные являются списками LSA. Три списка описывают подмножество базы данных link-state. В этом документе определяется пять различных типов LSA, каждый из которых может присутствовать в базе данных области: router-LSA, network-LSA, summary-LSA типов 3 и 4 (эти 4 типа хранятся в структуре данных области), а также AS-external-LSA (хранится в отдельной глобальной структуре данных).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link state retransmission list</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Список LSA, которые были разосланы в лавинном режиме, но не подтверждены для данной смежности. Эти анонсы будут повторяться до тех пор, пока не будет получено подтверждение или разорваны отношения смежности.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Database summary list</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Полный список LSA, собранных в базу данных области к моменту перехода соседа в состояние Database Exchange. Этот список передается соседу в пакетах DD.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link state request list</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">.Список LSA, которые требуется получить от соседа для синхронизации с ним базы данных. Этот список создается когда принят пакет DD и передается соседу в пакетах Link State Request. Этот список очищается по мере получения соответствующих пакетов Link State Update.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:250.08pt;">
<div class=block style=" width:250.08pt; height:96.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>10.1. Состояния соседей</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Состояние соседа (реально, состояние &laquo;разговора&raquo; с</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседним        маршрутизатором)        описано        в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">последующих<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>параграфах.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Состояния</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">прослушиваются     для     выполнения     требуемых</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">функций.    Например,    сначала    прослушивается</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">нерабочее (inoperative) состояние, после которого</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">проходит несколько промежуточных состояний пока</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">не будет достигнуто финальное. В спецификации</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:344.88pt;">
<div class=block style=" width:344.88pt; height:43.92pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 111.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 113.52pt; text-align:left;"><span class=font7 style=" line-height:10.08pt; letter-spacing:-1.00pt;"><b>I </b><span class=font29><b>Down|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 111.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 123.84pt; text-align:left;"><span class=font32 style=" letter-spacing:-2.65pt;">l<b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:132.96pt;">
<div class=block style=" width:132.96pt; height:52.32pt;">
<div class=paragraph style=" padding:15.84pt 16.56pt 0.00pt 73.92pt; text-align:left; text-indent:5.28pt;"><span class=font29 style=" line-height:10.08pt;"><b>Hello Received</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:211.92pt;">
<div class=block style=" width:211.92pt; height:52.32pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>\Start</b></span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font29 style=" line-height:9.60pt;"><b>\     +-------+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.84pt; text-align:left;"><span class=font29 style=" line-height:9.60pt;"><b>+----&gt;|Attenpt|</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 41.76pt; text-align:left;"><span class=font29 style=" line-height:9.60pt;"><b>+-------+</b></span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 64.80pt; text-align:left;"><span class=font3 style=" line-height:8.64pt;"><b>I</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt;">
<div class=block style=" width:250.08pt; height:87.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">используется      перечисленный      ниже      порядок</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">состояний    как    некая    иерархия    и    в    тексте</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">встречаются фразы типа &quot;состояние не ниже X&quot;. На</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">рисунках 8 и 9 показаны графы изменения состояний</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседа. Дуги графа помечены именами событий,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">вызывающих   смену   состояния.   Описание   этих</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">событий приводится в параграфе 10.2.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Граф на рисунке 8 показывает изменения состояний,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">связанные   с   протоколом   Hello.   Этот   протокол</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:75.84pt;">
<div class=block style=" width:75.84pt; height:87.84pt;">
<div class=paragraph style=" padding:65.52pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ ------- +</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|ExStart|&lt;----</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:81.60pt;">
<div class=block style=" width:81.60pt; height:87.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+&lt;-+</b></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.50pt;"><b>|Init|&lt;</b><span style=" letter-spacing:0.00pt;"><b>-------</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+&lt;-------</b></span></div>
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 21.60pt; text-align:left;"><span class=font3><b>I</b></span></div>
<div class=paragraph style=" padding:0.00pt 13.92pt 0.00pt 21.60pt; text-align:left;"><span class=font29 style=" line-height:10.80pt; letter-spacing:-0.50pt;"><b>|2-Way </b><span style=" letter-spacing:-0.40pt;"><b>|Received </b></span><span class=font3 style=" letter-spacing:0.00pt;"><b>I</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 5.04pt 0.00pt 0.00pt; text-align:left; text-indent:21.60pt;"><span class=font3 style=" line-height:7.92pt;"><b>I</b><span class=font9><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font27 style=" letter-spacing:-0.50pt;"><b>+-</b></span><span class=font29><b>---+-------</b></span><span class=font29 style=" letter-spacing:-0.60pt;"><b>&gt;|2</b></span></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:187.44pt;">
<div class=block style=" width:187.44pt; height:87.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.32pt; text-align:left;"><span class=font29 style=" line-height:8.64pt;"><b>|HelloReceived</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 38.16pt; text-align:left;"><span class=font29 style=" line-height:8.64pt;"><b>+</b></span></div>
<div class=paragraph style=" padding:13.68pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font7><b>I</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font7 style=" letter-spacing:-0.45pt;"><b>1</b><span class=font29><b>1-Way</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29><b>|Received</b></span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font3><b>I</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29><b>---+</b></span></div>
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 0.72pt; text-align:left;"><span class=font29 style=" letter-spacing:-1.50pt;"><b>Way |</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:383.04pt;">
<div class=block style=" width:383.04pt; height:0.48pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:137.04pt;">
<div class=block style=" width:137.04pt; height:0.48pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt;">
<div class=block style=" width:250.08pt; height:42.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отвечает за организацию и поддержку соседских</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отношений, а также обеспечивает двухстороннюю</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">связь между соседями.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Граф   на   рисунке   9   показывает   формирование</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:344.88pt;">
<div class=block style=" width:344.88pt; height:42.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ ------- +</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>+ ----- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Рисунок 8. Смена состояний соседа (протокол Hello)</i></span></div>
<div class=paragraph style=" padding:0.00pt 62.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>В дополнение к показанным переходам события KillNbr, InactivityTimer и</i></span></div>
<div class=paragraph style=" padding:0.00pt 62.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>LLDown всегда приводят к состоянию Down.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:59.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отношений  смежности  (не  каждая  пара  соседей</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">поддерживает отношения смежности – см. параграф 10.4). Организация этих отношений начинается при состоянии соседа ExStart.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">После того, как пара маршрутизаторов согласует отношения ведущий-ведомый, состояние меняется на Exchange. С этого момента</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сосед начинает процедуру лавинной рассылки (flooding procedure) и начинается процесс синхронизации баз данных двух</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторов. По завершении синхронизации сосед переходит в состояние Full и маршрутизаторы становятся полностью</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">смежными. С этого момента смежность указывается в анонсах LSA.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:343.44pt;">
<div class=block style=" width:343.44pt; height:101.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Более детальное описание переходов состояний соседа и связанных с этим допол</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Down</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Начальное состояние разговора с соседом, показывающее, что от соседа в последнее время не приходило информации. В сетях NBMA сообщения Hello могут передаваться соседям в состоянии Down (частота передачи снижается, см. параграф 9.5.1).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Attempt</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это состояние корректно только для соседей, подключенных к сетям NBMA, и показывает, что в последнее время от соседа не поступало информации, но попытки ее получения должны продолжаться путем передачи пакетов Hello с интервалом HelloInterval (см. параграф 9.5.1).</span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:191.28pt;">
<div class=block style=" width:191.28pt; height:257.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ ------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|ExStart|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+ ------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 99.60pt 0.00pt 5.28pt; text-align:left; text-indent:79.20pt;"><span class=font29 style=" line-height:10.08pt;"><b>| NegotiationDone|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 47.52pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+-&gt;+ -------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.36pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|Exchange|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 47.52pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+--+ -------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 101.52pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" line-height:10.08pt;"><b>|</b></span></div>
<div class=paragraph style=" padding:0.00pt 100.32pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" line-height:10.08pt;"><b>Exchange|</b></span></div>
<div class=paragraph style=" padding:0.00pt 101.28pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" line-height:10.08pt;"><b>Done |</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+        |     + ------- +</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>|Full|&lt; --------- + ----- &gt;|Loading|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+----+&lt;-+</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>+ ------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 41.04pt 0.00pt 42.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>| LoadingDone    | + ------------------ +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Рисунок 9. Смена состояний соседа (Database</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Exchange)</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>В дополнение к показанным на рисунке переходам</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>события SeqNumberMismatch и BadLSReq</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>приводят к состоянию ExStart,</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>событие 1-Way – к состоянию Init, а события</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>KillNbr, InactivityTimer и LLDown – к состоянию</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Down. Событие AdjOK? ведет к формированию</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>или разрыву смежности.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.24pt;">
<div class=block style=" width:60.24pt; height:101.76pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:343.44pt;">
<div class=block style=" width:343.44pt; height:155.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Init</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это состояние говорит о недавнем приеме пакета Hello от соседа, с которым еще не организована двухсторонняя связь (т. е., данный маршрутизатор еще не включен в пакет Hello от соседа). Все соседи в этом (и более высоких) состоянии указываются в пакетах Hello, передаваемых связанным с ними интерфейсом.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>2-Way</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Между соседями организована двухсторонняя связь, обеспечивающая работу протокола Hello. С этого состояния начинается организация отношений смежности. Маршрутизаторы (Backup) DR выбираются из числа соседей в состоянии 2-Way или выше.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ExStart</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Первый этап организации отношений смежности, обеспечивающий согласование режимов ведущий/ведомый и выбор начального порядкового номера DD. Обмен данными между соседями в данном и </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:60.24pt;">
<div class=block style=" width:60.24pt; height:155.28pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:55.68pt;">
<div class=paragraph style=" padding:0.00pt 260.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">более высоких состояниях называют отношениями смежности (adjacency).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Exchange</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом состоянии маршрутизатор полностью описывает свою базу данных link state, посылая пакеты DD своему соседу. Каждый пакет DD имеет порядковый номер и прием пакета должен явно подтверждаться. Только пакеты DD допускается передавать в любой момент. В этом состоянии могут также передаваться пакеты Link State Request для получения от соседа</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt;">
<div class=block style=" width:250.08pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:206.40pt;">
<div class=block style=" width:206.40pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 52.32pt; text-align:left;"><span class=font7><b>26</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:250.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:39.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:60.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">свежих LSA. Смежные узлы в состоянии Exchange и выше используют лавинную рассылку. Фактически отношения смежности позволяют принимать и передавать все типы пакетов протокола OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Loading</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом состоянии соседу передаются пакеты Link State Request для получения свежих LSA, которые были обнаружены (но еще не получены) в состоянии Exchange.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Full</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом состоянии обеспечивается полная смежность соседних маршрутизаторов. Отношения смежности отражаются в анонсах router-LSA и network-LSA.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>10.2.&nbsp;События, меняющие состояние соседа</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Изменения состояний могут быть связаны с различными событиями, описанными ниже (названия событий служат метками дуг графа на рисунках 8 и 9):</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>HelloReceived</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Получен пакет Hello от соседа.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Start</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Соседу нужно отправить пакет Hello в течение HelloInterval секунд (только для соседей, связанных с сетями NBMA).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>2-Way Received</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Между двумя соседними маршрутизаторами организована двухсторонняя связь. Такая связь отражается появлением маршрутизатора в пакетах Hello от соседа.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>NegotiationDone</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Согласованы отношения Master/Slave и порядковые номера DD. Это событие служит сигналом для начала приема/передачи пакетов DD. Дополнительные сведения об этом событии приведены в параграфе 10.8.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ExchangeDone</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Оба маршрутизатора успешно завершили передачу всех пакетов DD. Каждый маршрутизатор сейчас знает, что часть его базы данных устарела. Дополнительные сведения об этом событии приведены в параграфе 10.8.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>BadLSReq</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Получен пакет Link State Request для записи LSA, отсутствующей в базе данных. Это говорит об ошибке в процессе DE.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Loading Done</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Получены пакеты Link State Update для всех устаревших записей базы данных. Это событие указывается пустым списком в запросе Link state после завершения процесса обмена базами данных (DE).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AdjOK?</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Требуется принятие решения об организации/поддержке отношений смежности с соседом. Это событие ведет к началу</span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">формирования отношений смежности и разрыву существующих отношений. Перечисленные далее события заставляют снижать уровень соседских отношений. В отличие от перечисленных выше эти события могут происходить при любом состоянии соседских отношений.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>SeqNumberMismatch</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Принят пакет DD, который содержит a) некорректный порядковый номер DD, b) неожиданно установленный бит Init или c) значение поля Options, отличающегося от значения Options в последнем пакете DD. Любое из перечисленных условий говорит о наличии ошибки в процессе организации смежности.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>1-Way</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">От соседа получен пакет Hello, в котором не упомянут данный маршрутизатор – отсутствует двухсторонняя связь.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>KillNbr</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Невозможна какая-либо связь с соседом и требуется перейти в состояние Down.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>I nactivityTimer</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Активизирован таймер бездействия в результате отсутствия пакетов Hello от соседа. Сосед переводится в состояние Down.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LLDown</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Информация от нижележащих протоколов о недоступности соседа. Например, сеть X.25 может показывать такие ситуации с явно с указанием причин и данных диагностики. Это событие переводит соседа в состояние Down.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11 style=" line-height:10.32pt;"><b>10.3.&nbsp;Машина состояний Neighbor</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">Ниже приводится детальное описание смены состояний с указанием вызвавшего смену события (см. параграф 10.2). События</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">могут иметь различные эффекты в зависимости от текущего состояния соседа. Поэтому машина состояний описывается с учетом</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">текущего состояния и принятого события. Каждая запись содержит сведения о новом состоянии и требуемых действиях.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При смене состояния соседа может потребоваться повтор процедуры выбора маршрутизатора DR. Это определяется генерацией</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">события NeighborChange (см. параграф 9.2). Если интерфейс находится в состоянии DR (данный маршрутизатор является DR),</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">изменения состояния соседа будет приводить к генерации нового анонса network-LSA (см. параграф 12.4).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Когда  машине  состояний  соседа  требуется  привлечение  машины  состояний  интерфейса,  это  должно  выполняться  как</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">запланированная задача (см. параграф 4.4). Это упрощает работу протокола и предотвращает рекурсивные вызовы машины</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">состояний.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>Start</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>Attempt</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Д ействия: </i></b>Передается пакет Hello соседу (это сосед всегда связан с сетью NBMA) и запускается таймер Inactivity для этого</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседа. Большое значение этого таймера говорит о невозможности связи с соседом.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Attempt</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>HelloReceived</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>Init</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Д ействия: </i></b>Заново запускается таймер Inactivity для соседа, поскольку от него была получена информация.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Событие: </i></b>HelloReceived</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Новое состояние: </i></b>Init</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i><u>Д ействия: </u></i></b><u>Запускается таймер Inactivity для соседа. Большое значение этого таймера говорит о неработоспособности соседа.</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Состояние: </i></b>Init or greater</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Событие: </i></b>HelloReceived</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Новое состояние: </i></b>Состояние не меняется.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i><u>Д ействия: </u></i></b><u>Заново запускается таймер Inactivity для соседа, поскольку от него была получена информация.</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Состояние: </i></b>Init</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Событие: </i></b>2-WayReceived</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>27&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:780.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Новое состояние: </i></b>Зависит от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Определяется необходимость организации отношений смежности с соседом (см. параграф 10.4). Если смежность не требуется, сохраняется состояние 2-Way, в противном случае для соседа вводится состояние ExStart. После смены состояния маршрутизатор увеличивает значение счетчика порядковых номеров DD в базе данных соседа. Если это происходит впервые с момента организации смежности, для порядкового номера DD должно быть выбрано уникальное значение (например, на основе текущего времени). После этого маршрутизатор объявляет себя ведущим (устанавливается значение master для бита master/slave) и начинает передачу пакета DD с установленными битами I, M и MS. Остальные поля этого пакета DD должны быть пустыми. Передача пакета DD должна повторятся с интервалом RxmtInterval до перехода в следующее состояние (см. параграф 10.8). <b><i>Состояние: </i></b>ExStart <b><i>Событие: </i></b>NegotiationDone <b><i>Новое состояние: </i></b>Exchange</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Маршрутизатор должен перечислить содержимое своей базы данных LS (link state) для всей области в списке Database summary для соседа. База данных для области включает router-LSA, network-LSA и summary-LSA, содержащиеся в структуре данных области, вместе с AS-external-LSA, содержащимися в глобальной структуре данных. Записи AS-external-LSA опускаются из списка баз данных виртуальных соседей, а также для случая тупиковых областей (см. параграф 3.6). Взамен их в список добавляются LSA, возраст которых равен MaxAge. Резюме списка Database summary будут передаваться соседу в пакетах DD. Каждый пакет DD имеет порядковый номер и прием пакета должен явно подтверждаться. Только для пакетов DD допустима передача в любой момент времени. Дополнительные сведения о работе с пакетами DD содержатся в параграфах 10.8 и 10.6. <b><i>Состояние: </i></b>Exchange <b><i>Событие: </i></b>ExchangeDone</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Новое состояние: </i></b>Зависит от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Если список запроса LS от соседа пуст, новым состоянием будет Full и никаких действий не требуется – это финальное состояние   отношений   смежности.   В   остальных   случаях   новым   состоянием   будет   Loading   с   последующим   началом (продолжением) передачи пакетов Link State Request соседу (см. параграф 10.9). Это запросы на получение от соседа свежих записей LSA (обнаруженных, но еще не полученных в состоянии Exchange). LSA перечисляются в списках Link State Request, связанных с соседом. <b><i>Состояние: </i></b>Loading <b><i>Событие: </i></b>Loading Done <b><i>Новое состояние: </i></b>Full</span></div>
<div class=paragraph style=" padding:0.00pt 166.80pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Дополнительных действий не требуется – это финальное состояние отношений смежности. <b><i>Состояние: </i></b>2-Way <b><i>Событие: </i></b>AdjOK?</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Новое состояние: </i></b>Зависит от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Определяет необходимость организации смежности с соседним маршрутизатором (см. параграф 10.4). Если смежность не требуется, сохраняется состояние 2-Way, в противном случае осуществляется переход в состояние ExStart и выполнение <u>действий, описанных выше для состояний Init и 2-WayReceived. </u><b><i>Состояние: </i></b>ExStart или выше <b><i>Событие: </i></b>AdjOK?</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Новое состояние: </i></b>Зависит от предпринятых действий.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Определяет необходимость сохранения смежности с соседним маршрутизатором. При положительном ответе состояние сохраняется и дополнительных действий не требуется. Если смежность не нужно сохранять, состояние меняется на 2-<u>Way. Списки Link state, Database summary и Link state request удаляются из LSA. </u><b><i>Состояние: </i></b>Exchange или выше <b><i>Событие: </i></b>SeqNumberMismatch <b><i>Новое состояние: </i></b>ExStart</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия:  </i></b>Отношения   смежности  (возможно   частично   организованные)   были   разорваны   и  предпринимается   попытка восстановить их. Состояние соседа переводится сначала в ExStart. Списки Link state retransmission, Database summary и Link state request удаляются из LSA. После этого маршрутизатор увеличивает значение счетчика порядковых номеров DD в структуре данных о соседе, объявляет себя ведущим (установив для бита master/slave значение master) и начинает передавать пакеты с <u>установленными битами I, M и MS. Остальные поля пакета DD должны быть пустыми (см. параграф 10.8). </u><b><i>Состояние: </i></b>Exchange или выше <b><i>Событие: </i></b>BadLSReq <b><i>Новое состояние: </i></b>ExStart</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Действия для событий BadLSReq в точности совпадают с действиями для SeqNumberMismatch. Отношения смежности (возможно   частично   организованные)   были   разорваны   и  предпринимается   попытка   восстановить   их.  Дополнительная информация приведена выше в описании действий по событию SeqNumberMismatch для Exchange и более высокий состояний. <b><i>Состояние: </i></b>Любое <b><i>Событие: </i></b>KillNbr <b><i>Новое состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Списки Link state retransmission, Database summary и Link state request удаляются из LSA. Отключается таймер <u>Inactivity.</u></span></div>
<div class=paragraph style=" padding:0.00pt 470.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Любое <b><i>Событие: </i></b>LLDown <b><i>Новое состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Списки Link state retransmission, Database summary и Link state request удаляются из LSA. Отключается таймер Inactivity.</span></div>
<div class=paragraph style=" padding:0.00pt 467.76pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Состояние: </i></b>Любое <b><i>Событие: </i></b>InactivityTimer <b><i>Новое состояние: </i></b>Down</span></div>
<div class=paragraph style=" padding:0.00pt 176.16pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i><u>Действия: </u></i></b><u>Списки Link state retransmission, Database summary и Link state request удаляются из LSA. </u><b><i>Состояние: </i></b>2-Way или выше <b><i>Событие: </i></b>1-WayReceived <b><i>Новое состояние: </i></b>Init</span></div>
<div class=paragraph style=" padding:0.00pt 176.16pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Действия: </i></b>Списки Link state retransmission, Database summary и Link state request удаляются из LSA. <b><i>Состояние: </i></b>2-Way or greater <b><i>Событие: </i></b>2-WayReceived <b><i>Новое состояние: </i></b>Состояние не меняется.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>28</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:291.12pt;">
<div class=block style=" width:291.12pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 72.96pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:768.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38><b><i>Действия: </i></b>Дополнительных действий не требуется.<b>____________________________________________________________________</b></span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Состояние: </i></b>Init</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Событие: </i></b>1-WayReceived</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Новое состояние: </i></b>Состояние не меняется.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Действия: </i></b>Дополнительных действий не требуется.</span></div>
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" line-height:10.32pt; letter-spacing:-0.55pt;"><b>10.4.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>Когда организуется смежность</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">Отношения смежности организуются с частью соседей маршрутизатора. Маршрутизаторы, связанные сетями point-to-point, Point-</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">to-MultiPoint   или   виртуальными   каналами,   всегда   являются   смежными.   В   широковещательных   и      NBMA-сетях   все</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">маршрутизаторы являются смежными с DR и Backup DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Решение вопроса об организации отношений смежности происходит в двух точках машины состояний соседа. Первой точкой</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">является начальная организация двухсторонней связи между соседями, а второй - обнаружение смены маршрутизаторов (Backup)</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">DR. Если принято решение не пытаться организовать отношения смежности, смена состояний соседей останавливается на уровне</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">2-Way.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Отношения смежности следует организовывать при наличии с соседом двухсторонней связи и выполнении, по крайней мере,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">одного из перечисленных ниже условий:</span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>маршрутизаторы связаны сетью point-to-point</span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>маршрутизаторы связаны сетью Point-to-MultiPoint</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>маршрутизаторы связаны виртуальным каналом</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>маршрутизатор играет роль DR</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>маршрутизатор играет роль Backup DR</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>соседний маршрутизатор является DR</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>соседний маршрутизатор является Backup DR</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" line-height:10.32pt; letter-spacing:-0.55pt;"><b>10.5.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.25pt;"><b>Прием пакетов Hello</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">В этом параграфе рассматривается процесс обработки пакетов Hello (описание формата пакетов приведено в параграфе A.3.2). На</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">приемной стороне базовые операции обработки пакетов OSPF включают проверку заголовка IP и заголовка OSPF. После этого</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">значения полей Network Mask, HelloInterval и RouterDeadInterval  в принятом пакете  Hello  сравниваются  с параметрами</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">принимающего  интерфейса.  При любом несовпадении  обработка  завершается  с  отбрасыванием пакета.   Иными  словами,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">перечисленные поля реально описывают конфигурацию подключенной сети. Однако это правило имеет одно исключение - в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сетях point-to-point и виртуальных каналах значение Network Mask принятого пакета Hello следует игнорировать.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Принимающий интерфейс подключен одной области OSPF (это может быть магистраль). Установка бита E в поле Options пакета</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Hello   должна   соответствовать   параметру   ExternalRoutingCapability   для   этой   области.   Если   анонсы  AS-external-LSA   не</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">рассылаются в эту область (область является тупиковой), бит E в пакетах Hello должен быть сброшен, в остальных случаях бит</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">E=1. Несоответствие значений прерывает обработку пакета и пакет отбрасывается. Установка остальных опций Hello должна</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">игнорироваться.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">После этого проверяется совпадение адреса отправителя пакета Hello с адресами соседей принимающего интерфейса. Если</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">принимающий интерфейс подключен к широковещательной, Point-to-MultiPoint или NBMA-сети, отправитель идентифицируется</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">по IP-адресу отправителя в заголовке IP пакета Hello. Если принимающий интерфейс подключен к сети point-to-point или</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">виртуальному каналу, отправитель идентифицируется значением Router ID в заголовке OSPF пакета Hello. Текущий список</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседних интерфейсов содержится в структуре данных интерфейса. Если отправитель не найден в списке соседей (т. е., получен</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">первый пакет от него), в структуру данных вносятся дополнения. Для нового соседа состояние устанавливается в Down.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При получении пакета Hello от соседа в широковещательной, Point-to-MultiPoint или NBMA-сети, устанавливается значение поля</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Neighbor ID, равное значению Router ID в заголовке OSPF принятого пакета. Для этих типов сетей поля структуры данных о</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседе Router Priority, Designated Router и Backup Designated Router также устанавливаются равными значениям соответствующих</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">полей пакета Hello; изменения этих полей должны быть зафиксированы для последующей обработки. При получении пакета Hello</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">из сети point-to-point (но не из виртуального канала) значение Neighbor IP устанавливается в соответствии с IP-адресом</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отправителя.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Далее проверяется остальная часть пакета Hello и генерируются события для машин состояний соседа и интерфейса. Эти машины</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">состояний выполняются немедленно или помещаются в очередь (см. параграф 4.4). В приведенном ниже примере указано, что</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">машина состояний соседа исполняется сразу же (in line) и несколько смен состояния могут быть инициированы одним пакетом</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Hello:</span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Каждый принятый пакет Hello активизирует машину состояний соседа событием HelloReceived.</span></div>
<div class=paragraph style=" padding:1.44pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>После этого проверяется список соседей в пакете Hello. Если принявший маршрутизатор присутствует в списке, машине состояний передается событие 2-WayReceived. В противном случае используется событие 1-WayReceived и обработка пакета заканчивается.</span></div>
<div class=paragraph style=" padding:0.48pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Далее, если было зафиксировано изменение поля Router Priority, планируется активизация машины состояний интерфейса событием NeighborChange.</span></div>
<div class=paragraph style=" padding:0.24pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если сосед декларирует себя как DR (в пакете Hello поле Designated Router = Neighbor IP), поле Backup DR в пакете имеет значение 0.0.0.0 и принимающий интерфейс находится в состоянии Waiting, планируется активизация машины состояний интерфейса событием BackupSeen. В остальных случаях, если сосед декларирует себя как DR, но не был им до этого или не декларирует себя в этом качестве, хотя ранее играл роль DR, планируется активизация машины состояний принимающего интерфейса событием NeighborChange.</span></div>
<div class=paragraph style=" padding:0.24pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если сосед декларирует себя как Backup DR (в пакете Hello поле Backup Designated Router = Neighbor IP) и приемный интерфейс находится в состоянии Waiting, планируется активизация машины состояний интерфейса событием BackupSeen. В остальных случаях, когда сосед объявил себя Backup DR, не будучи таковым до этого, или снял с себя полномочия Backup DR, планируется активизация машины состояний принимающего интерфейса событием NeighborChange. В сетях NBMA прием пакета Hello может также вызывать передачу ответного пакета Hello (см. параграф 9.5.1).</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.65pt;"><b>10.6.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp; </b></span><span style=" letter-spacing:-0.25pt;"><b>Прием пакетов DD</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе описан процесс обработки принимаемых пакетов DD. Входящие пакеты DD уже связаны с соседом и принявшим интерфейсом в процессе базовой обработки (см. параграф 8.2). Отказ или восприятие и дальнейшая обработка воспринятых пакетов DD зависит от состояния соседа.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 57.12pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для воспринимаемых пакетов DD в соответствующей структуре данных о соседе после last received Database Description packet (последний принятый пакет DD) должны быть сохранены значения битов I, M и MS, а также поля Options и порядкового номера</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:16.56pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.96pt;">
<div class=block style=" width:72.96pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>29</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:730.56pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">DD. Если эти поля совпадают для двух последовательных пакетов DD от одного соседа, второй пакет DD рассматривается в процессе последующей обработки как дубликат.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если поле Interface MTU в пакете DD показывает, что размер дейтаграммы IP превышает возможности маршрутизатора (требует фрагментации), пакет DD отбрасывается. Дальнейшая обработка зависит от состояния соседа:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Down</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакет должен отбрасываться.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Attempt</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакет должен быть отброшен.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Init</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Машина состояний соседа должна активизироваться событием 2-WayReceived, что ведет к немедленному переходу в состояние 2-Way или ExStart. Если новым состоянием является ExStart, обработка текущего пакета должна продолжаться для случая ExStart, описанного ниже.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>2-Way</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакет следует игнорировать. Пакеты DD используются только для организации мостов и отношений смежности<sup>14</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ExStart</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если   принятый   пакет   соответствует   одному   из   приведенных   ниже   условий,   машина   состояний   соседа   должна</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">активизироваться событием NegotiationDone (переход в транзитное состояние Exchange), поле Options должно быть</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сохранено в структуре данных о соседе (Neighbor Options), а пакет должен быть воспринят для последующей обработки (см.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">ниже).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font29 style=" line-height:9.84pt;">o <span class=font38>Биты I, M и MS установлены, остальные поля пакеты пусты и значение Router ID у соседа больше, чем у принявшего</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">пакет маршрутизатора. Маршрутизатор в данном случае является ведомым, бит master/slave устанавливается в slave и в</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 46.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:10.08pt;">структуре данных о соседе устанавливается порядковый номер DD, заданный ведущим маршрутизатором. <span class=font29>o </span>Биты I и MS не установлены, порядковый номер DD для пакета равен порядковому номеру DD в структуре данных о</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">соседе (подтверждение) и значение Router ID у соседа меньше, чем у принявшего пакет маршрутизатора (данный</span></div>
<div class=paragraph style=" padding:0.00pt 354.00pt 0.00pt 46.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:10.08pt;">маршрутизатор является ведущим). В остальных случаях пакет следует игнорировать.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Exchange</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Дубликаты пакетов DD отбрасываются ведущим маршрутизатором и заставляют ведомый заново передавать последний пакет</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">DD. Для пакетов, не являющихся дубликатом:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;">o <span class=font38>Если   состояние   бита   MS   не   соответствует   состоянию   master/slave   для   соединения,   генерируется   событие</span></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:10.08pt;">SeqNumberMismatch для соседа и обработка пакета прекращается. <span class=font29>o </span>Если бит I установлен, для соседа генерируется событие SeqNumberMismatch и обработка пакета прекращается. <span class=font29>o </span>Если поле Options показывает другой набор дополнительных возможностей OSPF по сравнению с полученным от соседа</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">ранее   (записан   в   поле   Neighbor   Options   структуры   данных   о   соседе),   для   соседа   генерируется   событие</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:10.08pt;">SeqNumberMismatch и обработка пакета прекращается. <span class=font29>o </span>Пакеты DD должны обрабатываться в соответствии с их порядковыми номерами. Если маршрутизатор является</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">ведущим, следующий порядковый номер принятого пакета должен совпадать с номером в структуре данных о соседе.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Для ведомого маршрутизатора принятый пакет должен иметь порядковый номер на 1 больше номера, записанного в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">структуру данных о соседе. В любом случае, следующий по порядку пакет должен быть принят и обработан, как описано</span></div>
<div class=paragraph style=" padding:0.00pt 104.88pt 0.00pt 46.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:10.08pt;">ниже. <span class=font29>o </span>В противном случае для соседа генерируется событие SeqNumberMismatch и обработка пакета прекращается.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Loading или Full</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В этих состояниях маршрутизатор передает или принимает всю последовательность пакетов DD. Дубликаты возможны только   для   принимаемых   пакетов   (см.  выше).  Поле  Options   в  пакетах   должно   соответствовать   дополнительным возможностям OSPF, ранее показанным соседом (этот параметр хранится в поле опций структуры данных Neighbor). Прием любых  других  пакетов,   включая   пакеты   с  установленным   битом   I,  должен  сопровождаться  генерацией   события SeqNumberMismatch<sup>15</sup>. Ведущий маршрутизатор должен отбрасывать дубликаты, а ведомый – повторять в ответ передачу последнего пакета DD. Когда маршрутизатор принимает пакет DD со следующим порядковым номером, этот пакет воспринимается и обрабатывается. Для каждой перечисленной записи LSA проверяется корректность типа LS. Если тип LS неизвестен (т. е., не относится к типам 1 – 5, определенным в данной спецификации) или запись является AS-external-LSA (тип 5), а сосед связан с тупиковой областью, для соседа генерируется событие SeqNumberMismatch и обработка пакета прекращается. В остальных случаях маршрутизатор ищет LSA в своей базе данных. Если такой записи нет или имеется более старая версия (см. параграф 13.1), запись LSA помещается в список Link state request для ее последующего запроса (немедленно или спустя некоторое время) с помощью Link State Request. Для пакетов DD со следующим порядковым номером, кроме перечисленных выше операций, маршрутизатор выполняет еще ряд действий в зависимости от своей роли – ведущий или ведомый:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Master</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Увеличивается порядковый номер DD в базе данных о соседе. Если маршрутизатор уже передал все пакеты DD и принятый пакет не содержит флага M, для соседа генерируется событие ExchangeDone. В остальных случаях ведомому маршрутизатору передается новый пакет DD.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Slave</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Порядковый номер DD в структуре данных о соседе устанавливается в соответствии с порядковым номером DD в принятом запросе. Ведомый маршрутизатор должен передать в ответ пакет DD. Если в принятом пакете не установлен бит M и переданный ведомым маршрутизатором пакет также не содержит флага M, для соседа генерируется событие ExchangeDone. Отметим, ведомый маршрутизатор всегда генерирует это событие раньше ведущего.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>10.7. Прием пакетов Link State Request</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе описывается процедура обработки принятых запросов Link State Request (LSR). Принятые пакеты LSR содержат списки LSA, которые сосед хочет получить. Пакеты LSR должны восприниматься, если сосед находится в состоянии Exchange, Loading или Full. Для всех остальных состояний соседа пакеты LSR должны игнорироваться.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Каждая запись LSA, указанная в пакете LSR, должна отыскиваться в базе данных маршрутизатора и копироваться в пакет Link State Update (LSU) для передачи соседу. Эти записи <b>не следует </b>помещать в список Link state retransmission для соседа. Если LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:14.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:54.72pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>14</sup><span style=" letter-spacing:0.00pt;">&nbsp;При смене DR достаточно типичным случаем для соседа в этом состоянии будет передача пакета DD для маршрутизатора; это означает наличие кратковременного рассогласования тождественности DR.</span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>15</sup><span style=" letter-spacing:0.00pt;">&nbsp;Для маршрутизатора возможна рассинхронизация полных отношений смежности путем перехода назад в состояние ExStart. Это заставит смежный маршрутизатор обрабатывать сообщение SeqNumberMismatch и вернуться в состояние ExStart.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>30&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:303.84pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:72.96pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:218.16pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:8.88pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:376.80pt;"> <div class=block style=" width:376.80pt; height:11.28pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод 
          RFC 2328</u></b></span></div>
      </div></td>
    <td class=cell rowspan="2" valign="top" style=" width:218.16pt;">&nbsp;</td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:376.80pt;"> <div class=block style=" width:376.80pt; height:1.44pt;"> 
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:437.76pt;"> 
        <div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">не 
          удается найти в базе данных, это говорит о наличии ошибки в процессе 
          Database Exchange и ведет к генерации события BadLSReq.</span></div>
        <div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>10.8.&nbsp;Передача 
          пакетов DD</b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В 
          этом параграфе описан процесс передачи соседу пакетов Database Description 
          (DD). Для пакетов DD значение поля Interface MTU устанавливается равным 
          размеру максимальной дейтаграммы IP, которая может быть передана интерфейсом 
          без фрагментации. Общепринятые в Internet значения MTU можно найти в 
          таблице 7-1 работы [Ref22]. Для пакетов DD, передаваемых через виртуальные 
          соединения устанавливается Interface MTU=0.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Дополнительные 
          возможности OSPF (см. параграф 4.5) сообщаются соседу через поле Options 
          пакета DD. Маршрутизатор должен поддерживать такой же набор дополнительных 
          возможностей в процедурах Database Exchange и лавинной рассылки. Если 
          по каким-то причинам дополнительные возможности маршрутизатора изменяются, 
          следует заново выполнить процедуру Database Exchange путем возврата 
          для соседа состояния ExStart. В данной спецификации определяется только 
          одна дополнительная возможность (см. параграфы 4.5 и A.2). Флаг E- устанавливается 
          тогда и только тогда, когда подключенная сеть не относится к тупиковой 
          области. Нераспознанные биты поля Options должны иметь нулевое значение.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Передача 
          пакетов DD зависит от состояния соседа. В состоянии ExStart маршрутизатор 
          передает только пустые пакеты DD с установленными битами I, M и MS, 
          повторяя с интервалом RxmtInterval. В состоянии Exchange пакеты DD реально 
          содержат резюме информации о состоянии каналов, содержащейся в базе 
          данных маршрутизатора. Каждая запись LSA в базе данных области (во время 
          перехода соседа в состояние Exchange) указывается в списке Database 
          summary соседа. Каждый новый пакет DD копирует свой порядковый номер 
          из структуры данных о соседе и после этого описывает начальную часть 
          списка Database summary. Описанные элементы удаляются из списка после 
          подтверждения приема содержащего их пакета. В состоянии Exchange момент 
          передачи пакетов DD определяется ролью маршрутизатора (ведущий или ведомый):</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Master</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты 
          DD передаются, если a) ведомый маршрутизатор подтвердил прием предыдущего 
          пакета DD, указав его номер в отклике, или b) прошло RxmtInterval секунд 
          без подтверждения приема предыдущего пакета (заново передается прежний 
          пакет).</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Slave</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты 
          DD передаются только в ответ на получение пакета DD от ведущего маршрутизатора. 
          Если получен новый пакет DD, в ответ передается новый отклик DD, в противном 
          случае снова передается предыдущий пакет DD. В состояниях Loading и 
          Full ведомый маршрутизатор должен повторять передачу последнего пакета 
          DD в ответ на прием дубликата пакета DD от ведущего маршрутизатора. 
          По этой причине ведомый маршрутизатор должен ждать RouterDeadInterval 
          секунд перед освобождением пакета DD. Получение пакета DD от ведущего 
          маршрутизатора по истечении этого времени ведет к генерации для соседа 
          события SeqNumberMismatch.</span></div>
        <div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>10.9.&nbsp;Передача 
          пакетов Link State Request</b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При 
          состояниях соседа Exchange и Loading список запросов состояний каналов 
          содержит те LSA, которые нужно получить от соседа. Для запроса LSA маршрутизатор 
          сначала отправляет соседу список запросов, помещенный в пакет LSR.</span></div>
        <div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда 
          сосед отвечает на эти запросы пакетами Link State Update, соответствующие 
          элементы удаляются из списка запросов и передается новый пакет LSR. 
          Этот процесс продолжается, пока список запросов не будет исчерпан. Записи 
          из списка LSA, которые уже были запрошены, но еще не получены, помещаются 
          в пакет LSR для повторной передачи по истечении интервала RxmtInterval. 
          В любой момент времени должен сохраняться по крайней мере один необработанный 
          пакет LSR.</span></div>
        <div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Когда 
          список запросов исчерпан и сосед находится в состоянии Loading (передан 
          и принят полный набор пакетов DD от соседа) для соседа генерируется 
          событие Loading Done.</span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:349.20pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:303.84pt;"> <div class=block style=" width:303.84pt; height:12.72pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:72.96pt;"> <div class=block style=" width:72.96pt; height:12.72pt;"> 
        <div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>31</b></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:218.16pt;"> <div class=block style=" width:218.16pt; height:12.72pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:20.64pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:303.84pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:72.96pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:218.16pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:193.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:67.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:87.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:149.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.32pt;">
<div class=block style=" width:28.32pt; height:12.72pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:242.88pt;">
<div class=block style=" width:242.88pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="4" valign="top" style=" width:86.64pt;">
<div class=block style=" width:86.64pt; height:81.60pt;">
<div class=paragraph style=" padding:10.08pt 60.24pt 0.00pt 0.00pt; text-align:justify;"><span class=font29 style=" line-height:10.08pt;"><b>+---+ |RT2| +---+</b></span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29><b>Down</b></span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:87.84pt;">
<div class=block style=" width:87.84pt; height:30.24pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font12 style=" letter-spacing:-0.80pt;"><b>10.10. Пример</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:149.28pt;">
<div class=block style=" width:149.28pt; height:27.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:14.40pt;">
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:77.76pt;">
<div class=block style=" width:77.76pt; height:68.88pt;">
<div class=paragraph style=" padding:0.00pt 23.04pt 0.00pt 28.08pt; text-align:justify;"><span class=font29 style=" line-height:10.08pt;"><b>+---+ |RT1| +---+</b></span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font29><b>Down</b></span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:193.44pt;">
<div class=block style=" width:193.44pt; height:68.88pt;">
<div class=paragraph style=" padding:51.12pt 0.00pt 0.00pt 35.52pt; text-align:left;"><span class=font29><b>Hello(DR=0,seen=0)</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:14.40pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:149.28pt;">
<div class=block style=" width:149.28pt; height:3.12pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:51.36pt;">
</td>
<td class=cell colspan="2" rowspan="5" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:132.96pt;">
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">На рисунке 10 показан пример организации смежности. Маршрутизаторы RT1 и RT2 подключены к широковещательной сети. Предполагается, что RT2 играет роль DR и его значение Router ID больше, нежели Router ID для RT1.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Изменения состояния соседа отлеживаются каждым и показаны по краям рисунка.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">На начальном этапе примера маршрутизатор RT1 только начинает работу в сети. Маршрутизатор начинает передавать пакеты Hello, хотя он еще не знает о DR и других </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:51.36pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:77.76pt;">
<div class=block style=" width:77.76pt; height:46.08pt;">
<div class=paragraph style=" padding:23.04pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font29><b>ExStart</b></span></div>
</div>
</td>
<td class=cell rowspan="7" valign="top" style=" width:193.44pt;">
<div class=block style=" width:193.44pt; height:148.32pt;">
<div class=paragraph style=" padding:0.00pt 31.20pt 0.00pt 13.92pt; text-align:left; text-indent:5.28pt;"><span class=font29 style=" line-height:10.08pt;"><b>Hello (DR=RT2,seen=RT1,...) ---------------------------</b></span></div>
<div class=paragraph style=" padding:0.00pt 31.20pt 0.00pt 13.92pt; text-align:left; text-indent:15.84pt;"><span class=font29 style=" line-height:10.08pt;"><b>D-D (Seq=x,I,M,Master) ---------------------------</b></span></div>
<div class=paragraph style=" padding:0.00pt 31.20pt 0.00pt 13.92pt; text-align:left; text-indent:15.60pt;"><span class=font29 style=" line-height:10.08pt;"><b>D-D (Seq=y,I,M,Master) ---------------------------</b></span></div>
<div class=paragraph style=" padding:0.00pt 31.20pt 0.00pt 13.92pt; text-align:left; text-indent:15.84pt;"><span class=font29 style=" line-height:10.08pt;"><b>D-D (Seq=y,M,Slave) ---------------------------</b></span></div>
<div class=paragraph style=" padding:0.00pt 31.20pt 0.00pt 13.92pt; text-align:left; text-indent:15.60pt;"><span class=font29 style=" line-height:10.08pt;"><b>D-D (Seq=y+1,M,Master) ---------------------------</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.52pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>D-D (Seq=y+1,M,Slave)</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:86.64pt;">
<div class=block style=" width:86.64pt; height:25.68pt;">
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 0.72pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.40pt;"><b>Init</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:20.40pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:86.64pt;">
<div class=block style=" width:86.64pt; height:35.52pt;">
<div class=paragraph style=" padding:17.76pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29><b>ExStart</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:20.40pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:15.12pt;">
</td>
<td class=cell colspan="2" rowspan="5" valign="top" style=" width:77.76pt;">
<div class=block style=" width:77.76pt; height:102.24pt;">
<div class=paragraph style=" padding:15.12pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font29><b>Exchange</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:15.12pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:20.40pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:86.64pt;">
<div class=block style=" width:86.64pt; height:37.68pt;">
<div class=paragraph style=" padding:20.40pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29><b>Exchange</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:20.40pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:17.28pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">соседних маршрутизаторах. RT2 слышит эти пакеты (и вводит состояние Init для соседа) и </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:323.76pt;">
<div class=block style=" width:323.76pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 86.64pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">в своем следующем пакете Hello указывает себя как DR и показывает прием пакетов </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:323.76pt;">
<div class=block style=" width:323.76pt; height:29.04pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 86.64pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Hello от RT1. Это заставляет RT1 перейти в состояние ExStart, начиная формирование смежности.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.56pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:290.16pt;">
<div class=block style=" width:290.16pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 107.28pt; text-align:left;"><span class=font29><b>D-D (Seq=y+n, Master)</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:304.80pt;">
<div class=block style=" width:304.80pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 67.68pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">RT1 начинает заявлять себя как ведущий<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:304.80pt;">
<div class=block style=" width:304.80pt; height:2.88pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 67.68pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">маршрутизатор. Когда RT1 видит, что RT2<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:77.76pt;">
<div class=block style=" width:77.76pt; height:17.52pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:212.40pt;">
<div class=block style=" width:212.40pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.52pt; text-align:left;"><span class=font29><b>D-D (Seq=y+n, Slave)</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:304.80pt;">
<div class=block style=" width:304.80pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 67.68pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">должен быть ведущим (большее значение<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:77.76pt;">
<div class=block style=" width:77.76pt; height:23.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font29><b>L</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:304.80pt;">
<div class=block style=" width:304.80pt; height:2.88pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 67.68pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Router ID), он переходит в режим ведомого и<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:193.44pt;">
<div class=block style=" width:193.44pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.72pt; text-align:left;"><span class=font29><b>LS Request</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:86.64pt;">
<div class=block style=" width:86.64pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.56pt; text-align:left;"><span class=font29><b>Full</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">адаптирует свой порядковый номер DD для<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt;">
<div class=block style=" width:18.96pt; height:2.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:304.80pt;">
<div class=block style=" width:304.80pt; height:61.20pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 67.68pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">соседа. Происходит обмен пакетами DD с запросами от ведущего (RT2) и откликами от ведомого (RT1) маршрутизатора. Эта последовательность пакетов DD завершается когда обе стороны сбрасывают флаг M.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">В приведенном примере предполагается, что</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:290.16pt;">
<div class=block style=" width:290.16pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 144.48pt; text-align:left;"><span class=font29><b>LS Update</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:290.16pt;">
<div class=block style=" width:290.16pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 144.48pt; text-align:left;"><span class=font29><b>LS Request</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:290.16pt;">
<div class=block style=" width:290.16pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 144.48pt; text-align:left;"><span class=font29><b>LS Update</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:77.76pt;">
<div class=block style=" width:77.76pt; height:24.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 38.88pt; text-align:left;"><span class=font29><b>Full</b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:280.08pt;">
<div class=block style=" width:280.08pt; height:24.48pt;">
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38><i>Рисунок 10. Пример организации отношений смежности.</i></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">база данных RT2 полностью актуальна. В</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">этом случае RT2 незамедлительно переходит</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:6.96pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">в состояние Full. RT1 будет переходить в</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:39.60pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">состояние   Full  после   обновления   нужных</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">частей своей базы данных. Это осуществляется путем передачи пакетов LSR и приема откликов LSU. Отметим, что ожидание</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">маршрутизатором RT1 завершения приема всего набора пакетов DD от RT2 до передачи пакетов LSR не является обязательным.</span></div>
<div class=paragraph style=" padding:0.00pt 306.00pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">RT1 может чередовать передачу пакетов LSR и прием пакетов DD.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:290.16pt;">
<div class=block style=" width:290.16pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font12><b><i>11. Структура таблицы маршрутов</i></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:304.80pt;">
<div class=block style=" width:304.80pt; height:19.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:306.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Таблица маршрутов содержит все данные, требуемые для пересылки пакетов IP в направлении адресата. Каждая запись таблицы</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">описывает набор лучших маршрутов к отдельному получателю. При пересылке пакетов данных IP определяется запись таблицы с</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">максимальным соответствием IP-адресу получателя пакета. После этого из выбранной записи берется адрес следующего</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатора (next hop) в направлении адресата. Протокол OSPF также обеспечивает поддержку принятого по умолчанию</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрута (Destination ID = DefaultDestination, Address Mask = 0x00000000). Если существует принятый по умолчанию маршрут,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">он соответствует всем IP-адресам получателей (хотя любые другие маршруты обеспечивают лучшее соответствие). Поиск</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрута с лучшим соответствием IP-адресу получателя описан в параграфе 11.1.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В каждом маршрутизаторе существует одна таблица маршрутов. Два примера таблиц маршрутизации рассмотрены в параграфах</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">11.2 и 11.3. Построение таблицы маршрутов описано в главе 16.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В остальной части параграфа описаны поля записей в таблице маршрутов. Первый набор полей описывает адресатов для записи.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Destination Type</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Адресатом может быть сеть (network) или маршрутизатор (router). При пересылке пакетов данных IP реально используются</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">только записи для сетей. Связанные с маршрутизаторами записи таблицы применяются только на промежуточных этапах</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">построения таблицы маршрутов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Сеть представляет собой диапазон адресов IP, по которым могут пересылаться пакеты данных. Сюда включаются сети</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">классов A, B и C, подсети IP, сверхсети IP и отдельные хосты IP. Принятый по умолчанию маршрут также входит с эту</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">категорию.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Записи, связанные с маршрутизаторами, сохраняются для граничных маршрутизаторов областей и AS. Записи в таблице</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутов для граничных маршрутизаторов областей используются при расчете междоменных маршрутов (см. параграф</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">16.2) и для поддержки виртуальных соединений (см. главу 15), а записи для граничных маршрутизаторов AS служат для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">расчета внешних по отношению к AS маршрутов (см. параграф 16.4).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Destination ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Имя или идентификатор адресата в зависимости от значения Destination Type. Для сетей используется связанный с сетью IP-адрес, для маршрутизаторов - OSPF Router ID<sup>16</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Address Mask</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маска определена только для сетей и при использовании вместе с адресом IP позволяет определить сетевой диапазон IP-адресов. Для подсетей IP адресную маску называют маской подсети. Маршруты к хостам имеют маску 0xffffffff.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Optional Capabilities</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда получателем является маршрутизатор, это поле показывает поддерживаемые им дополнительные возможности OSPF. В данной спецификации определена единственная дополнительная возможность – обработка AS-external-LSA. Обсуждение дополнительных возможностей OSPF приведено в параграфе 4.5.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:34.80pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><sup>16</sup> Пространство адресов IP-сетей и значений OSPF Router ID могут перекрываться, т. е., IP-адрес сети в 32-битовом представлении может совпадать с Router ID какого-либо из маршрутизаторов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>32&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:193.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:67.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:87.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:149.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:648.48pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Набор путей к адресату может меняться в зависимости от областей OSPF, через которые проходит путь. Это означает, что для одного получателя в таблице может содержаться несколько записей в зависимости от значения следующего поля.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле указывает области, для которых информация о каналах приводит к включению в таблицу множества путей (эти записи называют связанными или ассоциированными). Для наборов внешних по отношению к AS путей это поле не определено. Для маршрутизаторов может существовать несколько наборов путей (и раздельных записей в таблице), связанных с каждой из нескольких областей. Например, это может произойти, когда два граничных маршрутизатора областей относятся к одной области. Для сетей сохраняется единственный набор путей, связанный с лучшей областью (предпочтительный маршрут). Остальная часть маршрутной записи описывает набор путей к адресату. Перечисленные ниже поля относятся ко всему набору путей для одного адресата, т. е., все пути в одной записи таблицы маршрутов имеют одинаковый тип и стоимость (см. ниже).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Path-type</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Существует 4 типа путей для передачи пакетов адресату: внутридоменные, междоменные, внешние типа 1 и 2 (в порядке снижения предпочтения). Внутридоменные пути используются для адресатов в одной из подключенных к маршрутизатору областей, междоменные пути ведут в другие области OSPF. Определение типа происходит на основе принятых summary-LSA. Внешние пути ведут в другие AS и детектируются на основе принятых AS-external-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Cost</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Стоимость пути к адресату в единицах link state. Для всех путей кроме внешних типа 2 этот параметр описывает стоимость пути в целом. Для внешних путей типа 2 это поле описывает стоимость части пути внутри данной AS. Эта стоимость вычисляется как сумма стоимостей составляющих путь каналов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Type 2 cost</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле применимо только для внешних путей типа 2 и показывает стоимость внешней части пути. Эта стоимость анонсируется граничным маршрутизатором AS и составляет большую часть общей стоимости пути. Например, внешний путь типа 2 с внешней стоимостью 5 всегда предпочтительней пути типа 2 с внешней стоимостью 10, независимо от внутренней стоимости.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link State Origin</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Применяется только для внутридоменных путей и показывает запись LSA (router-LSA или network-LSA), напрямую указывающую адресата. Например, если адресатом является транзитная сеть, это будет network-LSA транзитной сети. Если адресатом является тупиковая сеть, это будет router-LSA для подключенного к ней маршрутизатора. Записи LSA определяются при расчете дерева кратчайших путей (см. параграф 16.1). Один адресат может указываться множеством LSA, однако схема tie-breaking (разрыв связей) сужает выбор до единственной записи LSA. Поле Link State Origin не используется протоколом OSPF, но применяется при расчете таблицы маршрутов в MOSPF (OSPF Multicast routing extensions). При наличии множества однотипных путей с равной стоимостью (equal-cost paths – равноценные пути), эти пути сохраняются в одной записи таблицы маршрутов. Равноценные пути различаются следующими полями:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Next hop</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Выходной интерфейс маршрутизатора, используемый для пересылки пакетов получателю. В широковещательных, Point-to-MultiPoint и NBMA-сетях поле next hop также включает IP-адрес первого маршрутизатора (если он есть) на пути к адресату.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Advertising router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Имеет смысл только для междоменных и внешних путей и содержит Router ID маршрутизатора, анонсирующего summary-LSA или AS-external-LSA для этого пути.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>11.1.&nbsp;Просмотр таблицы маршрутов</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При получении пакета данных IP маршрутизатор OSPF находит запись таблицы маршрутизации, наиболее точно соответствующую адресату. Из этой записи определяется выходной интерфейс маршрутизатора и следующий маршрутизатор для пересылки пакета. В этом параграфе описан процесс поиска наилучшего соответствия в таблице маршрутов для адреса получателя пакета.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">До начала просмотра в таблицу должны быть вставлены &laquo;отвергнутые&raquo; записи для каждого активного диапазона адресов области в маршрутизаторе (см. параграф 3.5). Диапазон считается активным, если он включает по крайней мере одну сеть, доступную внутридоменным путем. Адресатом &laquo;отвергнутой&raquo; записи служит набор адресов, описываемый связанным с ним активным диапазоном и тип пути для каждой &laquo;отвергнутой&raquo; записи должен быть междоменным<sup>17</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Адресу получателя может соответствовать несколько записей маршрутной таблицы. В таких случаях лучшее соответствие обеспечивает запись таблицы с максимальным совпадением. Иными словами, лучшее совпадение обеспечивается записью с наиболее узким диапазоном IP-адресов<sup>18</sup>. Например, запись для пары 128.185.1.0, 0xffffff00 задает более точное соответствие, нежели 128.185.0.0, 0xffff0000. Принятый по умолчанию маршрут обеспечивает минимальное соответствие, поскольку он подходит для всех адресатов. Отметим, что для любой отдельной записи в таблице маршрутов может существовать множество путей. В таких случаях расчеты, описанные в параграфах 16.1, 16.2 и 16.4 всегда дают пути наиболее предпочтительного типа (см. главу 11).</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если в таблице не найдено соответствующей адресату записи или максимальное соответствие обеспечивает одна из &laquo;отвергнутых&raquo; записей, адресат считается недоступным и вместо пересылки пакет отбрасывается, а отправителю возвращается пакет ICMP destination unreachable (адресат недоступен).</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>11.2.&nbsp;Пример таблицы маршрутизации без областей</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Вернемся к примеру автономной системы на рисунке 2. В этом примере не задано ни одной области OSPF. Метрика показана только для исходящих интерфейсов. Расчет таблицы маршрутизации для RT6 был описан в параграфе 2.2, а результаты этого расчета приведены в таблице 15. Адресаты в таблице обозначены буквами N (сети), R (маршрутизаторы) и H (хосты).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:96.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:54.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.90pt;"><sup>17</sup><span style=" letter-spacing:0.00pt;">&nbsp;&quot;Отвержение&quot; областей требуется для беспетлевого резюмирования маршрутов на границе области.</span></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.90pt;"><sup>18</sup><span style=" letter-spacing:0.00pt;">&nbsp;При соответствии получателю двух диапазонов адресов предполагается, что один диапазон уже другого. Чтобы избавиться от этого допущения можно использовать несвязные (Non-contiguous) маски подсетей, но такие маски протокол OSPF не поддерживает.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>33&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:41.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:61.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="15" valign="top" style=" width:427.92pt;">
<div class=block style=" width:427.92pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:167.04pt;">
<div class=block style=" width:167.04pt; height:12.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:513.12pt; height:222.96pt; padding:0.00pt 54.96pt 0.00pt 26.88pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:513.12pt; height:222.96pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:82.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:79.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:51.12pt;">
<div class=paragraph style=" padding:0.24pt 7.92pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В       этом       примере       нет равноценных         путей,         а междоменные                     пути отсутствуют,    поскольку    нет областей.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:51.12pt;">
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font38>Тип</span></div>
<div class=paragraph style=" padding:8.16pt 17.76pt 0.00pt 9.12pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">N N</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:51.12pt;">
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Адресат</span></div>
<div class=paragraph style=" padding:8.16pt 32.64pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N1 N2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:51.12pt;">
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Область</span></div>
<div class=paragraph style=" padding:8.16pt 16.80pt 0.00pt 21.60pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">0 0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:51.12pt;">
<div class=paragraph style=" padding:0.24pt 1.20pt 0.00pt 9.60pt; text-align:left; text-indent:-3.36pt;"><span class=font38 style=" line-height:10.08pt;"><i>Таблица 15 Таблица </i>Тип пути</span></div>
<div class=paragraph style=" padding:8.16pt 18.48pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:9.84pt;">Внутридомен. Внутридомен.</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:51.60pt;">
<div class=block style=" width:51.60pt; height:81.12pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>маршрутизац </i>Стоимость</span></div>
<div class=paragraph style=" padding:8.16pt 20.16pt 0.00pt 22.32pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;">10 <u>10 </u>7 8 7</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:118.56pt;">
<div class=block style=" width:118.56pt; height:51.12pt;">
<div class=paragraph style=" padding:0.24pt 7.68pt 0.00pt 9.12pt; text-align:left; text-indent:-7.68pt;"><span class=font38 style=" line-height:9.84pt;"><i>ии RT6 (областей не задано). </i>Next       Анонсирующий Hop       маршрутизатор RT3       * RT3       *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы  RT5  и  RT7 являются граничными для AS. Внутридоменные                пути</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:30.00pt;">
<div class=paragraph style=" padding:10.08pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>N</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 32.64pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N3 N4 Ib</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 17.28pt 0.00pt 21.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">0 0 0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 19.20pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:9.84pt;">Внутридомен. Внутридомен. Внутридомен.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.12pt; text-align:left;"><span class=font38>RT3</span></div>
<div class=paragraph style=" padding:1.44pt 14.40pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:6.96pt;">RT3 *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 69.84pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">* * *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">рассчитываются                     до маршрутизаторов RT5 и RT7. Это      позволяет      рассчитать</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font38>N<b>____</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>N</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ia</span></div>
<div class=paragraph style=" padding:0.00pt 32.88pt 0.00pt 5.52pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">N6 N7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 17.28pt 0.00pt 21.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">0 0 0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 14.40pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:9.84pt;">Внутридомен. Внутридомен. Междоменный</span></div>
</div>
</td>
<td class=cell rowspan="5" valign="top" style=" width:51.60pt;">
<div class=block style=" width:51.60pt; height:141.84pt;">
<div class=paragraph style=" padding:0.00pt 20.64pt 0.00pt 23.28pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;">12 8</span></div>
<div class=paragraph style=" padding:0.00pt 20.64pt 0.00pt 22.32pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;"><u>12 </u>10 11 <u>13 </u>14 21 <u>6 </u>8</span></div>
<div class=paragraph style=" padding:1.44pt 18.48pt 0.00pt 21.12pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;"><u>10 </u>114 14 17</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT10 RT10 RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 69.84pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">* * *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">внешние   пути   до   адресатов, анонсируемых RT5 и RT7 (т. е., сетей N12, N13, N14 и N15).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font38>N<b>____</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>N</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 5.52pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">N8 N9 N10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 17.28pt 0.00pt 21.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">0 0 0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 13.92pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:9.84pt;">Междоменный Междоменный Междоменный</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT10 RT10 RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 69.84pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">* * *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Предполагается,   что   все   AS-external-LSA генерируемые RT5 и RT7 анонсируют  внешнюю</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N<b>____</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">R</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N11</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">H1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 17.28pt 0.00pt 21.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">0 0 0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 13.92pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:9.84pt;">Междоменный Междоменный Междоменный</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT10 RT10 RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 69.84pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">* * *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">метрику типа 1. Это ведет к тому, что внешние пути типа 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.88pt; text-align:left;"><span class=font38><i>R</i><b>____</b></span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font38>N</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT7</span></div>
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:21.60pt;">
<div class=paragraph style=" padding:0.72pt 17.28pt 0.00pt 21.60pt; text-align:left;"><span class=font38 style=" line-height:8.64pt;">0 *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 13.92pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:11.52pt;">Междоменный Внешн. типа 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:11.52pt;">RT10 RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 58.56pt 0.00pt 5.52pt; text-align:left; text-indent:0.72pt;"><span class=font38 style=" line-height:11.76pt;">* RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt;">
<div class=block style=" width:135.12pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 8.40pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">будут рассчитаны для адресатов в сетях N12-N15.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font38>N<b>____</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>N</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 5.52pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">N13 N14 N15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 16.80pt 0.00pt 21.60pt; text-align:left; text-indent:-0.24pt;"><span class=font38 style=" line-height:9.84pt;">* * *</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:82.80pt;">
<div class=block style=" width:82.80pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 16.80pt 0.00pt 9.84pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:9.84pt;">Внешн. типа 1 Внешн. типа 1 Внешн. типа 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 9.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT5 RT5 RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT5<b>_____________</b></span></div>
<div class=paragraph style=" padding:0.00pt 58.56pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RT5 RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:82.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:79.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:277.92pt;">
<div class=block style=" width:277.92pt; height:25.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>таблицы маршрутизации с областями</b></span></div>
<div class=paragraph style=" padding:0.00pt 120.48pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Вернемся к предыдущему<br></span></div>
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:317.04pt;">
<div class=block style=" width:317.04pt; height:25.20pt;">
<div class=paragraph style=" padding:15.12pt 0.00pt 0.00pt 11.04pt; text-align:left;"><span class=font38><i><u>Таблица 16 Таблица маршрутизации RT4 при наличии областей.</u></i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="13" valign="top" style=" width:165.84pt;">
<div class=block style=" width:165.84pt; height:236.64pt;">
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">примеру, разделив AS на две области OSPF (конфигурация областей показана на рисунке 4). Таблица маршрутизации RT4 будет описана для этой конфигурации. Маршрутизатор RT4 соединен с областью 1 и магистральной областью. Это заставляет RT4 видеть AS как объединение (concatenation) двух графов, показанных в таблицах 6 и 7. Маршруты RT4 показаны в таблице 16.</span></div>
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизаторы RT5 и RT7 являются граничными для AS, а RT3, RT4, RT7, RT10 и RT11 – для областей. Отметим, что для маршрутизатора RT3 в таблице две маршрутных записи, поскольку он имеет две области, общие с RT4 (область 1 и магистраль).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Магистральные<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>пути</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="14" valign="top" style=" width:30.24pt;">
<div class=block style=" width:30.24pt; height:248.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.56pt; text-align:left;"><span class=font38>Тип</span></div>
<div class=paragraph style=" padding:8.40pt 19.20pt 0.00pt 4.56pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">N <u>N N </u>N <u>R </u>N <u>N R </u>R <u>R R </u>R <u>N </u>N <u>N </u>N</span></div>
<div class=paragraph style=" padding:9.84pt 19.20pt 0.00pt 4.56pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><u>N </u>N N N</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:98.64pt;">
<div class=block style=" width:98.64pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:0.96pt;">
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:264.96pt;">
<div class=block style=" width:264.96pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="8" valign="top" style=" width:95.04pt;">
<div class=block style=" width:95.04pt; height:131.76pt; padding:0.00pt 0.00pt 10.56pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:95.04pt; height:131.76pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 3.60pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Адресат</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Область</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 30.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">N1 N2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 24.96pt 0.00pt 5.28pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">N4 RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:20.64pt;">
<div class=paragraph style=" padding:0.00pt 32.88pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Ib Ia</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:20.64pt;">
<div class=paragraph style=" padding:0.72pt 1.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 1.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 24.48pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RT5 RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:10.32pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:10.32pt;">
<div class=paragraph style=" padding:1.20pt 1.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:57.12pt;">
<div class=block style=" width:57.12pt; height:19.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font38>Тип пути</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:79.68pt;">
<div class=block style=" width:79.68pt; height:19.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.88pt; text-align:left;"><span class=font38>Стоимость</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:28.56pt;">
<div class=block style=" width:28.56pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 11.04pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Next Hop</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 73.44pt 0.00pt 3.60pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Анонсирующий маршрутизатор</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" rowspan="3" valign="top" style=" width:105.60pt;">
<div class=block style=" width:103.68pt; height:50.88pt; padding:0.00pt 0.00pt 0.00pt 1.92pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:103.68pt; height:50.88pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt;">
<div class=block style=" width:70.56pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 15.60pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:10.08pt;">Внутридомен. Внутридомен.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 27.84pt; text-align:justify; text-indent:-0.48pt;"><span class=font38 style=" line-height:10.08pt;">4 4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt;">
<div class=block style=" width:70.56pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38>Внутридомен.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 2.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt;">
<div class=block style=" width:70.56pt; height:21.12pt;">
<div class=paragraph style=" padding:0.00pt 15.60pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:10.08pt;">Внутридомен. Внутридомен.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:21.12pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 27.84pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">3 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:198.24pt;">
<div class=block style=" width:198.24pt; height:48.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font38>RT1</span></div>
<div class=paragraph style=" padding:1.44pt 151.44pt 0.00pt 31.20pt; text-align:left;"><span class=font38 style=" line-height:7.20pt;"><u>RT2 *</u></span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:198.24pt;">
<div class=block style=" width:198.24pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:22.56pt;">
<div class=paragraph style=" padding:0.48pt 21.12pt 0.00pt 3.60pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Внутридомен. <u>Внутридомен.</u></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:22.56pt;">
<div class=paragraph style=" padding:0.00pt 30.24pt 0.00pt 19.68pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">22 27</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:167.04pt;">
<div class=block style=" width:167.04pt; height:22.56pt;">
<div class=paragraph style=" padding:0.48pt 151.68pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RT5 RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:8.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font38><u>Внутридомен.</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:27.60pt;">
<div class=block style=" width:27.60pt; height:8.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.68pt; text-align:left;"><span class=font38>21</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:198.24pt;">
<div class=block style=" width:198.24pt; height:8.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:40.56pt;">
<div class=paragraph style=" padding:0.00pt 21.12pt 0.00pt 3.60pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Внутридомен. <u>Внутридомен. Внутридомен. </u>Внутридомен.</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:225.84pt;">
<div class=block style=" width:58.08pt; height:39.36pt; padding:0.00pt 149.76pt 1.20pt 18.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:58.08pt; height:39.36pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 25.20pt 0.00pt 2.64pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">8 14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:22.80pt;">
<div class=block style=" width:22.80pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 1.20pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:12.96pt;">* RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38>22</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:22.80pt;">
<div class=block style=" width:22.80pt; height:10.08pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 3.60pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt;">
<div class=block style=" width:35.28pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38>25</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:22.80pt;">
<div class=block style=" width:22.80pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:173.04pt;">
<div class=block style=" width:173.04pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 16.80pt 0.00pt 98.64pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><u>Междоменный </u>Междоменный <u>Междоменный</u></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:31.68pt;">
<div class=paragraph style=" padding:0.96pt 30.72pt 0.00pt 20.40pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.80pt;"><u>15 </u>19 <span style=" letter-spacing:-0.70pt;">18</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.56pt;">
<div class=block style=" width:28.56pt; height:31.68pt;">
<div class=paragraph style=" padding:0.96pt 13.20pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><u>RT5 </u>RT5 RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:31.68pt;">
<div class=paragraph style=" padding:0.96pt 119.04pt 0.00pt 3.60pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><u>RT7 </u>RT7 RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:67.68pt;">
<div class=block style=" width:67.68pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 34.80pt 0.00pt 5.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N9-N11,H1</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:27.36pt;">
<div class=block style=" width:27.36pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font38>Междоменный</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.16pt; text-align:left;"><span class=font38>36</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:28.56pt;">
<div class=block style=" width:28.56pt; height:19.92pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font38 style=" letter-spacing:-0.40pt;">RT11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:95.04pt;">
<div class=block style=" width:95.04pt; height:40.08pt; padding:0.96pt 0.00pt 0.72pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:95.04pt; height:40.08pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>*</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N13</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>*</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N14</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>*</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N15</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:49.20pt;">
<div class=block style=" width:49.20pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 2.16pt 0.00pt 0.00pt; text-align:center;"><span class=font38>*</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:49.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font38>Внешн. типа 1</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:10.80pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 20.64pt; text-align:left;"><span class=font38>16</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:167.04pt;">
<div class=block style=" width:167.04pt; height:10.80pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38><u>RT5       RT5, RT7</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:303.84pt;">
<div class=block style=" width:247.92pt; height:30.24pt; padding:0.00pt 55.92pt 0.72pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:251.28pt; height:30.24pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:87.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt;">
<div class=block style=" width:75.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38>Внешн. типа 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>16</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.04pt;">
<div class=block style=" width:29.04pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:87.60pt;">
<div class=block style=" width:87.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt;">
<div class=block style=" width:75.84pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38>Внешн. типа 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>16</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.04pt;">
<div class=block style=" width:29.04pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:87.60pt;">
<div class=block style=" width:87.60pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt;">
<div class=block style=" width:75.84pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38>Внешн. типа 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:58.80pt;">
<div class=block style=" width:58.80pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38>23</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.04pt;">
<div class=block style=" width:29.04pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38>RT5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:87.60pt;">
<div class=block style=" width:87.60pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.64pt; text-align:left;"><span class=font38>RT7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:58.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:87.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:12.24pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:165.84pt;">
<div class=block style=" width:165.84pt; height:24.00pt;">
<div class=paragraph style=" padding:0.00pt 5.52pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">рассчитываются до всех граничных маршрутизаторов областей. Эти пути служат для</span></div>
</div>
</td>
<td class=cell colspan="12" rowspan="2" valign="top" style=" width:398.88pt;">
<div class=block style=" width:398.88pt; height:24.00pt;">
<div class=paragraph style=" padding:12.24pt 56.40pt 0.00pt 4.56pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">междоменных маршрутов. Отметим, что все междоменные маршруты связаны с<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:12.24pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:30.24pt;">
<div class=block style=" width:30.24pt; height:11.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>расчета</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:138.72pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">магистралью – это бывает всегда для случаев, когда рассчитывающий маршрутизатор является граничным для области. Маршрутная информация конденсируется на границах областей. В нашем примере предполагается, что область 3 определена так, что сети N9 - N11 и хост H1 находятся на одном маршруте, анонсируемом в магистраль маршрутизатором RT11. Отметим, что стоимость этого пути является максимальной из набора стоимостей отдельных компонент.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Между маршрутизаторами RT10 и RT11 организован виртуальный канал. Без этого канала маршрутизатор RT11 не сможет анонсировать маршрут для сетей N9 - N11 и хоста H1 в магистраль и в таблице RT4 не будет записи для этих сетей. В данном примере есть два равноценных пути в сеть N12, однако оба пути идут через один маршрутизатор next hop (RT5). Таблица маршрутизации RT4 улучшается (часть путей становится короче) при организации виртуального канала между RT4 и RT3. Новый виртуальный канал будет сам по себе ассоциироваться с первой записью в таблице граничного маршрутизатора области (RT3 в таблице 16) – внутридоменным путем через область 1. Это будет обеспечивать для виртуального канала стоимость 1. Изменения таблицы маршрутизации в связи с организацией виртуального канала показаны в таблице 17.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b><i>12. Анонсы состояния каналов (LSA)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.80pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 17 Изменения в результате добавления виртуального канала.   </i>Каждый  маршрутизатор  в</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="15" valign="top" style=" width:427.92pt;">
<div class=block style="position:relative;  width:393.12pt; height:73.20pt; padding:0.00pt 5.76pt 0.00pt 29.04pt;"> 
        <table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:393.12pt; height:73.20pt;">
          <tr class=row> 
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:26.88pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:59.04pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:50.64pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:88.32pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:55.92pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:32.88pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:79.44pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:26.88pt;"> <div class=block style=" width:26.88pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.96pt; text-align:center;"><span class=font38>Тип</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.04pt;"> <div class=block style=" width:59.04pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 4.32pt; text-align:center;"><span class=font38>Адресат</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:50.64pt;"> <div class=block style=" width:50.64pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font38>Область</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.32pt;"> <div class=block style=" width:88.32pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Тип 
                  пути</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:55.92pt;"> <div class=block style=" width:55.92pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font38>Стоимость</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:32.88pt;"> <div class=block style=" width:32.88pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 6.48pt 0.00pt 8.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Next 
                  Hop</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:79.44pt;"> <div class=block style=" width:79.44pt; height:21.36pt;"> 
                <div class=paragraph style=" padding:0.48pt 10.08pt 0.00pt 6.48pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Анонсирующий 
                  маршрутизатор</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:26.88pt;"> <div class=block style=" width:26.88pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.04pt;"> <div class=block style=" width:59.04pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38>Ib</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:50.64pt;"> <div class=block style=" width:50.64pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:center;"><span class=font38>0</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.32pt;"> <div class=block style=" width:88.32pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Внутридомен.</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:55.92pt;"> <div class=block style=" width:55.92pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>16</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:32.88pt;"> <div class=block style=" width:32.88pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:79.44pt;"> <div class=block style=" width:79.44pt; height:10.08pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:26.88pt;"> <div class=block style=" width:26.88pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>N</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.04pt;"> <div class=block style=" width:59.04pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38>Ia</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:50.64pt;"> <div class=block style=" width:50.64pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:center;"><span class=font38>0</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.32pt;"> <div class=block style=" width:88.32pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Внутридомен.</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:55.92pt;"> <div class=block style=" width:55.92pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 1.20pt 0.00pt 0.00pt; text-align:center;"><span class=font38>21</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:32.88pt;"> <div class=block style=" width:32.88pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:79.44pt;"> <div class=block style=" width:79.44pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:26.88pt;"> <div class=block style=" width:26.88pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>R</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.04pt;"> <div class=block style=" width:59.04pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38>RT3</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:50.64pt;"> <div class=block style=" width:50.64pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:center;"><span class=font38>0</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.32pt;"> <div class=block style=" width:88.32pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Внутридомен.</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:55.92pt;"> <div class=block style=" width:55.92pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font38>1</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:32.88pt;"> <div class=block style=" width:32.88pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:79.44pt;"> <div class=block style=" width:79.44pt; height:10.32pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:26.88pt;"> <div class=block style=" width:26.88pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>R</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.04pt;"> <div class=block style=" width:59.04pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38>RT10</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:50.64pt;"> <div class=block style=" width:50.64pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:center;"><span class=font38>0</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.32pt;"> <div class=block style=" width:88.32pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Внутридомен.</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:55.92pt;"> <div class=block style=" width:55.92pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>16</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:32.88pt;"> <div class=block style=" width:32.88pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:79.44pt;"> <div class=block style=" width:79.44pt; height:9.84pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:26.88pt;"> <div class=block style=" width:26.88pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>R</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.04pt;"> <div class=block style=" width:59.04pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38>RT11</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:50.64pt;"> <div class=block style=" width:50.64pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:center;"><span class=font38>0</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.32pt;"> <div class=block style=" width:88.32pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Внутридомен.</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:55.92pt;"> <div class=block style=" width:55.92pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font38>19</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:32.88pt;"> <div class=block style=" width:32.88pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>RT3</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:79.44pt;"> <div class=block style=" width:79.44pt; height:11.76pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>*</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row> 
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:26.88pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:59.04pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:50.64pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:88.32pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:55.92pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:32.88pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:79.44pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
          </tr>
        </table>
        <div class=block style=" width:57.60pt; height:1.20pt; position:absolute; left:171.12pt; top:72.00pt;"> 
        </div>
      </div>
</td>
<td class=cell colspan="2" valign="top" style=" width:167.04pt;">
<div class=block style=" width:167.04pt; height:73.20pt;">
<div class=paragraph style=" padding:0.48pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">AS  генерирует   один  или</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">несколько<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>анонсов</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">состояния каналов - LSA. В</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">данной<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>спецификации</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">определены   5   различных</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">типов  LSA,  описанных   в</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">параграфе 4.3. Набор LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.88pt;">
<div class=block style=" width:62.88pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 34.32pt; text-align:left;"><span class=font38>N</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:41.76pt;">
<div class=block style=" width:41.76pt; height:7.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>N9-N11,H1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:61.20pt;">
<div class=block style=" width:61.20pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 35.76pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:97.92pt;">
<div class=block style=" width:97.92pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>Междоменный</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:30.96pt;">
<div class=block style=" width:30.96pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.16pt; text-align:left;"><span class=font38>30</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:53.52pt;">
<div class=block style=" width:53.52pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.64pt; text-align:left;"><span class=font38>RT3</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:79.68pt;">
<div class=block style=" width:79.68pt; height:6.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>RT11</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:167.04pt;">
<div class=block style=" width:167.04pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">формирует базу данных о</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.88pt;">
<div class=block style=" width:62.88pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="15" valign="top" style=" width:490.32pt;">
<div class=block style=" width:490.32pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:171.12pt;">
<div class=block style=" width:171.12pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:57.60pt;">
<div class=block style=" width:57.60pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:366.24pt;">
<div class=block style=" width:366.24pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:47.76pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">состоянии<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>каналов.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">Каждый   тип   LSA   имеет</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">свое назначение. Router-LSA и network-LSA описывают соединения между маршрутизаторами областей и сетями. Summary-LSA</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">обеспечивает способ сжатого представления маршрутных данных области, а AS-external-LSA дают возможность прозрачного</span></div>
<div class=paragraph style=" padding:0.00pt 324.00pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">анонсирования внешней маршрутной информации внутри AS.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:294.72pt;">
<div class=block style=" width:294.72pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:161.76pt;">
<div class=block style=" width:161.76pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font7><b>34</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:41.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:61.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:287.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:34.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:129.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:356.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Каждая запись LSA начинается стандартным 20-байтовым заголовком, описанным ниже.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>12.1. Заголовок LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>Заголовок LSA содержит поля type, Link State ID и Advertising Router. Комбинация этих трех полей уникальна для LSA.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">В автономной системе может одновременно существовать несколько экземпляров LSA. В таких случаях требуется определять последний экземпляр, для чего проверяются поля LS sequence, LS checksum и LS age, содержащиеся в заголовке LSA.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Некоторые типы пакетов OSPF содержат списки LSA. Когда экземпляр не имеет значения, LSA идентифицируются полями LS type, Link State ID и Advertising Router (см. описание пакетов LSR). В остальных случаях принимаются во внимание также поля LS sequence number, LS age и LS. Детальное описание полей заголовка LSA приводится ниже.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.1.1.&nbsp;Возраст LS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле показывает возраст LSA в секундах и должно обрабатываться как беззнаковое 16-битовое целое. При генерации LSA поле имеет нулевое значение и должно увеличиваться на InfTransDelay при прохождении каждого интервала в процедуре лавинной рассылки. Старение LSA происходит также при их удержании в базе данных каждого маршрутизатора.</span></div>
<div class=paragraph style=" padding:4.32pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Возраст LSA не увеличивается сверх MaxAge и LSA с возрастом MaxAge не используются при расчете таблиц маршрутизации. Когда возраст LSA достигает MaxAge, для этой записи повторно используется лавинная рассылка. LSA с возрастом MaxAge окончательно удаляются из базы данных, когда они перестают быть нужными для синхронизации базы. Дополнительные сведения о старении LSA приведены в главе 14.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Поле LS age проверяется маршрутизатором при получении двух экземпляров LSA, имеющих одинаковый порядковый номер и контрольную суммы. Экземпляр с возрастом MaxAge в таких случаях всегда принимается как более новый, что позволяет быстрее удалять старые LSA из области маршрутизации. В остальных случаях, если разница в возрасте превышает MaxAgeDiff, экземпляр с меньшим возрастом принимается как более свежий<sup>19</sup> (см. подробности в параграфе 13.1).</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.1.2.&nbsp;Опции</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Поле Options в заголовке LSA показывает дополнительные возможности, связанные с LSA. Дополнительные возможности OSPF описаны в параграфе 4.5. Единственная дополнительная возможность, определенная в данной спецификации представляется флагом E в поле Options. Нераспознанные биты поля Options должны иметь нулевые значения.</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Бит E представляет OSPF ExternalRoutingCapability и должен устанавливаться во всех LSA, связанных с магистралью и нетупиковыми (non-stub) областями (см. параграф 3.6). Этот флаг должен также устанавливаться для всех AS-external-LSA. Во всех router-LSA, network-LSA и summary-LSA, связанный с тупиковыми областями, флаг должен быть сброшен. Для всех LSA установка бита E производится только в информационных целях и не влияет на расчет таблицы маршрутов.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:379.20pt;">
<div class=block style=" width:379.20pt; height:11.04pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:182.40pt;">
<div class=block style=" width:182.40pt; height:11.04pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><i><u>Та</u>б<u>лица 18 Типы анонсов LSA протокола OSPF.<br></u></i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:33.36pt;">
<div class=block style=" width:33.36pt; height:11.04pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:287.28pt;">
<div class=block style=" width:287.28pt; height:139.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 60.00pt; text-align:left;"><span class=font10><b><i>12.1.3. Тип LS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.64pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Поле типа LS определяет формат и назначение LSA. LSA различных типов имеют разные имена (router-LSA, network-LSA и др.). Все типы LSA, определенных в данной спецификации, за исключением AS-external-LSA (LS типа 5), рассылаются лавинным способом через одну область. Анонсы AS-external-LSA рассылаются по всей AS, за исключением тупиковых областей (см. параграф 3.6). Каждый из типов LSA кратко описан в таблице 18.</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.1.4. Link State ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 8.88pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле идентифицирует часть области маршрутизации, которая будет описана в LSA. Значение </span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:110.16pt;">
<div class=block style=" width:105.12pt; height:139.92pt; padding:0.00pt 5.04pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:105.12pt; height:139.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:41.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:41.52pt;">
<div class=block style=" width:41.52pt; height:59.76pt;">
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Тип LS 1</span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:63.60pt;">
<div class=block style=" width:63.60pt; height:59.76pt;">
<div class=paragraph style=" padding:0.00pt 14.64pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">LSA router-LSA.</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>network-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:41.52pt;">
<div class=block style=" width:41.52pt; height:80.16pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:center;"><span class=font38>3 или 4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:63.60pt;">
<div class=block style=" width:63.60pt; height:80.16pt;">
<div class=paragraph style=" padding:0.00pt 21.84pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">summary-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:41.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:197.52pt;">
<div class=block style=" width:197.52pt; height:139.92pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Описание</span></div>
<div class=paragraph style=" padding:0.00pt 33.84pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Информация  о  состоянии  интерфейсов маршрутизатора (см. параграф 12.4.1). Описывает     набор     маршрутизаторов, подключенных   к   сети   (см.   параграф <u>12.4.2).</u></span></div>
<div class=paragraph style=" padding:0.00pt 33.36pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Описывает внутридоменные маршруты и обеспечивает возможность конденсации маршрутных данных на границе области. Генерируемые<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>граничными</span></div>
<div class=paragraph style=" padding:0.00pt 33.36pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторами   областей   summary-LSA типа 3 описывают маршруты в сети, а summary-LSA типа 4 – к граничным <u>маршрутизаторам AS. </u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:287.28pt;">
<div class=block style=" width:287.28pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 11.76pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">поля Link State ID зависит от типа LSA (см. таблицу 19).</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:110.16pt;">
<div class=block style=" width:110.16pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 16.56pt 0.00pt 47.04pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">AS-external-LSA</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:197.52pt;">
<div class=block style=" width:197.52pt; height:20.40pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Генерируются<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>граничными</span></div>
<div class=paragraph style=" padding:0.00pt 33.84pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторами AS и описывают<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:379.20pt;">
<div class=block style=" width:379.20pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для summary-LSA (тип 3) и AS-external-LSA (тип 5) Link</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">State ID дополнительно может содержать несколько</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">host-битов сети-получателя. Например, при генерации</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">AS-external-LSA для сети 10.0.0.0 с маской 255.0.0.0 Link</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:215.76pt;">
<div class=block style=" width:215.76pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 33.36pt 0.00pt 18.24pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">маршруты к адресатам за пределами AS. Эта запись может также содержать маршрут, принятый по умолчанию для AS.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">State ID может указывать на любой адрес в диапазоне от</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">10.0.0.0 до 10.255.255.255 включительно (хотя по возможности следует использовать 10.0.0.0). Установка хост-битов позволяет</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатору генерировать раздельные LSA для двух сетей с одинаковым номером, но разными масками (см. Приложение E).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:334.32pt;">
<div class=block style=" width:334.32pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 8.16pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда LSA описывает сеть (типы LS 2, 3, 5), IP-номер сети легко<br></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:97.44pt;">
<div class=block style=" width:97.44pt; height:12.00pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:163.20pt;">
<div class=block style=" width:163.20pt; height:12.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38><i><u>Таблица 19 Значение Link State ID.</u></i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:334.32pt;">
<div class=block style=" width:334.32pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">определить, используя маску сети/подсети, содержащуюся в LSA, и значение Link State ID. Если LSA описывает маршрутизатор (типы LS 1 и 4), значение Link State ID всегда описывает OSPF Router ID. Для AS-external-LSA (тип 5), описывающих принятый по умолчанию маршрут, Link State ID=DefaultDestination (0.0.0.0).</span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:260.64pt;">
<div class=block style=" width:260.64pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 41.04pt 0.00pt 22.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Router ID генерирующего маршрутизатора. <u>IP-адрес интерфейса маршрутизатора DR для сети. IP-номер сети получателя. </u>Router ID для граничного маршрутизатора AS. IP-номер сети получателя.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:45.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.1.5. Анонсирующий маршрутизатор</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле содержит идентификатор OSPF Router ID породившего LSA маршрутизатора. Для router-LSA это поле совпадает с полем Link State ID. Записи Network-LSA порождаются маршрутизаторами DR, Summary-LSA – граничными маршрутизаторами областей, а AS-external-LSA – граничными маршрутизаторами AS.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:54.72pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><sup>19</sup> MaxAgeDiff является архитектурной константой и показывает максимальное расхождение возраста (в секундах), которое может возникнуть для одного экземпляра LSA при лавинной рассылке в домене маршрутизации. Если разница в возрасте двух LSA превышает это значение, предполагается, что это два разных экземпляра LSA. Это может происходить в тех случаях, когда маршрутизатор был перезагружен и потерял информацию о порядковом номере предыдущей записи LSA (см. параграф 13.4).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>35&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:287.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:34.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:129.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.00pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:605.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>12.1.6.&nbsp;Порядковый номер LS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Порядковый номер трактуется как 32-разрядное целое число со знаком и используется для обнаружения старых LSA и дубликатов. Пространство порядковых номеров линейно упорядочено и больший порядковый номер (при сравнении 32-битовых целых чисел со знаком) соответствует более новой записи LSA. Далее при описании порядковых номеров N будет обозначать 2<sup>31</sup>.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Порядковый номер -N (0x80000000) зарезервирован и не должен использоваться. Значение -N + 1 (0x80000001) является минимальным (следовательно, самым старым) порядковым номером и используется в качестве константы InitialSequenceNumber. Маршрутизатор использует номер InitialSequenceNumber при первой генерации LSA. После этого порядковые номера LSA увеличиваются на 1 при генерации каждого нового экземпляра LSA. При достижении порядкового номера N – 1 (0x7fffffff или MaxSequenceNumber), сначала нужно удалить текущий экземпляр LSA из домена маршрутизации. Для этого используется принудительное старение (prematurely aging) LSA (см. параграф 14.1) и повторная лавинная рассылка. После подтверждения этой рассылки всеми смежными маршрутизаторами возможна генерация новой записи с порядковым номером InitialSequenceNumber.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для маршрутизатора может потребоваться форсирование анонса порядкового номера одной из его LSA при неожиданном приеме более нового экземпляра LSA в процессе лавинной рассылки. Это происходит редко и может говорить о наличии устаревших LSA, сгенерированных самим маршрутизатором при его последней загрузке, которые еще сохраняются в AS (см. параграф 13.4).</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>12.1.7.&nbsp;Контрольная сумма LS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле включает контрольную сумму записи LSA без учета поля LS age для того, чтобы можно было увеличивать поле возраста без пересчета контрольной суммы. При расчете контрольных сумм используется тот же алгоритм, который применяется для дейтаграмм ISO без организации соединений – его часто называют алгоритмом Флэтчера. Этот алгоритм описан в работе [Ref6] (Annex B). Заголовок LSA содержит также размер LSA в байтах без учета поля LS age (два байта) для вычисления контрольной суммы.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Контрольная сумма служит для детектирования повреждений LSA, которые могут происходить при лавинной рассылке или хранении в памяти маршрутизатора. Поле контрольной суммы не может быть нулевым, значение 0 должно рассматриваться как ошибка. Иными словами, вычисление контрольной суммы является обязательным.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Контрольная сумма LSA проверяется в двух случаях: a) при получении пакета Link State Update и b) во время &laquo;состаривания&raquo; базы данных. Обнаружение ошибок в контрольной сумме ведет к различным ситуациям, описанным в главах 13 и 14.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда поля порядковых номеров двух записей LSA совпадают, сравниваются контрольные суммы. Если суммы различаются, более новым считается экземпляр с большим значением контрольной суммы<sup>20</sup> (см. параграф 13.1).</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>12.2.&nbsp;База данных link-state</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Маршрутизатор имеет отдельную базу данных о каналах для каждой области, к которой он относится и все маршрутизаторы одной области имеют идентичные базы данных.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Базы данных каждой области всегда обрабатываются раздельно. Расчет кратчайших путей выполняется отдельно для каждой области (см. главу 16). Лавинная рассылка компонент базы данных области ведется только в пределах области. И, наконец, при организации отношений смежности между двумя маршрутизаторами синхронизируются только базы данных общей области.</span></div>
<div class=paragraph style=" padding:4.32pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">База данных области состоит из router-LSA, network-LSA и summary-LSA (все они перечислены в структуре данных области). Для нетупиковых областей в базу данных включаются также AS-external-LSA (см. параграф 3.6).</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Реализация протокола OSPF должна обеспечивать возможность доступа к отдельным частям базы данных области. Эта функция просмотра основана на полях LS type, Link State ID и Advertising Router<sup>21</sup>. Поиск будет давать один экземпляр (самый новый) каждой записи LSA в базе данных. Функции поиска в базе данных используются процедурой лавинной рассылки LSA (глава 13) и при расчете таблицы маршрутов (глава 16). Кроме того, используя эту функцию, маршрутизатор может определить не он ли породил данную запись LSA и (если он) с каким порядковым номером.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Запись LSA добавляется в базу данных маршрутизатора, если a) она получена в процессе лавинной рассылки (глава 13) или b) происходит о данного маршрутизатора (параграф 12.4). LSA удаляются из базы данных маршрутизатора, если a) получен более новый экземпляр в процессе лавинной рассылки (глава 13), b) маршрутизатор сам генерирует новый экземпляр LSA (параграф 12.4) или c) LSA удаляется из домена маршрутизации в результате старения (глава 14). При удалении LSA из базы данных, эта запись должна удаляться также из списков Link state retransmission всех соседей (см. главу 10).</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>12.3.&nbsp;Представление TOS</b>если a) получен более новый экземпляр в процессе лавинной рассылки (глава 13), b) маршрутизатор сам генерирует новый экземпляр LSA (параграф 12.4) или c) LSA удаляется из домена маршрутизации в результате старения (глава 14). При удалении LSA из базы данных, эта запись должна удаляться также из списков Link state retransmission всех соседей (см. главу 10).</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>12.3.&nbsp;Представление TOS</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для обратной совместимости с предыдущими версиями OSPF [Ref9], в router-LSA, summary-LSA и AS-external-LSA может включаться информация, связанная с TOS. Представление TOS в OSPF LSA описано в таблице 20, содержащей коды OSPF для представления полей TOS (определены в работе [Ref12]) пакетов IP. В OSPF используется десятичное представление, а в заголовках IP применяются битовые поля TOS, описанные в [Ref12].</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:110.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:84.48pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>20</sup><span style=" letter-spacing:0.00pt;">&nbsp;Когда контрольные суммы двух LSA различаются, предполагается, что это два разных экземпляра. Это может быть следствием перезагрузки маршрутизатора или потери маршрутизатором данных о предыдущем порядковом номере LSA. Если порядковые номера двух LSA совпадают, невозможно определить, которая из записей новее. Однако если в качестве новой будет принята некорректная запись LSA, генерирующий их маршрутизатор просто будет порождать другой экземпляр (см. параграф 13.4).</span></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>21</sup><span style=" letter-spacing:0.00pt;">&nbsp; Существует ситуация, когда поиск должен основываться на частичной информации. Это происходит при расчете таблицы маршрутов, когда нужно найти network-LSA, основываясь исключительно на Link State ID. Результаты поиска однозначны, поскольку не существует двух two network-LSA с одинаковыми полями Link State ID.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>36&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:85.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:34.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="8" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:2.16pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="4" valign="top" style=" width:397.68pt;">
<div class=block style=" width:397.68pt; height:155.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>12.4. Генерация LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В каждой области OSPF маршрутизатор будет генерировать несколько типов LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Каждый маршрутизатор генерирует router-LSA. Если маршрутизатор является DR</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">для любой из сетей области, он будет генерировать network-LSA для этой сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Граничные маршрутизаторы областей генерируют одну запись summary-LSA для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">каждого адресата с междоменным маршрутом. Граничные маршрутизаторы AS</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">генерируют одну запись AS-external-LSA для каждого известного адресата за</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пределами AS. Адресаты анонсируются по одному, поэтому изменение отдельного</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрута не требует повтора лавинной рассылки для всего набора маршрутов. В</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">процессе лавинной рассылки один пакет LSU может включать множество LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В качестве примера рассмотрим маршрутизатор RT4 на рисунке 4, являющийся</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">граничным   в  области  1  и  связанный  с  магистралью.  Маршрутизатор  RT4</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">генерирует 5 разных LSA в магистраль (router-LSA и summary-LSA для каждой из</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сетей N1-N4). Маршрутизатор RT4 будет также порождать 8 различных LSA для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">области 1 (router-LSA и семь summary-LSA, показанных в таблице 6). Если RT4</span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:197.28pt;">
<div class=block style=" width:197.28pt; height:34.80pt;">
<div class=paragraph style=" padding:4.56pt 34.08pt 0.00pt 1.44pt; text-align:left; text-indent:10.32pt;"><span class=font38 style=" line-height:10.08pt;"><i><u>Таблица 20 Представление TOS в OSPF. </u></i>Код<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Значения TOS RFC 1349</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">OSPF</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.64pt;">
<div class=block style=" width:38.64pt; height:59.76pt;">
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:123.84pt;">
<div class=block style=" width:123.84pt; height:59.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">0000&nbsp;нормальное обслуживание</span></div>
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 0.48pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">0001&nbsp;минимальная оплата <u>0010 максимальная надежность </u>0011 0100 максимальная пропускная</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 22.08pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">способность</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:34.80pt;">
<div class=block style=" width:34.80pt; height:59.76pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:39.12pt;">
<div class=block style=" width:39.12pt; height:2.88pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:109.92pt;">
<div class=block style=" width:109.92pt; height:61.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">0101</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">0110</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>0111</u></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">1000 минимальная задержка</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">1001</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">1010</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:48.24pt;">
<div class=block style=" width:48.24pt; height:61.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:39.12pt;">
<div class=block style=" width:39.12pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 1.44pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.65pt;">10 12 <u>14 </u>16 18 <span style=" letter-spacing:-0.25pt;">20</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:397.68pt;">
<div class=block style=" width:397.68pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">будет выбран DR для сети N3, он будет генерировать в область 1 network-LSA для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор RT5 будет генерировать AS-external-LSA (для каждой из сетей</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">N12 - N14). Эти записи будут рассылаться в лавинном режиме по всей AS,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">поскольку ни одна из областей не предполагается тупиковой. Однако если область</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:58.56pt;">
<div class=block style=" width:58.56pt; height:49.92pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:58.56pt; height:49.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>22</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:center;"><span class=font38 style=" letter-spacing:-0.55pt;">1011</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>24</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:right;"><span class=font38>1100</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>26</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:center;"><span class=font38 style=" letter-spacing:-0.55pt;">1101</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font38>28</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:right;"><span class=font38>1110</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font38>30</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:center;"><span class=font38 style=" letter-spacing:-0.55pt;">1111</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:138.72pt;">
<div class=block style=" width:138.72pt; height:49.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:483.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3 указать как тупиковую, AS-external-LSA для сетей N12-N14 не будут рассылаться</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">в область 3 (см. параграф 3.6). Взамен этого маршрутизатор RT11 будет генерировать запись summary-LSA с принятым по</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">умолчанию  маршрутом,   которая  будет  рассылаться  в  области  3  (см.  параграф  12.4.3).  В  результате   все  внутренние</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторы области 3 будут передавать внешний трафик маршрутизатору RT11.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При создании нового экземпляра LSA увеличивается порядковый номер, устанавливается LS age=0, вычисляется контрольная</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сумма и LSA добавляется в базу данных, после чего происходит лавинная рассылка через соответствующие интерфейсы.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Включение LSA в базу данных подробно описано в параграфе 13.2, а параграф 13.3 посвящен лавинной рассылке новых</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">экземпляров LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ниже перечислены 10 событий, которые могут приводить к генерации новых экземпляров LSA:</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Поле LS age одной из порожденных маршрутизатором LSA достигло значения LSRefreshTime. В таких случаях генерируется новый экземпляр LSA, несмотря на отсутствие изменений одержимого LSA (кроме заголовка). Это гарантирует периодическое обновление всех LSA и повышает устойчивость алгоритма link state. LSA, описывающие только недоступных адресатов, не должны обновляться и их нужно удалять из области маршрутизации (см. параграф 14.1).</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда изменяется что-то из описываемого LSA, генерируется новый анонс LSA, однако в течение MinLSInterval не может порождаться более одного экземпляра LSA. Поэтому генерация нового экземпляра может быть задержана на время до MinLSInterval. Перечисленные ниже события могут приводить к изменениям содержимого LSA и должны порождать генерацию новых экземпляров тогда и только тогда, когда новая запись LSA будет отличаться от прежней.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Изменилось состояние интерфейса (см. параграф 9.1) и может потребоваться генерация нового экземпляра router-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Сменился маршрутизатор DR. Требуется генерация нового анонса router-LSA. Если данный маршрутизатор стал DR, нужно генерировать новые network-LSA. Если данный маршрутизатор перестал быть DR, все network-LSA, которые он мог породить для сети, должны быть удалены из домена маршрутизации (см. параграф 14.1).</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;Один из соседей перешел в состояние FULL или покинул его. Это требует генерации новых экземпляров router-LSA. Если данный маршрутизатор является DR для подключенной сети, он должен породить новый экземпляр network-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Следующие 4 события относятся только к граничным маршрутизаторам областей:</span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;В таблице маршрутизации был изменен/добавлен/удален внутридоменный маршрут и может потребоваться генерация нового экземпляра summary-LSA (для этого маршрута) в каждую подключенную область (возможно и магистральную).</span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(6)&nbsp; &nbsp;В таблице маршрутизации был изменен/добавлен/удален междоменный маршрут и может потребоваться генерация нового экземпляра summary-LSA (для этого маршрута) в каждую подключенную область (<b>кроме </b>магистральной).</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(7)&nbsp; &nbsp;К области подключен новый маршрутизатор и он должен породить summary-LSA в подключенную недавно область для всех имеющих отношение внутридоменных и междоменных маршрутов в таблице маршрутизатора (см. параграф 12.4.3).</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(8)&nbsp; &nbsp;Изменилось состояние одного из маршрутизаторов с настроенным виртуальным каналом и может потребоваться генерация новых router-LSA в транзитную область виртуального канала (см. описание бита V записи router-LSA в параграфе 12.4.1), а также в магистраль.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Последние 2 события относятся только к граничным маршрутизаторам AS (включая бывшие):</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(9)&nbsp; &nbsp;Изменился внешний маршрут, полученный от другого протокола маршрутизации (например, BGP) и от граничного маршрутизатора AS может потребоваться генерация нового экземпляра AS-external-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(10)&nbsp;Маршрутизатор перестал быть граничным в AS (возможно после перезагрузки) и требуется удаление всех порожденных ранее AS-external-LSA (для этого используется принудительное старение, описанное в параграфе 14.1).</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Подробное описание структуры всех типов LSA приведено ниже. В следующих разделах описывается содержимое LSA, а 20-байтовые заголовки LSA описаны в параграфе 12.1.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.4.1. LSA для маршрутизатора</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор генерирует router-LSA для каждой области, к которой он относится. LSA описывает состояния каналов маршрутизатора в область. Анонсы LSA рассылаются в лавинном режиме внутри области, не покидая ее.</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор также показывает свою принадлежность к граничным маршрутизаторам области или AS, устанавливая биты B или E, соответственно, в router-LSA. Это позволяет сохранять пути к таким маршрутизаторам в таблице для последующей обработки summary-LSA и AS-external-LSA. Бит B должен устанавливаться, если маршрутизатор имеет активные соединения с двумя или более областями, даже если этот маршрутизатор не подключен к магистральной области OSPF. Бит E никогда не должен устанавливаться в router-LSA для тупиковых областей (такие области не могут включать граничные маршрутизаторы AS).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="4" valign="top" style=" width:325.44pt;">
<div class=block style=" width:325.44pt; height:71.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В дополнение к этому маршрутизатор устанавливает бит V в router-LSA для области A тогда и только тогда, когда маршрутизатор является конечной точкой для одного или нескольких виртуальных каналов с полной смежностью, использующих область A в качестве транзитной. Установка бита V позволяет другим маршрутизаторам области A обнаруживать поддерживаемый областью трафик (см. TransitCapability в главе 6).</span></div>
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:269.52pt;">
<div class=block style=" width:269.52pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:269.52pt;">
<div class=block style=" width:269.52pt; height:48.24pt;">
<div class=paragraph style=" padding:0.00pt 34.08pt 0.00pt 14.64pt; text-align:left; text-indent:59.52pt;"><span class=font38 style=" line-height:9.84pt;"><i>Таблица 21 Описание каналов в router-LSA. </i>Тип     Описание<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Идентификатор</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>1</u>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <u>&laquo;Точка-точка&raquo;</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>Neighbor Router ID</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Канал в транзитную сеть    Адрес интерфейса</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 150.48pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">DR</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:136.08pt;">
<div class=block style=" width:136.08pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font38>3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Канал в оконечную сеть</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font38>4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Виртуальный канал</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:133.44pt;">
<div class=block style=" width:133.44pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:133.44pt;">
<div class=block style=" width:133.44pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 46.08pt 0.00pt 14.40pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Номер IP-сети Neighbor Router ID</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:25.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:157.68pt;">
<div class=block style=" width:157.68pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>37</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:133.44pt;">
<div class=block style=" width:133.44pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 30.00pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:38.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:85.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:34.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font8 style=" letter-spacing:-0.60pt;"><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font8 style=" letter-spacing:-0.65pt;"><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:709.20pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Router-LSA описывает работающие соединения (интерфейсы или каналы) маршрутизатора с областью. Тип каждого канала зависит от подключенной сети. Каждый канал имеет также идентификатор Link ID, используемый в качестве обозначения объекта на другой стороне соединения. В таблице 21 приведены значения полей Type и Link ID.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для каждого канала используется также поле Link Data, содержащее 32 бита дополнительной информации о канале. Для каналов в транзитные сети, и адресуемых соединений &laquo;точка-точка&raquo; это поле содержит IP-адрес интерфейса маршрутизатора (он нужен для расчета таблицы маршрутов, описанного в параграфе 16.1.1). Для каналов в тупиковые сети это поле задает маску тупиковой сети. Для безадресных каналов point-to-point поле Link Data должно содержать значение MIB-II unnumbered-интерфейса - ifIndex [Ref8]. Наконец, задается стоимость использования канала для исходящего трафика. Стоимость канала может настраиваться и для всех каналов, кроме случая тупиковых сетей, стоимость должна быть больше 0.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для дальнейшего рассмотрения процесса построения списка описаний каналов рассмотрим случай создания маршрутизатором анонса router-LSA для области A. Для этого маршрутизатор проверяет набор структур данных интерфейсов, выполняя для каждого интерфейса следующие операции:</span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если подключенная сеть не относится к области A, в LSA не добавляется каналов и проверяется следующий интерфейс.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0 В полу Link ID должен помещаться IP-адрес интерфейса, а в поле Link Data - маска 0xffffffff (маршрут к хосту). Стоимость канала равна 0.</span></div>
<div class=paragraph style=" padding:0.72pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В остальных случаях в router-LSA добавляется описание канала в зависимости от типа интерфейса OSPF. Описание канала для интерфейсов point-to-point приведено в параграфе 12.4.1.1, для виртуальных соединений - в параграфе 12.4.1.2, для широковещательных и NBMA-интерфейсов - в 12.4.1.3 и для интерфейсов Point-to-MultiPoint - в параграфе 12.4.1.4.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">После рассмотрения всех интерфейсов маршрутизатора в router-LSA добавляются соединения с хостами путем проверки подключенных хостов, относящихся к области A. Маршруты хостам относятся к типу 3 (тупиковая сеть), поле Link ID содержит IP-адрес хоста, Link Data - маску 0xffffffff, а стоимость маршрута должна быть больше 0 (см. параграф C.7).</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font8><b>12.4.1.1.&nbsp;Описание интерфейсов point-to-point</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Для интерфейсов point-to-point в router-LSA добавляется одно или несколько описаний каналов:</span></div>
<div class=paragraph style=" padding:0.72pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если соседний маршрутизатор является полностью смежным, добавляется канал типа 1 (point-to-point). Поле Link ID должно содержать Router ID соседнего маршрутизатора. Для адресуемых сетей point-to-point поле Link Data должно содержать IP-адрес интерфейса, а для unnumbered-сетей - значение ifIndex (MIB-II [Ref8]). Стоимость канала должна совпадать с выходной стоимостью интерфейса point-to-point.</span></div>
<div class=paragraph style=" padding:0.96pt 57.36pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В дополнение к этому, если интерфейс находится в состоянии Point-to-Point (независимо от состояния соседнего маршрутизатора), должен добавляться канал типа 3 (тупиковая сеть). Этот тупиковый канал может принимать две формы:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.80pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Опция 1</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Предполагая, что IP-адрес соседнего маршрутизатора известен, устанавливаем для поля Link ID (тип 3) значение этого адреса IP, в поле Link Data помещаем маску 0xffffffff (маршрут к хосту), а стоимость устанавливаем больше нуля<sup>22</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.80pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b><i>Опция 2</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 64.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Если для канала &laquo;точка-точка&raquo; выделена подсеть, устанавливаем в поле Link ID типа 3 IP-адрес подсети, в поле Link Data - ее маску и задаем положительное значение для стоимости<sup>23</sup>.[16]</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>12.4.1.2.&nbsp;Описание интерфейсов в широковещательные и NBMA-сети</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">Для широковещательных и NBMA-интерфейсов в router-LSA добавляется одно описание канала:</span></div>
<div class=paragraph style=" padding:0.48pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если интерфейс находится в состоянии Waiting, добавляется канал типа 3 (тупиковая область), поле Link ID содержит IP-номер подключенной сети, Link Data - маску сети, а стоимость совпадает с выходной стоимостью интерфейса.</span></div>
<div class=paragraph style=" padding:0.24pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Для остальных случаев должен быть известен выделенный маршрутизатор DR для подключенной сети. Если маршрутизатор является полностью смежным с DR или сам является DR и имеет полностью смежный маршрутизатор, добавляется канал типа 2 (транзитная сеть), поле Link ID содержит IP-адрес интерфейса DR (возможно интерфейс данного маршрутизатора), Link Data содержит IP-адрес интерфейса данного маршрутизатора, а стоимость совпадает с выходной стоимостью для интерфейса. Во всех прочих случаях добавляется один канал как для описанного выше состояния Waiting.</span></div>
<div class=paragraph style=" padding:6.24pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>12.4.1.3.</b><span class=font31><b>&nbsp;</b></span><b>Описание виртуальных соединений</b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для виртуальных каналов описание добавляется в router-LSA только при полной смежности виртуальных соседей. В таких случаях добавляется канал типа 4 (виртуальный), Link ID = Router ID для виртуального соседа, Link Data содержит IP-адрес интерфейса, связанного с виртуальным каналом, а стоимость совпадает со стоимостью виртуального канала, рассчитанной при создании таблицы маршрутизации (глава 15).</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font8><b>12.4.1.4.&nbsp;Описание интерфейсов Point-to-MultiPoint</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.56pt;">Для интерфейсов Point-to-MultiPoint в router-LSA добавляется один или несколько каналов:</span></div>
<div class=paragraph style=" padding:0.24pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.56pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Добавляется один канал типа 3 (тупиковая сеть), Link ID содержит IP-адрес интерфейса данного маршрутизатора, Link Data = 0xffffffff (маска хоста), а стоимость равна нулю.</span></div>
<div class=paragraph style=" padding:0.48pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.56pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Для каждого полностью смежного соседа, связанного с интерфейсом, добавляется канал типа 1 (point-to-point), Link ID = Router ID соседнего маршрутизатора, поле Link Data содержит IP-адрес интерфейса, а стоимость равна выходной стоимости для интерфейса.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>12.4.1.5.&nbsp;Примеры router-LSA</b></span></div>
<div class=paragraph style=" padding:0.24pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Рассмотрим анонсы router-LSA, генерируемые RT3 (см. рисунок 4). Область, содержащая RT3 (Area 1) с реальными сетевыми адресами показана на рисунке 11. Предположим, что последний байт адреса всех интерфейсов маршрутизатора RT3 равен 3 (адреса 192.1.1.3 и 192.1.4.3) и в других маршрутизаторах используется аналогичная схема адресации. Кроме того, предположим, что все соединения функционируют и в качестве Router ID используется меньший из IP-адресов интерфейсов. RT3 генерирует два анонса router-LSA - для области 1 и для магистрали. Предположим, что маршрутизатор RT4 выбран в качестве DR для сети 192.1.1.0. Анонс router-LSA маршрутизатора RT3 для области 1 при оговоренных условиях показан ниже. Он показывает, что RT3 имеет два соединения с областью 1 - одно в транзитную сеть 192.1.1.0 и другое в тупиковую сеть 192.1.4.0.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:64.56pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>22</sup><span style=" letter-spacing:0.00pt;">&nbsp;Это способ представляет канал &laquo;точка-точка&raquo; в соответствии с RFC 1583. Данный способ обеспечивает ряд преимуществ: a) не требуется выделения подсети для каналов &laquo;точка-точка&raquo;, b) пакеты, адресованные интерфейсу point-to-point, будут реально приниматься через интерфейс (это полезно для диагностики) и c) поддерживается загрузка соседей через сеть (network bootstrapping) без необходимости поддержки bootstrap-загрузки реализацией протокола OSPF.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>23</sup><span style=" letter-spacing:0.00pt;">&nbsp;Это представление каналов point-to-point более традиционно и используется протоколами типа RIP.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font8 style=" color:rgb(0,0,128); letter-spacing:-0.65pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255); letter-spacing:0.00pt;"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0); letter-spacing:-0.15pt;"><b>38</b></span><span style=" color:rgb(0,0,0); letter-spacing:0.00pt;"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" letter-spacing:-0.55pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:107.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.60pt;">Отметим, что транзитная сеть идентифицируется IP-адресом интерфейса DR (т. е., Link ID = 192.1.1.4 – адрес интерфейса DR-маршрутизатора RT4 в сеть 192.1.1.0). Отметим также, что RT3 является граничным маршрутизатором области.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:189.36pt;">
<div class=block style=" width:189.36pt; height:34.32pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0 Options = (E-bit) LS type = 1</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:147.60pt;">
<div class=block style=" width:147.60pt; height:7.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:9.60pt;"><b>рутизатора RT3 для области 1</b></span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:258.00pt;">
<div class=block style=" width:258.00pt; height:7.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt;">
<div class=block style=" width:53.04pt; height:27.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:20.40pt;">
<div class=block style=" width:20.40pt; height:125.52pt;">
<div class=paragraph style=" padding:36.48pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29><b>1.3</b></span></div>
</div>
</td>
<td class=cell colspan="10" rowspan="2" valign="top" style=" width:332.16pt;">
<div class=block style=" width:332.16pt; height:125.52pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;всегда верно при создании</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;показывает router-LSA</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;Router ID для RT3</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;Router ID для RT3</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;не является граничным для AS</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;граничный маршрутизатор области</b></span></div>
<div class=paragraph style=" padding:2.88pt 167.76pt 0.00pt 1.68pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;IP-адрес интерфейса DR ;IP-адрес интерфейса RT3 в сеть ;соединение с транзитной сетью</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:98.40pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:242.40pt;">
<div class=block style=" width:140.88pt; height:110.64pt; padding:0.00pt 3.84pt 0.00pt 97.68pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:140.88pt; height:110.64pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:83.52pt;">
<div class=block style=" width:83.52pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.44pt; text-align:left;"><span class=font29 style=" line-height:10.32pt;"><b>Link State ID = Advertising Rout</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:48.24pt;">
<div class=block style=" width:48.24pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.96pt; text-align:center;"><span class=font29 style=" letter-spacing:-0.50pt;"><b>192.1.1.3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:9.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>er =</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font29 style=" letter-spacing:-0.90pt;"><b>192.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:10.80pt;">
<div class=paragraph style=" text-align:center;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>bit E</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font29><b>= 0</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>bit B</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font29><b>= 1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:83.52pt;">
<div class=block style=" width:83.52pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:left;"><span class=font29><b>#links = 2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.56pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:10.56pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:10.56pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:10.08pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:10.08pt;">
<div class=paragraph style=" text-align:right;"><span class=font29><b>Link ID =</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 3.12pt 0.00pt 0.00pt; text-align:right;"><span class=font29><b>192</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font29><b>1.1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:center;"><span class=font29><b>4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:10.32pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:100.56pt;">
<div class=block style=" width:100.56pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.56pt; text-align:center;"><span class=font29><b>Link Data = 192.1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:center;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 0.00pt; text-align:right;"><span class=font29><b>Type = 2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:10.80pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 0.00pt; text-align:center;"><span class=font29 style=" letter-spacing:-0.45pt;"><b># TOS</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.96pt 0.00pt 1.92pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>metrics = metric =</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:left;"><span class=font29><b>0</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 3.12pt; text-align:left;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:19.68pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:19.68pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:9.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:52.32pt;">
<div class=block style=" width:52.32pt; height:9.36pt;">
<div class=paragraph style=" text-align:right;"><span class=font29><b>Link ID =</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:26.40pt;">
<div class=block style=" width:26.40pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 3.12pt 0.00pt 0.00pt; text-align:right;"><span class=font29><b>192</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.84pt;">
<div class=block style=" width:21.84pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.72pt; text-align:center;"><span class=font29><b>1.4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.92pt; text-align:center;"><span class=font29><b>0</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:98.40pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt;">
<div class=block style=" width:13.44pt; height:12.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="11" rowspan="2" valign="top" style=" width:339.12pt;">
<div class=block style=" width:339.12pt; height:37.68pt;">
<div class=paragraph style=" padding:0.00pt 173.28pt 0.00pt 6.96pt; text-align:left;"><span class=font29 style=" line-height:10.32pt;"><b>;IP-номер сети ;маска сети ;соединение с тупиковой сетью</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.36pt;">
<div class=block style=" width:189.36pt; height:25.44pt;">
<div class=paragraph style=" padding:0.00pt 5.76pt 0.00pt 136.08pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link Data Type = 3 </b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:66.48pt;">
<div class=block style=" width:66.48pt; height:25.44pt;">
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 10.56pt; text-align:left;"><span class=font29><b>OxffffffOO</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:37.68pt;">
<div class=paragraph style=" padding:0.00pt 405.84pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b># TOS metrics = 0 metric = 2</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Далее показан анонс router-LSA маршрутизатора RT3 для магистрали. Он говорит, что RT3 имеет одно соединение с магистралью через безадресный канал point-to-point к маршрутизатору RT6. Показано также что RT3 является граничным для области.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="7" valign="top" style=" width:262.80pt;">
<div class=block style=" width:262.80pt; height:345.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;router-LSA маршрутизатора RT3</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Options = (E-bit)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS type = 1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link State ID = 192.1.1.3</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Advertising Router = 192.1.1.3</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>bit E = 0</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>bit B = 1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>#links = 1</b></span></div>
<div class=paragraph style=" padding:0.00pt 25.20pt 0.00pt 136.08pt; text-align:justify;"><span class=font29 style=" line-height:10.08pt;"><b>Link ID = 18.10.0.6 Link Data = 0.0.0.3 Type = 1</b></span></div>
<div class=paragraph style=" padding:0.00pt 36.96pt 0.00pt 136.08pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b># TOS metrics = 0 metric = 8</b></span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.4.2. LSA для сети</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 27.12pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы network-LSA генерируются для каждой транзитной широковещательной или NBMA-сети (транзитной считается сеть с числом маршрутизаторов не менее 2) и описывает<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>все<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>маршрутизаторы,</span></div>
<div class=paragraph style=" padding:0.00pt 27.12pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">подключенные к сети. Эти анонсы порождаются маршрутизатором DR для сети. Для генерации LSA маршрутизатор DR должен иметь полную смежность по крайней мере с одним маршрутизатором сети. Анонсы network-LSA рассылаются в лавинном режиме по области, содержащей транзитную сеть, не выходя за пределы области. В network-LSA перечисляются маршрутизаторы полностью смежные с DR и каждый такой маршрутизатор идентифицируется OSPF Router ID. Маршрутизатор DR также содержится в списке.</span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:332.16pt;">
<div class=block style=" width:332.16pt; height:159.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>для магистрали</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;всегда верно при создании</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;показывает router-LSA</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;Router ID для RT3</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;Router ID для RT3</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;не является граничным для AS</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;граничный маршрутизатор области</b></span></div>
<div class=paragraph style=" padding:3.12pt 120.96pt 0.00pt 1.68pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;Router ID соседнего маршрутизатора ;MIB-II ifIndex для канала &laquo;точка-точка&raquo; ;соединение с маршрутизатором</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:114.00pt;">
<div class=block style=" width:114.00pt; height:35.76pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>192.1.2</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 23.76pt; text-align:left;"><span class=font29><b>+</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:35.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 25.92pt; text-align:left;"><span class=font29><b>Area 1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.44pt;">
<div class=block style=" width:31.44pt; height:30.00pt;">
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font29><b>N1</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:66.24pt;">
<div class=block style=" width:66.24pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.85pt;"><b>3+</b><span style=" letter-spacing:0.00pt;"><b>---</b></span><span style=" letter-spacing:-0.50pt;"><b>+1</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.65pt;">— <b>|RT1| </b>—</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:234.48pt;">
<div class=block style=" width:234.48pt; height:30.00pt;">
<div class=paragraph style=" padding:16.08pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font32><b>\</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:114.00pt;">
<div class=block style=" width:114.00pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 103.44pt; text-align:left;"><span class=font32><b>\</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 15.36pt; text-align:left;"><span class=font29><b>_____N3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:31.44pt;">
<div class=block style=" width:31.44pt; height:83.28pt;">
<div class=paragraph style=" padding:49.44pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font29><b>N2</b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:62.40pt;">
<div class=block style=" width:62.40pt; height:83.28pt;">
<div class=paragraph style=" padding:39.12pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.85pt;"><b>3+</b><span style=" letter-spacing:0.00pt;"><b>---</b></span><span style=" letter-spacing:-0.50pt;"><b>+1</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.65pt;"><b>--|RT2|--</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="3" valign="top" style=" width:96.00pt;">
<div class=block style=" width:96.00pt; height:110.88pt;">
<div class=paragraph style=" padding:0.00pt 14.88pt 0.00pt 15.12pt; text-align:left;"><span class=font29 style=" line-height:9.36pt;"><b>\/       \ * 192.1.1 *</b>—</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 15.12pt; text-align:left;"><span class=font33 style=" line-height:9.60pt;">Л<b>_____/</b></span></div>
<div class=paragraph style=" padding:0.00pt 51.84pt 0.00pt 4.32pt; text-align:left; text-indent:5.28pt;"><span class=font29 style=" line-height:9.60pt; letter-spacing:-0.50pt;"><b>/     | </b><span style=" letter-spacing:-0.45pt;"><b>/      |</b></span></span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29>ь     II</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 30.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---</b><span style=" letter-spacing:-0.50pt;"><b>+8</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 32.40pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-1.00pt;"><b>|RT3|</b><span style=" letter-spacing:0.00pt;"><b>----</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 30.24pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 45.36pt 0.00pt 43.20pt; text-align:left;"><span class=font24 style=" line-height:9.84pt;">1<b>2 </b>I </span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:142.32pt;">
<div class=block style=" width:142.32pt; height:41.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.85pt;"><b>1+</b><span style=" letter-spacing:0.00pt;"><b>---+</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.75pt;"><b>--|RT4|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.16pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:41.76pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:142.32pt;">
<div class=block style=" width:142.32pt; height:69.36pt;">
<div class=paragraph style=" padding:18.00pt 0.00pt 0.00pt 40.56pt; text-align:left;"><span class=font29><b>6+—+</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.80pt; text-align:left;"><span class=font29 style=" line-height:11.04pt;"><b>-------</b><span style=" letter-spacing:-1.00pt;"><b>|RT6|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 45.12pt; text-align:left;"><span class=font29 style=" line-height:11.04pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.00pt 77.04pt 0.00pt 58.08pt; text-align:left; text-indent:-49.44pt;"><span class=font29 style=" line-height:11.04pt;"><b>18.10.0.6|7 </b><span class=font18>I</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:41.76pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:93.84pt;">
<div class=block style=" width:93.84pt; height:27.60pt;">
<div class=paragraph style=" padding:0.00pt 54.72pt 0.00pt 3.36pt; text-align:left; text-indent:20.40pt;"><span class=font29 style=" line-height:10.56pt;"><b>+ </b><span style=" letter-spacing:-0.40pt;"><b>192.1.3</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.12pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:255.84pt;">
<div class=block style=" width:255.84pt; height:0.48pt;">
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:100.80pt;">
<div class=block style=" width:100.80pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:3.84pt;">
<div class=block style=" width:3.84pt; height:0.48pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:73.44pt;">
<div class=block style=" width:73.44pt; height:0.48pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:9.84pt;"><b>+------------+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:3.84pt;">
<div class=block style=" width:3.84pt; height:0.48pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:122.16pt;">
<div class=block style=" width:122.16pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:242.40pt;">
<div class=block style=" width:242.40pt; height:64.08pt;">
<div class=paragraph style=" padding:0.00pt 6.48pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Идентификатор Link State ID для network-LSA совпадает с IP-адресом интерфейса DR. Это значение после применения маски подсети, которая также включена в network-LSA дает номер IP-сети. Маршрутизатор, который утратил роль DR для сети, должен </span></div>
</div>
</td>
<td class=cell colspan="12" valign="top" style=" width:352.56pt;">
<div class=block style=" width:352.56pt; height:64.08pt;">
<div class=paragraph style=" padding:0.00pt 160.32pt 0.00pt 23.04pt; text-align:left; text-indent:105.60pt;"><span class=font29 style=" line-height:10.08pt;"><b>192.1.4 (N4) ................................</b></span></div>
<div class=paragraph style=" padding:0.00pt 21.84pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Рисунок 11. Область 1 с IP-адресами</i></span></div>
<div class=paragraph style=" padding:0.00pt 21.84pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>Формат router-LSA описан в параграфе A.4.2. Первые 20 байтов LSA содержат</i></span></div>
<div class=paragraph style=" padding:0.00pt 21.84pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>стандартный заголовок LSA, описанный в параграфе 12.1.</i></span></div>
<div class=paragraph style=" padding:0.00pt 22.32pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;"><i>router-LSA относятся к типу 1.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:63.60pt;">
<div class=paragraph style=" padding:0.00pt 359.28pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">уничтожить ранее созданные network-LSA,</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">которые больше не могут использоваться при расчете таблицы маршрутов. Это осуществляется с помощью принудительного увеличения возраста LSA до значения MaxAge и новой лавинной рассылки (см. параграф 14.1). Кроме того, в редких случаях, когда изменяется Router ID, все network-LSA с прежним значением Router ID также должны уничтожаться. Поскольку маршрутизатор может не знать о существовании с другим Router ID, эти network-LSA идентифицируются значением Link State ID, совпадающим с IP-адресом интерфейса маршрутизатора и полем Advertising Router, имеющим такое же значение и не совпадающим с текущим значением Router ID (см. параграф 13.4).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:43.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>12.4.2.1. Примеры network-LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Вернемся к примеру сети на рисунке 4. Анонсы Network-LSA генерируются для сети N3 в области 1, сетей N6 и N8 в области 2 и сети N9 в области 3. Предположим, что RT4 выбран в качестве DR для сети N3 – в этом случае маршрутизатор RT4 породит анонс network-LSA для сети N3, показанный ниже (см. распределение адресов на рисунке 11):</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:294.24pt;">
<div class=block style=" width:294.24pt; height:28.32pt;">
<div class=paragraph style=" padding:0.00pt 68.40pt 0.00pt 56.88pt; text-align:left; text-indent:42.24pt;"><span class=font29 style=" line-height:13.92pt;"><b>;Network-LSA для сети N3 </b><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:158.40pt;">
<div class=block style=" width:158.40pt; height:28.32pt;">
<div class=paragraph style=" padding:16.80pt 0.00pt 0.00pt 9.60pt; text-align:left;"><span class=font7><b>39</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:142.32pt;">
<div class=block style=" width:142.32pt; height:28.32pt;">
<div class=paragraph style=" padding:15.60pt 0.00pt 0.00pt 38.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="14" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:189.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:107.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:223.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:371.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:223.20pt;">
<div class=block style=" width:223.20pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:371.76pt;">
<div class=block style=" width:371.76pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 233.28pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:56.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>;всегда верно при создании</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Options = (E-bit)</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>;</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS type = 2</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>указывает network-LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 265.68pt 0.00pt 70.56pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link State ID = 192.1.1.4      ;IP-адрес DR Advertising Router = 192.1.1.4 ;Router Юдля RT4 Network Mask = OxffffffOO</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:223.20pt;">
<div class=block style=" width:223.20pt; height:39.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 107.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Attached Router = 192.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 107.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Attached Router = 192.</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 107.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Attached Router = 192.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 107.28pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Attached Router = 192.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:371.76pt;">
<div class=block style=" width:102.00pt; height:39.12pt; padding:0.00pt 269.76pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:102.00pt; height:39.12pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt;">
<div class=block style=" width:8.64pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 1.44pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:9.36pt;">
<div class=paragraph style=" text-align:center;"><span class=font29><b>.1.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:20.64pt;">
<div class=block style=" width:20.64pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font29><b>4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.00pt;">
<div class=block style=" width:48.00pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>;Router</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:14.16pt;">
<div class=block style=" width:14.16pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font29><b>ID</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt;">
<div class=block style=" width:8.64pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 1.44pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:10.32pt;">
<div class=paragraph style=" text-align:center;"><span class=font29><b>.1.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:20.64pt;">
<div class=block style=" width:20.64pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.00pt;">
<div class=block style=" width:48.00pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>;Router</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:14.16pt;">
<div class=block style=" width:14.16pt; height:10.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font29><b>ID</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt;">
<div class=block style=" width:8.64pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 1.44pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:10.08pt;">
<div class=paragraph style=" text-align:center;"><span class=font29><b>.1.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:20.64pt;">
<div class=block style=" width:20.64pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.12pt; text-align:left;"><span class=font29><b>2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.00pt;">
<div class=block style=" width:48.00pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>;Router</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:14.16pt;">
<div class=block style=" width:14.16pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font29><b>ID</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt;">
<div class=block style=" width:8.64pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 1.44pt 0.00pt 0.00pt; text-align:center;"><span class=font29><b>1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:10.56pt;">
<div class=block style=" width:10.56pt; height:9.36pt;">
<div class=paragraph style=" text-align:center;"><span class=font29><b>.1.</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:20.64pt;">
<div class=block style=" width:20.64pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font29><b>3</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.00pt;">
<div class=block style=" width:48.00pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 2.64pt 0.00pt 0.00pt; text-align:right;"><span class=font29 style=" letter-spacing:-0.45pt;"><b>;Router</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:14.16pt;">
<div class=block style=" width:14.16pt; height:9.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font29><b>ID</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:20.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:586.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.76pt; text-align:left;"><span class=font10 style=" line-height:9.84pt;"><b><i>12.4.3. Summary-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Анонсы summary-LSA описывают IP-сети, граничные маршрутизаторы AS и диапазоны адресов IP. Анонсы Summary-LSA</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">рассылаются в лавинном режиме в пределах одной области. Описываемые адресаты находятся за пределами области, но входят в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">AS.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Генераторами Summary-LSA являются граничные маршрутизаторы областей. Точные маршруты для анонсирования в область</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">определяются проверкой структуры маршрутной таблицы (см. главу 11) в соответствии с описанным ниже алгоритмом. Отметим,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">что в магистральную область анонсируются только внутридоменные маршруты, а в остальные области могут анонсироваться и</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">междоменные маршруты.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для определения маршрутов, анонсируемых в подключенную область A, каждая запись таблицы обрабатывается в соответствии с</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">приведенным ниже алгоритмом. Напомним, что каждая запись маршрутной таблицы описывает набор равноценных путей к</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.80pt;">определенному адресату:</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В качестве Destination Type анонсов summary-LSA могут служить только сети и граничные маршрутизаторы AS. Если в записи таблицы маршрутов в качестве адресата указан граничный маршрутизатор области, обработка записи заканчивается.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Внешние маршруты AS никогда не анонсируются в summary-LSA. Если запись таблицы включает внешний путь типа 1 или 2, обработка записи на этом завершается.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Далее, если областью, связанной с набором путей, является сама область A, для этого маршрута не создается summary-LSA<sup>24</sup>.</span></div>
<div class=paragraph style=" padding:0.72pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Далее, если связанные с записью маршрутизаторы next hop относятся к области A, для маршрута не создается summary-LSA<sup>25 </sup>(это является логическим эквивалентом split horizon в алгоритмах Distance Vector).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Далее, если стоимость пути для записи не меньше значения LSInfinity, summary-LSA не создается для такого маршрута.</span></div>
<div class=paragraph style=" padding:1.20pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В остальных случаях, если адресатом является граничный маршрутизатор AS, анонс summary-LSA должен генерироваться тогда и только тогда, когда запись таблицы маршрутов описывает предпочтительный путь к граничному маршрутизатору AS (см. шаг 3 в параграфе 16.4). Если это так, для адресата генерируется summary-LSA типа 4, в которой поле Link State ID содержит Router ID граничного маршрутизатора AS, а метрика равна стоимости маршрута. Отметим, что такие LSA не должны генерироваться, если область A указана как тупиковая.</span></div>
<div class=paragraph style=" padding:0.72pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В противном случае Destination type указывает сеть. Для междоменных маршрутов создается summary-LSA типа 3, поле Link State ID содержит адрес сети (при необходимости Link State ID может включать один или несколько битов адреса хоста, как сказано в Приложении E) и метрика равна стоимости маршрута в таблице.</span></div>
<div class=paragraph style=" padding:0.72pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Последним случаем остается внутридоменный маршрут в сеть. Это означает, что указанная в маршруте сеть относится к области, напрямую подключенной к маршрутизатору. В общем случае эта информация может быть сжата до включения в summary-LSA. Помните, что область имеет список диапазонов адресов, каждый элемент которого содержи пару [адрес, маска] и данные о состоянии (Advertise или DoNotAdvertise). Для каждого диапазона создается по крайней мере один анонс summary-LSA типа 3. Когда для состояния диапазона указано Advertise (анонсировать), генерируется summary-LSA типа 3, поле Link State ID содержит диапазон адресов (при необходимости в Link State ID могут включаться биты из &laquo;адреса хоста&raquo;, как описано в Приложении E), а стоимость равна наибольшей из стоимостей сетей-компонент. Для состояния DoNotAdvertise генерация summary-LSA типа 3 не используется и сети-компонеты остаются скрытыми для других областей.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">По умолчанию, если сеть не содержит указанного явно диапазона адресов, генерируются summary-LSA типа 3, в которых поле Link State ID содержит адрес сет (при необходимости могут включаться биты из адреса хоста, как описано в Приложении E), а метрика совпадает со стоимостью маршрута в таблице.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">Если область может поддерживать транзитный трафик (TransitCapability = TRUE), маршрутная информация о магистральных</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">сетях не должна сжиматься до резюмирования в область. Не должны также подавляться анонсы магистральных сетей в</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">область. Иными словами, заданные для магистрали диапазоны адресов должны игнорироваться при генерации summary-LSA</span></div>
<div class=paragraph style=" padding:0.00pt 463.20pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">в транзитные области.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">Если   маршрутизатор   анонсирует   summary-LSA   для  недоступного   адресата,   он   должен   удалить   такие   LSA   из   домена</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">маршрутизации, устанавливая для них возраст MaxAge и повторяя лавинную рассылку (см. параграф 14.1). Также и в случаях,</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">когда адресат по-прежнему доступен, но, тем не менее, не может больше анонсироваться согласно описанной выше процедуре</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">(например, сейчас это междоменный маршрут, который при использовании был внутридоменным маршрутом, связанным с той</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">или иной немагистральной областью - такой маршрут не может больше анонсироваться в магистраль), анонсы LSA должны</span></div>
<div class=paragraph style=" padding:0.00pt 486.72pt 0.00pt 0.00pt; text-align:right;"><span class=font38 style=" line-height:9.84pt;">удаляться из домена.</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font7 style=" line-height:9.84pt;"><b>12.4.3.1. Генерация summary-LSA в тупиковые области</b></span></div>
<div class=paragraph style=" padding:0.24pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Описанный в параграфе 12.4.3 алгоритм является необязательным, если область A является тупиковой. Граничные маршрутизаторы областей, подключенные к тупиковым областям могут генерировать summary-LSA в эти области, согласно алгоритму, описанному в параграфе 12.4.3, или создавать только подмножество summary-LSA, для задания которого можно использовать параметры конфигурации. Снижение числа генерируемых LSA уменьшает базу каналов тупиковой области и снижает потребности в ресурсах маршрутизатора. Однако, пропуск LSA может приводить к неоптимальной маршрутизации между областями.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38>Как сказано в параграфе 12.4.3, summary-LSA типа 4 (ASBR-summary-LSA) никогда не генерируются в тупиковые области.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:84.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>24</sup><span style=" letter-spacing:0.00pt;">&nbsp;Междоменные маршруты не анонсируются в магистраль, поскольку они всегда связаны с магистральной областью.</span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>25</sup><span style=" letter-spacing:0.00pt;">&nbsp; Это требование актуально только для случаев, когда немагистральная область A поддерживает транзитные данные (т. е., . TransitCapability = TRUE). Например, в конфигурации, показанной на рисунке 4, область 2 может поддерживать транзитный трафик за счет существования виртуального канала между RT10 и RT11. В результате от маршрутизатора RT11 требуется генерация только одного анонса summary-LSA в область 2 (сколлапсировавший адресат N9-N11,H1), поскольку все другие подходящие маршруты RT11 имеет следующий маршрутизатор в самой области 2 и должны анонсироваться только граничными маршрутизаторами других областей (в примере - RT10 и RT7).</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:leнзитный трафик за счет существования виртуального канала между RT10 и RT11. В результате от маршрутизатора RT11 требуется генерация только одного анонса summary-LSA в область 2 (сколлапсировавший адресат N9-N11,H1), поскольку все другие подходящие маршруты RT11 имеет следующий маршрутизатор в самой области 2 и должны анонсироваться только граничными маршрутизаторами других областей (в примере - RT10 и RT7).</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:223.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:371.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:236.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:15.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:124.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:205.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:159.12pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В тупиковых областях вместо импортированных внешних маршрутов каждый граничный маршрутизатор области генерирует в область default summary-LSA. Поле Link State ID в таких summary-LSA содержит значение DefaultDestination, а метрика задается для каждой области конфигурационным параметром StubDefaultCost. Отметим, что не требуется задавать одинаковые значения StubDefaultCost на всех граничных маршрутизаторах тупиковой области.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>12.4.3.2. Примеры summary-LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Вернемся к конфигурации областей на рисунке 4. Маршрутизаторы RT3, RT4, RT7, RT10 и RT11 являются граничными для областей и, следовательно, порождают summary-LSA. Рассмотрим в частности маршрутизатор RT4. таблица маршрутов для него рассчитана в качестве примера в параграфе 11.3. RT4 генерирует summary-LSA в магистраль и область 1. В магистраль RT4 генерирует раздельные LSA для каждой из сетей N1 - N4, в область 1 – раздельные LSA для сетей N6 - N8 и граничных маршрутизаторов AS (RT5, RT7). Он также собирает маршруты к хостам Ia и Ib в один анонс summary-LSA. Наконец, маршруты в сети N9, N10, N11 и к хосту H1 анонсируются одним summary-LSA. Эта конденсация изначально выполняется маршрутизатором RT11.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Эти LSA показаны в таблицах 6 и 7. Ниже показаны два анонса summary-LSA, генерируемых маршрутизатором RT4. Реальные адреса для сетей и маршрутизаторов показаны на рисунке 11.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="3" valign="top" style=" width:236.64pt;">
<div class=block style=" width:236.64pt; height:48.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Options = (E-bit)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS type = 3</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link State ID = 192.1.2.0</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:358.32pt;">
<div class=block style=" width:358.32pt; height:7.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>генерируется маршрутизатором RT4 в магистраль</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:358.32pt;">
<div class=block style=" width:358.32pt; height:13.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 15.84pt; text-align:left;"><span class=font29><b>всегда верно при создании</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:358.32pt;">
<div class=block style=" width:358.32pt; height:27.60pt;">
<div class=paragraph style=" padding:0.00pt 242.16pt 0.00pt 10.32pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;тип 3 - summary-LSA ;IP-номер сети N1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Advertising Router = 192.1.1.4      ;Идентификатор RT4</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>metric = 4</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:17.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>; Summary-LSA для граничного маршрутизатора AS RT7</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:252.00pt;">
<div class=block style=" width:252.00pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>; генерируется маршрутизаторо</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Options = (E-bit)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS type = 4</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:342.96pt;">
<div class=block style=" width:342.96pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 204.96pt 0.00pt 0.00pt; text-align:left; text-indent:5.28pt;"><span class=font29 style=" line-height:20.40pt;"><b>всегда верно при создании тип 4 - summary-LSA</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:257.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link State ID = Router ID RT7</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Advertising Router = 192.1.1.4      ;Идентификатор RT4</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 100.08pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;">metric = 14</span></div>
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>12.4.4. AS-external-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы AS-external-LSA описывают маршруты ко внешним (по отношению к AS) адресатам. Большинство AS-external-LSA описывает маршруты к конкретным внешним адресатам – в таких случаях поле Link State ID содержит IP-номер сети получателя address (при необходимости можно включать и часть битов &laquo;номера хоста&raquo;, как описано в Приложении E). Для описания принятого по умолчанию маршрута для AS может использоваться AS-external-LSA с Link State ID = DefaultDestination (0.0.0.0). Анонсы AS-external-LSA генерируются граничными маршрутизаторами AS, которые порождают по одному анонсу AS-external-LSA для каждого внешнего маршрута, полученного от другого протокола (типа BGP) или заданного конфигурацией.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы AS-external-LSA являются единственным типом LSA, для которого лавинная рассылка производится во всей AS; остальные типы LSA связаны с отдельными областями. Однако AS-external-LSA не рассылаются в тупиковые области и через такие области (см. параграф 3.6) для снижения размеров баз данных в маршрутизаторах тупиковых областей.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для внешних маршрутов может использоваться два типа метрики. Метрика типа 1 сравнима с внутренней метрикой link state, а метрика типа 2 заведомо больше стоимости любого пути внутри AS.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если маршрутизатор анонсирует AS-external-LSA для адресата, ставшего недоступным, он должен удалить LSA из домена маршрутизации путем установки для них возраста MaxAge и повтора лавинной рассылки (см. параграф 14.1).</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>12.4.4.1. Примеры AS-external-LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В приведенном на рисунке 4 примере AS имеются два граничных маршрутизатора AS - RT5 и RT7. Маршрутизатор RT5 генерирует три AS-external-LSA для сетей N12 - N14, а RT7 – два анонса для сетей N12 и N15. Предположим, что маршрутизатор RT7 узнал о пути в сеть N12 от протокола BGP и хочет анонсировать в AS метрику типа. Тогда RT7 будет генерировать для сети N12 анонс:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:10.08pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:252.00pt;">
<div class=block style=" width:252.00pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>; AS-external-LSA для сети N1</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Options = (E-bit)</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS type = 5</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:137.52pt;">
<div class=block style=" width:137.52pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 5.04pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:20.40pt;"><b>всегда верно при создании AS-external-LSA</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:205.44pt;">
<div class=block style=" width:205.44pt; height:37.92pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>тором RT7</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:117.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link State ID = IP-номер для сети N12</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Advertising Router = Router ID RT7</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>bit E = 1</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>;метрика типа 2</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>metric = 2</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Forwarding address = 0.0.0.0</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Значение 0.0.0.0 в качестве адреса пересылки показывает, что пакеты для внешних адресатов должны пересылаться анонсирующему маршрутизатору OSPF (RT7). В некоторых случаях такое решение нежелательно. Рассмотрим пример на рисунке 12, содержащий три маршрутизатора OSPF (RTA, RTB and RTC), подключенных к общей сети. Только маршрутизатор RTA обменивается информацией BGP с маршрутизатором RTX, не относящимся к OSPF. В этом случае RTA должен порождать AS-external-LSA для адресатов, полученных от RTX. Используя поле адреса пересылки в AS-external-LSA, RTA может задать пересылку пакетов в эти адреса непосредственно через RTX. Если это не использовать, маршрутизаторы RTB и RTC будут добавлять лишний интервал.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:63.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0); letter-spacing:-0.50pt;"><b>41</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:23.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:236.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:15.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:124.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:205.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:89.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:82.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:221.28pt;">
<div class=block style=" width:221.28pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:181.68pt;">
<div class=block style=" width:181.68pt; height:12.72pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:192.00pt;">
<div class=block style=" width:192.00pt; height:35.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 53.52pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:23.04pt;">
</td>
<td class=cell colspan="9" rowspan="3" valign="top" style=" width:402.96pt;">
<div class=block style=" width:402.96pt; height:53.04pt;">
<div class=paragraph style=" padding:0.00pt 18.24pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Отметим, что ненулевой адрес пересылки должен указывать на маршрутизатор в другой AS. Это поле может также содержать принятый по умолчанию адрес. Например, маршрутизатор RTA может указать, что все внешние пакеты должны по умолчанию пересылаться маршрутизатору RTX (BGP peer). Анонс AS-external-LSA для такого случая показан ниже. Отметим, что Link State ID = DefaultDestination.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:23.04pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="4" valign="top" style=" width:53.52pt;">
<div class=block style=" width:53.52pt; height:67.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---</b><span style=" letter-spacing:-0.60pt;"><b>+.</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 2.16pt; text-align:left;"><span class=font6 style=" line-height:10.08pt; letter-spacing:-1.05pt;"><b>I</b><span class=font25><b>RTA | -</b></span></span></div>
<div class=paragraph style=" text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 2.16pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>|RTB|-</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.64pt; text-align:left;"><span class=font25><b>|.BGP</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:18.96pt;">
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:56.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 27.60pt; text-align:left;"><span class=font25 style=" line-height:10.08pt; letter-spacing:-2.15pt;"><b>. +</b><span style=" letter-spacing:0.00pt;"><b>---+</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>-|RTX|</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.68pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:18.96pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:238.08pt;">
<div class=block style=" width:238.08pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;принятый по умолчанию маршрут</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:164.88pt;">
<div class=block style=" width:164.88pt; height:20.40pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" letter-spacing:-0.75pt;"><b>от RTA</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:261.12pt;">
<div class=block style=" width:261.12pt; height:17.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>;пакеты пересылаются через RTX</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS age = 0</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>;всегда</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:141.84pt;">
<div class=block style=" width:141.84pt; height:17.28pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>верно при создании</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:324.00pt;">
<div class=block style=" width:324.00pt; height:23.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Options = (E-bit)</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>;</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>LS type = 5</b><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>;AS-external-LSA</b></span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:78.96pt;">
<div class=block style=" width:78.96pt; height:51.12pt;">
<div class=paragraph style=" padding:13.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>умолчанию<br></b></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:192.00pt;">
<div class=block style=" width:192.00pt; height:51.12pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 2.16pt; text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>|RTC|-</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font25 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Link State I</b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:32.40pt;">
<div class=block style=" width:32.40pt; height:27.60pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>Router</b></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:156.00pt;">
<div class=block style=" width:156.00pt; height:7.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>faultDestination ;маршрут по</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 5.52pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Advertising bit E = 1 </b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:50.88pt;">
<div class=block style=" width:50.88pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 16.08pt; text-align:left;"><span class=font29><b>Router</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:105.12pt;">
<div class=block style=" width:105.12pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 25.92pt 0.00pt 0.00pt; text-align:left; text-indent:3.12pt;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.45pt;"><b>ID для RTA </b><span style=" letter-spacing:-0.20pt;"><b>;метрика типа 2</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>metric = 1<br></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:402.96pt;">
<div class=block style=" width:402.96pt; height:22.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>Forwarding address = IP-адрес RTX</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Предположим, что маршрутизаторы RTA и RTB также обмениваются BGP-информацией с<br></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:192.00pt;">
<div class=block style=" width:192.00pt; height:22.08pt;">
<div class=paragraph style=" padding:0.00pt 76.08pt 0.00pt 45.36pt; text-align:left; text-indent:-31.92pt;"><span class=font38 style=" line-height:9.84pt;"><i>Рисунок 12. Пример адреса пересылки</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:84.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">RTX. В таком случае RTA и RTB будут генерировать одинаковые анонсы AS-external-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Если в этих анонсах будет совпадать метрика, они будут эквивалентны функционально, поскольку указывают одинаковых получателей и общий адрес пересылки (RTX). Это ведет к простому дублированию работы. Если только один из маршрутизаторов (RTA или RTB) будет генерировать набор AS-external-LSA, маршрутизация не изменится, а размер базы данных уменьшится. Однако в таких случаях нужно точно указывать, какой из маршрутизаторов будет порождать LSA (иначе этого может не сделать ни один из них или начнется поочередная генерация). Для выбора маршрутизатора используется следующее правило – если два доступных один для другого маршрутизатора генерируют функционально эквивалентные AS-external-LSA (совпадают адресаты, стоимость и ненулевой адрес пересылки), используются LSA от маршрутизатора с большим значением OSPF Router ID. Другой маршрутизатор должен удалить свои LSA, как описано в параграфе 14.1.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:115.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font12><b><i>13. Процедура лавинной рассылки (Flooding)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакет Link State Update (LSU) обеспечивают механизм лавинной рассылки LSA и могут содержать несколько различных LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакеты рассылаются лавинным способом на один интервал от точки генерации LSA. Для повышения надежности лавинной</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">рассылки требуется раздельное подтверждение для каждого анонса LSA, передаваемое в пакетах Link State Acknowledgment. В</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">одном пакете может содержатся множество раздельных подтверждений.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Процедура лавинной рассылки начинается при получении пакета LSU. До передачи пакета процедуре лавинной рассылки</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">выполняется целый ряд проверок (см. параграф 8.2). В частности, пакет LSU ассоциируется с конкретным соседом и конкретной</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">областью. Если сосед находится в состоянии ниже Exchange, пакет должен быть отброшен без дальнейшей обработки.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Все типы LSA (кроме AS-external-LSA) связываются с конкретной областью, однако LSA не содержат поля области и область</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">определяется из заголовка пакета LSU.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для каждого анонса LSA в пакете LSU выполняются следующие операции:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:2.88pt;">
</div>
</td>
<td class=cell colspan="10" rowspan="5" valign="top" style=" width:492.24pt;">
<div class=block style=" width:492.24pt; height:390.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Проверка контрольной суммы LSA. В случае ошибки LSA отбрасывается с переходом к следующему анонсу в пакете LSU. Проверка типа LSA. LSA неизвестных типов отбрасываются с переходом к следующему анонсу из пакета LSU. Данная спецификация определяет типы 1 - 5 (см. параграф 4.3).</span></div>
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если принят анонс AS-external-LSA (тип 5), а область является тупиковой, LSA отбрасывается с переходом к следующему анонсу из пакета LSU. Для AS-external-LSA не используется лавинная рассылка в тупиковые области или через них (см. 3.6). Если возраст LSA равен MaxAge, а в базе данных маршрутизатора нет текущего экземпляра LSA и ни один из соседних маршрутизаторов не находится в состоянии Exchange или Loading, выполняются следующие действия:</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">(a)&nbsp; &nbsp; Подтверждается прием LSA путем передачи пакета Link State Acknowledgment отправителю LSA (см. параграф 13.5);</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;LSA отбрасывается с переходом к следующему анонсу (если он имеется) из пакета LSU.</span></div>
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В остальных случаях отыскивается текущий экземпляр LSA в базе данных маршрутизатора. Если в базе не найдено копии или LSA новее копии в базе данных (сравнение возраста LSA описано в параграфе 13.1), выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 18.00pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(a)&nbsp; &nbsp; Если в базе данных уже есть копия, полученная в результате лавинной рассылки и установленная менее MinLSArrival секунд назад, новый анонс отбрасывается (без подтверждения) и проверяется следующий анонс (если он есть) в пакете LSU.</span></div>
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 18.00pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;В противном случае незамедлительно начинается лавинная рассылка нового анонса LSA через часть интерфейсов маршрутизатора (см. параграф 13.3). В некоторых случаях (например, если принимающий интерфейс находится в состоянии DR и анонс LSA был принят не от Backup DR) LSA рассылаются в лавинном режиме принявшим анонс интерфейсом. Эти случаи должны фиксироваться для последующего использования в процессе подтверждения (параграф 13.5).</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">(c)&nbsp; &nbsp; Текущая копия из базы данных удаляется из списков Link state retransmission всех соседей.</span></div>
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 18.00pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(d)&nbsp; &nbsp;Новая запись LSA помещается в базу данных взамен текущей копии. Эта замена может приводить к планируемому пересчету таблицы маршрутов. Для новой записи LSA фиксируется время ее поступления. Процедура лавинной рассылки не может переписывать новые LSA, пока не пройдет MinLSArrival секунд. Установка LSA описана в параграфе 13.2.</span></div>
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 18.00pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(e)&nbsp; &nbsp; По возможности подтверждается прием LSA путем передачи пакета Link State Acknowledgment через принявший анонс интерфейс (см. параграф 13.5).</span></div>
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 18.00pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(f)&nbsp; &nbsp; Если новый анонс сгенерирован принявшим его маршрутизатором (self-originated LSA), этот маршрутизатор должен выполнить специальные действия – обновить LSA или (в некоторых случаях) удалить анонс из домена маршрутизации. Обнаружение и обработка self-originated LSA описаны в параграфе 13.4.</span></div>
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Далее, если экземпляр LSA находится в списке Link state request передающего соседа, в процессе Database Exchange происходит ошибка. В таких случаях процесс Database Exchange перезапускается путем генерации для соседа и передачи ему события BadLSReq и прекращения обработки пакетов LSU. Иначе, если LSA совпадает с экземпляром в базе данных (т. е., их возраст одинаков), выполняются две операции:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.72pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(a)&nbsp; &nbsp; Если LSA присутствует в списке Link state retransmission для принимающего смежного маршрутизатора, предполагается, что маршрутизатор самостоятельно подтверждает LSA. Принятые LSA следует трактовать как подтверждения, удаляя их из списка Link state retransmission (это называется &laquo;подразумеваемым подтверждением - implied acknowledgment). Такие события должны документироваться для последующего использования в процессе подтверждения (параграф 13.5).</span></div>
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 18.72pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;Можно подтвердить прием LSA путем передачи пакета Link State Acknowledgment через принявший интерфейс (см. пример в параграфе 13.5).</span></div>
</div>
</td>
<td class=cell rowspan="5" valign="top" style=" width:56.40pt;">
<div class=block style=" width:56.40pt; height:390.00pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:89.52pt;">
<div class=paragraph style=" padding:0.00pt 7.44pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.12pt;">(1) (2)</span></div>
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38>(3)</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38>(4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:198.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38>(5)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00p>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:68.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38>(7)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:261.12pt;">
<div class=block style=" width:261.12pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:195.36pt;">
<div class=block style=" width:195.36pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 41.04pt; text-align:left;"><span class=font7><b>42</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:89.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:50.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:62.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:82.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:732.72pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:9.84pt;">(8) В остальных случаях копия в базе данных является более новой. Если возраст этой копии равен MaxAge и порядковый номер равен MaxSequenceNumber, принятый анонс LSA просто отбрасывается без подтверждения (это говорит о завершении цикла счетчика порядковых номеров и необходимости удаления LSA с номером MaxSequenceNumber до генерации новых экземпляров LSA). В противном случае, если копия из базы данных не была передана в пакете LSU в течение последних MinLSArrival секунд, эта копия должна быть отправлена передающему соседу в пакете LSU (пакет должен быть адресован соседу напрямую). В таких случаях копия LSA из базы данных не помещается в список link state retransmission для соседа и прием последнего анонса LSA не подтверждается.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.55pt;"><b>13.1.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>Сравнение возраста LSA</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда маршрутизатор встречает два экземпляра LSA, он должен определить более новый. Это выполняется путем сравнения принятой записи LSA с ее копией в базе данных. Сравнение также должно проводиться во время процедуры Database Exchange при организации отношений смежности.</span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Записи LSA идентифицируются полями LS type, Link State ID и Advertising Router. Для двух экземпляров LSA поля LS sequence number, LS age и LS checksum позволяют выбрать более новый экземпляр:</span></div>
<div class=paragraph style=" padding:0.24pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Запись LSA с большим порядковым номером является более новой (описание нумерации приведено в параграфе 12.1.6). Если порядковые номера совпадают, выполняется следующая проверка</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если экземпляры отличаются по контрольной сумме (16-битовое беззнаковое целое), более новым считается экземпляр с большим значением контрольной суммы.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если контрольные суммы совпадают и возраст одного из экземпляров равен MaxAge, этот экземпляр считается более новым.</span></div>
<div class=paragraph style=" padding:0.72pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В противном случае, если возраст отличается более, чем на MaxAgeDiff, более новым считается экземпляр с меньшим возрастом.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В остальных случаях экземпляры считаются идентичными.</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.60pt;"><b>13.2.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp; </b></span><span style=" letter-spacing:-0.20pt;"><b>Инсталляция LSA в базу данных</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Включение в базу данных новых LSA в результате лавиной рассылки или самогенерации (self-originated LSA) может вызывать необходимость перерасчета таблицы маршрутов OSPF. Содержимое нового анонса LSA должно сравниваться со старым экземпляром, если такой имеется. При отсутствии различий не требуется пересчитывать таблицу маршрутов. Сравнение LSA с предыдущим экземпляром осуществляется по следующим критериям:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.52pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Изменение поля Options в LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.52pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В одной из записей LSA возраст равен MaxAge, а в другой меньше.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.52pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Изменилось поле длины в заголовке LSA.</span></div>
<div class=paragraph style=" padding:0.48pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Изменилось тело LSA (содержимое LSA после 20-байтового заголовка). Отметим, что изменения LS Sequence Number и LS Checksum относятся к заголовку и не попадают в данную категорию.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При обнаружении различий должны пересчитываться следующие компоненты таблицы маршрутов (в зависимости от типа LSA):</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router-LSA и network-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Требуется полное обновление таблицы маршрутов, начиная с расчета дерева кратчайших путей для каждой области (не только для той, где изменилась база данных link-state). Причина пересчета деревьев для каждой области заключается в том, что граничные маршрутизаторы AS могут входить в несколько областей. Изменения в области, обеспечивающей лучший на данный момент маршрут, могут вынудить маршрутизатор использовать внутридоменный маршрут из другой области<sup>26</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Summary-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Должен пересчитываться лучший маршрут к адресату, описанный в summary-LSA (см. параграф 16.5). Если адресатом является граничный маршрутизатор AS, может также потребоваться повторная проверка всех AS-external-LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AS-external-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 29.28pt 0.00pt 56.88pt; text-align:left; text-indent:18.24pt;"><span class=font38 style=" line-height:9.84pt;">Должен пересчитываться лучший маршрут к адресату, описанный в AS-external-LSA (см. параграф 16.6). Кроме того, все старые экземпляры LSA должны быть удалены из базы данных при установке новой записи LSA. Старые экземпляры должны также удаляться из списков Link state retransmission всех соседей (см. главу 10).</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.60pt;"><b>13.3.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>Следующий этап лавинной рассылки</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При получении нового (более свежего) анонса LSA он должен рассылаться в лавинном режиме некоторыми интерфейсами</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатора. В этом параграфе описана вторая часть процесса лавинной рассылки (первой частью является описанная выше в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">данной главе обработка), а именно - выбор интерфейсов для рассылки и добавление LSA в списки Link state retransmission</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">подходящих соседей. Эта часть рассылки включает также поддержку списков LSR от соседей.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Этот параграф применим и к лавинной рассылке LSA, порожденных самим маршрутизатором (см. параграф 12.4). Для таких LSA</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">этот параграф включает полное описание процесса лавинной рассылки (т. е., описанные выше в главе 13 операции не проводятся</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">для LSA, генерируемых самим маршрутизатором).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В зависимости от типа LSA рассылка осуществляется через один или несколько интерфейсов, для определения которых</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">используются следующие правила:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AS-external-LSA (LS Type = 5)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.64pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы AS-external-LSA рассылаются в лавинном режиме по всей AS, исключая лишь тупиковые области (см. параграф 3.6). Для рассылки используются все интерфейсы маршрутизатора, кроме виртуальных каналов и интерфейсов, подключенных к тупиковым областям.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Прочие типы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Все прочие анонсы связаны с одной областью (далее, область A). Для рассылки анонсов используются все интерфейсы маршрутизатора в данную область. Если область является магистральной, используются также виртуальные каналы. Должна  обеспечиваться  синхронизация   баз  данных  для  всех  смежных  пар,   связанных  с  используемыми  для  рассылки интерфейсами. Это обеспечивается путем выполнения для каждого из этих интерфейсов перечисленных ниже операций. Следует отметить, что в результате описанной процедуры может быть принято решение не рассылать LSA через тот или иной интерфейс, если существует высокая вероятность того, что подключенные соседи уже получили LSA. Однако, в таких случаях должна быть абсолютная гарантия получения соседями анонсов LSA, поэтому LSA нужно включать в списки Link state retransmission каждого смежного маршрутизатора. Для всех используемых в рассылке интерфейсов нужно выполнить следующее: (1)   Проверяется каждый из соседей, подключенных к интерфейсу на предмет необходимости получения LSA: (a)   Если сосед еще не достиг состояния Exchange, он не участвует в рассылке.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:54.72pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;"><sup>26</sup> За счет хранения в таблице маршрутов дополнительной информации некоторые реализации могут ограничиться пересчетом дерева кратчайших путей для одной области. Существует алгоритм нарастающих изменений (incremental algorithm), который позволяет пересчитывать только часть дерева кратчайших путей одной области [Ref1]. Однако рассмотрение этого алгоритма выходит за пределы данной спецификации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>43&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:660.24pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.32pt; text-align:left; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;Если отношения смежности еще не полные (состояние соседа Exchange или Loading), проверяется список запросов состояния канала, связанный со смежностью. Если в списке присутствует экземпляр нового анонса LSA, это говорит о том, что соседний маршрутизатор уже имеет экземпляр LSA и нужно сравнить его с новым: <span class=font29>o </span>Если новый анонс LSA старше имеющегося, переход к следующему соседу. <span class=font29>o </span>Если это две копии одного экземпляра, нужно удалить LSA из списка запросов состояния канала и перейти к</span></div>
<div class=paragraph style=" padding:0.00pt 105.84pt 0.00pt 64.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">следующему соседу<sup>27</sup>. <span class=font29>o </span>В остальных случаях новая запись LSA является более свежей. Удалите LSA из списка Link state request.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(c)&nbsp; &nbsp; Если новый анонс LSA был получен от этого соседа, проверяется следующий сосед.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 64.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(d)&nbsp; &nbsp;Поскольку нельзя сказать определенно, что сосед имеет свежий экземпляр LSA, нужно добавить новый анонс в список Link state retransmission для смежного маршрутизатора. Это обеспечивает надежность процедуры лавинной рассылки -LSA передаются повторно с заданным интервалом, пока от соседа не придет подтверждение.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Маршрутизатор должен решить вопрос о необходимости лавинной рассылки LSA через данный интерфейс. Если на этапе 1 анонс LSA <b>не был </b>добавлен ни в один из списков Link state retransmission, нет необходимости рассылать LSA через данный интерфейс и можно переходить к следующему интерфейсу.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Если новый анонс LSA был принят через данный интерфейс от маршрутизатора DR или Backup DR, существует вероятность, что все соседи уже получили копию LSA и можно переходить к следующему интерфейсу.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;Если новый анонс LSA получен через этот интерфейс и последний находится в состоянии Backup (маршрутизатор служит Backup DR), проверяется следующий интерфейс. Маршрутизатор DR будет слать анонсы на этот интерфейс, однако при &laquo;падении&raquo; DR данный маршрутизатор (т. е., Backup DR) будет завершать повторную рассылку анонсов.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;Если проверка дошла до этого этапа, требуется лавинная рассылка LSA через данный интерфейс. Следует передать пакет LSU, содержащий новый анонс LSA в своем теле. Возраст LSA должен быть увеличен на InfTransDelay при копировании анонса в пакет LSU (если возраст не равен MaxAge).</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В широковещательных сетях пакеты LSU рассылаются по групповым адресам. Указываемый в пакете LSU IP-адрес получателя зависит от состояния интерфейса. Если интерфейс находится в состоянии DR или Backup, используется адрес AllSPFRouters, в остальных случаях - AllDRouters.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В сетях без широковещания передается отдельная копия пакета LSU каждому смежному соседу (состояние не ниже Exchange). В качестве получателя пакета указывается IP-адрес соседа.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>13.4.&nbsp;Прием собственных (self-originated) LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Получение своих (self-originated) анонсов LSA в результате лавинной рассылки является нормальным событием. Для детектирования свих self-originated LSA маршрутизатор может использовать 2 признака: 1) поле Advertising Router в LSA совпадает с Router ID или 2) поле Link State ID в network-LSA совпадает с IP-адресом интерфейса маршрутизатора. Если принятый экземпляр self-originated LSA оказывается новее последнего экземпляра, реально порожденного маршрутизатором, требуются специальные меры. Получение таких LSA показывает наличие в области маршрутизации LSA, порожденных маршрутизатором до его последней перезагрузки. В большинстве случаев маршрутизатору следует установить порядковый номер LSA на 1 больше номера принятого анонса и сгенерировать новый экземпляр LSA. Возможны ситуации, когда маршрутизатор не захочет генерировать принятые LSA:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1)&nbsp; &nbsp; &nbsp;Анонс является summary-LSA или AS-external-LSA, а маршрутизатор больше не имеет анонсируемого пути к получателю;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2)&nbsp; &nbsp; &nbsp;Анонс является network-LSA, а маршрутизатор больше не является DR для сети;</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">3)&nbsp; &nbsp; &nbsp;Анонс является network-LSA и поле Link State ID содержит IP-адрес одного из интерфейсов маршрутизатора, но поле Advertising Router не совпадает с Router ID данного маршрутизатора (этот редкий случай говорит об изменении Router ID после генерации LSA).</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Во всех этих случаях вместо обновления LSA, требуется их удаление из области маршрутизации путем установки LS age = MaxAge и повтора лавинной рассылки (см. параграф 14.1).</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>13.5.&nbsp;Передача LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Прием каждого нового анонса LSA должен подтверждаться. Обычно для подтверждения используются пакеты Link State Acknowledgment (LSAck), однако возможно и неявное подтверждение с помощью пакетов LSU (см. п. 7a в параграфе 13). Можно группировать множество подтверждений в один пакет LSAck, передавая этот пакет обратно через принявший анонсы интерфейс. Пакет подтверждения можно передавать 2 способами – с задержкой или непосредственно. Использование той или иной стратегии зависит от обстоятельств приема LSA. Передача подтверждений с задержкой предполагает несколько условий:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">1)&nbsp; &nbsp; &nbsp;Компоновка множества подтверждений в один пакет LSAck.</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">2)&nbsp; &nbsp; &nbsp;Возможность использования одного пакета LSAck для индикации подтверждений нескольким соседям одновременно (групповая адресация).</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">3)&nbsp; &nbsp; &nbsp;Произвольная (случайная) передача пакетов LSAck, передаваемых разным маршрутизаторам, подключенным к общей сети. Фиксированный интервал между отложенными передачами должен быть меньше RxmtInterval, иначе повтор станет ненужным. Прямые подтверждения передаются непосредственно соседу в ответ на получение дубликата LSA сразу же после приема дубликата. В сетях с множественным доступом такие подтверждения могут посылаться напрямую по IP-адресу соседа. Точные процедуры передачи пакетов LSAck описаны в таблице 22. Обстоятельства приема LSA показаны в левой колонке, а выполняемые действия для различных состояний в остальных колонках. Действия зависят от состояния интерфейса – реакция для состояния Backup отличается от действий в других состояниях. Отложенные подтверждения должны доставляться всем смежным маршрутизаторам, связанным с интерфейсом. В широковещательных сетях это осуществляется путем передачи пакетов LSAck с использованием групповых адресов. Используемое значение Destination IP зависит от состояния интерфейса – для состояний DR и Backup используется групповой адрес AllSPFRouters, а для прочих состояний - AllDRouters. В сетях без широковещания отложенные пакеты LSAck должны передаваться раздельно каждому смежному маршрутизатору (т. е., соседу в состоянии &gt;=</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:531.84pt;">
<div class=block style=" width:531.84pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38>Exchange).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 343.68pt; text-align:left;"><span class=font38><i><u>Таблица 22 Передача анонсов состояния каналов.</u></i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:63.12pt;">
<div class=block style=" width:63.12pt; height:20.88pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:509.52pt; height:70.08pt; padding:0.00pt 57.12pt 0.00pt 28.32pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:509.52pt; height:70.08pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:222.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:287.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:222.48pt;">
<div class=block style=" width:222.48pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38>Обстоятельства</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:287.04pt;">
<div class=block style=" width:287.04pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 7.20pt 0.00pt 5.52pt; text-align:left; text-indent:66.48pt;"><span class=font38 style=" line-height:10.08pt;">Действия, выполняемые в состоянии Backup                                                                  Остальные состояния</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:222.48pt;">
<div class=block style=" width:222.48pt; height:50.16pt;">
<div class=paragraph style=" padding:0.00pt 5.76pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Приемный интерфейс будет рассылать LSA обратно, используя flooding (см. главу 13, шаг 5b). LSA новее копии в базе данных, но не рассылается обратно принявшим ее интерфейсом.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:287.04pt;">
<div class=block style=" width:287.04pt; height:50.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Подтверждение не передается.                             Подтверждение не</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 5.52pt; text-align:left; text-indent:191.76pt;"><span class=font38 style=" line-height:9.84pt;">передается. Если   анонс   получен   от   DR,   передается    Передается отложенное   подтверждение,   в   противном    отложенное случае – ничего.                                                   подтверждение.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:222.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:287.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><sup>27</sup> После опустошения списка Link state request сосед так или иначе переходит в состояние Full (см. параграф 10.9).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>44&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:75.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:284.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:99.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="3" valign="top" style=" width:284.88pt;">
<div class=block style=" width:284.88pt; height:14.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:310.08pt;">
<div class=block style=" width:310.08pt; height:11.28pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 91.92pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.92pt;">
<div class=block style=" width:91.92pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:99.84pt;">
<div class=block style=" width:99.84pt; height:1.44pt;">
</div>
</td>
<td class=cell rowspan="4" valign="top" style=" width:73.92pt;">
<div class=block style=" width:73.92pt; height:71.76pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Подтверждение не передается.</span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Передается прямое подтверждение. Передается прямое подтверждение.</span></div>
</div>
</td>
<td class=cell rowspan="4" valign="top" style=" width:44.40pt;">
<div class=block style=" width:44.40pt; height:71.76pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:1.44pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:191.76pt;">
<div class=block style=" width:191.76pt; height:61.20pt;">
<div class=paragraph style=" padding:0.00pt 11.04pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если   анонс   получен   от   DR,   передается отложенное   подтверждение,   в   противном случае – ничего. Передается прямое подтверждение.</span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>Передается прямое подтверждение.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:1.44pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:284.88pt;">
<div class=block style=" width:284.88pt; height:59.76pt;">
<div class=paragraph style=" padding:0.00pt 11.28pt 0.00pt 62.16pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">LSA    является    дубликатом    и   трактовалась    как косвенное подтверждение (см. главу 13, шаг 7a).</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 62.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSA    является    дубликатом    и   трактовалась    как</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">косвенное подтверждение.<b>________________________</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Возраст     LSA     MaxAge,     отсутствует     текущий</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:476.64pt;">
<div class=block style=" width:476.64pt; height:9.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">экземпляр LSA в базе данных и ни один из соседей</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:686.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.40pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатора не находится в состоянии Exchange</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>или Loading (см. главу 13, шаг 4).</u><b>___________________</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Причины использования групповой адресации поясним на примере. Вернемся к сети, показанной на рисунке 11, и предположим, что маршрутизатор RT4 играет роль DR, а RT3 - Backup DR для сети N3. Когда RT4 рассылает новый анонс LSA в сеть N3, его принимают маршрутизаторы RT1, RT2 и RT3, которые не будут посылать LSA обратно в сеть N3, но по-прежнему должны гарантировать синхронизацию своих баз данных со смежными соседями. В результате маршрутизаторы RT1, RT2 и RT4 ожидают подтверждений от RT3, а маршрутизаторы RT4 и RT3 ждут подтверждений от RT1 RT2. В такой ситуации удобны групповые адреса.</span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 57.12pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Логика подтверждений для Backup DR несколько отличается за счет различий в процедуре лавинной рассылки LSA (см. параграф 13.3, п. 4).</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font12 style=" letter-spacing:-1.05pt;"><b>13.6.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.80pt;"><b>Повторная передача LSA</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.64pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы LSA, рассылаемые в лавинном режиме смежным маршрутизатором, будут помещаться в список Link state retransmission для него. Для обеспечения надежности лавинной рассылки повтор передачи LSA длится до приема подтверждения. Интервал между повторами задается для каждого интерфейса параметром RxmtInterval. Если установленное для интерфейса значение слишком велико, повтор передачи будет бесполезен. При слишком малом периоде повторов это может повлиять на скорость лавинной рассылки.</span></div>
<div class=paragraph style=" padding:5.76pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Несколько передаваемых повторно LSA можно поместить в один пакет LSU. При повторной передаче LSA должно посылаться только то число анонсов, которое можно поместить в один пакет LSU. Другие пакеты с повторами могут быть переданы после подтверждения некоторых LSA или при следующем завершении периода повтора.</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты LSU, содержащие повторы анонсов, всегда передаются напрямую соседу. В сетях с множественным доступом это означает передачу повторов непосредственно по IP-адресу соседа. Возраст каждого анонса LSA должен увеличиваться на InfTransDelay (&gt; 0) при копировании в пакет LSU (если возраст не достигает MaxAge).</span></div>
<div class=paragraph style=" padding:6.00pt 29.28pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если смежный маршрутизатор не работает, повтор может происходить до тех пор, пока смежность не будет устранена с помощью протокола Hello. При разрушении смежности список Link state retransmission очищается.</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font12 style=" letter-spacing:-1.05pt;"><b>13.7.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.80pt;"><b>Подтверждение приема состояния канала</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Прежде, чем передавать полученные пакеты LSAck на обработку процедуре лавинной рассылки, выполняется множество проверок на непротиворечивость. В частности пакеты ассоциируются с определенным соседом. Если состояние этого соседа ниже Exchange, пакеты LSAck должны отбрасываться. В остальных случаях для каждого подтверждения в пакете LSAck выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если не подтверждается экземпляр LSA из списка Link state retransmission для соседа, переход к следующему подтверждению</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Если подтверждается тот же самый экземпляр, последний удаляется из списка с переходом к следующему подтверждению.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:11.76pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Протоколируется спорное подтверждение с переходом к следующему подтверждению.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 58.56pt; text-align:left;"><span class=font12><b><i>14. Старение базы данных LS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждая запись LSA имеет поле возраста LS, выраженного в секундах. Возраст LSA увеличивается при нахождении записи в базе данных; при копировании записи в пакет LSU для рассылки через какой-либо из интерфейсов возраст также увеличивается на InfTransDelay.</span></div>
<div class=paragraph style=" padding:6.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Возраст LSA никогда не превышает значения MaxAge и LSA, достигшие возраста MaxAge, не используются при расчетах таблиц маршрутов. При увеличении возраста базы данных поле LS age в LSA может достигнуть значения MaxAge<sup>28</sup>. В таких случаях маршрутизатор должен предпринять попытку удаления LSA из области маршрутизации путем повторной лавинной рассылки LSA с возрастом MaxAge как свежесгенерированного анонса LSA (см. параграф 13.3).</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При создании списка Database summary для формируемых отношений смежности все LSA с возрастом MaxAge в базе данных добавляются в список Link state retransmission для соседа вместо списка Database summary для этого соседа (см. параграф 10.3).</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">LSA с возрастом MaxAge должны незамедлительно удаляться из базы данных маршрутизатора, если a) они не содержатся более ни в одном из списков Link state retransmission для соседей и b) ни один из соседей маршрутизатора не находится в состоянии Exchange или Loading.</span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Когда в процессе увеличения возраста базы данных поле LS age требует многократного обращения к CheckAge, должна проверяться контрольная сумма LSA. Если контрольная сумма некорректна, это говорит о наличии ошибок в программе или памяти - в таких случаях рекомендуется перезагрузить маршрутизатор.</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font12 style=" letter-spacing:-0.75pt;"><b>14.1. Принудительное старение LSA</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.64pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы LSA могут удаляться из домена маршрутизации путем установки LS age = MaxAge с сохранением порядкового номера и повторной лавинной рассылки LSA. Эта процедура совпадает с процедурой, применяемой для LSA, возраст которых достиг MaxAge естественным путем (см. параграф 14). В частности LSA удаляются из базы данных маршрутизатора, если a) эти анонсы больше не включены в списки Link state retransmission ни одного из соседей и b) ни один из соседних маршрутизаторов не находится в состоянии Exchange или Loading. Будем называть процесс установки для LSA возраста MaxAge принудительным старением (premature aging).</span></div>
<div class=paragraph style=" padding:6.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Принудительное старение используется при достижении максимального порядкового номера для собственных (self-originated) LSA. В таких случаях текущий экземпляр LSA (порядковый номер MaxSequenceNumber) должен быть принудительно состарен и</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" letter-spacing:-0.50pt;"><sup>28</sup> <span style=" letter-spacing:0.00pt;">Анонсы LSA сравнительно редко достигают возраста MaxAge; обычно они заменяются новыми экземплярами раньше.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>45&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:284.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:99.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:73.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:44.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt;">
<div class=block style=" width:302.16pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:292.80pt;">
<div class=block style=" width:292.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.32pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:777.12pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">удален из домена маршрутизации до того, как будет порожден новый экземпляр с порядковым номером InitialSequenceNumber (см. параграф 12.1.6).</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Принудительное старение может также использоваться в тех случаях, когда какой-либо из анонсированных маршрутизатором внешних путей перестал быть доступным. В таких случаях маршрутизатор может удалить свои AS-external-LSA из домена маршрутизации с помощью принудительного старения. Эта процедура является более предпочтительной, нежели генерация для недоступного маршрута новых LSA с метрикой LSInfinity. Принудительное старение также используется при неожиданном получении собственны LSA в процессе лавинной рассылки (см. параграф 13.4).</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор может использовать принудительное старение только для собственных LSA. Анонсы LSA считаются собственными (self-originated), если 1) поле Advertising Router в LSA содержит значение Router ID самого маршрутизатора или 2) поле Link State ID в network-LSA содержит IP-адрес одного из интерфейсов маршрутизатора.</span></div>
<div class=paragraph style=" padding:11.28pt 0.00pt 0.00pt 30.00pt; text-align:left;"><span class=font13 style=" letter-spacing:-1.45pt;"><b><i>15.</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;</i></b></span><span style=" letter-spacing:-0.75pt;"><b><i>Виртуальные соединения</i></b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждая область автономной системы должна иметь соединение с магистралью (Area ID = 0.0.0.0), иначе некоторые области AS перестанут быть доступными. Для организации и поддержки соединений с магистральной областью могут использоваться виртуальные каналы через области, не входящие в магистраль AS. Виртуальные каналы служат для подключения физически отделенных компонент к магистрали. Конечными точками виртуального канала являются граничные маршрутизаторы областей. Виртуальное соединение должно быть настроено на обоих маршрутизаторах. Конфигурационные параметры каждого маршрутизатора содержат сведения о другой стороне виртуального канала (граничный маршрутизатор области) и немагистральной области, являющейся общей для обеих конечных точек (транзитная область). Виртуальные каналы не могут проходить через тупиковую область (см. параграф 3.6).</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Виртуальное соединение трактуется как сеть point-to-point, относящаяся к магистрали и соединяющая пару граничных маршрутизаторов областей. Через виртуальный канал маршрутизаторы пытаются организовать отношения смежности. После организации смежности виртуальный канал включается в магистральные анонсы router-LSA и пакеты OSPF, принадлежащие магистральной области, будут передаваться через виртуальный канал с отношениями смежности (виртуальная смежность или virtual adjacency).</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В каждой из конечных точек доступность и стоимость виртуального канала определяется путем просмотра в таблице маршрута для другой точки этого соединения (связанная с маршрутом область должна быть задана как транзитная). Когда связанный с виртуальным соединением путь становится доступным, генерируется событие InterfaceUp. И наоборот, при невозможности использования пути через виртуальный канал генерируется событие InterfaceDown. Иными словами, доступность виртуального канала определяется существованием внутридоменного маршрута между конечными точками через транзитную область. Отметим, что виртуальные каналы, для которых стоимость превышает значение 0xffff (максимальная стоимость интерфейса в router-LSA), должны рассматриваться как неработоспособные (т. е., путь между конечными точками виртуального канала не существует). Некоторое особенности виртуальных каналов перечислены ниже:</span></div>
<div class=paragraph style=" padding:0.72pt 56.88pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Анонсы AS-external-LSA <b>никогда </b>не рассылаются через виртуальные каналы со смежностью, поскольку такая рассылка ведет к дублированию (те же AS-external-LSA уже разосланы через транзитную область виртуального соединения). По этой же причине AS-external-LSA не резюмируются через виртуальные каналы со смежностью в процессах Database Exchange.</span></div>
<div class=paragraph style=" padding:0.24pt 56.88pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Стоимость виртуального соединения <b>не задается </b>конфигурационными параметрами, а определяется как стоимость внутридоменного маршрута между двумя определенными граничными маршрутизаторами областей. Эта стоимость появляется в соответствующей виртуальному соединению записи таблицы маршрутов. При изменении стоимости виртуального маршрута должен генерироваться новый анонс router-LSA для магистральной области.</span></div>
<div class=paragraph style=" padding:0.24pt 56.88pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Подобно тому, как стоимость и доступность виртуального соединения определяются в процессе построения таблицы маршрутов (создание в таблице записи для соседа по виртуальному каналу), для виртуального канала существуют IP-адреса локального и удаленного интерфейсов. Эти адреса используются при передаче пакетов OSPF через виртуальный канал. Отметим, когда одна или обе конечные точки виртуального соединения подключены к транзитной области через безадресное соединение point-to-point, определение IP-адреса (своего или виртуального соседа) может оказаться невозможным, что приведет к &laquo;падению&raquo; виртуального канала.</span></div>
<div class=paragraph style=" padding:0.48pt 56.64pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В анонсах router-LSA, генерируемых конечными точками для магистральной области, виртуальный канал представляется типом 4 - поле Link ID содержит значение OSPF Router ID соседа, а Link Data содержит IP-адрес виртуального интерфейса (см. параграф 12.4.1.</span></div>
<div class=paragraph style=" padding:0.24pt 56.40pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Немагистральная область может передавать транзитный трафик данных (т. е., использоваться как транзитная область) в тех и только в тех случаях, когда эта область задана в качестве транзитной для одного или нескольких виртуальных каналов с полной смежностью (см. TransitCapability в параграфах 6 и 16.1). Такие области требуют специальной трактовки при резюмировании в них информации о магистральных сетях (см. параграф 12.4.3) и в процессе расчета маршрутов (см. параграф 16.3).</span></div>
<div class=paragraph style=" padding:0.24pt 56.88pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Для виртуальных каналов задается время повтора передачи данных о состоянии каналов - RxmtInterval. Это время должно превышать ожидаемое значение времени кругового обхода (round-trip delay) между двумя маршрутизаторами. Оценка этого времени для виртуального канала может быть достаточно сложной и лучше будет переоценить задержку, нежели наоборот.</span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 30.00pt; text-align:left;"><span class=font13 style=" letter-spacing:-1.45pt;"><b><i>16.</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;</i></b></span><span style=" letter-spacing:-0.75pt;"><b><i>Расчет таблицы маршрутизации</i></b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этой главе рассмотрен процесс расчета таблицы маршрутизации OSPF. Используя базу данных о каналах подключенной области, маршрутизатор использует описанный ниже алгоритм для построения таблицы маршрутов. На каждом этапе построения маршрутизатор должен обращаться к отдельным частям базы данных (например, к анонсам router-LSA одного из маршрутизаторов). Эти обращения используют функции просмотра базы данных, описанные в параграфе 12.2. Функция поиска может возвращать LSA с возрастом MaxAge. Такие не должны использоваться при расчете маршрутов и результат поиска трактуется как отрицательный.</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 28.56pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Организация таблицы маршрутов OSPF описана в главе 11, где в качестве примера были построены таблицы для двух разных случаев (параграфы 11.2 и 11.3). Процесс построения таблицы можно разбить на несколько этапов:</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp; Существующая таблица маршрутов объявляется некорректной и начинается построение новой таблицы. Старая таблица сохраняется для идентификации изменений.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Внутридоменные маршруты рассчитываются путем построения дерева кратчайших путей для области. В частности, на этом этапе рассчитываются все записи таблицы маршрутов, для которых адресатами являются граничные маршрутизаторы области. Процесс выполняется в два приема - сначала строится дерево, содержащее только каналы между маршрутизаторами и транзитными сетями, а потом к дереву добавляются транзитные сети. При построении дерева кратчайших путей рассчитывается также значение TransitCapability, используемое на этапе 4.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt;">
<div class=block style=" width:302.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.32pt;">
<div class=block style=" width:154.32pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>46</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:720.00pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Рассчитываются междоменные маршруты путем просмотра анонсов summary-LSA. Если маршрутизатор подключен к нескольким областям (т. е., является граничным для области), принимаются во внимание только summary-LSA от магистрали.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;В граничных маршрутизаторах областей, подключенных по крайней мере к одной транзитной области (не относящаяся к магистрали область с TransitCapability = TRUE), проверяются summary-LSA от транзитных областей для проверки существования через транзитную область более короткого пути по сравнению с маршрутами, найденными на этапах 2 - 3.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;Рассчитываются внешние маршруты путем обработки AS-external-LSA. Местоположение граничных маршрутизаторов было определено на этапах 2-4.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Детальное описание этапов 2-5 приведено ниже.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Изменения, вносимые в таблицу маршрутов, могут потребовать от протокола OSPF дальнейших действий. Например, изменение внутридоменного маршрута от граничных маршрутизаторов области может потребоваться генерация новых анонсов summary-LSA (см. параграф 12.4). Полное описание действий OSPF в результате изменения таблицы маршрутов приведено в параграфе 16.7.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>16.1. Расчет кратчайшего пути для области</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот расчет дает набор внутридоменных маршрутов, связанных с областью (назовем ее областью A). Маршрутизатор, рассчитывающий дерево, использует себя в качестве корня<sup>29</sup>. Дерево строится в два этапа. На первом этапе рассматриваются только соединения между маршрутизаторами и транзитными сетями и на базе алгоритма Dijkstra строится часть дерева, к которой на втором этапе добавляются каналы в тупиковые области.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Процедура построения дерева рассмотрена в главе 2. База данных области представляется в виде направленного графа, вершинами которого служат маршрутизаторы, транзитные и тупиковые сети. На первом этапе расчета тупиковые не рассматриваются. При расчете кратчайшего пути с каждой транзитной вершиной связываются следующие данные:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Vertex (node) ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовый номер, который вместе с типом вершины (сеть или маршрутизатор) создает уникальное обозначение вершины. Для вершин маршрутизаторов поле Vertex ID содержит OSPF Router ID, для сетевых вершин – IP-адрес DR для этой сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>An LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждая транзитная вершина имеет связанную с ней запись LSA. Для вершин маршрутизаторов это router-LSA, для транзитных сетей - network-LSA (генерируется сетевым DR). В любом случае поле Link State ID в LSA равно Vertex ID.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of next hops</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Список следующих маршрутизаторов для текущего набора кратчайших путей от корня к вершине. Поддержка equal-cost multipath capability позволяет существовать множеству равноценных путей. Каждое значение next hop показывает выходной интерфейс маршрутизатора для передачи пакетов адресату. В широковещательных, Point-to-MultiPoint и NBMA-сетях next hop включает также IP-адрес следующего маршрутизатора (если он есть) на пути передачи пакетов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Distance from root</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Стоимость текущего набора кратчайших путей от корня до вершины. Стоимость пути рассчитывается как сумма стоимостей каналов на этом пути (в соответствии с router-LSA и network-LSA). Путь с меньшей стоимостью считается более коротким. При каждой итерации алгоритма Dijkstra существует список вершин-кандидатов. Пути от корня до таких вершин существуют, но не обязательно являются кратчайшими. Однако пути к вершинам-кандидатам, расположенным наиболее близко к корню, гарантированно будут кратчайшими. Такие вершины добавляются в дерево кратчайших путей и удаляются из списка кандидатов, а соседние с ними вершины проверяются на предмет возможности добавления (обновления) в список кандидатов. После этого выполняется новая итерация алгоритма. Процесс завершается, когда список кандидатов становится пустым. Ниже приведено детальное описание процедуры построения дерева. Напомним, что расчет ведется для области A и все обращения к базе данных относятся к этой области.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Инициализация структур данных алгоритма, очистка списка вершин-кандидатов. Инициализация дерева кратчайших путей к корню (маршрутизатор, рассчитывающий дерево). Установка для области A значения TransitCapability = FALSE</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Проверка записи LSA, связанной с добавляемой вершиной (назовем ее V) – поиск в базе данных области A по значению Vertex ID. Если запись является router-LSA и бит V (см. параграф A.4.2) в ней установлен, задаем для области A TransitCapability = TRUE. В любом случае, каждый канал, описанный в LSA, дает стоимость смежной с ним вершины. Для каждого описанного канала (скажем, между вершинами V и W) выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 92.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(a)&nbsp; &nbsp; Если канал ведет в тупиковую область, переходим к следующей вершине V в LSA, поскольку тупиковые области не рассматриваются на первом этапе расчета.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 92.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;В остальных случаях W является транзитной вершиной (маршрутизатор или транзитная сеть) и просматривается LSA (router-LSA или network-LSA) для этой вершины (W) в базе данных области A. Если LSA не существует, возраст записи равен MaxAge или не существует канала обратно к вершине V, переходим к следующему каналу LSA вершины V<sup>30</sup>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(c)&nbsp; &nbsp; Если вершина W уже включена в дерево кратчайших путей, проверяется следующий канал в LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 92.88pt; text-align:left; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(d)&nbsp; &nbsp;Расчет стоимости D результирующего пути от корня к вершине W. Значение D равно сумме стоимостей каналов (уже рассчитанной) для кратчайшего пути к вершине V и анонсируемой дистанции между вершинами V и W. <span class=font29>o </span>Если D превышает значение, уже полученное для вершины W в списке кандидатов, проверяется следующий канал. <span class=font29>o </span>Если D совпадает  со стоимостью для вершины  W в списке  кандидатов,  рассчитывается  набор next hop,</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 92.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">используемых с рассчитываемым каналом. Исходными данными для расчета являются получатель (W) и его родительская вершина (V). Расчет показан в параграфе 16.1.1. Набор интервалов должен добавляться к значениям next hop для вершины W в списке кандидатов. <span class=font29>o </span>Если D меньше стоимости для вершины W в списке кандидатов или W отсутствует в этом списке, организуется запись для вершины W в списке кандидатов, чтобы показать дистанцию D от корня. Рассчитывается также список next hop для использования с анонсируемым каналом и соответствующим образом устанавливаются значения next hop для вершины W. Расчеты next hop приведены в параграфе 16.1.1; в них используются адресат (W) и его родитель (V).</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Если на этом этапе список кандидатов пуст, это говорит о завершении процесса построения дерева кратчайших путей для транзитных вершин. Если список содержит вершины-кандидаты, из него выбирается вершина, наиболее близкая к корню и добавляется в дерево кратчайших путей (из списка кандидатов эта вершина удаляется). Отметим, что при наличии нескольких вершин, одинаково удаленных от корня, следует выбирать сначала вершины, связанные с сетями (а не маршрутизаторами), чтобы можно было включить все равноценные пути. Это связано с использованием tie-breaker в модифицированном алгоритме Dijkstra, применяемом в MOSPF (OSPF Multicast routing extensions).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:15.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:64.56pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>29</sup><span style=" letter-spacing:0.00pt;">&nbsp; Строго говоря, в результате поддержки равноценных путей результат расчета будет отличаться от дерева, но мы будем придерживаться термина &laquo;дерево&raquo; поскольку он повсеместно используется в литературе по данному вопросу.</span></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.55pt;"><sup>30</sup><span style=" letter-spacing:0.00pt;">&nbsp;Отметим, что достаточно наличия любого канала обратно к вершине V и не требуется, чтобы он был &laquo;обратной копией&raquo; канала от V к W. Достаточно обеспечить гарантию передачи данных между соседними маршрутизаторами для синхронизации баз данных.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>47&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:761.52pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;На этом этапе возможно обновление таблицы маршрутов. Для измененных записей таблицы маршрутизации указывается связанная область A, внутридоменный тип маршрута и стоимость, определенная в процессе расчета дерева. Если недавно добавленная вершина является граничным маршрутизатором области или AS, в таблицу маршрутов добавляется запись с типом адресата router. Поле опций, найденной в связанной записи router-LSA, копируется в поле дополнительных возможностей записи в таблице маршрутов (Optional capabilities). Назовем новую вершину X. Если маршрутизатор X является конечной точкой одного из виртуальных каналов ведущего расчет маршрутизатора и этот канал использует область A как транзитную, декларируется активность виртуального канала, в качестве адреса виртуального интерфейса устанавливается IP-адрес выходного интерфейса, рассчитанного выше для Router X, а в качестве адреса соседа устанавливается IP-адрес интерфейса Router X (содержится в router-LSA от маршрутизатора X), который указывает обратно на корень дерева кратчайших путей (этот интерфейс также указывает на родительскую вершину для Router X в дереве кратчайших путей – подобный расчет приведен в параграфе 16.1.1).</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если добавленная вершина является транзитной сетью, в таблице маршрутов создается запись для сети. Поле Destination ID содержит IP-номер сети, получаемый маскированием Vertex ID (Link State ID) – маска сети содержится в теле network-LSA. Если такая запись уже существует в таблице маршрутов, на одну сеть отображается несколько вершин графа. Например, такая ситуация может наблюдаться при выборе нового маршрутизатора DR – в этом случае текущая запись таблицы маршрутов должна заменяться в тех и только в тех случаях, когда новый путь короче указанного в текущей записи маршрута и поле Link State Origin в текущей записи меньше значения Link State ID в LSA добавленной вершины.</span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если для сети отсутствует запись в таблице (обычная ситуация), такая запись добавляется. Поле Link State Origin для новой записи должно содержать LSA добавляемой вершины.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;Новая итерация алгоритма, начиная с этапа 2.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После завершения расчета дерева для транзитных вершин в него добавляются тупиковые сети. На этом этапе заново проверяются вершины всех маршрутизаторов. Вершины, определенные на первом этапе как недоступные, отбрасываются. Для вершины каждого доступного маршрутизатора (назовем ее V) в базе данных отыскивается router-LSA. После этого просматриваются LSA для всех тупиковых сетей и выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Рассчитывается дистанция D тупиковой сети от корня, равная сумме дистанции от корня до вершины-маршрутизатора (вычисляется на этапе 1) и анонсируемой стоимости тупиковой сети. Полученное значение сравнивается с текущим значением лучшей стоимости тупиковой сети, путем просмотра текущей записи для тупиковой сети в таблице маршрутов. Если значение D превышает текущую стоимость, проверяется LSA для следующей тупиковой сети.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;При достижении этого этапа таблица маршрутизации тупиковой сети должна быть обновлена. Рассчитывается набор next hop в результате использования канала в тупиковую сеть (этот расчет показан в параграфе 16.1.1) с использованием адресата (тупиковая сеть) и родительской вершины (маршрутизатор). Если D совпадает со стоимостью в текущей записи таблицы маршрутов, набор next hop просто добавляется в список next hop записи в таблице. В таких случаях запись в таблице уже имеет поле Link State Origin. Если оно указывает на router-LSA с Link State ID &lt; Router ID для маршрутизатора V, в качестве Link State Origin устанавливается router-LSA маршрутизатора V.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если D меньше текущей стоимости, запись в таблице заменяется путем установки стоимости D и нового списка next hop. В поле Link State Origin записи в таблице маршрутов помещается router-LSA маршрутизатора V. После этого обрабатывается следующая тупиковая сеть.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для всех записей таблицы добавляемых или изменяемых на втором этапе, устанавливается внутридоменный тип маршрута, связанный с областью A. Второй этап завершается, когда список доступных router-LSA становится пустым. К этому моменту все маршруты, связанные с областью A, будут определены.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Данная спецификация не требует использования описанного выше двухэтапного метода расчета дерева кратчайших путей. Однако при использовании другого алгоритма должно генерироваться идентичное дерево. По этой причине важно отметить, что каналы между транзитными вершинами должны быть двухсторонними для включения их в дерево. Отметим также, что для расчета дерева существуют более эффективные алгоритмы (например, алгоритм SPF с нарастающими изменениями, описанный в [Ref1]).</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>16.1.1. Расчет next hop</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом параграфе описан способ расчета набора next hop (следующий маршрутизатор) для использования с адресатом. Каждый параметр next hop содержит интерфейс, используемый для пересылки пакетов адресату и IP-адрес следующего маршрутизатора (если он есть). Расчет next hop используется всякий раз при обнаружении кратчайшего пути к адресату, что может происходить на любом этапе построения дерева кратчайших путей (см. параграф 16.1). На первом этапе расчета дерева это происходит при добавлении найденного кратчайшего пути в список кандидатов или при изменении записи для кандидата (п. 2d этапа 1). На втором этапе кратчайший путь определяется всякий раз при изменении записи в таблице маршрутов (п. 2 этапа 2).</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">Набор next hop, используемый для адресата, может пересчитываться несколько раз в процессе построения дерева кратчайших путей. В конце расчетов запись таблицы маршрутов всегда будет содержать набор next hop для самого короткого пути (путей).</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Исходными данными для расчета next hop является a) получатель и b) его родитель в текущем кратчайшем пути между корнем (рассчитывающий дерево маршрутизатор) и получателем. Родитель всегда является транзитной вершиной (маршрутизатор или транзитная сеть).</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если текущий кратчайший путь между адресатом и корнем включает по крайней мере один промежуточный маршрутизатор, адресат просто наследует набор next hop от родителя. В противном случае возможны два варианта. В первом случае родительской вершиной является корень (ведущий расчет маршрутизатор). Это означает, что адресатом могут служить непосредственно подключенные сеть или маршрутизатор. Выходным интерфейсом в таких ситуациях является интерфейс OSPF подключенный к сети/маршрутизатору-адресату. Если адресатом является маршрутизатор, подключенный через сеть Point-to-MultiPoint, IP-адреса next hop можно определить, просматривая router-LSA для адресата - каждый канал, ведущий обратно к рассчитывающему маршрутизатору и имеющий поле Link Data, относящееся к сети Point-to-MultiPoint, обеспечивает IP-адрес следующего маршрутизатора (next hop). Если адресатом является напрямую подключенная сеть или маршрутизатор, соединенный с ведущим расчет маршрутизатором через интерфейс point-to-point, для next hop не требуется адреса IP. Если маршрутизатор-адресат подключен к рассчитывающему маршрутизатору через виртуальный канал, установка next hop должна быть отложена до выполнения расчетов, описанный в 16.3.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Во втором случае родительская вершина является сетью, которая напрямую подключает рассчитывающий маршрутизатор к маршрутизатору-получателю. Список следующих интервалов в этом случае определяется проверкой router-LSA для получателя. Для каждого канала в router-LSA, указывающего обратно на родительскую сеть, поле Link Data для канала содержит IP-адрес следующего маршрутизатора. Используемый в качестве выходного интерфейс можно в результате определить по IP-адресу следующего маршрутизатора или он может быть унаследован от родительской сети.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:25.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt;">
<div class=block style=" width:302.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.32pt;">
<div class=block style=" width:154.32pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>48</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:223.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:2.16pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:92.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>16.2. Расчет междоменных маршрутов</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Междоменные маршруты рассчитываются на основе summary-LSA. Если маршрутизатор имеет активные соединения с несколькими областями, принимаются во внимание только summary-LSA магистральной области. Маршрутизаторы, подключенные к одной области, используют только summary-LSA своей области. В любом случае все анонсы summary-LSA, рассматриваемые ниже являются частью базы данных одной области (назовем ее областью A).</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Анонсы Summary-LSA генерируются граничными маршрутизаторами областей. При расчете междоменных маршрутов принимаются во внимание все summary-LSA в области A. Напомним, что адресатом, описанным в summary-LSA, может быть сеть (summary-LSA типа 3 ) или граничный маршрутизатор AS (summary-LSA типа 4). Для каждого анонса summary-LSA выполняется следующее:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:2.88pt;">
</div>
</td>
<td class=cell colspan="10" rowspan="3" valign="top" style=" width:491.52pt;">
<div class=block style=" width:491.52pt; height:121.44pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если в LSA указана стоимость LSInfinity или возраст LSA равен MaxAge, переходим к следующему анонсу LSA.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если анонс LSA порожден рассчитывающим маршрутизатором, переходим к следующему анонсу LSA.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если summary-LSA относится к типу 3, набор адресатов, описываемых в summary-LSA, совпадает с одним из заданных для</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">области маршрутизатора диапазонов адресов (см. параграф 3.5) и адресный диапазон отдельной области является активным,</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">этот анонс summary-LSA следует игнорировать (активность означает наличие по крайней мере одной сети в диапазоне</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">области, доступной по внутридоменному пути).</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для остальных случаев назовем адресата, описываемого LSA, N (для summary-LSA типа 3 адрес N получается путем</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">наложения маски сети/подсети из тела LSA на значение Link State ID в LSA), а породивший LSA граничный маршрутизатор</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">области - BR. Будем искать в таблице маршрутов запись для BR имеющую область A в качестве связанной. Если такой записи</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">для BR не существует (т. е., BR недостижим в области A), данный анонс LSA следует пропустить и перейти к следующему.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">При наличии записи LSA описывает внутридоменный путь к адресату N, стоимость которого равна сумме дистанции до BR и</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">стоимости, указанной в LSA. Обозначим стоимость этого междоменного пути как IAC.</span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:28.56pt;">
<div class=block style=" width:28.56pt; height:121.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:59.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38>(1)</span></div>
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">(2) (3)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:58.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38>(4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:67.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38>(5)</span></div>
<div class=paragraph style=" padding:24.24pt 7.68pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:19.92pt;">(6) (7)</span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:520.08pt;">
<div class=block style=" width:520.08pt; height:67.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Далее будем искать в таблице маршрутов запись для адресата N (если N является граничным маршрутизатором AS, будем</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">искать в таблице запись router, связанную с областью A). Если в таблице нет записи для N или запись включает внешний путь</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">типа 1 или 2, устанавливаем междоменный путь к адресату N со связанной областью A, стоимостью IAC, значением next hop,</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">совпадающим со списком next hop к маршрутизатору BR и Advertising router = BR.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">В противном случае, если присутствующие в таблице пути являются внутридоменными, с LSA не нужно делать ничего</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">(внутридоменные пути всегда имеют предпочтение).</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">В остальных случаях присутствующие в таблице пути также являются междоменными. Устанавливаем новый путь через BR,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:300.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">если он дешевле, переписывая запись в таблице маршрутов. Если новый путь имеет ту же стоимость, добавляем его к списку</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">путей в записи таблицы маршрутов.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>16.3. Просмотр summary-LSA от транзитных областей</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Этот этап выполняется маршрутизаторами, подключенными к одной или нескольким немагистральным областям, способным</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">передавать транзитный трафик (на этапе 2 алгоритма Dijkstra устанавливается TransitCapability = TRUE, как описано в параграфе</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">16.1).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Целью описанного ниже расчета является проверка транзитных областей на предмет поиска лучшего (более короткого) пути по</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сравнению с результатами расчетов, описанных в параграфах 16.1 и 16.2. Любые пути, которые не хуже вычисленных ранее,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">добавляются в таблицу маршрутизации. Расчет также определяет актуальные значения next hop для тех адресатов, у которых</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">значения next hop, рассчитанные в 16.1 и 16.2 указывают на виртуальные каналы. После завершения описанных ниже расчетов все</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пути, рассчитанные в 16.1 и 16.2, которые имеют непреобразованные (unresolved) виртуальные значения next hop, должны</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">удаляться.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При расчете просматриваются summary-LSA от всех транзитных областей. Каждый анонс summary-LSA описывает маршрут через</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">транзитную область A в сеть N (адрес N определяется наложением маски сети/подсети из тела LSA на значение Link State ID в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSA) или (для summary-LSA типа 4) к граничному маршрутизатору AS. Предположим, что summary-LSA порождаются граничным</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизатором области - BR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Если стоимость, анонсируемая в summary-LSA, равна LSInfinity или LS age = MaxAge, проверяется следующая запись LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Если анонс summary-LSA был порожден ведущим расчет маршрутизатором, переходим к проверке следующего анонса LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Поиск в таблице маршрутов записи для N (если N является граничным маршрутизатором AS, нужно отыскать запись для маршрутизатора, связанную с магистральной областью). Если записи не существует в таблице, путь для записи является внутридоменным или междоменным, или область, связанная с записью в таблице, не относится к магистрали, переходим к проверке следующего анонса LSA. Иными словами, этот расчет только обновляет внутридоменные пути для магистральной области, определенные в параграфе 16.1 и междоменные пути, найденные в 16.2.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;Поиск в таблице записи для анонсирующего маршрутизатора BR, связанного с областью A. Если маршрутизатор недоступен, проверяется следующий анонс LSA. В противном случае стоимость доставки в сеть N равна сумме стоимости в записи базы области A для BR и стоимости, анонсируемой в LSA. Назовем суммарную стоимость IAC.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;Если    эта    стоимость    меньше    стоимости<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>........................</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">доставки в N из записи в таблице маршрутов,<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font29><b>. Area 1 (transit)    .</b></span><span class=font7><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span class=font29><b>+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 339.12pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">переписываем список next hop для N,<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:298.56pt;">
<div class=block style=" width:298.56pt; height:47.52pt;">
<div class=paragraph style=" padding:0.00pt 42.72pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">указывая next hop для BR, и значение IAC в качестве стоимости для N. Если IAC совпадает с текущей стоимостью для N, добавляем список next hop маршрутизатора BR к списку next hop сети N. В таких случаях </span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:192.96pt;">
<div class=block style=" width:192.96pt; height:45.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font29><b>+---+1        1+---+100</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 58.08pt; text-align:left;"><span class=font29 style=" letter-spacing:-0.95pt;"><b>|RT2|</b><span style=" letter-spacing:0.00pt;"><b>----------|RT4|==</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.08pt; text-align:left;"><span class=font20><b>1/-I</b><span class=font7><b>___________</b></span><span class=font17><b>i-********* </b></span><span class=font0><b>-|</b></span><span class=font7><b>___________</b></span><span class=font0><b>|-</b></span></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:21.36pt;">
<div class=block style=" width:21.36pt; height:47.52pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:82.08pt;">
<div class=block style=" width:82.08pt; height:47.52pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:1.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 35.28pt; text-align:left;"><span class=font29><b>l/*Vi</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.36pt;">
<div class=block style=" width:21.36pt; height:1.68pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:115.44pt;">
<div class=block style=" width:115.44pt; height:1.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font29><b>al</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.88pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:298.56pt;">
<div class=block style=" width:298.56pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 17.76pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">область, связанная с записью таблицы маршрутов для N должна оставаться в <span class=font29><b>== </b></span>магистрали, а тип пути (внутридоменный или междоменный) не должен изменяться. Важно </span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:46.08pt;">
<div class=block style=" width:46.08pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.70pt;"><b>1+</b><span style=" letter-spacing:0.00pt;"><b>---</b></span><span style=" letter-spacing:-0.50pt;"><b>+/*</b></span></span></div>
<div class=paragraph style=" padding:0.24pt 1.44pt 0.00pt 8.40pt; text-align:left; text-indent:-8.40pt;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.80pt;"><b>==|RT1</b><span class=font7><b>1 </b></span><b>* </b><span style=" letter-spacing:-0.35pt;"><b>+ </b></span><span class=font7 style=" letter-spacing:-0.35pt;"><b>— </b></span><span style=" letter-spacing:-0.35pt;"><b>+\ </b></span><span class=font31 style=" letter-spacing:0.00pt;"><b>\</b></span></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:146.88pt;">
<div class=block style=" width:146.88pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.08pt; text-align:left;"><span class=font29><b>Link</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:21.36pt;">
<div class=block style=" width:21.36pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font29><b>Net</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:82.08pt;">
<div class=block style=" width:82.08pt; height:37.92pt;">
<div class=paragraph style=" padding:0.00pt 60.48pt 0.00pt 0.00pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>work | N1</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.88pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:333.84pt;">
<div class=block style=" width:333.84pt; height:36.72pt;">
<div class=paragraph style=" padding:0.00pt 78.24pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">подчеркнуть, что приведенный выше расчет никогда не показывает недоступность достижимых адресатов, но может находить более короткие пути к доступным </span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:91.44pt;">
<div class=block style=" width:91.44pt; height:56.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font29><b>\</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.60pt;"><b>1\+</b><span style=" letter-spacing:0.00pt;"><b>---</b></span><span style=" letter-spacing:-0.50pt;"><b>+1</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 22.80pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.80pt;"><b>|RT3| </b><span class=font7><b>—</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 20.64pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:169.68pt;">
<div class=block style=" width:169.68pt; height:56.40pt;">
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font29 style=" line-height:10.08pt; letter-spacing:-0.85pt;"><b>1+</b><span style=" letter-spacing:0.00pt;"><b>---</b></span><span style=" letter-spacing:-0.45pt;"><b>+20</b></span></span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7 style=" line-height:10.08pt; letter-spacing:-0.50pt;"><b>— </b><span class=font29><b>|RT5| =</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 8.40pt; text-align:left;"><span class=font29 style=" line-height:10.08pt;"><b>+---+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:333.84pt;">
<div class=block style=" width:333.84pt; height:19.68pt;">
<div class=paragraph style=" padding:0.00pt 78.24pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">получателям. В результате расчета лучшие пути включаются в таблицу маршрутов и </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:298.56pt;">
<div class=block style=" width:298.56pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 42.72pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">заново анонсируются с помощью summary-<br></span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:296.40pt;">
<div class=block style=" width:296.40pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font38><i>Рисунок 13. Маршрутизация через транзитные области.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:35.04pt;">
<div class=paragraph style=" padding:0.00pt 433.44pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-heightlass=font38><i>Рисунок 13. Маршрутизация через транзитные области.</i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:35.04pt;">
<div class=paragraph style=" padding:0.00pt 433.44pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">LSA в другие области.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В качестве примера расчета рассмотрим автономную систему, показанную на рисунке 13. Здесь имеется одна немагистральная область (Area 1), физически делящая магистраль на две части. Для создания связной магистрали организуется виртуальный канал между маршрутизаторами RT1 и RT4. Сеть N1 в правой части рисунка относится к магистралop" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:298.56pt;">
<div class=block style=" width:298.56pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:126.72pt;">
<div class=block style=" width:126.72pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 5.04pt; text-align:left;"><span class=font7><b>49</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:169.68pt;">
<div class=block style=" width:169.68pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.24pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:223.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:21.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:53.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:760.56pt;">
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.08pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">существует значительно более короткий внутридоменный путь в сеть N1 от маршрутизатора RT5 (стоимость 20), нежели от маршрутизатора RT4 (стоимость 100). Оба маршрутизатора RT4 и RT5 будут передавать свои summary-LSA для сети N1 в область Area 1.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">После расчета дерева кратчайших путей для магистрали (см. параграф 16.1) маршрутизатор RT1 (левая сторона виртуального канала) будет иметь рассчитанный путь через RT4 для всех пакетов в сеть N1. Однако, поскольку RT5 обеспечивает значительно более короткий путь в сеть N1, все внутренние маршрутизаторы области 1 (например, RT2 и RT3) будут пересылать свои пакеты для сети N1 через маршрутизатор RT5 вместо RT4. После проверки summary-LSA для области 1 с помощью описанной выше процедуры маршрутизатор RT1 также будет пересылать пакеты для сети N1 в направлении RT5. Отметим, что в этом примере виртуальный канал позволяет пересылать транзитный трафик через область 1, но реальные пакеты данных не проходят через виртуальный канал. Иными словами, виртуальный канал делает возможным транзитный трафик, но не требует передачи такого трафика именно через виртуальное соединение.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.55pt;"><b>16.4.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.25pt;"><b>Расчет внешних маршрутов AS</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.08pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Внешние маршруты AS рассчитываются путем обработки всех имеющихся анонсов AS-external-LSA. Большинство AS-external-LSA описывают маршруты к конкретным адресатам, но некоторые содержат описания принятых по умолчанию маршрутов для AS (Destination ID = DefaultDestination, маска сети/подсети = 0x00000000). Для AS-external-LSA выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;LSA со стоимостью LSInfinity или возрастом MaxAge исключаются из рассмотрения.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;LSA, порожденные рассчитывающим маршрутизатором, также не рассматриваются.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.52pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp; Обозначим адресата, описываемого в LSA, как N. Адрес N определяется наложением на Link State ID в LSA маски сети/подсети, содержащейся в теле LSA. В таблице маршрутов ищем запись (потенциально имеется одна запись на подключенную область) для граничного маршрутизатора AS (ASBR), породившего LSA. Если записи для маршрутизатора ASBR не существует (т. е., ASBR недоступен), переходим к следующему анонсу LSA в списке.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В остальных случаях анонс LSA описывает внешний путь к адресату N. Адрес пересылки в AS-external-LSA указывает IP-адрес, по которому должны переправляться пакеты для адресата.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если в качестве адреса пересылки указано значение 0.0.0.0, пакеты должны пересылаться маршрутизатору ASBR. При наличии в таблице нескольких записей для ASBR выбирается предпочтительный маршрут с учетом приведенных ниже условий. Если совместимость с RFC-1583 (RFC 1583Compatibility) отключена, сокращаем набор записей для ASBR в маршрутной таблице, как описано в параграфе 16.4.1. Из оставшихся записей выбираем маршрут с минимальной стоимостью. Если таких маршрутов несколько, выбираем среди них запись с максимальным значением OSPF Area ID (рассматривая как беззнаковое целое число) для связанной области.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если адрес для пересылки не равен 0, отыскивается адрес пересылки в таблице маршрутов<sup>31</sup>. Соответствующая запись таблицы должна указывать внутридоменный или междоменный путь; если такого пути не существует, с LSA ничего не нужно делать и переходим к следующему анонсу в списке.</span></div>
<div class=paragraph style=" padding:0.00pt 57.60pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.52pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;Пусть X указывает стоимость предпочтительного маршрута для ASBR/адреса пересылки, а Y - стоимость, указанную в LSA. X выражается в единицах метрики link state, а Y является внешней метрикой типа 1 или 2.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.52pt;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;Просматриваем таблицу маршрутизации для адресата N. Если записи для N не существует, устанавливается внешний путь к N, для которого next hop совпадает со списком next hop к адресам пересылки, а для анонсирующего маршрутизатора указано значение ASBR. Если внешний путь имеет метрику типа 1, для пути устанавливается тип 1 (external) со стоимостью X+Y. Если внешняя метрика относится к типу 2, для пути устанавливается тип 2 (external), компонента стоимости link state имеет значение X, а стоимость типа 2 равна Y.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.08pt; text-align:justify; text-indent:-17.52pt;"><span class=font38 style=" line-height:9.84pt;">(6)&nbsp; &nbsp;Сравниваем внешний путь, описанный в LSA с существующими в таблице маршрутов путями в сеть N. Если новый путь является предпочтительным, он помещается в таблицу вместо существующих путей в сеть N. Если новый путь имеет такие же предпочтения, он добавляется в список путей маршрутной записи для сети N.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(a)&nbsp; &nbsp; Внутридоменные и междоменные маршруты всегда более предпочтительны, нежели внешние маршруты.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.08pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;Внешние пути типа 1 предпочтительней, нежели пути типа 2. Когда все внешние пути относятся к типу 2, среди них предпочтительным является путь с наименьшей анонсируемой метрикой.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 64.32pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:9.84pt;">(c)&nbsp; &nbsp; Если новый внешний путь не отличается от текущего пути в маршрутной записи для сети N и совместимость RFC1583Compatibility отключена, предпочтительный путь выбирается на основе оценки внутренних путей к ASBR/адресу пересылки, как описано в параграфе 16.4.1.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.32pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:9.84pt;">(d)&nbsp; &nbsp;Если новый внешний путь по прежнему не отличается от текущего пути в маршрутной записи для сети N, выбираем предпочтительный путь, сравнивая стоимости. Внешние пути типа 1 сравниваются с учетом суммы дистанции до адреса пересылки и анонсируемой метрики типа 1 (X+Y). Внешние пути типа 2, анонсирующие метрику типа 2, сравниваются по дистанции до адреса пересылки.</span></div>
<div class=paragraph style=" padding:7.20pt 0.00pt 0.00pt 29.76pt; text-align:left;"><span class=font11 style=" line-height:10.08pt; letter-spacing:-0.70pt;"><b><i>16.4.1. Предпочтения для внешнего пути</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">При наличии в AS множества путей к ASBR/адресу пересылки для выбора предпочтительного пути используются приведенные</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">здесь правила. Эти правила применяются когда один маршрутизатор ASBR доступен через множество областей или когда</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">требуется  отдать  предпочтение  одному  из  анонсов  AS-external-LSA.  В  первом  случае  все пути  завершаются  на  одном</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">маршрутизаторе ASBR, а во втором - на разных ASBR/адресах пересылки. В обоих случаях каждый из путей представляется</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">отдельной записью в таблице маршрутов (см. главу 11).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Приведенные в этом параграфе правила применимы только при отключенной совместимости RFC1583Compatibility.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Порядок выбора предпочтительного пути показан ниже. Отметим, что в результате применения этих правил может остаться</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">несколько путей с одинаковыми уровнями предпочтения. В таких случаях путь выбирается на основе стоимости (см. параграф</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">16.4).</span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Сначала выбираются пути внутри области, не использующие магистраль.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Внутренние пути через магистраль и междоменные пути имеют одинаковый уровень предпочтения.</span></div>
<div class=paragraph style=" padding:6.96pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.55pt;"><b>16.5.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.15pt;"><b>Нарастающие обновления - summary-LSA</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При получении нового анонса summary-LSA необходимо пересчитывать всю таблицу маршрутизации. Обозначим адресата, анонсируемого в summary-LSA как N (адрес N определяется наложением на значение Link State ID из LSA маски сети/подсети из тела LSA), а область, к которой относится LSA - A. Возможны два разных случая: (1)   Область A является магистральной и/или маршрутизатор не является граничным. В таких случаях выполняются приведенные</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">ниже расчеты.</span></div>
<div class=paragraph style=" padding:0.24pt 56.64pt 0.00pt 65.76pt; text-align:justify; text-indent:-18.24pt;"><span class=font38 style=" line-height:10.80pt;"><b>&#9830; </b>Сначала, если присутствует внутридоменный маршрут в сеть N, запись для N объявляется некорректной, но сохраняется для последующего сравнения.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" letter-spacing:-0.85pt;"><sup>31</sup> <span style=" letter-spacing:0.00pt;">Отличный от 0 адрес пересылки должен указывать на маршрутизатор, относящийся к другой AS (см. параграф 12.4.4).</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:720.24pt;">
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 93.84pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>После этого выполняются расчеты, описанные в параграфе 16.2 для одного адресата N. В этом расчете участвую все summary-LSA области A, описывающие путь в сеть N.</span></div>
<div class=paragraph style=" padding:0.48pt 28.56pt 0.00pt 93.84pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Дополнительно, если маршрутизатор является граничным и подключен к одной или нескольким транзитным областям, нужно снова провести расчеты, описанные в параграфе 16.3, для одного адресата. Если результаты этих расчетов изменяют стоимость/путь к граничному маршрутизатору AS (как в случае summary-LSA типа 4) или любому из адресов пересылки, нужно заново просмотреть все AS-external-LSA, используя расчет из параграфа 16.4. В противном случае, если сеть N недавно стала недоступной, нужно повторить расчеты из параграфа 16.4 для одного адресата N в случае существования альтернативных внешних путей в сеть N.</span></div>
<div class=paragraph style=" padding:0.00pt 29.28pt 0.00pt 74.88pt; text-align:justify; text-indent:-17.76pt;"><span class=font38 style=" line-height:10.32pt;">(2) Область A является транзитной, а маршрутизатор - граничным для области. В таких случаях требуется провести описанные ниже расчеты.</span></div>
<div class=paragraph style=" padding:0.48pt 28.56pt 0.00pt 93.84pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Сначала, если запись в таблице маршрутов для N содержит один или несколько междоменных путей с использованием области A, эти пути следует удалить. Если из записи удаляются все пути, запись отмечают как некорректную. Старые данные из записи должны быть сохранены для последующего сравнения.</span></div>
<div class=paragraph style=" padding:0.24pt 28.56pt 0.00pt 93.84pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>После этого выполняются расчеты, описанные в параграфе 16.3 для одного адресата N. Если в результате расчетов стоимость пути в N возрастает, нужно заново пересчитать всю таблицу маршрутизации с использованием алгоритма Dijkstra, как описано в параграфе 16.1.</span></div>
<div class=paragraph style=" padding:0.48pt 28.32pt 0.00pt 93.84pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>В остальных случаях, если стоимость/путь к граничному маршрутизатору AS (как в случае summary-LSA типа 4) или любому из адресов пересылки, нужно заново просмотреть все AS-external-LSA, используя расчет из параграфа 16.4. В противном случае, если сеть N недавно стала недоступной, нужно повторить расчеты из параграфа 16.4 для одного адресата N в случае существования альтернативных внешних путей в сеть N.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.65pt;"><b>16.6.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp; </b></span><span style=" letter-spacing:-0.15pt;"><b>Нарастающие обновления - AS-external-LSA</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При получении нового анонса AS-external-LSA не требуется пересчета всей таблицы маршрутов. Обозначим описываемого AS-external-LSA адресата как N. Адрес N можно определить, применяя маску из тела LSA к значению поля Link State ID. Если к адресату имеется внутридоменный или междоменный маршрут, не требуется никаких расчетов (внутренний путь имеет предпочтение).</span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При отсутствии внутренних путей используется расчет, описанный в параграфе 16.4, выполняемый только для анонсов AS-external-LSA, указывающих путь в сеть N. Перед выполнением расчетов запись в таблице для адресата N объявляется некорректной.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.65pt;"><b>16.7.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.20pt;"><b>События, генерируемые при изменении таблицы маршрутов</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.32pt;">Изменения в таблице маршрутов иногда требуют от граничных маршрутизаторов OSPF выполнения добавочных действий. К числу таких изменений относятся следующие:</span></div>
<div class=paragraph style=" padding:0.48pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Изменилась стоимость или тип пути для записи таблицы. Если данная запись содержит путь в сеть или к граничному маршрутизатору AS и это не простое изменение внешнего маршрута, может потребоваться генерация нового анонса summary-LSA (возможно для каждой из подключенных областей, включая магистральную). Подробная информация приведена в параграфе 12.4.3. Если ранее анонсированная запись была удалена или больше не может анонсироваться для определенной области, требуется удалить LSA из домена маршрутизации путем установки для них возраста MaxAge и повторения лавинной рассылки (см. параграф 14.1).</span></div>
<div class=paragraph style=" padding:0.48pt 28.08pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Запись таблицы маршрутов, связанная с виртуальным каналом изменена. Это изменение показывает смену стоимости или доступности виртуального соединения.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если запись показывает, что граничный маршрутизатор области стал доступен недавно, соответствующий виртуальный канал работает. Для виртуального канала должно генерироваться событие InterfaceUp, которое будет инициировать формирование смежности (см. параграф 10.3). В этот момент также определяется IP-адрес интерфейса и Neighbor IP виртуального соседа. Если запись показывает, что граничный маршрутизатор области более не доступен, виртуальный канал и связанные с ним отношения смежности уничтожаются. Это означает необходимость генерации события InterfaceDown для связанного виртуального канала.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Если стоимость для записи изменена и существует полная виртуальная смежность, должен генерироваться новый анонс router-LSA для магистрали, что может потребовать дальнейших изменений в таблице маршрутизации.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font11 style=" letter-spacing:-0.55pt;"><b>16.8.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.25pt;"><b>Множество равноценных путей</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF поддерживает множество равноценных путей ко всем получателям. Эту поддержку можно видеть в описанных выше этапах расчета таблицы маршрутов и в определении структуры таблицы маршрутизации.</span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Все маршруты из множества равноценных имеют один тип (внутридоменный, междоменный, внешний типа 1 или 2), равную стоимость и связаны с одной областью. Однако каждый маршрут может указывать свое значение next hop и Advertising router.</span></div>
<div class=paragraph style=" padding:5.76pt 28.08pt 0.00pt 57.12pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">От маршрутизаторов OSPF не требуется сохранять все возможные равноценные пути к адресату. Разработчики могут ограничиться сохранением фиксированного числа равноценных путей к любому из адресатов - это не повлияет на работу описанных алгоритмов.</span></div>
<div class=paragraph style=" padding:14.64pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font11 style=" line-height:10.32pt;"><b><i>Литература</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">[Ref1] McQuillan, J., I. Richer and E. Rosen, &quot;ARPANET Routing Algorithm Improvements&quot;, BBN Technical Report 3803, April 1978.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:10.32pt;">[Ref2]   Digital Equipment Corporation, &quot;Information processing systems -- Data communications -- Intermediate System to Intermediate</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">System Intra-Domain Routing Protocol&quot;, October 1987.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref3] McQuillan, J., et.al, &quot;The New Routing Algorithm for the ARPANET&quot;, IEEE Transactions on Communications, May 1980.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref4] Perlman, R., &quot;Fault-Tolerant Broadcast of Routing Information&quot;, Computer Networks, December 1983.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref5] Postel, J., &quot;Internet Protocol&quot;, STD 5, RFC 791<sup>32</sup>, September 1981.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref6] McKenzie, A., &quot;ISO Transport Protocol specification ISO DP 8073&quot;, RFC 905, April 1984.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref7] Deering, S., &quot;Host extensions for IP multicasting&quot;, STD 5, RFC 1112<sup>33</sup>, May 1988.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:32.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:44.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.55pt;"><sup>32</sup><span style=" letter-spacing:0.00pt;">&nbsp;Перевод спецификации протокола IP вы можете найти на сайте </span><span style=" color:rgb(0,0,128); letter-spacing:0.00pt;"><a href="index.html"><u>rfc.com.ru</u></a></span><span style=" letter-spacing:0.00pt;">. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.55pt;"><sup>33</sup><span style=" letter-spacing:0.00pt;">&nbsp;Перевод RFC 1112 имеется на сайте </span><span style=" color:rgb(0,0,128); letter-spacing:0.00pt;"><a href="index.html"><u>rfc.com.ru</u></a></span><span style=" letter-spacing:0.00pt;">. RFC 2236 содержит ряд дополнений и изменений для этого документа. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>51&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:220.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38>[Ref8] McCloghrie, K., and M. Rose, &quot;Management Information Base for network management of TCP/IP-based internets: MIB-II&quot;, STD</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">17, RFC 1213<sup>34</sup>, March 1991.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref9] Moy, J., &quot;OSPF Version 2&quot;, RFC 1583<sup>35</sup>, March 1994.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref10] Fuller, V., T. Li, J. Yu, and K. Varadhan, &quot;Classless Inter-Domain Routing (CIDR): an Address Assignment and Aggregation</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Strategy&quot;, RFC1519<sup>36</sup>, September 1993.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref11] Reynolds, J., and J. Postel, &quot;Assigned Numbers&quot;, STD 2, RFC 1700<sup>37</sup>, October 1994.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref12] Almquist, P., &quot;Type of Service in the Internet Protocol Suite&quot;, RFC 1349<sup>38</sup>, July 1992.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref13] Leiner, B., et.al., &quot;The DARPA Internet Protocol Suite&quot;, DDN Protocol Handbook, April 1985.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref14] Bradley, T., and C. Brown, &quot;Inverse Address Resolution Protocol&quot;, RFC 1293<sup>39</sup>, January 1992.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref15] deSouza, O., and M. Rodrigues, &quot;Guidelines for Running OSPF Over Frame Relay Networks&quot;, RFC 1586, March 1994.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref16] Bellovin, S., &quot;Security Problems in the TCP/IP Protocol Suite&quot;, ACM Computer Communications Review, Volume 19, Number 2,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">pp. 32-38, April 1989.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref17] Rivest, R., &quot;The MD5 Message-Digest Algorithm&quot;, RFC 1321<sup>36</sup>, April 1992.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref18] Moy, J., &quot;Multicast Extensions to OSPF&quot;, RFC 1584, March 1994.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref19] Coltun, R., and V. Fuller, &quot;The OSPF NSSA Option&quot;, RFC 1587, March 1994.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref20] Ferguson, D., &quot;The OSPF External Attributes LSA&quot;, work in progress.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref21] Moy, J., &quot;Extending OSPF to Support Demand Circuits&quot;, RFC 1793, April 1995.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref22] Mogul, J., and S. Deering, &quot;Path MTU Discovery&quot;, RFC 1191<sup>36</sup>, November 1990.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref23] Rekhter, Y., and T. Li, &quot;A Border Gateway Protocol 4 (BGP-4)&quot;, RFC 1771<sup>40</sup>, March 1995.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref24] Hinden, R., &quot;Internet Routing Protocol Standardization Criteria&quot;, BBN, October 1991.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref25] Moy, J., &quot;OSPF Version 2&quot;, RFC 2178<sup>41</sup>, July 1997.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref26] Rosen, E., &quot;Vulnerabilities of Network Control Protocols: An Example&quot;, Computer Communication Review, July 1981.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:474.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:104.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>34</sup><span style=" letter-spacing:0.00pt;">&nbsp;RFC 2011 – RFC 2013 содержат ряд дополнений и изменений для этого документа. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 109.20pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>35</sup><span style=" letter-spacing:0.00pt;">&nbsp;</span><span style=" letter-spacing:-0.05pt;">Этот документ устарел и заменен RFC 2178, который, в свою очередь, отменяет данная спецификация. <i>Прим. перев. </i></span><span style=" letter-spacing:0.00pt;"><sup>36</sup>Перевод этого документа имеется на сайте </span><span style=" color:rgb(0,0,128); letter-spacing:0.00pt;"><a href="index.html"><u>http://rfc.com.ru</u></a></span><span style=" letter-spacing:0.00pt;">. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>37</sup><span style=" letter-spacing:0.00pt;">&nbsp;В соответствии с RFC 3232 документ STD 2 утратил силу. Значения Assigned Numbers следует искать в базе данных, доступной на сайте </span><span style=" color:rgb(0,0,128); letter-spacing:0.00pt;"><a href="http://www.iana.org/numbers.html"><u>www.iana.org/numbers.html</u></a></span><span style=" letter-spacing:0.00pt;">. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>38</sup><span style=" letter-spacing:0.00pt;">&nbsp;Этот документ устарел и заменен RFC 2474. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:-0.40pt;"><sup>39</sup><span style=" letter-spacing:0.00pt;">&nbsp;Этот документ устарел и заменен RFC 2390. <i>Прим. перев.</i></span></span></div>
<div class=paragraph style=" padding:0.00pt 145.68pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><sup>40</sup>Этот документ устарел и заменен RFC 4271. Перевод имеется на сайте <span style=" color:rgb(0,0,128);"><a href="index.html"><u>http://rfc.com.ru</u></a></span>. <i>Прим. перев. </i><sup>41</sup> Этот документ устарел и отменяется настоящей спецификацией. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>52&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:748.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font12><b><i>Приложения</i></b></span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>A. Форматы данных OSPF</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">В этом приложении описаны форматы пакетов OSPF и анонсов OSPF LSA. Протокол OSPF работает непосредственно поверх протокола сетевого уровня IP. Перед описанием форматов детально рассматривается инкапсуляция OSPF.</span></div>
<div class=paragraph style=" padding:5.76pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Далее рассматривается поле опций OSPF (Options), описывающее различные дополнительные возможности, которые могут поддерживаться отдельными частями домена маршрутизации OSPF. Поле опций OSPF содержится в пакетах Hello, DD и анонсах LSA.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38>Форматы пакетов OSPF описаны в разделе A.3, а описание LSA дается в разделе A.4.</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12 style=" letter-spacing:-0.75pt;"><b>A.1 Инкапсуляция пакетов OSPF</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 57.12pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">OSPF работает непосредственно поверх протокола IP и пакеты OSPF, следовательно, инкапсулируются с использованием только заголовков IP и канального уровня.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">OSPF не определяет способа фрагментации для своих пакетов и полагается на фрагментацию IP при передаче в сетях с малым значением MTU. При необходимости размер пакетов OSPF может достигать 65 535 байтов (включая заголовок IP). Пакеты тех типов OSPF, которые могут достигать большого размера (DD, LSR, LSU и LSAck), обычно можно разделить на несколько более мелких пакетов без потери функциональности. Рекомендуется поступать именно так, избегая фрагментации IP. По тем же причинам следует предпринимались попытки ограничения размера пакетов OSPF, передаваемых через виртуальные соединения, значением 576 байтов, пока не используется Path MTU Discovery [Ref22]. Другими важными особенностями инкапсуляции OSPF являются:</span></div>
<div class=paragraph style=" padding:0.72pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Использование IP multicast. Некоторые сообщения OSPF являются групповыми при их передаче через широковещательные сети. Используются два разных адреса для групповой передачи. Передаваемые с использованием этих адресов пакеты не должны пересылаться, это значит, что они передаются только на один интервал (hop). Для предотвращения дальнейшей пересылки должно ограничиваться время жизни пакетов (TTL = 1).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AUSPFRouters</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 92.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Эта константа обозначает групповой адрес 224.0.0.5. Все маршрутизаторы OSPF должны быть готовы к приему пакетов, переданных по этому адресу. Пакеты Hello всегда передаются по адресу AllSPFRouters. Кроме того, этот адрес используется для передачи некоторых пакетов OSPF в процессе лавинной рассылки.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.16pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AttDRouters</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 92.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Эта константа используется для обозначения группового адреса 224.0.0.6. Оба маршрутизатора DR и Backup DR должны быть готовы к приему пакетов, направленных по этому адресу. Некоторые пакеты OSPF передаются по этому адресу в процессе лавинной рассылки.</span></div>
<div class=paragraph style=" padding:0.48pt 29.28pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.56pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Протокол OSPF имеет в IP номер 89, зарегистрированный в NIC. Распределение номеров для протоколов IP описано в [Ref11].</span></div>
<div class=paragraph style=" padding:0.24pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.56pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Все служебные пакеты OSPF передаются с использованием значения TOS для нормального обслуживания (0000 в соответствии с работой [Ref12]).</span></div>
<div class=paragraph style=" padding:0.24pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:10.56pt;"><b>&#9830;&nbsp; &nbsp; &nbsp; </b>Для пакетов протокола маршрутизации уровень предпочтений IP устанавливается в Internetwork Control. Пакеты OSPF должны иметь преимущество перед обычными пакетами данных IP как для приема, так и для передачи. Установка в поле IP precedence заголовка IP значения Internetwork Control [Ref5] помогает обеспечить такое преимущество.</span></div>
<div class=paragraph style=" padding:4.56pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12 style=" letter-spacing:-0.70pt;"><b>A.2 Поле Options</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Поле опций OSPF присутствует в пакетах Hello, DD и всех типах LSA. Это поле позволяет маршрутизаторам OSPF поддерживать</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(или не поддерживать) дополнительные возможности и сообщать уровень поддержки другим маршрутизаторам OSPF. Этот</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">механизм позволяет смешивать разные маршрутизаторы в домене маршрутизации OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При использовании  в  пакетах  Hello  поле  Options  позволяет  маршрутизатору  отказаться  от соседа при рассогласовании</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">возможностей. Зная о возможностях соседей из пакетов DD, маршрутизатор может не передавать некоторые анонсы LSA соседям,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">не поддерживающим соответствующих функций. И, наконец, перечисление возможностей в LSA позволяет маршрутизаторам</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пересылать трафик в обход маршрутизаторов с ограниченными возможностями, исключая такие маршрутизаторы при расчете</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">путей для таблицы маршрутизации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В поле OSPF Options выделены 5 битов, хотя данная спецификация полностью описывает только один из них (E). Краткое</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">описание всех флагов приведено ниже. Маршрутизатор должен сбрасывать в 0 нераспознанные биты поля Options при передаче</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакетов Hello и DD, а также при генерации LSA. Маршрутизатор, получивший неизвестные биты опций в пакетах Hello и DD или</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">анонсах LSA, должен игнорировать эти биты, обрабатывая известные флаги как обычно.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Е</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 157.92pt 0.00pt 56.64pt; text-align:left; text-indent:18.48pt;"><span class=font38 style=" line-height:9.84pt;">Описывает способ лавинной рассылки AS-external-LSA (см. параграфы 3.6, 9.5, 10.8 и 12.1.2). <b><i>МС</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Этот бит устанавливается при рассылке групповых (multicast) дейтаграмм IP в соответствии со спецификацией [Ref18].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>N/P</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Флаг обработки LSA типа 7 в соответствии с [Ref1 9].<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>*     *      D       E       N/      M     E     *</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ЕА</i></b><span class=font7><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><b><u>|</u>   </b>C   <b><u>|</u>   </b>A   <b><u>|</u>    </b>P    <b><u>|</u>    </b>C<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><b><u>|</u></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Флаг  приема  и пересылки  анонсов  External-Attributes-LSA  в  соответствии  с<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><i>Поле Options</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">[Ref20].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>DC</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 75.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Флаг обработки demand circuit в соответствии с [Ref21].</span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12 style=" letter-spacing:-0.75pt;"><b>A.3 Форматы пакетов OSPF</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Существует 5 различных форматов пакетов OSPF. Все пакеты OSPF начинаются со стандартного 24-байтового заголовка, описанного в следующем параграфе. После заголовка описаны форматы каждого типа пакетов и рассмотрены поля этих пакетов. Пакеты OSPF всех типов за исключением пакетов Hello, предназначены для работы со списками LSA. Например, пакеты LSU обеспечивают лавинную рассылку LSA в домене маршрутизации OSPF. По этой причине пакеты протокола OSPF невозможно разобрать, не понимая форматов LSA, описанных в разделе A.4. Обработка принимаемых пакетов OSPF описана в параграфе 8.2, а передача пакетов OSPF - в параграфе 8.1.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:38.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>53&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:23.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:219.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.00pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="16" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:52.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>A.3.1 Заголовок пакета OSPF</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Каждый пакет OSPF начинается со стандартного заголовка размером 24 байта, содержащего всю информацию, требуемую для дальнейшей обработки пакета (см. параграф 8.2).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Version #</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Номер версии протокола OSPF. Данная спецификация описывает версию 2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="4" valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38><b><i>Type</i></b></span></div>
</div>
</td>
<td class=cell colspan="19" valign="top" style=" width:548.64pt;">
<div class=block style=" width:548.64pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" rowspan="2" valign="top" style=" width:355.20pt;">
<div class=block style=" width:355.20pt; height:10.08pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="5" valign="top" style=" width:14.88pt;">
<div class=block style=" width:14.88pt; height:32.88pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:10.08pt;"><u>Тип</u></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:10.08pt;">1</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:10.08pt;">2</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:178.56pt;">
<div class=block style=" width:178.56pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:8.16pt;">
</td>
<td class=cell colspan="8" rowspan="3" valign="top" style=" width:178.56pt;">
<div class=block style=" width:178.56pt; height:28.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;"><u>Название</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Hello</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Database Description</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:8.16pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:355.20pt;">
<div class=block style=" width:355.20pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:18.24pt;">
</td>
<td class=cell colspan="10" rowspan="4" valign="top" style=" width:401.52pt;">
<div class=block style=" width:401.52pt; height:69.84pt;">
<div class=paragraph style=" padding:0.00pt 21.60pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Типы пакетов OSPF перечислены в таблице справа и описаны в параграфах A.3.2 A.3.6.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Packet length</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Размер пакета OSPF в байтах с учетом стандартного заголовка OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Идентификатор Router ID отправителя пакета.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:18.24pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:81.36pt;">
<div class=block style=" width:81.36pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.72pt; text-align:left;"><span class=font38>Link State Request</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:97.20pt;">
<div class=block style=" width:97.20pt; height:2.88pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:14.88pt;">
<div class=block style=" width:14.88pt; height:9.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:97.20pt;">
<div class=block style=" width:97.20pt; height:9.12pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:193.44pt;">
<div class=block style=" width:193.44pt; height:39.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 27.60pt; text-align:left;"><span class=font38>Link State Update</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 27.60pt; text-align:left;"><span class=font38>Link State Acknowledgment</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:265.92pt;">
<div class=block style=" width:265.92pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 9.36pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовый идентификатор области, к которой<br></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:4.32pt;">
<div class=block style=" width:4.32pt; height:7.44pt;">
<div class=paragraph style=" text-align:left;"><span class=font40>0</span></div>
</div>
</td>
<td class=cell colspan="16" valign="top" style=" width:324.72pt;">
<div class=block style=" width:324.72pt; height:7.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 81.84pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:0.24pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:265.92pt;">
<div class=block style=" width:265.92pt; height:0.48pt;">
</div>
</td>
<td class=cell colspan="15" rowspan="2" valign="top" style=" width:252.48pt;">
<div class=block style=" width:252.48pt; height:0.48pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:72.24pt;">
<div class=block style=" width:72.24pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.24pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt;">
<div class=block style=" width:0.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:3.84pt;">
<div class=block style=" width:3.84pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:265.92pt;">
<div class=block style=" width:265.92pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 8.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">относится пакет. Все пакеты OSPF связываются с<br></span></div>
</div>
</td>
<td class=cell colspan="18" valign="top" style=" width:329.04pt;">
<div class=block style=" width:329.04pt; height:9.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font38><u>0 1 <b><i>\</i></b><i>2 </i><b>|</b>3 4 5 6 7 <b>|</b>8 <b>|</b>9 01 2 <b>|</b>3 4 5 6 <b>|</b>7 <b>|</b>8 9 0 1 <b><i>\</i></b><i>2 </i><b>|</b>3 4 5 6 <b>|</b>7 8 9 0 1</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:16.56pt;">
<div class=block style=" width:16.56pt; height:12.00pt;">
</div>
</td>
<td class=cell rowspan="4" valign="top" style=" width:35.52pt;">
<div class=block style=" width:35.52pt; height:30.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>Version #</span></div>
</div>
</td>
<td class=cell colspan="14" valign="top" style=" width:276.96pt;">
<div class=block style=" width:276.96pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:265.92pt;">
<div class=block style=" width:265.92pt; height:10.08pt;">
<div class=paragraph style=" padding:0.00pt 9.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">определенной<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>(единственной)<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>областью.</span></div>
</div>
</td>
<td class=cell colspan="8" valign="top" style=" width:125.52pt;">
<div class=block style=" width:125.52pt; height:8.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 40.80pt; text-align:left;"><span class=font38>Type</span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="3" valign="top" style=" width:151.44pt;">
<div class=block style=" width:151.44pt; height:28.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.40pt; text-align:left;"><span class=font38>Packet length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:1.92pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:57.60pt;">
<div class=block style=" width:57.60pt; height:19.92pt;">
</div>
</td>
<td class=cell colspan="6" rowspan="4" valign="top" style=" width:67.92pt;">
<div class=block style=" width:67.92pt; height:51.84pt;">
<div class=paragraph style=" padding:0.00pt 22.80pt 0.00pt 12.00pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:9.84pt;">Router ID <u>Area ID</u></span></div>
<div class=paragraph style=" padding:8.16pt 14.40pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Authentication Authentication</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:1.92pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:282.48pt;">
<div class=block style=" width:282.48pt; height:18.00pt;">
<div class=paragraph style=" padding:0.00pt 25.68pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Большинство пакетов передается лишь на один интервал (hop). Пакеты, передаваемые через </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:282.48pt;">
<div class=block style=" width:282.48pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 25.92pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">виртуальные каналы, помечают идентификатором<br></span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:93.12pt;">
<div class=block style=" width:93.12pt; height:31.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 32.64pt; text-align:left;"><span class=font38>Checksum</span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="2" valign="top" style=" width:151.44pt;">
<div class=block style=" width:151.44pt; height:31.92pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 11.76pt; text-align:left;"><span class=font38>AuType</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:282.48pt;">
<div class=block style=" width:282.48pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 116.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">магистральной области 0.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Checksum</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:19.44pt;">
</div>
</td>
<td class=cell colspan="18" rowspan="2" valign="top" style=" width:476.40pt;">
<div class=block style=" width:476.40pt; height:19.44pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Стандартная контрольная сумма IP для всего пакета,</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">начиная с заголовка OSPF, но без учета 64-битового поля аутентификации. Если длина пакета не равна целому числу</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.24pt;">
<div class=block style=" width:72.24pt; height:17.52pt;">
<div class=paragraph style=" padding:8.64pt 0.00pt 0.00pt 4.56pt; text-align:left;"><span class=font38>16-</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.24pt;">
<div class=block style=" width:72.24pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:69.60pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">битовых слов, пакет дополняется справа соответствующим числом нулей до вычисления контрольной суммы. Определение контрольной суммы рассматривается как часть процесса аутентификации, но для некоторых типов аутентификации подсчет контрольной опускается.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AuType</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Определяет используемую для пакета процедуру аутентификации (см. Приложение D).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Authentication</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">64-битовое поле, используемое схемой аутентификации (см. Приложение D).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="5" valign="top" style=" width:265.92pt;">
<div class=block style=" width:265.92pt; height:135.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.68pt; text-align:left;"><span class=font10><b><i>A.3.2 Пакет Hello</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакеты   Hello   относятся   к   типу   1   и   передаются</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">периодически во все интерфейсы (включая виртуальные</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">каналы)    для   организации    и   поддержки    соседских</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отношений. Кроме того, пакеты Hello рассылаются по</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">групповым   адресам   в   сетях,   обеспечивающих   такую</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">возможность, для динамического обнаружения соседних</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для всех маршрутизаторов, подключенных к общей сети,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">должны  быть  согласованы  параметры   Network  mask,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">HelloInterval    и    RouterDeadInterval.    Эти    параметры</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">включаются в пакеты Hello, поэтому рассогласование</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">может влиять на формирование соседских отношений.</span></div>
</div>
</td>
<td class=cell colspan="12" rowspan="2" valign="top" style=" width:177.60pt;">
<div class=block style=" width:177.60pt; height:70.56pt;">
<div class=paragraph style=" padding:0.48pt 2.88pt 0.00pt 0.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:53.00pt;"><u>012 </u><span style=" letter-spacing:0.00pt;">01 2 3 4567 8901 2 3 456 7 890 Version #</span><span class=font7 style=" letter-spacing:0.00pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=" letter-spacing:0.00pt;">1</span></span></div>
<div class=paragraph style=" padding:0.00pt 22.80pt 0.00pt 52.80pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:9.84pt;"><u>Router ID </u>Area ID Checksum</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 109.68pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Authentication</span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:151.44pt;">
<div class=block style=" width:151.44pt; height:50.40pt;">
<div class=paragraph style=" padding:0.48pt 62.40pt 0.00pt 0.00pt; text-align:left; text-indent:77.52pt;"><span class=font38 style=" line-height:9.84pt;"><u>3 </u>1 2345 6 7 8901 Packet length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:151.44pt;">
<div class=block style=" width:151.44pt; height:20.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font38>AuType</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:109.20pt;">
<div class=block style=" width:109.20pt; height:22.56pt;">
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:54.00pt;">
<div class=block style=" width:54.00pt; height:22.56pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Authentication Network Mask</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:60.48pt;">
<div class=block style=" width:60.48pt; height:22.56pt;">
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:105.36pt;">
<div class=block style=" width:105.36pt; height:30.00pt;">
<div class=paragraph style=" padding:20.88pt 0.00pt 0.00pt 2.40pt; text-align:left;"><span class=font38>Rtr Pri</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:150.48pt;">
<div class=block style=" width:150.48pt; height:7.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.92pt; text-align:left;"><span class=font38>HelloInterval</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:73.20pt;">
<div class=block style=" width:73.20pt; height:7.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>Options<br></u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="18" valign="top" style=" width:329.04pt;">
<div class=block style=" width:329.04pt; height:34.56pt;">
<div class=paragraph style=" padding:0.00pt 144.00pt 0.00pt 87.60pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">RouterDeadInterval Backup Designated Router Neighbor</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:395.52pt;">
<div class=block style=" width:395.52pt; height:2.40pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:13.92pt;">
<div class=block style=" width:13.92pt; height:84.72pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell colspan="9" rowspan="2" valign="top" style=" width:185.52pt;">
<div class=block style=" width:185.52pt; height:84.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:395.52pt;">
<div class=block style=" width:395.52pt; height:82.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Подробное описание обработки приема  пакетов Hello</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">приведено в параграфе 10.5, а передача пакетов Hello описана в параграфе 9.5.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Network mask</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маска сети, связанной с интерфейсом. Например, сети класса B имеют маску 0xffffff00.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Options</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Дополнительные возможности, поддерживаемые маршрутизатором (см. параграф A.2).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>HelloInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Число секунд между передачей пакетов Hello.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Rtr Pri</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:395.52pt;">
<div class=block style=" width:395.52pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Значение Router Priority для маршрутизатора, используемое при выборе (Backup)<br></span></div>
</div>
</td>
<td class=cell colspan="11" rowspan="2" valign="top" style=" width:199.44pt;">
<div class=block style=" width:199.44pt; height:49.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.64pt; text-align:left;"><span class=font38>DR. Нулевое значение блокирует</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:395.52pt;">
<div class=block style=" width:395.52pt; height:37.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">возможность стать (Backup) DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>RouterDeadInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Число секунд до объявления &laquo;затихшего&raquo; маршрутизатора неработоспособным.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Designated Router</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="15" valign="top" style=" width:445.92pt;">
<div class=block style=" width:445.92pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Указывает   выделенный   маршрутизатор   DR   для   данной   сети   с  точки   зрения   передающего<br></span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:149.04pt;">
<div class=block style=" width:149.04pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>маршрутизатора.   DR</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:489.60pt;">
<div class=block style=" width:489.60pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">идентифицируется по IP-адресу в сети. Если маршрутизатора DR нет, поле имеет значение 0.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Backup Designated Router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Идентифицирует   маршрутизатор   Backup   DR   с   точки   зрения   передающего   пакет   маршрутизатора.</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:33.12pt;">
<div class=block style=" width:33.12pt; height:29.76pt;">
<div class=paragraph style=" padding:18.00pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Backup<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.24pt;">
<div class=block style=" width:72.24pt; height:29.76pt;">
<div class=paragraph style=" padding:18.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font38>DR</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:138.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">идентифицируется адресом IP для интерфейса в данную сеть. При отсутствии Backup DR это поле содержит значение 0.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Neighbor</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Значения Router ID для каждого маршрутизатора, чьи пакеты Hello были недавно (RouterDeadInterval секунд) видны в сети.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>A.3.3 Пакет Database Description</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты DD относятся в OSPF к типу 2. Обмен этими пакетами происходит при инициализации отношений смежности. Пакеты описывают содержимое базы данных о каналах. Для описания базы данных может использоваться множество пакетов с использованием процедуры poll-response (опрос-отклик). Один из маршрутизаторов является ведущим (master), а второй – ведомым (slave). Ведущий маршрутизатор передает пакеты DD, которые подтверждаются пакетами DD от ведомого маршрутизатора. Отклики связываются с опросом через порядковые номера пакетов DD.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Формат пакетов DD очень похож на формат пакетов LSR и LSAck. Все эти три типа пакетов содержат список элементов, каждый из которых описывает часть базы данных о каналах маршрутизатора. Передача пакетов DD описана в параграфе 10.8, а обработка принимаемых пакетов DD – в параграфе 10.6.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Interface MTU</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:26.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:282.48pt;">
<div class=block style=" width:282.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:174.00pt;">
<div class=block style=" width:174.00pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 19.68pt; text-align:left;"><span class=font7><b>54</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="20" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:219.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:3.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:57.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:122.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:30.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:83.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="10" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Размер (в байтах) максимальной дейтаграммы IP, которая может быть передана через интерфейс без фрагментации. Значения MTU для типовых каналов Internet можно найти в таблице 7-1 работы [Ref22]. В пакетах DD, передаваемых через виртуальные каналы, должно устанавливаться Interface MTU = 0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Options</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 48.48pt 0.00pt 56.88pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">Дополнительные возможности маршрутизатора (см. параграф A.2). <b><i>I</i></b><span class=font7><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></b></span><span style=" letter-spacing:59.70pt;">0123</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:289.20pt;">
<div class=block style=" width:289.20pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 11.52pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Бит Init, устанавливаемый для первого (по порядку) пакета DD.</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:92.88pt;">
<div class=block style=" width:92.88pt; height:21.84pt;">
<div class=paragraph style=" padding:0.24pt 4.08pt 0.00pt 14.16pt; text-align:left; text-indent:-14.16pt;"><span class=font38 style=" line-height:9.84pt; letter-spacing:2.70pt;"><u>01234567890 </u><span style=" letter-spacing:0.00pt;">Version #</span></span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:84.48pt;">
<div class=block style=" width:84.48pt; height:21.84pt;">
<div class=paragraph style=" padding:0.24pt 3.84pt 0.00pt 4.80pt; text-align:left; text-indent:-4.80pt;"><span class=font38 style=" line-height:9.84pt; letter-spacing:2.65pt;"><u>1234567890 </u><span style=" letter-spacing:0.00pt;">2</span></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:90.72pt;">
<div class=block style=" width:90.72pt; height:21.84pt;">
<div class=paragraph style=" padding:0.24pt 9.84pt 0.00pt 3.84pt; text-align:left; text-indent:-3.84pt;"><span class=font38 style=" line-height:9.84pt; letter-spacing:2.55pt;"><u>123456789</u><span style=" letter-spacing:0.00pt;"><u> 0 </u>Packet length</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:37.68pt;">
<div class=block style=" width:37.68pt; height:21.84pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font38><b><i>M</i></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:122.88pt;">
<div class=block style=" width:122.88pt; height:37.68pt;">
<div class=paragraph style=" padding:7.92pt 6.24pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Бит More, указывающий на (последующих) пакетов DD.</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:113.04pt;">
<div class=block style=" width:113.04pt; height:37.68pt;">
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>присутствие других</span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:77.04pt;">
<div class=block style=" width:77.04pt; height:37.68pt;">
<div class=paragraph style=" padding:18.24pt 0.00pt 0.00pt 25.20pt; text-align:left;"><span class=font38>Checksum</span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:86.40pt;">
<div class=block style=" width:86.40pt; height:20.88pt;">
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 24.48pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:9.84pt;">Router ID Area ID</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:120.72pt;">
<div class=block style=" width:120.72pt; height:37.68pt;">
<div class=paragraph style=" padding:18.96pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font38>AuType</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:16.80pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:74.88pt;">
<div class=block style=" width:74.88pt; height:30.00pt;">
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38><b><i>MS</i></b></span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="4" valign="top" style=" width:86.40pt;">
<div class=block style=" width:86.40pt; height:48.96pt;">
<div class=paragraph style=" padding:7.20pt 20.64pt 0.00pt 12.24pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Authentication <u>Authentication</u></span></div>
<div class=paragraph style=" padding:0.00pt 3.12pt 0.00pt 0.00pt; text-align:left; text-indent:54.96pt;"><span class=font38 style=" line-height:9.84pt;">Options DD sequence number</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:16.80pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:312.96pt;">
<div class=block style=" width:312.96pt; height:13.20pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">Бит     Master/Slave,     определяющий     отношения</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:120.72pt;">
<div class=block style=" width:120.72pt; height:32.16pt;">
<div class=paragraph style=" padding:11.28pt 0.00pt 0.00pt 18.96pt; text-align:left;"><span class=font38>0 0 0 0 0 I MMS</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:387.84pt;">
<div class=block style=" width:387.84pt; height:6.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторов  в процессе  Database  Exchange<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Interface MTU</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:387.84pt;">
<div class=block style=" width:387.84pt; height:12.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(MS=1 – ведущий, 0 – ведомый).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:89.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>DD sequence number</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Используется     для     нумерации     пакетов     DD.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Начальное   значение   (указывается   флагом   Init)<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>LSA Header</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">должно   быть   уникальным.   Далее   порядковый</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">номер DD увеличивается на 1 для каждого пакета</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">вплоть до передачи всей базы данных.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>…</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Остальная часть пакета содержит (возможно неполный)</span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">список частей базы данных link-state. Каждая запись LSA в базе описывается заголовком LSA (см. параграф A.4.1), содержащим все данные для уникальной идентификации LSA и текущего экземпляра.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:289.20pt;">
<div class=block style=" width:289.20pt; height:50.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10 style=" line-height:9.84pt;"><b><i>A.3.4 Пакет Link State Request</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакеты LSR относятся в OSPF к типу 3. После обмена</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакетами DD с соседом маршрутизатор может понять, что</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">часть его базы данных устарела. Пакеты LSR служат для</span></div>
</div>
</td>
<td class=cell colspan="14" valign="top" style=" width:305.76pt;">
<div class=block style=" width:305.76pt; height:20.40pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font38><u>0</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>12</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>3</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font38>0 <b><u>|</u></b>1 2 3 4 56 <b><u>|</u></b>7 <b><u>|</u></b>8 9 0 <b><u>|</u></b>1 2 3 4 56 <b><u>|</u></b>7 <b><u>|</u></b>8 9 0 <b><u>|</u></b>1 <b><i><u>\</u></i></b><i>2 </i>3 4 <b><u>|</u></b>5 6 7 8 90 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:21.60pt;">
<div class=block style=" width:21.60pt; height:30.00pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:35.52pt;">
<div class=block style=" width:35.52pt; height:30.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>Version #</span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:248.64pt;">
<div class=block style=" width:248.64pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:57.60pt;">
<div class=block style=" width:57.60pt; height:28.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 48.48pt; text-align:left;"><span class=font38>3</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="4" valign="top" style=" width:53.28pt;">
<div class=block style=" width:53.28pt; height:49.92pt;">
<div class=paragraph style=" padding:8.16pt 8.16pt 0.00pt 12.00pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:10.08pt;"><u>Router ID </u>Area ID</span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>Authentication</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:28.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 17.04pt; text-align:left;"><span class=font38>Packet length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:310.80pt;">
<div class=block style=" width:310.80pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">запроса более современных фрагментов базы данных у</span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:77.04pt;">
<div class=block style=" width:77.04pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 32.64pt; text-align:left;"><span class=font38>Checksum</span></div>
</div>
</td>
<td class=cell rowspan="3" valign="top" style=" width:16.08pt;">
<div class=block style=" width:16.08pt; height:21.84pt;">
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:11.76pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 26.40pt; text-align:left;"><span class=font38>AuType</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:310.80pt;">
<div class=block style=" width:310.80pt; height:8.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">соседа. При обновлении может использоваться множество</span></div>
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:10.08pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:1.92pt;">
</td>
<td class=cell colspan="9" rowspan="2" valign="top" style=" width:387.84pt;">
<div class=block style=" width:387.84pt; height:42.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакетов LSR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор,    передающий    запрос    LSR,    должен</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">помнить      конкретный      экземпляр      запрашиваемого</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">фрагмента базы данных. Экземпляры идентифицируются</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">порядковым номером, возрастом и контрольной суммой,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:1.92pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:207.12pt;">
<div class=block style=" width:207.12pt; height:40.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 16.08pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Authentication</span></div>
<div class=paragraph style=" padding:0.00pt 121.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;">LS type</span></div>
<div class=paragraph style=" padding:0.00pt 121.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;"><u>Link State ID</u></span></div>
<div class=paragraph style=" padding:0.00pt 121.68pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:9.84pt;">Advertising Router</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" rowspan="2" valign="top" style=" width:409.68pt;">
<div class=block style=" width:409.68pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">но  эти  поля   не  указываются   в  самом   пакете  LSR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрутизатор в ответ на запрос может получить даже более свежий (по сравнению</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакетов LSR описана в параграфе 10.9, а прием – в параграфе 10.7.</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:185.28pt;">
<div class=block style=" width:185.28pt; height:29.76pt;">
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 4.56pt; text-align:left;"><span class=font38>с запрошенным) экземпляр. Передача</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:185.28pt;">
<div class=block style=" width:185.28pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждый запрошенный анонс LSA указывается его типом, а также значениями Link State ID и Advertising Router. Эти параметры уникально описывают LSA, но не конкретный экземпляр анонса. Понятно, что пакеты LSR используются для запроса последнего экземпляра анонса.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:294.48pt;">
<div class=block style=" width:294.48pt; height:64.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>A.3.5 Пакет Link State Update</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 9.12pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты LSU относятся в OSPF к типу 4 и используются для лавинной рассылки LSA. Каждый пакет LSU передает набор LSA на один интервал от точки их происхождения. В одном пакете может содержаться множество LSA. Пакеты LSU являются групповыми для сетей </span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:109.44pt;">
<div class=block style=" width:109.44pt; height:45.84pt;">
<div class=paragraph style=" padding:24.00pt 3.60pt 0.00pt 16.32pt; text-align:left; text-indent:-7.68pt;"><span class=font38 style=" line-height:9.84pt;"><u>12 3456 7 890 1 2 </u>Version #<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.48pt;">
<div class=block style=" width:0.48pt; height:45.84pt;">
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:190.56pt;">
<div class=block style=" width:190.56pt; height:45.84pt;">
<div class=paragraph style=" padding:13.92pt 33.84pt 0.00pt 0.00pt; text-align:left; text-indent:60.00pt;"><span class=font38 style=" line-height:9.84pt;">23 <u>3456 7890 1 2 34 56 7890 1 </u>Packet length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt;">
<div class=block style=" width:16.32pt; height:18.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="4" rowspan="3" valign="top" style=" width:77.04pt;">
<div class=block style=" width:77.04pt; height:50.64pt;">
<div class=paragraph style=" padding:18.24pt 0.00pt 0.00pt 32.64pt; text-align:left;"><span class=font38>Checksum</span></div>
</div>
</td>
<td class=cell colspan="6" rowspan="3" valign="top" style=" width:86.40pt;">
<div class=block style=" width:86.40pt; height:50.64pt;">
<div class=paragraph style=" padding:0.00pt 25.20pt 0.00pt 28.08pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:10.08pt;">Router ID <u>Area ID</u></span></div>
<div class=paragraph style=" padding:8.16pt 17.04pt 0.00pt 16.08pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Authentication Authentication</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:120.72pt;">
<div class=block style=" width:120.72pt; height:50.64pt;">
<div class=paragraph style=" padding:18.96pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>AuType</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:310.80pt;">
<div class=block style=" width:310.80pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 25.68pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">поддерживающих широковещательную и групповую<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:20.64pt;">
</td>
<td class=cell colspan="5" rowspan="4" valign="top" style=" width:310.80pt;">
<div class=block style=" width:310.80pt; height:77.28pt;">
<div class=paragraph style=" padding:0.00pt 25.44pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">адресацию. Для обеспечения надежности процедуры лавинной рассылки отправленные LSA подтверждаются в пакетах LSAck. Если требуется повтор передачи некоторых LSA, они всегда передаются соседу напрямую. Дополнительные сведения о надежности лавинной рассылки приведены в главе 13.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i># LSAs</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Число LSA, включенных в этот пакет обновления.<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:20.64pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:284.16pt;">
<div class=block style=" width:284.16pt; height:20.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 108.24pt; text-align:left;"><span class=font38># LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:284.16pt;">
<div class=block style=" width:284.16pt; height:24.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 111.60pt; text-align:left;"><span class=font38>LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:284.16pt;">
<div class=block style=" width:284.16pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 113.04pt; text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:294.48pt;">
<div class=block style=" width:294.48pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Тело пакетов LSU содержит список LSA, начинающихся со<br></span></div>
</div>
</td>
<td class=cell colspan="13" rowspan="2" valign="top" style=" width:300.48pt;">
<div class=block style=" width:300.48pt; height:39.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38>стандартного 20-байтового заголовка, описанного в A.4.1. Описания</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:294.48pt;">
<div class=block style=" width:294.48pt; height:27.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">различных типов LSA приведены в A.4.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10 style=" line-height:9.84pt;"><b><i>A.3.6 Пакет Link State Acknowledgment</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:289.20pt;">
<div class=block style=" width:289.20pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Пакеты   LSAck   относятся   в   OSPF   к   типу   5.   Для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">обеспечения надежности лавинной рассылки LSA, все</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">анонсы    должны    подтверждаться    в    явной    форме.</span></div>
</div>
</td>
<td class=cell colspan="7" rowspan="2" valign="top" style=" width:114.72pt;">
<div class=block style=" width:114.72pt; height:49.92pt;">
<div class=paragraph style=" padding:0.00pt 3.60pt 0.00pt 5.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">01 <span style=" letter-spacing:2.60pt;">0123456789012 </span>Version #<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.48pt;">
<div class=block style=" width:0.48pt; height:31.68pt;">
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:190.56pt;">
<div class=block style=" width:190.56pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 33.84pt 0.00pt 0.00pt; text-align:left; text-indent:60.00pt;"><span class=font38 style=" line-height:9.84pt;">23 3456 7890 1 2 34 56 7890 1 Packet length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:289.20pt;">
<div class=block style=" width:289.20pt; height:18.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Подтверждения   обеспечиваются   с   помощью   пакетов</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSAck, каждый из которых может подтверждать прием</span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="3" valign="top" style=" width:70.32pt;">
<div class=block style=" width:70.32pt; height:68.16pt;">
<div class=paragraph style=" padding:0.00pt 25.20pt 0.00pt 12.00pt; text-align:left; text-indent:-3.60pt;"><span class=font38 style=" line-height:9.84pt;">Router ID Area ID</span></div>
<div class=paragraph style=" padding:8.16pt 17.04pt 0.00pt 0.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Authentication Authentication</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="3" valign="top" style=" width:120.72pt;">
<div class=block style=" width:120.72pt; height:68.16pt;">
<div class=paragraph style=" padding:19.20pt 0.00pt 0.00pt 9.36pt; text-align:left;"><span class=font38>AuType</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:310.80pt;">
<div class=block style=" width:310.80pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">множества LSA.</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:93.12pt;">
<div class=block style=" width:93.12pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 32.64pt; text-align:left;"><span class=font38>Checksum</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt; height:38.16pt;">
</td>
<td class=cell colspan="10" rowspan="4" valign="top" style=" width:403.92pt;">
<div class=block style=" width:403.92pt; height:124.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В зависимости от состояния передающего интерфейса и</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отправителя   соответствующего   пакета   LSU,   пакеты</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSAck  передаются  по  групповым  (AllSPFRouters  или</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">AllDRouters)  или  индивидуальным   адресам.   Передача</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакетов LSAck описана в параграфе 13.5, а обработка</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">принятых пакетов – в параграфе 13.7.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Формат пакетов подтверждения поход на формат пакетов</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">DD. Тело пакета  просто содержит список заголовков</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">подтверждаемых LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Каждый подтверждаемый анонс LSA описывается заголовком LSA (см. параграф</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">идентификации LSA и текущего экземпляра.</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>55</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt; height:38.16pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:191.04pt;">
<div class=block style=" width:191.04pt; height:37.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font38>LSA Header</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:191.04pt;">
<div class=block style=" width:191.04pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.92pt; text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:191.04pt;">
<div class=block style=" width:191.04pt; height:36.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font38>A.4.1), содержащим все сведения для</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 87.60pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:122.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:30.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:83.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:94.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:113.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:36.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:84.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:456.24pt;">
<div class=block style=" width:456.24pt; height:11.76pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:138.72pt;">
<div class=block style=" width:138.72pt; height:27.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.24pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:140.88pt;">
<div class=block style=" width:140.88pt; height:18.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>A.4 Форматы LSA</b></span></div>
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:315.36pt;">
<div class=block style=" width:315.36pt; height:15.36pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="11" valign="top" style=" width:454.08pt;">
<div class=block style=" width:454.08pt; height:3.12pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:108.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В этом документе описывается 5 различных типов LSA. Каждый анонс LSA начинается со стандартного 20-байтового заголовка</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSA, описанного в параграфе A.4.1. В последующих параграфах описаны LSA всех типов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Каждый LSA описывает часть маршрутного домена OSPF. Каждый маршрутизатор порождает router-LSA. В дополнение к этому</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">при  выборе   маршрутизатора   в  качестве  Designated  Router,  этот   маршрутизатор   порождает   network-LSA.  Кроме   того,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторы могут порождать и другие типы LSAs (см. Параграф 12.4). Для всех LSA выполняется лавинная рассылка через</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">домен   маршрутизации   OSPF.  Алгоритм  лавинной   рассылки   является  надежным   способом   обеспечения   доставки  всем</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторам одного набора LSA. Дополнительные сведения о лавинной маршрутизации приведены в главе 13. Рассылаемый</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">набор LSA называют базой данных о состоянии каналов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Из базы данных о состоянии каналов каждый маршрутизатор создает дерево кратчайших путей с собой в качестве корня. Это дает</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">в результате таблицу маршрутизации (см. главу11). Детальное описание процесса построения таблицы маршрутизации дано в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">главе 16.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="4" valign="top" style=" width:264.72pt;">
<div class=block style=" width:264.72pt; height:113.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>A.4.1 Заголовок LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Все записи LSA начинаются с однотипного заголовка размером 20 байтов. Информации из заголовка достаточно для уникальной идентификации LSA (LS type, Link State ID и Advertising Router). В области маршрутизации может одновременно существовать множество экземпляров LSA. Для определения последнего из них служат поля LS age, LS sequence number и LS checksum из заголовка LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LS age</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Время (в секундах) с момента генерации LSA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Options</i></b></span></div>
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:330.24pt;">
<div class=block style=" width:330.24pt; height:20.40pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38>0<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>1<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font38><u>0 1 <b><i>\</i></b><i>2 </i><b>|</b>3 4 5 6 7 <b>|</b>8 <b>|</b>9 01 2 <b>|</b>3 4 5 6 <b>|</b>7 <b>|</b>8 9 0 1 2 <b>|</b>3 4 5 6 <b>|</b>7 8 9</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:22.80pt;">
<div class=block style=" width:22.80pt; height:40.08pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:40.08pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>LS age</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:282.48pt;">
<div class=block style=" width:282.48pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.08pt;">
<div class=block style=" width:52.08pt; height:38.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:91.68pt;">
<div class=block style=" width:91.68pt; height:90.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">tions</span></div>
<div class=paragraph style=" padding:0.00pt 16.32pt 0.00pt 0.00pt; text-align:left; text-indent:10.32pt;"><span class=font38 style=" line-height:9.84pt;">Link State ID <u>Advertising Router </u>LS sequence number</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.72pt;">
<div class=block style=" width:138.72pt; height:38.16pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>LS t</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:99.84pt;">
<div class=block style=" width:99.84pt; height:52.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 45.12pt; text-align:left;"><span class=font38>LS checksum</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.72pt;">
<div class=block style=" width:138.72pt; height:52.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font38>length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:281.28pt;">
<div class=block style=" width:281.28pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Дополнительные возможности, которые поддерживаются<br></span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:313.68pt;">
<div class=block style=" width:313.68pt; height:12.00pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>в описываемой части домена маршрутизации. Дополнительные</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">возможности OSPF описаны в параграфе A.2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:401.04pt;">
<div class=block style=" width:401.04pt; height:60.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 30.72pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LS type</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Тип LSA, определяющий формат анонса. Определенные в данной спецификации типы LSA показаны в таблице справа и описаны в параграфе 12.1.3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link State ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле идентифицирует часть сети, описываемую анонсом LSA. Содержимое поля зависит от типа LSA. Например, в network-LSA поле Link State ID содержит IP-адрес </span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:193.92pt;">
<div class=block style=" width:138.96pt; height:60.24pt; padding:0.00pt 54.96pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:138.96pt; height:60.24pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:111.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.36pt;">
<div class=block style=" width:27.36pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Тип</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:111.60pt;">
<div class=block style=" width:111.60pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Описание</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Router-LSA</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.20pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Network-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.36pt;">
<div class=block style=" width:27.36pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">3</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">4</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:111.60pt;">
<div class=block style=" width:111.60pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 12.72pt 0.00pt 6.96pt; text-align:left; text-indent:0.24pt;"><span class=font38 style=" line-height:10.08pt;">Summary-LSA (IP-сеть) Summary-LSA (ASBR) AS-external-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:27.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:111.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:119.76pt;">
<div class=paragraph style=" padding:0.00pt 201.84pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">интерфейса маршрутизатора DR для данной сети (по этому адресу определяется номер сети IP). Описание поля Link State ID приведено также в параграфе 12.1.4.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Advertising Router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Значение Router ID маршрутизатора, породившего LSA (в network-LSA это поле содержит Router ID маршрутизатора DR).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LS sequence number</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Порядковый номер служит для обнаружения дубликатов и старых LSA. Следующий экземпляр LSA имеет следующий порядковый номер (см. параграф 12.1.6).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LS checksum</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Контрольная сумма Флэтчера (Fletcher) для всего содержимого LSA, включая заголовок LSA, но без учета поля возраста LS Детальное описание приведено в параграфе 12.1.7.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>length</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Размер LSA в байтах с учетом 20-байтового заголовка LSA.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:264.72pt;">
<div class=block style=" width:264.72pt; height:164.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>A.4.2 Router-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Router-LSA относятся к типу 1 и порождаются каждым маршрутизатором области. Эти LSA описывают состояние и стоимость каналов (интерфейсов) маршрутизатора в область. Все каналы маршрутизатора в область должны описываться в одном анонсе router-LSA. Описание router-LSA приведено в параграфе 12.4.1.</span></div>
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В router-LSA поле Link State ID содержит OSPF Router ID. Анонсы Router-LSA рассылаются в пределах области.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>V</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 7.92pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Этот флаг устанавливается в тех случаях, когда маршрутизатор является конечной точкой одного или нескольких виртуальных каналов с полной смежностью, для которых описываемая область является транзитной (V – конечная точка виртуального канала).</span></div>
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:330.24pt;">
<div class=block style=" width:330.24pt; height:41.28pt;">
<div class=paragraph style=" padding:0.48pt 62.40pt 0.00pt 1.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt; letter-spacing:59.70pt;"><u>0123 </u><span style=" letter-spacing:0.00pt;">01 2 3 4567 8901 2 3 456 7 8901 2345 6 7 8901 </span><span style=" letter-spacing:-0.05pt;">LS age</span><span class=font7 style=" letter-spacing:0.00pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=" letter-spacing:-0.10pt;">Options</span><span class=font7 style=" letter-spacing:0.00pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style=" letter-spacing:0.00pt;">1</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 113.04pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Link State ID</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:330.24pt;">
<div class=block style=" width:275.28pt; height:120.24pt; padding:0.00pt 54.96pt 3.36pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:275.28pt; height:120.24pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:79.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:95.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:179.76pt;">
<div class=block style=" width:179.76pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 4.56pt 0.00pt 45.12pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Advertising Router LS sequence number LS checksum</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:95.52pt;">
<div class=block style=" width:95.52pt; height:30.00pt;">
<div class=paragraph style=" padding:19.20pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font38>length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:79.44pt;">
<div class=block style=" width:79.44pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 10.08pt 0.00pt 0.00pt; text-align:right;"><span class=font38>0        |VEB|</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 21.60pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">0</span></div>
<div class=paragraph style=" padding:0.00pt 24.24pt 0.00pt 40.08pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Link ID Link Data</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:95.52pt;">
<div class=block style=" width:95.52pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 13.68pt; text-align:left;"><span class=font38># links</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:79.44pt;">
<div class=block style=" width:79.44pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 35.04pt 0.00pt 26.16pt; text-align:left;"><span class=font38 style=" line-height:20.16pt;">Type TOS</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:100.32pt;">
<div class=block style=" width:100.32pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.24pt; text-align:left;"><span class=font38># TOS       …</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 21.84pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:95.52pt;">
<div class=block style=" width:95.52pt; height:30.00pt;">
<div class=paragraph style=" padding:0.00pt 48.72pt 0.00pt 4.80pt; text-align:left;"><span class=font38 style=" line-height:20.16pt;">metric TOS metric</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:275.28pt;">
<div class=block style=" width:275.28pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;">Link ID</span></div>
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;">Link Data</span></div>
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font38 style=" line-height:10.08pt;">…</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:79.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:100.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:95.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font38><b><i>E</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:31.68pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font38><b><i>B</i></b></span></div>
</div>
</td>
<td class=cell colspan="12" valign="top" style=" width:548.64pt;">
<div class=block style=" width:548.64pt; height:31.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>Этот флаг устанавливается для граничных маршрутизаторов AS (E - external).</span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 282.48pt; text-align:left;"><span class=font38>- border).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:67.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i># links</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">Число каналов маршрутизатора, описываемых в LSA (должно совпадать в числом интерфейсов маршрутизатора в область). Перечисленные ниже поля используются для описания каждого канала (т. е., интерфейса) маршрутизатора. Каждый канал имеет определенный тип (поле Type) – канал в транзитную сеть, к другому маршрутизатору или в тупиковую сеть. Значения всех остальных полей, описывающих канал маршрутизатора, зависят от типа канала. Например, каждый канал имеет связанное с ним 32-битовое поле Link Data. Для каналов в тупиковые сети это поле содержит маску адреса, а для остальных типов – IP-адрес интерфейса маршрутизатора.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:254.40pt;">
<div class=block style=" width:254.40pt; height:61.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Type</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Краткое описание канала маршрутизатора (см. таблицу справа) Отметим, что маршруты к хостам классифицируются как каналы в тупиковые сети с маской 0xffffffff.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link ID</i></b></span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:340.56pt;">
<div class=block style=" width:340.56pt; height:0.48pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:16.80pt;">
<div class=block style=" width:16.80pt; height:61.44pt;">
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:239.04pt;">
<div class=block style=" width:239.04pt; height:61.44pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>Тип</u><span class=font7>&nbsp; &nbsp; &nbsp;</span><u>Описание</u></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>1</u>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<u>Соединение Point-to-point с другим маршрутизатором.</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.96pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Соединение с транзитной сетью.</span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>3</u>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<u>Соединение с тупиковой сетью.</u></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Виртуальный канал.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:84.72pt;">
<div class=block style=" width:84.72pt; height:61.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:287.52pt;">
<div class=block style=" width:287.52pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:168.72pt;">
<div class=block style=" width:168.72pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 14.64pt; text-align:left;"><span class=font7><b>56</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:138.72pt;">
<div class=block style=" width:138.72pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 4.08pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:94.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:113.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:52.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:36.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:84.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:194.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:36.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:30.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="9" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt;">
<div class=block style=" width:63.12pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="9" valign="top" style=" width:313.68pt;">
<div class=block style=" width:313.68pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><u>Тип     Идентификатор</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Идентифицирует    объект,    к    которому    подключен    маршрутизатор.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:271.44pt;">
<div class=block style=" width:271.44pt; height:42.00pt;">
<div class=paragraph style=" padding:0.00pt 36.48pt 0.00pt 91.92pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Router ID соседнего маршрутизатора IP-адрес маршрутизатора DR <u>IP-номер сети/подсети </u>Router ID соседнего маршрутизатора</span></div>
</div>
</td>
<td class=cell colspan="16" valign="top" style=" width:323.52pt;">
<div class=block style=" width:323.52pt; height:42.00pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 0.00pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Содержимое поля зависит от типа соединения (поле Type). При соединении с объектом, генерирующим LSA (другой маршрутизатор или транзитная сеть) поле Link ID содержит значение Link State ID из LSA соседа. Это обеспечивает ключ поиска LSA соседей в базе данных при расчете таблицы </span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:137.04pt;">
<div class=paragraph style=" padding:0.00pt 240.24pt 0.00pt 271.44pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">маршрутов (см. 12.2).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 253.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Link Data</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Содержимое этого поля также зависит от типа соединения (поле Type). Для соединений с тупиковыми сетями поле Link Data содержит маску IP, для безадресных соединений point-to-point – значение ifIndex (MIB-II для интерфейса [Ref8]), а для остальных типов соединений – IP-адрес интерфейса маршрутизатора. Это поле обеспечивает последнюю часть информации, требуемой для построения таблицы маршрутов когда рассчитывается IP-адрес следующего маршрутизатора (next hop). Более подробное описание приведено в параграфе 16.1.1.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i># TOS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Число различных метрик TOS, заданных для данного соединения, без учета требуемой метрики канала (обозначается как метрика TOS 0, [Ref9]). Например, при отсутствии дополнительной метрики TOS это поле имеет значение 0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>metric</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">Стоимость использования этого канала маршрутизатора. В анонс может также включаться дополнительная информация, связанная с TOS и используемая для совместимости с предыдущими версиями OSPF [Ref9]. Для каждого канала, которому нужна информация TOS, могут использоваться следующие</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:77.28pt;">
<div class=block style=" width:77.28pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38>поля:</span></div>
</div>
</td>
<td class=cell colspan="17" valign="top" style=" width:517.68pt;">
<div class=block style=" width:517.68pt; height:9.84pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:517.68pt;">
<div class=block style=" width:517.68pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TOS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Тип сервиса (Type of Service), к которому относится метрика. Представление TOS в OSPF LSA описано в параграфе 12.3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TOS metric</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Связанная с TOS метрическая информация.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" rowspan="4" valign="top" style=" width:294.72pt;">
<div class=block style=" width:294.72pt; height:70.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>A.4.3 Network-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Network-LSA относятся к типу 2 и генерируются для каждой широковещательной и NBMA-сети в области, поддерживающей более 1 маршрутизатора. Анонсы network-LSA порождаются выделенным маршрутизатором DR и описывают все подключенные к сети </span></div>
</div>
</td>
<td class=cell colspan="15" valign="top" style=" width:300.24pt;">
<div class=block style=" width:300.24pt; height:20.40pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38><u>0</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>1</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><i><u>2</u></i><span class=font7><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></span><u>3</u></span></div>
<div class=paragraph style=" text-align:left;"><span class=font38>0 <b><u>|</u></b>1 2 3 4 56 <b><u>|</u></b>7 <b><u>|</u></b>8 9 0 <b><u>|</u></b>1 2 3 4 56 <b><u>|</u></b>7 <b><u>|</u></b>8 9 0 1 <b><i><u>\</u></i></b><i>2 </i>3 4 <b><u>|</u></b>5 6 7 8 90 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:21.12pt;">
<div class=block style=" width:21.12pt; height:11.76pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:24.96pt;">
<div class=block style=" width:24.96pt; height:11.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font38>LS age</span></div>
</div>
</td>
<td class=cell colspan="11" valign="top" style=" width:254.16pt;">
<div class=block style=" width:254.16pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:127.44pt;">
<div class=block style=" width:127.44pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 41.28pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Options</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:126.72pt;">
<div class=block style=" width:126.72pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 16.32pt; text-align:left;"><span class=font38>LS t</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:189.84pt;">
<div class=block style=" width:189.84pt; height:38.16pt;">
<div class=paragraph style=" padding:0.00pt 16.32pt 0.00pt 43.44pt; text-align:left; text-indent:10.32pt;"><span class=font38 style=" line-height:9.84pt;"><u>Link State ID </u>Advertising Router LS sequence number LS checksum</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:110.40pt;">
<div class=block style=" width:110.40pt; height:60.00pt;">
<div class=paragraph style=" padding:28.32pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font38>length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:315.84pt;">
<div class=block style=" width:315.84pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 30.48pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">маршрутизаторы, включая DR. Поле Link State ID содержит IP-адрес интерфейса DR. Дистанция от сети до</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:84.96pt;">
<div class=block style=" width:84.96pt; height:21.84pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:59.28pt;">
<div class=block style=" width:59.28pt; height:21.84pt;">
<div class=paragraph style=" text-align:left; text-indent:2.88pt;"><span class=font38 style=" line-height:10.08pt;">Network Mask Attached Router</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:24.48pt;">
<div class=block style=" width:24.48pt; height:21.84pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:100.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">всех подключенных маршрутизаторов равна 0, поэтому</span></div>
<div class=paragraph style=" padding:0.00pt 159.84pt 0.00pt 56.88pt; text-align:left; text-indent:369.36pt;"><span class=font38 style=" line-height:3.12pt;"><u>… </u>поле метрики не включается в network-LSA. Описание</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">network-LSA дано в параграфе 12.4.2.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Network Mask</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Адресная маска сети (например, IP-сеть класса A имеет маску 0xff000000).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Attached Router</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Идентификаторы Router ID каждого из подключенных к сети маршрутизаторов. Реально перечисляются только маршрутизаторы, установившие полные отношения смежности с DR, и сам маршрутизатор DR. Число включенных в список маршрутизаторов можно определить из поля длины в заголовке LSA.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10 style=" line-height:9.84pt;"><b><i>A.4.4 Summary-LSA</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="9" valign="top" style=" width:349.92pt;">
<div class=block style=" width:349.92pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Summary-LSA относятся к типам 3 и 4 и генерируются граничными</span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:245.04pt;">
<div class=block style=" width:245.04pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.36pt; text-align:left;"><span class=font38>маршрутизаторами областей. Анонсы Summary-LSA</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:57.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">описывают междоменные маршруты (см. параграф 12.4.3).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Анонсы summary-LSA типа 3 используются в тех случаях, когда адресатом является сеть IP. В этом случае поле Link State ID</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">содержит IP-номер сети (при необходимости Link State ID может включать также биты адреса хоста, как описано в Приложении</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">E). Когда адресатом является граничный маршрутизатор AS, используется summary-LSA типа 4 и поле Link State ID содержит</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">OSPF Router ID граничного маршрутизатора AS (необходимость анонсирования местоположения каждого ASBR рассмотрена в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">параграфе 16.4.). За исключением различий в использовании поля Link State ID анонсы summary-LSA типов 3 и 4 идентичны.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:299.04pt;">
<div class=block style=" width:299.04pt; height:0.24pt;">
</div>
</td>
<td class=cell colspan="14" valign="top" style=" width:295.92pt;">
<div class=block style=" width:295.92pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="10" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.68pt;">
</div>
</td>
<td class=cell colspan="8" rowspan="2" valign="top" style=" width:162.72pt;">
<div class=block style=" width:162.72pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.64pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">12<br></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:9.84pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" rowspan="3" valign="top" style=" width:303.12pt;">
<div class=block style=" width:303.12pt; height:28.32pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для тупиковых областей summary-LSA типа 3 могут также   0 использоваться для описания принятых по умолчанию   <u>0 </u>маршрутов (по областям). Такие маршруты используются </span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:73.68pt;">
<div class=block style=" width:73.68pt; height:8.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:236.40pt;">
<div class=block style=" width:236.40pt; height:11.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:10.08pt;"><u>12 3456 7 890 1 2 3456 7890 1 2 34 56 78</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:55.44pt;">
<div class=block style=" width:55.44pt; height:11.76pt;">
<div class=paragraph style=" text-align:left;"><span class=font38><u>90</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:291.84pt;">
<div class=block style=" width:291.84pt; height:8.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.80pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">LS age<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Options<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>3 или 4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" rowspan="2" valign="top" style=" width:315.84pt;">
<div class=block style=" width:315.84pt; height:51.60pt;">
<div class=paragraph style=" padding:0.00pt 30.48pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">в тупиковых областях взамен лавинной рассылки полного набора внешних маршрутов. При описании используемого по умолчанию маршрута поле Link State ID в summary-LSA всегда содержит значение DefaultDestination (0.0.0.0), а Network Mask = 0.0.0.0. </span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:77.04pt;">
<div class=block style=" width:77.04pt; height:30.00pt;">
</div>
</td>
<td class=cell colspan="4" rowspan="2" valign="top" style=" width:75.36pt;">
<div class=block style=" width:75.36pt; height:51.60pt;">
<div class=paragraph style=" text-align:center;"><span class=font38 style=" line-height:10.08pt;">Link State ID</span></div>
<div class=paragraph style=" text-align:center;"><span class=font38 style=" line-height:10.08pt;"><u>Advertising Router</u></span></div>
<div class=paragraph style=" text-align:center;"><span class=font38 style=" line-height:10.08pt;"><u>LS sequence number</u></span></div>
<div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 10.80pt; text-align:left;"><span class=font38>Network Mask</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:126.72pt;">
<div class=block style=" width:126.72pt; height:30.00pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:77.04pt;">
<div class=block style=" width:77.04pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 22.32pt; text-align:left;"><span class=font38>LS checksum</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:126.72pt;">
<div class=block style=" width:126.72pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.20pt; text-align:left;"><span class=font38>length</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Network Mask</i></b><span class=font7><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><u>0</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>metric</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="13" valign="top" style=" width:423.84pt;">
<div class=block style=" width:423.84pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для summary-LSA типа 3 это поле показывает маску<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TOS</span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:171.12pt;">
<div class=block style=" width:171.12pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.68pt; text-align:left;"><span class=font38>TOS metric</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:400.80pt;">
<div class=block style=" width:400.80pt; height:2.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">сети    адресата.    Например,    при    анонсировании</span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:194.16pt;">
<div class=block style=" width:194.16pt; height:2.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 23.04pt; text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:509.04pt;">
<div class=block style=" width:509.04pt; height:39.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">адресата  из сети  класса  A  будет  использоваться</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">значение 0xff000000. Это поле не используется в summary-LSA типа 4 и должно иметь нулевое значение.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>metric</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Стоимость маршрута, выраженная в таких же единицах, как стоимость в анонсах router-LSA.<br></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:85.92pt;">
<div class=block style=" width:85.92pt; height:50.88pt;">
<div class=paragraph style=" padding:39.12pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font38>с предыдущей</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="17" valign="top" style=" width:509.04pt;">
<div class=block style=" width:509.04pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Дополнительная информация, связанная с TOS, может включаться для обеспечения обратной совместимости<br></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:89.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">версией OSPF [Ref9]. Для всех желаемых уровней TOS информация представляется следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TOS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Тип сервиса (Type of Service), к которому относится метрика. Представление TOS в OSPF LSA описано в параграфе 12.3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TOS metric</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Связанная с TOS метрическая информация.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>A.4.5 AS-external-LSA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">AS-external-LSA относятся к типу 5 и генерируются граничными маршрутизаторами AS для описания внешних маршрутов из AS. Детальное описание AS-external-LSA приведено в параграфе 12.4.3.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:31.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:303.12pt;">
<div class=block style=" width:303.12pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:181.44pt;">
<div class=block style=" width:181.44pt; height:12.72pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font8><b>57</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:110.40pt;">
<div class=block style=" width:110.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="19" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:63.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:194.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:26.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:7.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:23.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:36.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:16.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:24.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:30.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:55.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:395.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:185.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:154.32pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <u>Перевод RFC 2328</u></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Анонсы AS-external-LSA обычно описывают маршрут к<span class=font7>&nbsp; &nbsp; </span>0<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>1<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>2<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>3</span></div>
<div class=paragraph style=" padding:0.00pt 62.40pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отдельному адресату (сети). Для таких LSA поле Link<span class=font7>&nbsp; &nbsp; </span>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 State ID содержит IP-номер сети (при необходимости в<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>LS age</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>Options</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>5</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">него могут также включаться некоторые биты адреса<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Link State ID</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">хоста, как описано в Приложении E). Анонсы AS-external-<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Advertising Router</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LSA также  используются  для описания  принятых  по<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>LS sequence number</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">умолчанию маршрутов (эти маршруты применяются в<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>LS checksum<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>length</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">случае отсутствия другого пути к адресату). В таких<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Network Mask</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">случаях поле Link State ID всегда содержит значение<span class=font7>&nbsp; &nbsp; </span><u>E</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>0</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>metric</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">DefaultDestination (0.0.0.0), а поле Network Mask имеет<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Forwarding address</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">значение 0.0.0.0.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>External Route Tag</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Network Mask</i></b><span class=font7><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><u>E</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>TOS</u><span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><u>TOS metric</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Адресная маска IP для анонсируемого получателя.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Forwarding address</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Например, для сети класса A маска имеет значение<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>External Route Tag</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:395.52pt;">
<div class=block style=" width:395.52pt; height:1.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">0xff000000.</span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:13.92pt;">
<div class=block style=" width:13.92pt; height:2.40pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:185.52pt;">
<div class=block style=" width:185.52pt; height:2.40pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:395.52pt;">
<div class=block style=" width:395.52pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:649.20pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>E</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Тип внешней метрики. E=1 говорит о внешней метрике типа 2, которая заведомо больше метрики любого из внутренних путей. E=0 говорит о внешней метрике типа 1, использующей такие же единицы, как и внутренняя метрика link state.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>metric</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Стоимость маршрута. Интерпретация этого поля зависит индикации типа внешней метрики (бит E).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Forwarding address</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Пакеты данных для анонсируемого получателя будут пересылаться по этому адресу. Если Forwarding address = 0.0.0.0, пакеты будут пересылаться породившему LSA маршрутизатору (т. е., граничному маршрутизатору AS).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>External Route Tag</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовое поле, подключаемое к внешним маршрутам. Протокол OSPF сам по себе не использует это поле, оно может применяться при обмене информацией между граничными маршрутизаторами AS (описание этого обмена выходит за пределы данной спецификации).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для обратной совместимости с предыдущими версиями OSPF [Ref9] может включаться информация, связанная с TOS. Для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">каждого желаемого значения TOS эта информация представляется следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TOS</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Тип обслуживания для следующих полей. Кодирование значений TOS в анонсах OSPF LSA описано в параграфе 12.3.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>E</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Используется для обратной совместимости с [Ref9].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>TOS metric</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Связанная с TOS метрика.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Forwarding address</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Используется для обратной совместимости с [Ref9].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>External Route Tag</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Для обратной совместимости с [Ref9].</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font12><b><i>B. Архитектурные константы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Некоторые параметры протокола OSPF имеют фиксированные значения (архитектурные константы). Предпочтительно для указания таких параметров в тексте использовать их имена (например, LSRefreshTime). Для настраиваемых параметров протокола также используются имена, описанные в Приложении C. Ниже перечислены имена архитектурных констант, их значения и краткие комментарии.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LSRefreshTime</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Максимальный интервал между двумя генерациями отдельного анонса LSA. Если поле возраста одного из порожденных маршрутизатором анонсов LSA достигает значения LSRefreshTime, генерируется новый экземпляр LSA, даже при отсутствии изменений в содержимом LSA (за исключением заголовка LSA). Значение LSRefreshTime составляет 30 минут.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>MinLSInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Минимальный интервал между двумя генерациями отдельного анонса LSA. Значение MinLSInterval составляет 5 секунд.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>MinLSArrival</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для любого анонса LSA этот параметр задает минимальное время до восприятия нового анонса LSA в процессе лавинной рассылки. Экземпляры LSA, полученные раньше, отбрасываются. Для MinLSArrival установлено значение 1 секунда.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>MaxAge</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Максимальный возраст LSA. Если LS age = MaxAge, анонс LSA повторно рассылается в лавинном режиме в целях удаления из домена маршрутизации (см. главу 14). LSA с возрастом MaxAge не используются при расчете таблицы маршрутов. Используйте для MaxAge значение 1 час.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>CheckAge</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если возраст LSA в базе данных многократно запрашивается в течение периода CheckAge, нужно проверить контрольную сумму LSA. Расхождение в контрольной сумме говорит о серьезной ошибке. Значение CheckAge составляет 5 минут.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>MaxAgeDiff</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Максимальная дисперсия (расхождение) во времени лавинной рассылки LSA в автономной области. Большую часть этого времени занимает пребывание LSA в выходных очередях маршрутизаторов (без старения) в процессе лавинной рассылки. Значение MaxAgeDiff составляет 15 минут.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>LSInfinity</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Значение метрики, используемое для недоступных адресатов в анонсах LSA. Это значение используется для summary-LSA и AS-external-LSA как альтернатива принудительному старению (см. параграф 14.1). Значение LSInfinity составляет 0xffffff.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>DefaultDestination</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Значение Destination ID, указывающее принятый по умолчанию маршрут (используется при отсутствии других путей у адресату). Принятые по умолчанию маршруты анонсируются только в AS-external-LSA и summary-LSA типа 3 тупиковых областей. Для маршрута по умолчанию IP имеет значение 0.0.0.0 и связанное с ним поле Network Mask также содержит 0.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>InitialSequenceNumber</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Значение, используемое в качестве порядкового номера (LS Sequence Number) при создании первого анонса LSA -0x80000001.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>MaxSequenceNumber</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Максимальное значение порядкового номера LSA (LS Sequence Number) - 0x7fffffff (целое число со знаком).</span></div>
<div class=paragraph style=" padding:6.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>58&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:395.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:185.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font11><b><i>C. Настраиваемые константы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF имеет незначительное число конфигурационных параметров. Все эти параметры описаны ниже. Параметры</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">группируются в несколько функциональных категорий (параметры области, интерфейса и т. п.). Для всех параметров приведены</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">примеры значений.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Установка некоторых параметров должна быть согласованной для группы маршрутизаторов. Например, все маршрутизаторы</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">области должны быть согласны с параметрами области, а все маршрутизаторы, подключенные к одной сети, должны использовать</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">адрес и маску, выделенные для этой сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Некоторые параметры  могут определяться с использованием алгоритмов,  выходящих за пределы данной спецификации</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(например, адрес хоста, подключенного к маршрутизатору по каналу SLIP). С точки зрения   OSPF такие параметры остаются</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">конфигурационными.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>C.1 Глобальные параметры</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В общем случае каждая область OSPF использует свою копию протокола. По этой причине большинство параметров OSPF задается на уровне области. Ниже перечислены глобальные параметры протокола.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовое целое число, являющееся уникальным идентификатором маршрутизатора в пределах AS. Одним из алгоритмов выделения значений Router ID является присваивание маршрутизатору наибольшего или наименьшего из свободных значений. Если значение OSPF Router ID изменяется программы OSPF в маршрутизаторе должны быть перезагружены для того, чтобы вступило в силу новое значение Router ID. До перезагрузки с целью замены Router ID маршрутизатор должен удалить порожденные им LSA из домена маршрутизации (см. параграф 14.1), поскольку иначе они будут сохраняться еще MaxAge минут.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>RFC1583Compatibility</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Управляет правилами выбора предпочтений (параграф 16.4) при наличии множества анонсов AS-external-LSA для одного адресата. Значение enabled задает использование предпочтений в соответствии с RFC 1583 ([Ref9]), а для отключенной совместимости (disabled) используются правила, описанные в параграфе 16.4.1, которые предотвращают возникновение петель, когда AS-external-LSA для одного получателя происходят из разных областей. По умолчанию установлен режим enabled.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для снижения вероятности возникновения петель все маршрутизаторы в домене OSPF должны иметь одинаковое значение параметра RFC1583Compatibility. Если в домене присутствуют маршрутизаторы, не поддерживающие функций, описанных в параграфе 16.4.1, должно использоваться значение RFC1583Compatibility = enabled. В остальных случаях следует устанавливать значение disabled для предотвращения петель.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>C.2 Параметры области</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Все относящиеся к области маршрутизаторы должны соглашаться с конфигурацией области. Рассогласование двух маршрутизаторов ведет к невозможности организации между ними смежности и возникновению препятствий в передаче служебного трафика и пакетов данных. Для области должны настраиваться следующие элементы:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">32-битовый идентификатор области, записываемый обычно по аналогии с IP- адресами. Значение 0.0.0.0 зарезервировано для магистрали AS. Если область представляет сеть, разбитую на подсети, в качестве Area ID может служить IP-номер сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of address ranges</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Область OSPF определяется как список адресных диапазонов вида:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>[IP address, mask]</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 92.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Диапазон описывает набор включенных в него адресов IP. Сети и хосты связываются с областью в зависимости от попадания их адресов в один из диапазонов, определяющих область. Маршрутизаторы относятся к нескольким областям в зависимости от принадлежности подключенных к маршрутизатору сетей.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Status</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Имеет значение Advertise или DoNotAdvertise. Маршрутная информация рассматривается на границе области. За</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пределы области анонсируется по крайней мере один маршрут (в summary-LSA) для каждого диапазона адресов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 92.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Маршрут анонсируется тогда и только тогда, когда Status = Advertise. Неанонсируемые диапазоны позволяют иметь сети,</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">спрятанные от других областей. По умолчанию Status = Advertise. В качестве примера предположим, что поделенная на подсети сеть IP является областью OSPF. Область указана как диапазон адресов, в котором выделены адреса подсетей IP с естественными масками класса A, B или C. За пределы области может анонсироваться один маршрут, описывающий всю сеть (вместе с подсетями).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>ExternalRoutingCapability</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Определяет рассылку AS-external-LSA в данную область или через нее. Если рассылка AS-external-LSA исключена для области, такая область считается тупиковой (stub). В тупиковых областях маршрутизация ко внешним адресатам базируется только на принятом по умолчанию маршруте. Магистральная область не может быть тупиковой. Кроме того, через тупиковые области нельзя организовать виртуальные соединения. Дополнительные данные о тупиковых областях приведены в параграфе 3.6.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>StubDefaultCost</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если область является тупиковой, а маршрутизатор служит граничным для области, поле StubDefaultCost показывает стоимость для принятого по умолчанию анонса summary-LSA для данной области.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>C.3 Параметры интерфейса маршрутизатора</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Некоторые из конфигурационных параметров интерфейса маршрутизатора (например, IP-адрес и маска) на самом деле являются свойствами подключенной сети и, следовательно, должны быть одинаковыми для всех подключенных к сети маршрутизаторов. К числу параметров интерфейса маршрутизатора относятся:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>IP interface address</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">IP-адрес интерфейса, являющийся уникальны идентификатором интерфейса в масштабе internet. Использования адресов IP не требуется для сетей point-to-point, которые по этой причине называют безадресными (unnumbered).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>IP interface mask</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маска интерфейса (называется также маской сети/подсети) показывающая число битов в сетевой части IP-адреса подключенной сети. Использование маски для IP-адреса интерфейса позволяет определить IP-номер для подключенной сети. В сетях point-to-point и на виртуальных каналах маска не задается. В таких случаях канал, как таковой, не имеет связанного с ним IP-номера, а адреса IP на каждой стороне выделяются независимо или не используются совсем.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Область OSPF, к которой относится подключенная сеть.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Interface output cost</i></b></span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>59&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:739.68pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Стоимость передачи пакета через интерфейс, выраженная в единицах метрики. Это значение анонсируется как стоимость канала в генерируемых маршрутизатором router-LSA. Стоимость всегда должна быть больше 0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>RxmtInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Число секунд между повторами передачи LSA для смежных маршрутизаторов, связанных с данным интерфейсом. Это значение используется также при повторе пакетов DD и LSR. Период повтора должен превышать время кругового обхода (round-trip delay) между двумя маршрутизаторами через подключенную сеть. При установке слишком малого значения будут возникать ненужные повторы. Для локальных сетей разумно использовать значение 5 секунд.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>InfTransDelay</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Оценка времени (в секундах) передачи пакета LSU через интерфейс. Возраст LSA, содержащихся в пакете обновления, должен увеличиваться на величину этого параметра до их передачи через интерфейс. Это значение должно приниматься во внимание при определении для интерфейса времени задержки при передаче и распространении. Значение этого параметра должно быть больше 0. Для локальных сетей рекомендуется устанавливать значение 1 сек.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Router Priority</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Беззнаковое 8-битовое число, используемое для выбора маршрутизатора на роль DR. Если два маршрутизатора выдвигают на эту роль себя, из них выбирается тот, у которого больше значение Router Priority. Если значения приоритета совпадают, выбирается маршрутизатор с большим значением Router ID. Маршрутизаторы с Router Priority = 0 не могут быть DR для подключенной сети. Параметр Router Priority задается только для интерфейсов в широковещательные и NBMA-сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>HelloInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Период (в секундах) между передачей двух последовательных пакетов Hello через один интерфейс. Это значение анонсируется маршрутизатором в пакетах Hello и должно совпадать для всех подключенных к общей сети маршрутизаторов. Снижение HelloInterval ускоряет обнаружение топологических изменений, но увеличивает объем служебного трафика OSPF. Для сетей X.25 PDN рекомендуется значение 30 сек, для ЛВС - 10 сек.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>RouterDeadInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Задает время (в секундах) между прекращением приема пакетов Hello от маршрутизатора и констатацией его неработоспособности. Это время также анонсируется в пакетах Hello (поле RouterDeadInterval). Значение этого параметра должно в несколько раз (скажем, в 4) превышать значение HelloInterval. Во всех маршрутизаторах, подключенных к общей сети, этот параметр должен совпадать.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>AuType</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Определяет процедуру аутентификации, используемую в подключенной сети. Это поле должно быть одинаковым для всех подключенных к одной сети маршрутизаторов. Описания различных типов аутентификации даны в Приложении D.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Authentication key</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Это поле данных позволяет проверить аутентичность пакетов протокола OSPF, принятых через интерфейс.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Например, если AuType указывает простой пароль, поле Authentication key будет содержать 64-битовую строку пароля в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">явном виде. Значение Authentication key для других типов аутентификации OSPF рассмотрено в Приложении D.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>C.4 Параметры виртуального канала</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Виртуальные каналы используются для организации соединений с магистралью или увеличения числа таких соединений. Виртуальный канал можно организовать между любой парой граничных маршрутизаторов разных областей, если они имеют интерфейсы в общую область за пределами магистрали. Виртуальный канал появляется на графе магистрали как безадресное соединение point-to-point. Виртуальный канал должен быть настроен для обоих маршрутизаторов.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Виртуальный канал появляется в router-LSA (для магистрали) как отдельный интерфейс маршрутизатора в магистральную область. В связи с этим, он имеет все присущие интерфейсу параметры (см. параграф C.3). Хотя виртуальный канал работает подобно безадресному соединению &laquo;точка-точка&raquo;, с ним всегда связан IP-адрес интерфейса. Этот адрес используется как адрес отправителя в пакетах OSPF, передаваемых через виртуальный канал, и устанавливается динамически в процессе построения таблицы маршрутизации. Выходная стоимость интерфейса также задается динамически и является стоимостью внутридоменного пути между двумя маршрутизаторами. Должен быть задан параметр RxmtInterval и требуется точная оценка времени кругового обхода (round-trip delay) между двумя маршрутизаторами. Такая оценка для виртуального канала может оказаться непростой, поэтому лучше поставить достаточно большое значение. Параметр Router Priority для виртуальных каналов не используется. Виртуальный канал определяется двумя конфигурационными параметрами – значением Router ID для маршрутизатора на другой стороне канала и областью (не магистральной), через которую организован виртуальный канал (транзитная область виртуального соединения). Виртуальные каналы нельзя организовать через тупиковые области.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>C.5 Параметры сетей NBMA</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF трактует сети NBMA аналогично широковещательным сетям. Поскольку к сети может быть подключено множество маршрутизаторов, среди них нужно выбрать маршрутизатор DR для сети, который будет генерировать network-LSA со списком всех маршрутизаторов, подключенных к NBMA-сети.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Однако, в силу ограниченных возможностей широковещания, может потребоваться дополнительная настройка для выбора DR. Конфигурационные параметры задаются только в тех маршрутизаторах, которые могут претендовать на роль DR (Router Priority &gt; 0), при отсутствии процедуры автоматического обнаружения соседей. В число таких параметров входят:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>List of all other attached routers</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Список всех остальных маршрутизаторов, подключенных к сети NBMA с указанием IP-адреса интерфейса в сеть. Для каждого маршрутизатора в списке также должна быть указана возможность использования в качестве DR. При активизации интерфейса в сеть NBMA маршрутизатор передает пакеты Hello только тем соседям, которые могут играть роль DR, пока не будет обнаружен текущий маршрутизатор DR.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>PollInterval</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Если соседний маршрутизатор теряет активность (нет пакетов Hello в течение RouterDeadInterval сек.), может потребоваться передача пакетов Hello &laquo;мертвому&raquo; соседу. Эти пакеты будут передаваться с интервалом PollInterval, значительно превышающим HelloInterval. Разумным значением PollInterval для сетей PDN X.25 будет 2 мин.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>C.6 Параметры сетей Point-to-MultiPoint</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В сетях Point-to-MultiPoint может потребоваться указание набора соседей, доступных напрямую через сеть Point-to-MultiPoint. Каждый сосед идентифицируется IP-адресом в сети Point-to-MultiPoint. Маршрутизаторы DR не задаются для сетей Point-to-MultiPoint, поэтому поле Designated Router eligibility не имеет смысла. Соседей в сети Point-to-MultiPoint можно определять и с помощью протоколов нижних уровней (например, Inverse ARP - [Ref14]).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:47.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>60</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:253.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:123.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell colspan="5" rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:2.16pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:114.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>C.7 Параметры Host route</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Маршруты к хостам анонсируются в router-LSA как маршруты в тупиковые сети с маской 0xffffffff. Такая маска говорит о подключении к сети point-to-point, закольцовывании интерфейса маршрутизатора или хосте IP, подключенном непосредственно к маршрутизатору (например, по каналу SLIP). Для каждого подключенного напрямую хоста должны задаваться следующие поля:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Host IP address</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">IP-адрес хоста.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Cost of link to host</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Стоимость передачи пакета хосту в единицах метрики link state. Поскольку хосты в большинстве случаев имеют единственное подключение к internet, на практике эта стоимость часто не имеет значения (т. е., не влияет на маршрутизацию).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Area ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Область OSPF, к которой относится хост.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:5.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:253.68pt;">
<div class=block style=" width:253.68pt; height:60.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b><i>D. Аутентификация</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Весь    обмен     данными     протокола     OSPF</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">использует аутентификацию. Заголовок пакета</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">OSPF (см. параграф A.3.1) включает поле типа</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">аутентификации  и  64-битовое  поле  данных,</span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:341.28pt;">
<div class=block style=" width:314.64pt; height:60.00pt; padding:0.00pt 26.64pt 0.00pt 0.00pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:314.64pt; height:60.00pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:268.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:29.76pt;">
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font38>AuType</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font38>0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:268.32pt;">
<div class=block style=" width:268.32pt; height:29.76pt;">
<div class=paragraph style=" padding:0.00pt 1.92pt 0.00pt 11.76pt; text-align:left; text-indent:91.92pt;"><span class=font38 style=" line-height:10.08pt;"><i>Таблица 23 Типы аутентификации OSPF. </i>Описание Без аутентификации (Null authentication)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt;">
<div class=block style=" width:46.32pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 10.56pt 0.00pt 6.72pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">1 2 Прочие</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:268.32pt;">
<div class=block style=" width:268.32pt; height:30.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.76pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Простой пароль</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.76pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Криптографическая аутентификация</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 11.76pt; text-align:left;"><span class=font38 style=" line-height:10.08pt;">Зарезервированы для распределения IANA ( <span style=" color:rgb(0,0,255);">iana @ ISI . EDU </span>)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:46.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:268.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:314.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">используемое  соответствующей  типу  схемой</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">аутентификации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Тип аутентификации задается для каждого интерфейса (или, что эквивалентно, для сети/подсети). Дополнительные данные</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">аутентификации также задаются для каждого интерфейса. В данной спецификации определены три типа аутентификации - 0, 1 и</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">2. Все остальные значения типа аутентификации зарезервированы для распределения IANA (<span style=" color:rgb(0,0,255);"><u>i ana @ I SI . E DU</u> </span>). Список текущих</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">значений приведен в таблице 23.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>D.1 Null-аутентификация</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Использование этого типа означает передачу пакетов через сеть/подсеть без аутентификации. 64-битовое поле аутентификации в заголовке OSPF не содержит информации и не проверяется на приемной стороне. При использовании Null-аутентификации все содержимое каждого пакета OSPF (за исключением 64-битового поля аутентификации) используется для расчета контрольной суммы, позволяющей детектировать ошибки.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>D.2 Парольная аутентификация</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При использовании этого типа аутентификации 64-битовое поле задается в масштабе отдельной сети. Все пакеты, передаваемые в эту сеть, должны иметь соответствующее значение в 64-битовом поле данных аутентификации заголовка OSPF. Значение этого поля представляет собой 64-битовый пароль в незашифрованном виде. В дополнение этому все содержимое каждого пакета OSPF (за исключением 64-битового поля аутентификации) используется при расчете контрольной суммы.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Простая парольная аутентификация предотвращает неанонсированное присоединение маршрутизатора к домену маршрутизации – каждый маршрутизатор должен сначала предъявить установленный для сети пароль и только после проверки пароля возможно включение в домен маршрутизации. Однако простая парольная аутентификация уязвима для пассивных атак, часто встречающихся в Internet (см. [Ref16]). Любой человек, имеющий физический доступ в сеть, может узнать пароль и обойти систему безопасности домена маршрутизации OSPF.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font11><b>D.3 Криптографическая аутентификация</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При использовании криптографической аутентификации задается публичный ключ (shared secret key) для всех маршрутизаторов, подключенных к общей сети/подсети. Для каждого пакета OSPF используется ключ при генерации и проверке цифровых подписей (message digest), добавляемых в конце пакета OSPF. Цифровая подпись создается с помощью необратимой (one-way) функции на основе пакета OSPF и секретного ключа. Поскольку секретный ключ никогда не передается через сеть в открытом виде, это обеспечивает защиту против пассивных атак.</span></div>
<div class=paragraph style=" padding:0.00pt 39.12pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Алгоритм,   используемый   при   генерации   и   проверке        <i>Таблица 24 Использование поля Authentication в заголовке пакетов </i>цифровой   подписи,   определяется   секретным   ключом.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><i><u>OSPF с криптографической аут</u>е<u>нтификацией.</u></i></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:451.20pt;">
<div class=block style=" width:451.20pt; height:1.92pt;">
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:111.36pt;">
<div class=block style=" width:111.36pt; height:2.88pt;">
</div>
</td>
<td class=cell valign="top" style=" width:4.32pt;">
<div class=block style=" width:4.32pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:28.08pt;">
<div class=block style=" width:28.08pt; height:1.92pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:451.20pt;">
<div class=block style=" width:451.20pt; height:0.96pt;">
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:32.40pt;">
<div class=block style=" width:32.40pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:451.20pt;">
<div class=block style=" width:451.20pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Данная спецификация полностью определяет применение   0</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:98.64pt;">
<div class=block style=" width:98.64pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.16pt; text-align:left;"><span class=font38>2</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:45.12pt;">
<div class=block style=" width:45.12pt; height:6.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font38 style=" line-height:9.84pt;">3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:451.20pt;">
<div class=block style=" width:451.20pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">криптографической       аутентификации       OSPF       при   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">использовании алгоритма MD5.<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><u>0</u></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:143.76pt;">
<div class=block style=" width:143.76pt; height:21.84pt;">
<div class=paragraph style=" padding:0.00pt 32.40pt 0.00pt 0.00pt; text-align:left; text-indent:98.40pt;"><span class=font38 style=" line-height:9.84pt;">01 Key ID<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Auth Data Len</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:273.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В    дополнение    к    цифровой    подписи    используется<span class=font7>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>Cryptographic sequence number</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">неубывающий порядковый номер, включаемый в каждый</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">пакет OSPF для защиты от replay-атак (подмена). Это обеспечивает высокий уровень защиты, однако сохраняется возможность</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">подмены пакета OSPF пока изменяется порядковый номер. Для предотвращения такой возможности структура данных для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">каждого соседа содержит новое поле &laquo;криптографический порядковый номер&raquo; (cryptographic sequence number).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Это поле инициализируется нулевым значением и снова устанавливается в 0 при каждом переходе соседа в состояние Down.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Всякий раз, когда подтверждается аутентичность пакета OSPF, в это поле помещается порядковый номер принятого пакета.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Данная спецификация не предлагает процедуры обновления порядкового номера после использования всего диапазона значений.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Когда криптографический порядковый номер на передающем маршрутизаторе достигает максимального значения, маршрутизатор</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">должен снова установить нулевое значение для порядкового номера. После такой операции соседний маршрутизатор будет</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отвергать пакеты OSPF в течение интервала RouterDeadInterval, о потом маршрутизаторы должны будут заново организовать</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">отношения смежности через этот интерфейс. Однако предполагается, что во многих реализациях в качестве криптографического</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">порядкового номера будет использоваться &laquo;число секунд с момента перезагрузки&raquo; (seconds since reboot) или аналогичное</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">значение (например, seconds since 1960). Такой выбор будет в значительной мере решать проблему, поскольку для порядкового</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">номера используется 32-битовое поле.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Криптографическая аутентификация OSPF не обеспечивает конфиденциальности.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При использовании криптографической аутентификации 64-битовое поле Authentication в стандартных заголовках пакетов OSPF</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">используется несколько иначе (см. таблицу 24).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Key ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Это поле идентифицирует алгоритм и секретный ключ, используемые для создания цифровой подписи, добавляемой к пакетам OSPF. Идентификаторы Key Id являются уникальными и задаются для каждого интерфейса (или, эквивалентно, для подсети).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Auth Data Len</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Размер (в байтах) цифровой подписи (message digest), добавляемой к пакету OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>Cryptographic sequence number</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Беззнаковый 32-битовый порядковый номер, который может только увеличиваться и служит для предотвращения replay-атак.</span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>61&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:253.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:123.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:74.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:98.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:12.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:28.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:777.12pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Добавляемая к пакету OSPF цифровая подпись не рассматривается как часть пакета OSPF и не учитывается в поле размера в заголовке OSPF, хотя и учитывается в общем размере пакета IP.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Каждый ключ задается комбинацией интерфейса и поля Key ID. Интерфейс может иметь несколько активных ключей одновременно, что обеспечивает возможность простой и безопасной смены ключа. С каждым ключом связано 4 временных параметра, в которых может использоваться время суток (time-of-day) или время по локальным часам маршрутизатора (например, число секунд с момента перезагрузки):</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>KeyStartAccept</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Время, когда маршрутизатор начнет принимать пакеты, созданные с этим ключом.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>KeyStartGenerate</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Время, когда маршрутизатор начнет использование ключа для генерации пакетов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>KeyStopGenerate</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Время, когда маршрутизатор прекратит использование ключа для генерации пакетов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b><i>KeyStopAccept</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left; text-indent:18.00pt;"><span class=font38 style=" line-height:9.84pt;">Время, когда маршрутизатор прекратит принимать пакеты, созданные с этим ключом. Для упрощения смены ключей значение KeyStartAccept должно быть меньше KeyStartGenerate, а KeyStopGenerate меньше, чем KeyStopAccept. Если значения KeyStopGenerate и KeyStopAccept не заданы, время жизни ключа становится бесконечным. Когда новый ключ приходит на смену прежнему, время KeyStartGenerate для нового ключа должно быть не больше времени KeyStopGenerate для старого ключа.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Для предотвращения проблем ключи должны сохраняться при перезагрузке маршрутизатора и аппаратном сбросе. В тех случаях, когда истекает время действия последнего ключа, связанного с интерфейсом, недопустим переход в состояние работы без аутентификации и нарушение маршрутизации. Следовательно, маршрутизатор должен передавать уведомление last authentication key expiration (срок действия последнего ключа заканчивается) и трактовать время жизни ключа как бесконечное, пока это время не будет увеличено и ключ не будет удален системой сетевого управления или не будет порожден новый ключ.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>D.4 Генерация сообщений</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:10.08pt;">После подготовки содержимого пакета OSPF вызывается процедура аутентификации, заданная для передающего интерфейса полем Autype. Процедура аутентификации вносит в пакет OSPF требуемые изменения.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>D.4.1 Генерация Null-аутентификации</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При использовании Null-аутентификации пакет изменяется следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Для поля Autype в стандартном заголовке OSPF устанавливается значение 0.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Поле контрольной суммы в стандартном заголовке OSPF содержит стандартную контрольную сумму IP всего содержимого пакета, начиная с заголовка OSPF, но без учета 64-битового поля аутентификации. Если длина пакета не равна целому числу 16-битовых слов, он дополняется справа соответствующим количеством нулей.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>D.4.2 Генерация простой парольной аутентификации</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При использовании простого пароля пакет изменяется следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Для поля Autype в стандартном заголовке OSPF устанавливается значение 1.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Поле контрольной суммы в стандартном заголовке OSPF содержит стандартную контрольную сумму IP всего содержимого пакета, начиная с заголовка OSPF, но без учета 64-битового поля аутентификации. Если длина пакета не равна целому числу 16-битовых слов, он дополняется справа соответствующим количеством нулей.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;64-битовое поле аутентификации в стандартном заголовке пакета OSPF содержит 64-битовый пароль (ключ аутентификации), заданный для интерфейса.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>D.4.3 Генерация криптографической аутентификации</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При использовании криптографической аутентификации для интерфейса может быть указано несколько ключей. В таких случаях из числа ключей, корректных для генерации сообщений (KeyStartGenerate &lt;= текущее время &lt; KeyStopGenerate) выбирается ключ с самым последним значением KeyStartGenerate. Пакеты модифицируются с использованием этого ключа:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Для поля Autype в стандартном заголовке OSPF устанавливается значение 2.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Контрольная сумма не рассчитывается и соответствующее поле заголовка OSPF имеет нулевое значение.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 55.44pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;В поле Key ID (см. таблицу 24) устанавливается значение Key ID выбранного ключа.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 73.44pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(4)&nbsp; &nbsp;В поле Auth Data Len указывается размер (в байтах) цифровой подписи, которая будет добавляться к пакету OSPF. При использовании алгоритма MD5 поле Auth Data Len имеет значение 16.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 73.44pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(5)&nbsp; &nbsp;В 32-битовое поле криптографического порядкового номера (см. таблицу 24) помещается неубывающее значение (т. е., значение, по крайней мере равное последнему значению, переданному с использованием данного интерфейса). Выбор значений криптографического порядкового номера зависит от реализации (это может быть простой счетчик или значение, базирующееся на показаниях системных часов).</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 73.44pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(6)&nbsp; &nbsp;Рассчитывается цифровая подпись и добавляется к пакету OSPF. Используемый для расчета алгоритм аутентификации указывается ключом. Исходными данными для расчета является содержимое пакета OSPF и секретный ключ. При использовании алгоритма MD5 цифровая подпись рассчитывается следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">a)&nbsp; &nbsp; &nbsp;К пакету OSPF добавляется 16-байтовый ключ MD5.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">b)&nbsp; &nbsp; &nbsp;Добавляются поля заполнения в соответствии с [Ref17].</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 64.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">c)&nbsp; &nbsp; &nbsp;Алгоритм MD5 используется для конкатенации пакета OSPF, секретного ключа, заполнения и поля длины, давая в результате 16-байтовую цифровую подпись (см. [Ref17]).</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">d)&nbsp; &nbsp; &nbsp;Подпись MD5 записывается поверх ключа OSPF (т. е., добавляется в конце исходного пакета OSPF). Подпись не учитывается в поле длины в заголовке OSPF, но включается в длину пакета IP. Любые добавления или заполнение после подписи не учитываются и не передаются.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>D.5 Верификация сообщений</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Когда принимается пакет OSPF, должна быть проверена его аутентичность. Процедура унификации задается полем Autype в стандартном заголовке OSPF; соответствующее значение Autype должно быть задано для приемного интерфейса OSPF. Если аутентичность принятого пакета OSPF подтверждена, продолжается обработка пакета, как описано в параграфе 8.2. Пакеты, не прошедшие аутентификацию, отбрасываются.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font10><b><i>D.5.1 Проверка Null-аутентификации</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">При использовании Null-аутентификации должно проверяться поле контрольной суммы в заголовке OSPF, содержащее стандартную контрольную сумму IP. Если длина пакета не кратна целому числу 16-битовых слов, пакет дополняется справа нулями.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>62</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:762.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>D.5.2 Проверка простой парольной аутентификации</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При использовании простой парольной аутентификации проверка пакетов OSPF происходит следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Должно проверяться поле контрольной суммы в заголовке OSPF (стандартная контрольная сумма IP). Если размер пакета не кратен 16 битам, он дополняется нулями справа до вычисления контрольной суммы.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;64-битовое поле аутентификации в заголовке пакета OSPF должно содержать 64-битовый пароль (ключ аутентификации), заданный для интерфейса.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font10><b><i>D.5.3 Проверка криптографической аутентификации</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">При использовании криптографической аутентификации проверка принятых пакетов OSPF осуществляется следующим образом:</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Находится ключ, заданный для приемного интерфейса, имеющий значение Key ID, равное указанному в принятом пакете OSPF (см. таблицу 24). Если ключ не найден или некорректен (т. е., current time &lt; KeyStartAccept или current time &gt;= KeyStopAccept), пакет OSPF отбрасывается.</span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Если криптографический порядковый номер, найденный в заголовке OSPF header (см. таблицу 24), меньше криптографического порядкового номера, записанного в структуре данных о соседе, пакет OSPF отбрасывается.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;Проверяется цифровая подпись, добавленная к пакету:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(a)&nbsp; &nbsp; Полученная подпись сохраняется отдельно.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(b)&nbsp; &nbsp;Рассчитывается новая подпись в соответствии с п. 6 параграфа D.4.3.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 92.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(c)&nbsp; &nbsp; Рассчитанное и полученное значения сравниваются. При несоответствии пакет OSPF отбрасывается. Если подписи совпадают, пакет считается аутентичным и в поле cryptographic sequence number структуры данных о соседе помещается порядковый номер из заголовка пакета OSPF.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>E.&nbsp;Алгоритм установки Link State ID</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Поле Link State ID в записях AS-external-LSA и summary-LSA обычно содержит IP-адрес описываемой сети. Однако при необходимости это поле может включать также биты адреса хоста. Это позволяет маршрутизатору разделять LSA для сетей с одинаковым номером, но разными масками, которые могут встречаться при использовании сверхсетей и &laquo;нулевых&raquo; подсетей (см. [Ref10]).</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом приложении рассматривается один из возможных алгоритмов установки битов адреса хоста в поле Link State ID. Выбор подходящего алгоритма не задается спецификацией и определяется локально. Разные маршрутизаторы могут использовать различные алгоритмы, поскольку этот выбор влияет только на LSA, генерируемые данным маршрутизатором. Единственным требованием к алгоритму является использование по возможности IP-номера сети в качестве значения поля Link State ID, поскольку это повышает уровень интероперабельности с реализациями OSPF, предшествующими RFC 1583. Описанный ниже алгоритм описан на примере AS-external-LSA, но может использоваться и для summary-LSA. Предположим, что маршрутизатор хочет сгенерировать анонс AS-external-LSA для сети, имеющей адрес NA и маску NM1. Для определения Link State ID выполняются следующие операции:</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 74.88pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Выясняется генерировал ли маршрутизатор ранее AS-external-LSA с Link State ID = NA (в таких LSA маршрутизатор будет указываться как Advertising Router). Если этого не было, устанавливается Link State ID = NA и работа алгоритма завершается.</span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 74.88pt; text-align:left; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Определяется маска сети из тела уже существующих AS-external-LSA (обозначим эту маску NM2). Возможны 2 случая: <span class=font29>o </span>NM1 больше, чем NM2 (сетевая часть адреса содержит больше битов). В этом случае устанавливаем для поля Link State</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">ID в новом анонсе LSA значение [NA,NM1] со всеми дополнительными битами из адреса хоста (т. е., NA OR NOT NM1 или объединение номера сети с широковещательным адресом сети [NA,NM1]). <span class=font29>o </span>NM2 больше по сравнению с NM1. В этом случае изменяем существующий анонс LSA (Link State ID = NA), чтобы он указывал на новую сеть [NA,NM1], увеличиваем порядковый номер, а также изменяем маску в теле анонса на NM1 и вставляем значение стоимости для новой сети. После этого генерируется новый анонс LSA для старой сети [NA,NM2] с Link State ID = NA, плюс биты, которые отсутствуют в маске NM2 (широковещательный адрес [NA,NM2]). Описанный выше алгоритм предполагает, что все маски являются непрерывными – для двух сетей с одним номером в таких случаях одна маска будет более специфична<sup>42</sup>, нежели другая. Предполагается также, что не существует сетей, имеющих адрес, который совпадает с широковещательным адресом другой сети. С учетом этих предположений описанный выше алгоритм всегда обеспечивает уникальное значение Link State ID. Этот алгоритм можно описать другими словами. При генерации AS-external-LSA пытаемся использовать номер сети в качестве Link State ID. При возникновении конфликта проверяются конфликтующие сети, одна из которых будет подмножеством другой. Для более широкой сети используем в качестве Link State ID номер сети, а для другой сети используем широковещательный адрес (т. е., устанавливаем 1 для всех битов &laquo;адреса хоста&raquo;). Если более узкая сеть обрабатывается раньше, придется генерировать два анонса LSA сразу.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В качестве примера использования алгоритма рассмотрим его работу при описанной ниже последовательности событий в одном маршрутизаторе (Router A).</span></div>
<div class=paragraph style=" padding:0.00pt 185.28pt 0.00pt 74.88pt; text-align:left; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Router A хочет сгенерировать анонс AS-external-LSA для сети [10.0.0.0,255.255.255.0]: a.    Используется Link State ID = 10.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Router хочет породить AS-external-LSA для сети [10.0.0.0,255.255.0.0]:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">a.&nbsp; &nbsp; &nbsp;LSA для [10.0.0,0,255.255.255.0] генерируется заново с Link State ID = 10.0.0.255.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">b.&nbsp; &nbsp; &nbsp;Для сети [10.0.0.0,255.255.0.0] используется Link State ID = 10.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;После этого маршрутизатор Router A хочет сгенерировать AS-external-LSA для [10.0.0.0,255.0.0.0]:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">a.&nbsp; &nbsp; &nbsp;Заново порождается LSA для сети [10.0.0.0,255.255.0.0] с новым значение Link State ID = 10.0.255.255.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">b.&nbsp; &nbsp; &nbsp;Для сети [10.0.0.0,255.0.0.0] используется Link State ID = 10.0.0.0.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">c.&nbsp; &nbsp; &nbsp;Для сети [10.0.0.0,255.255.255.0] сохраняется Link State ID = 10.0.0.255.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>F.&nbsp;Множество интерфейсов в одну сеть/подсеть</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Существует по крайней мере два способа поддержки множества физических интерфейсов в одну подсеть IP. Оба метода будут интероперабельны с RFC 1583 (и, естественно, с данной спецификацией). Ниже кратко описаны два способа в предположении что каждому интерфейсу выделен свой IP-адрес (в противном случае вопрос поддержки множества интерфейсов переносится скорее на канальный уровень или уровень ARP).</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>Метод 1:</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Все функции OSPF поддерживаются на обоих интерфейсах (прием и передача приветствий, лавинная рассылка, поддержка</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">раздельных FSM для интерфейса и соседа и т. п.). Все остальные маршрутизаторы подсети будут трактовать эти интерфейсы как</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">разных соседей, идентифицируемых (в широковещательных и NBMA-сетях) по их IP-адресам.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Метод 1 имеет следующие недостатки:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)   Увеличивается общее число соседей и смежных маршрутизаторов.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38><sup>42</sup> Меньше битов в адресе хоста. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>63</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:24.96pt;">
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:782.88pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;Теряется возможность проверки двухсторонней связи на обоих интерфейсах поскольку двунаправленность обеспечивается на основе Router ID.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">(3)&nbsp; &nbsp;При выборе DR оба интерфейса рассматриваются вместе, поскольку выбор обоих в качестве DR может привести к неоднозначности (к кому относится Router ID).</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>Метод 2:</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Протокол OSPF работает только на одном интерфейсе (назовем его основным или первичным), но в Router-LSA включаются оба</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">интерфейса.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Метод 2 также имеет недостатки:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(1)&nbsp; &nbsp;Теряется проверка двунаправленности для вторичного интерфейса.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">(2)&nbsp; &nbsp;При отказе основного интерфейса требуется перевести второй интерфейс в состояние основного.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font11><b><i>G. Отличия от RFC 2178</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">В этом приложении рассмотрены различия между данной спецификацией и RFC 2178. Все различия являются обратно совместимыми. Реализации данной спецификации и RFC 2178, 1583, 1247 будут интероперабельны.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>G.1 Изменение лавинной рассылки</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">В процедуру лавинной рассылки (глава 13) внесено три изменения.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">1.&nbsp; &nbsp; &nbsp;<i>Этап 4 параграфа 13. </i>Анонсы LSA возраста MaxAge подтверждаются и после этого отбрасываются только при выполнении двух условий: a) в базе данных нет копии LSA и b) ни один из соседних маршрутизаторов не находится в состоянии Exchange или Loading. Во всех прочих случаях LSA с возрастом MaxAge обрабатываются подобно остальным LSA – устанавливаются в базу данных и рассылаются в лавинном режиме через подходящий интерфейс, когда копия в базе данных более старая (этап 5 в параграфе 13). Эти изменения влияют на содержимое таблицы 22.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">2.&nbsp; &nbsp; &nbsp;<i>Этап 5a в параграфе 13. </i>Проверка MinLSArrival выполняется только для LSA, полученных в процессе лавинной рассылка и не должна применяться к собственным LSA маршрутизатора.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 46.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font38 style=" line-height:9.84pt;">3.&nbsp; &nbsp; &nbsp;<i>Этап 8 в параграфе 13. </i>Конфликт между маршрутизаторами при определении более свежего экземпляра LSA может приводить к катастрофической лавинной рассылке для протоколов link-state [Ref26]. OSPF решает эту проблему двумя способами: a) возраст LSA используется при лавинной рассылке подобно TTL, что позволяет устранять &laquo;петли LSA&raquo; в сети (см. параграф 13.3) и b) маршрутизаторы не воспринимают обновлений LSA с периодом меньше MinLSArrival секунд (см. параграф 13). Однако сохраняется одна ситуация в RFC 2178, когда несогласие в определении более свежего экземпляра LSA может порождать излишнюю лавинную рассылку - отклик на старые LSA путем повтора лавинной рассылки копии из базы данных. По этой причине этап 8 в параграфе 13 был исправлен так, чтобы копия из базы данных рассылалась только в тех случаях, когда эта копия не передавалась ни в одном пакете LSU в течение последних MinLSArrival секунд.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>G.2 Смена предпочтений для внешнего пути</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Сохраняется возможность возникновения маршрутных петель в RFC 2178 при использовании виртуальных каналов, когда один и тот же внешний путь импортируется несколькими ASBR, относящимися к разным областям. Для решения этой проблемы был переработан параграф 16.4.1. При выборе корректного ASBR/адреса пересылки внутридоменные пути мимо магистрали всегда имеют предпочтение. Однако внутридоменные пути через магистраль (область 0) и междоменные пути имеют одинаковый уровень предпочтения и должны сравниваться с учетом их стоимости.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Изменения  обусловлены следующими причинами. При использовании виртуальных  каналов внутридоменный путь через магистраль для одного маршрутизатора может совпадать с междоменным путем другого маршрутизатора, лежащего на несколько интервалов (hop) ближе к адресату. Следовательно, внутридоменный магистральный путь и междоменный путь должны иметь одинаковый уровень предпочтений. Мы можем сравнивать стоимость таких путей, выбирая из них лучший (см. параграф 16.3). Автор благодарит Michael Briggs и Jeremy McCooey из UNH InterOperability Lab, указавших на эту проблему.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>G.3 Неполное разрешение виртуальных next hop</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Одной из задач расчета, описанного в параграфе 16.3, является определение следующих интервалов (next hop) для тех адресатов, которые имеют значения next hop, рассчитанные как виртуальный канал (см. параграфы 16.1 и 16.2). После завершения расчетов, описанный в параграфе 16.3, все пути, рассчитанные в 16.1 и 16.2, которые содержат непреобразованные виртуальные next hop, должны отбрасываться.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font11><b>G.4 Просмотр таблицы маршрутизации</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Алгоритм поиска в таблице маршрутов (параграф 11.1) был изменен на основе реального опыта. Наиболее соответствующая (best match) запись маршрутной таблицы считается та, которая обеспечивает большее совпадение (наименьшая маска). Предположим для примера, что маршрутизатор пересылает пакеты для адреса 192.9.1.1. Запись в таблице для адресата 192.9.1/24 будет обеспечивать лучшее соответствие по сравнению с записью для 192.9/16, независимо от типов путей в таблице. Отметим, однако, что при наличии в маршрутной записи множества путей расчеты, описанные в 16.1, 16.2 и 16.4, всегда дают более предпочтительные пути (в порядке снижения предпочтений – внутридоменные, междоменные и внешние типа 1 и 2 – см. главу 11).</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font11><b><i>Вопрос ы безопасности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Весь обмен данными протокола OSPF использует аутентификацию. Поддерживается несколько типов аутентификации OSPF и выбор типа задается конфигурационными параметрами для каждого сегмента сети. Предполагается, что криптографическая аутентификация OSPF устойчива к пассивным атакам и обеспечивает достаточно надежную защиту от активных атак. При использовании криптографической аутентификации каждый маршрутизатор добавляет (append) цифровую подпись (message digest) к передаваемому пакету OSPF. На приемной стороне для проверки аутентичности пакетов используется открытый ключ и цифровая подпись из принятого пакета OSPF.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font38 style=" line-height:9.84pt;">Уровень безопасности при криптографической аутентификации полностью определяется используемым алгоритмом создания цифровой подписи (в настоящее время спецификация включает только алгоритм MD5), качеством используемых ключей и корректностью реализации механизма обеспечения безопасности во всех используемых реализациях OSPF. Требуется также обеспечение безопасности хранения секретных ключей.</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ни один из типов аутентификации OSPF не обеспечивает конфиденциальности и не предотвращает возможность анализа трафика. Управление ключами также не рассматривается в данной спецификации. Дополнительную информацию можно найти в параграфах 8.1, 8.2 и Приложении D.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font11><b><i>Адреса авторов</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 37.44pt; text-align:left;"><span class=font38>John Moy</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>64</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7><b><u>Перевод RFC 2328</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font7><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:251.04pt;">
<div class=paragraph style=" padding:0.00pt 420.00pt 0.00pt 66.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Ascend Communications, Inc. 1 Robbins Road Westford, MA 01886</span></div>
<div class=paragraph style=" padding:8.16pt 441.84pt 0.00pt 66.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Phone: 978-952-1367 Fax:  978-392-2075 EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:jmoy@casc.com"><u>jmoy@casc.com</u></a></span></span></div>
<div class=paragraph style=" padding:7.92pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>Перевод на русский язык</b></span></div>
<div class=paragraph style=" padding:0.00pt 453.12pt 0.00pt 66.00pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Николай Малых <span style=" color:rgb(0,0,128);"><a href="mailto:nmalykh@bilim.com"><u>nmalykh@bilim.com</u></a></span></span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font12><b><i>Полное заявление авторских прав</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;"><b>Copyright (C) The Internet Society (1998). All Rights Reserved.</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">Standards process must be followed, or as required to translate it into languages other than English.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">This document and the information contained herein is provided on an &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font38 style=" line-height:9.84pt;">IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:535.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.96pt;">
<div class=block style=" width:72.96pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font7><b>65</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font7 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
<script>
var siteid=10204;
var cats='0';
var adult='0';
document.write('<scr'+'ipt type="text/jav'+'ascript" src="/click'+'under2.js"></scr'+'ipt>');
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10568897-4");
pageTracker._trackPageview();
} catch(err) {}</script></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</body>
</html>

