<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">

<meta name="author" content="">
<meta name="description" content="">
<meta name="keywords" content="">

<title>Перевод RFC 4271</title>
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:9.00pt "Arial", sans-serif; }
 .font1 { font:10.00pt "Arial", sans-serif; }
 .font2 { font:12.00pt "Arial", sans-serif; }
 .font3 { font:13.00pt "Arial", sans-serif; }
 .font4 { font:14.00pt "Arial", sans-serif; }
 .font5 { font:16.00pt "Arial", sans-serif; }
 .font6 { font:27.00pt "Arial", sans-serif; }
 .font7 { font:6.30pt "Courier New", monospace; }
 .font8 { font:9.00pt "Courier New", monospace; }
 .font9 { font:11.00pt "Courier New", monospace; }
 .font10 { font:6.30pt "Times New Roman", serif; }
 .font11 { font:7.55pt "Times New Roman", serif; }
 .font12 { font:8.10pt "Times New Roman", serif; }
 .font13 { font:9.00pt "Times New Roman", serif; }
</style>
</head>

<body>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:60.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:192.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:125.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.48pt;">
<div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:66.48pt;">
<div class=block style=" width:66.48pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="10" valign="top" style=" width:494.88pt;">
<div class=block style=" width:494.88pt; height:36.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font6><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:33.60pt;">
<div class=block style=" width:33.60pt; height:37.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.80pt;">
<div class=block style=" width:4.80pt; height:1.44pt;">
</div>
</td>
<td class=cell colspan="8" rowspan="2" valign="top" style=" width:487.20pt;">
<div class=block style=" width:487.20pt; height:14.16pt;">
<div class=paragraph style=" text-align:left;"><span class=font1><b> </b><span style=" color:rgb(0,0,255);"><b><u></u></b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:2.88pt;">
<div class=block style=" width:2.88pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:71.28pt;">
<div class=block style=" width:71.28pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:36.48pt;">
<div class=block style=" width:36.48pt; height:12.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:240.00pt;">
<div class=block style=" width:240.00pt; height:77.04pt;">
<div class=paragraph style=" padding:0.00pt 11.52pt 0.00pt 56.88pt; text-align:left;"><span class=font9 style=" line-height:18.48pt;"><b>Network Working Group Request for Comments: 4271 Obsoletes: 1771 Category: Standards Track</b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:354.96pt;">
<div class=block style=" width:354.96pt; height:77.04pt;">
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font9 style=" line-height:18.48pt;"><b>Y. Rekhter, Ed.</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font9 style=" line-height:18.48pt;"><b>T. Li, Ed.</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font9 style=" line-height:18.48pt;"><b>S. Hares, Ed.</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.88pt 0.00pt 0.00pt; text-align:right;"><span class=font9 style=" line-height:18.48pt;"><b>January 2006</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:33.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:39.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 240.00pt; text-align:left;"><span class=font5><b>Протокол BGP-4</b></span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 241.20pt; text-align:left;"><span class=font13>A Border Gateway Protocol 4 (BGP-4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:19.92pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:213.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Статус документа</b></span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В этом документе содержится спецификация протокола, предложенного сообществу Internet. Документ служит приглашением к дискуссии в целях развития и совершенствования протокола. Текущее состояние стандартизации протокола вы можете узнать из документа &quot;Internet Official Protocol Standards&quot; (STD 1). Документ может распространяться без ограничений.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Авторские права</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Copyright (C) The Internet Society (2006).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Тезисы</b></span></div>
<div class=paragraph style=" padding:2.16pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Этот документ посвящен обсуждению протокола BGP<sup>1</sup>, который является протоколом маршрутизации между автономными системами (inter-Autonomous System routing protocol).</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Основной функцией понимающей BGP системы является обмен информацией о доступности сетей с другими системами BGP. Информация о доступности сетей включает список автономных систем (AS), через которые проходит эта информация. Этих сведений достаточно для построения графа связности AS, из которого могут исключаться маршрутные петли (routing loop), а также приниматься некоторые решения на уровне политики AS.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">BGP-4 обеспечивает новые механизмы поддержки бесклассовой междоменной маршрутизации (CIDR). Эти механизмы включают поддержку анонсирования группы адресатов с помощью префикса IP и позволяют обойтись без концепции &laquo;класса&raquo; сетей в рамках BGP. BGP-4 также добавляет механизм объединения маршрутов, включающий объединение путей AS. Этот документ прекращает действие RFC 1771.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:14.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font5><b>Оглавление</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:136.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 252.48pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>...............................................................................................................................................</b>2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 252.48pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">..........................................................................................................................................2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 252.48pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>..............................................................................................................................................</b>3</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 252.48pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>..........................................................................................................................................</b><span style=" letter-spacing:-0.45pt;">3..</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 253.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">..........................................................................................................................................4</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.68pt; text-align:left;"><span class=font13 style=" line-height:9.84pt; letter-spacing:-0.40pt;">3.1.<span style=" letter-spacing:0.00pt;">&nbsp;Маршруты - анонсирование и хранение............................................................................................................................................5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.68pt; text-align:left;"><span class=font13 style=" line-height:9.84pt; letter-spacing:-0.40pt;">3.2.<span style=" letter-spacing:0.00pt;">&nbsp;</span><span style=" letter-spacing:-0.05pt;">База маршрутной информации RIB</span><span style=" letter-spacing:0.00pt;">.................................................................................................................................................5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:9.84pt; letter-spacing:-0.40pt;">4.<span style=" letter-spacing:0.00pt;">&nbsp;</span><span style=" letter-spacing:-0.05pt;">Формат сообщений</span><span style=" letter-spacing:0.00pt;">......................................................................................................................................................................................5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">4.1.&nbsp;Формат заголовка...................................................................................................................................................................................5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">4.2.&nbsp;Формат сообщения OPEN......................................................................................................................................................................6</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">4.3.&nbsp;Формат сообщения UPDATE............................................................................................................................................................7</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">4.4.&nbsp;Формат сообщения KEEPALIVE.....................................................................................................................................................9</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">4.5.&nbsp;Формат сообщения NOTIFICATION.................................................................................................................................................9</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt; letter-spacing:-0.60pt;">5.<span style=" letter-spacing:0.00pt;">&nbsp;Атрибуты пути...........................................................................................................................................................................................</span><span style=" letter-spacing:-0.55pt;"><b>1</b>0</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:85.20pt;">
<div class=block style=" width:85.20pt; height:2.88pt;">
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:141.12pt;">
<div class=block style=" width:141.12pt; height:2.88pt;">
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:368.64pt;">
<div class=block style=" width:368.64pt; height:2.88pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:99.60pt;">
<div class=block style=" width:99.60pt; height:65.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 85.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5.1.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 99.12pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5</span></div>
</div>
</td>
<td class=cell colspan="7" valign="top" style=" width:495.36pt;">
<div class=block style=" width:495.36pt; height:65.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 145.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">............................................................................................................................................<span style=" letter-spacing:-1.15pt;">11</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 144.24pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>...............................................................................................................................................</b><span style=" letter-spacing:-1.15pt;">11</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 143.76pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">.............................................................................................................................................<span style=" letter-spacing:-1.15pt;">11</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 143.76pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>................................................................................................................................................</b><span style=" letter-spacing:-1.15pt;">11</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 143.76pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>................................................................................................................................................</b><span style=" letter-spacing:-0.65pt;">12</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 143.76pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>..............................................................................................................................................</b><span style=" letter-spacing:-0.65pt;">12</span></span></div>
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:9.84pt;">5.1.6. ATOMIC AGGREGATE........................................................................................................................................................<span style=" letter-spacing:-0.65pt;">12</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:79.92pt;">
<div class=block style=" width:79.92pt; height:101.52pt;">
<div class=paragraph style=" padding:10.80pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>6.</span></div>
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:353.04pt;">
<div class=block style=" width:353.04pt; height:101.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 19.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">5.1.7. AGGREGATOR ...................................................</span></div>
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:9.84pt;">Обработка ошибок BGP ........................................................</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.1.&nbsp;Отработка ошибок в заголовках сообщений .............</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.2.&nbsp;Отработка ошибок в сообщениях OPEN ...................</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.3.&nbsp;Отработка ошибок в сообщениях UPDATE ..............</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.4.&nbsp;Отработка ошибок в сообщениях NOTIFICATION..</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.5.&nbsp;Отработка таймаутов Hold Timer ...............................</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.6.&nbsp;Обработка ошибок машины конечных состояний...</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.7.&nbsp;Обработка Cease ...........................................................</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">6.8.&nbsp;Детектирование конфликтов в соединениях BGP....</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:162.00pt;">
<div class=block style=" width:162.00pt; height:101.52pt;">
<div class=paragraph style=" padding:0.96pt 28.32pt 0.00pt 122.16pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt; letter-spacing:-0.45pt;">.13 .13 .13 <span style=" letter-spacing:-0.95pt;"><b>...1</b>3 </span><span style=" letter-spacing:-0.30pt;">.14 </span><span style=" letter-spacing:-0.40pt;">.14 </span>.15 .15 .15 <b>.15</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:166.08pt;">
<div class=block style=" width:166.08pt; height:23.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>1</sup>Border Gateway Protocol</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:266.88pt;">
<div class=block style=" width:266.88pt; height:23.52pt;">
<div class=paragraph style=" text-align:left;"><span class=font13>ротокол граничного шлюза.</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:162.00pt;">
<div class=block style=" width:162.00pt; height:23.52pt;">
<div class=paragraph style=" padding:10.56pt 0.00pt 0.00pt 55.92pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="12" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:8.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:5.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:14.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:60.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:13.68pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:192.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:125.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:2.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:33.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:82.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:82.32pt;">
<div class=block style=" width:82.32pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:12.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">7.<span class=font13>&nbsp;</span>Согласование версий BGP <span class=font13>..................................................................................................................................................................... </span><span style=" letter-spacing:-1.00pt;"><b>..</b>.1. .5. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.<span class=font13>&nbsp;</span>Машина конечных состояний BGP <span class=font13>................................................................................................................................................... <b>...... </b></span>15</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.1.<span class=font13>&nbsp;</span>События BGP FSM <span class=font13>.................................................................................................................................................. <b>...... </b></span><span style=" letter-spacing:-0.40pt;">.. </span><span class=font13>................... </span>16</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.1.1.<span class=font13>&nbsp;</span>Дополнительные события, связанные с дополнительными атрибутами сессии <span class=font13>........................................................... </span><b>.</b>..16</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.1.2.<span class=font13>&nbsp;</span>События административного плана <span class=font13>..................................................................................................................................... </span>18</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.1.3.<span class=font13>&nbsp;</span>События, связанные с таймерами <span class=font13>................................................................................................................................... </span><b>.</b>....<b>.</b>...19</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.1.4.<span class=font13>&nbsp;</span>События, связанные с соединениями TCP <span class=font13>.................................................................................................................. <b>........ </b></span>20</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.1.5.<span class=font13>&nbsp;</span>События, связанные с сообщениями BGP <span class=font13>................................................................................................................... <b>........ </b></span>21</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.2.<span class=font13>&nbsp;</span>Описание FSM <span class=font13>.......................................................................................................................................................................... <b>........ </b></span>21</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.2.1.<span class=font13>&nbsp;</span>Определение FSM <span class=font13>............................................................................................................................................................... </span><span style=" letter-spacing:-1.05pt;"><b>..</b>.2. .1. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">8.2.1.1.&nbsp;Термины &quot;активный&quot; и &quot;пассивный&quot; ....................................................................................................................... <span style=" letter-spacing:-0.65pt;"><b>...</b>2. 2</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font11 style=" line-height:9.84pt;">8.2.1.2.<span class=font13>&nbsp;</span>FSM и детектирование конфликтов <span class=font13>........................................................................................................................... </span><span style=" letter-spacing:-0.80pt;"><b>.</b>2..2..</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">8.2.1.3.&nbsp;FSM и дополнительные атрибуты сессий ................................................................................................................. <span style=" letter-spacing:-1.40pt;"><b>.</b>.2. .2.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.2.1.4.<span class=font13>&nbsp;</span>Номера событий FSM <span class=font13>........................................................................................................................................... <b>........ </b></span>22</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.2.1.5.<span class=font13>&nbsp;</span>Действия FSM, зависящие от реализации <span class=font13>............................................................................................................. ...... </span>22</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">8.2.2.<span class=font13>&nbsp;</span>Машина конечных состояний <span class=font13>....................................................................................................................................... <b>........ </b></span>22</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.<span class=font13>&nbsp;</span>Обработка сообщений UPDATE <span class=font13>................................................................................................................................................... <b>..... </b></span>........32</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.1.&nbsp;Процесс выбора маршрутов (Decision Process) .................................................................................................................. <b>.......... </b>33</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.1.1.&nbsp;Фаза 1: Расчет предпочтений (Calculation of Degree of Preference) ............................................................................ <b>...... </b>33</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.1.2.&nbsp;Фаза 2: Выбор маршрута (Route Selection) .............................................................................................................. <b>............ </b>33</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.1.2.1.<span class=font13>&nbsp; </span>Route Resolvability Condition <span class=font13>................................................................................................................................. <b>...... </b></span>34</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.1.2.2.<span class=font13>&nbsp;</span>“Отбрасывание лишнего” (фаза 2) <span class=font13>.................................................................................................................. <b>............ </b></span>34</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.1.3.&nbsp;Фаза 3: Распространение маршрутов (Route Dissemination) ........................................................................................... <span style=" letter-spacing:-1.00pt;"><b>..</b>.3. 5</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.1.4.&nbsp;Перекрывающиеся маршруты ..................................................................................................................................... <span style=" letter-spacing:-1.10pt;">.......... </span>..... 35</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.2.&nbsp;Процесс передачи обновлений (Update-Send) .............................................................................................................................. <span style=" letter-spacing:-1.15pt;">3. 6</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.2.1.<span class=font13>&nbsp; </span>Controlling Routing Traffic Overhead <span class=font13>.................................................................................................................................... </span>36</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.2.1.1.<span class=font13>&nbsp;</span>Частота анонсирования маршрутов <span class=font13>............................................................................................................................ </span><span style=" letter-spacing:-1.05pt;">3..6.</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.2.1.2.&nbsp; Frequency of Route Origination ................................................................................................................................. <span style=" letter-spacing:-0.95pt;"><b>.</b>...<b>.</b>.3. 6</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.2.2.<span class=font13>&nbsp;</span>Эффективная организация маршрутных данных <span class=font13>............................................................................................................ </span>.<b>...</b>.36</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.2.2.1.<span class=font13>&nbsp;</span>Снижение объема информации <span class=font13>.................................................................................................................. <b>.................. </b></span>36</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">9.2.2.2.&nbsp;Агрегирование маршрутной информации ............................................................................................................... <span style=" letter-spacing:-1.15pt;"><b>..</b>.3. .7</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.3.<span class=font13>&nbsp;</span>Критерий выбора маршрута <span class=font13>..................................................................................................................................... </span><span style=" letter-spacing:-0.40pt;">.. </span><span class=font13>....................... </span>38</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">9.4.<span class=font13>&nbsp; </span>Originating BGP routes <span class=font13>............................................................................................................................................................... ....... </span>38</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">10.&nbsp;Таймеры BGP ..................................................................................................................................................................................... <span style=" letter-spacing:-0.60pt;">.. </span>...... <span style=" letter-spacing:-1.15pt;">3. 8</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Приложение A. Сравнение с RFC 1771 ...................................................................................................................................................... <span class=font11 style=" letter-spacing:-0.80pt;">3..8...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font11 style=" line-height:9.84pt;">Приложение B. Сравнение с RFC 1267 <span class=font13>................................................................................................................................. </span><span style=" letter-spacing:-0.65pt;">..... </span><span class=font13><b>.................... </b></span><span class=font12>39</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение C. Сравнение с RFC 1163 <span class=font13>................................................................................................................................ </span><span style=" letter-spacing:-0.45pt;"><b>.</b>... </span><span class=font13><b>..................... </b></span>39</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение D. Сравнение с RFC 1105 <span class=font13>.................................................................................................................................................... </span><span style=" letter-spacing:-0.80pt;"><b>..</b>3..9..</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение E. Опции TCP, которые могут использоваться с BGP <span class=font13>....................................................................................................... </span>39</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение F. Рекомендации для разработчиков <span class=font13>.................................................................................................................................... </span><span class=font11 style=" letter-spacing:-0.75pt;">3..9...</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font11 style=" line-height:9.84pt;">Приложение F.1. Multiple Networks Per Message <span class=font13>............................................................................................................................... </span><span class=font12>39</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение F.2. Reducing Route Flapping <span class=font13>................................................................................................................................... </span><span style=" letter-spacing:-0.70pt;">.... </span><span class=font13>...... </span>40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение F.3. Упорядочивание атрибутов пути <span class=font13>........................................................................................................................ </span><b>...</b>.40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение F.4. Сортировка AS_SET <span class=font13>.................................................................................................................................... <b>............. </b></span>40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение F.5. Контроль за согласованием версий <span class=font13>......................................................................................................................... </span><span style=" letter-spacing:-1.15pt;">4. .0. .</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Приложение F.6. Complex AS_PATH Aggregation <span class=font13>............................................................................................................................. </span><span style=" letter-spacing:-0.80pt;">4..0</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Вопросы безопасности <span class=font13>............................................................................................................................................................. ...................... </span>40</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Согласование с IANA <span class=font13>............................................................................................................................................................. ........................ </span>41</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Нормативные документы <span class=font13>.......................................................................................................................................................................... </span><b>...</b>42</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Дополнительная литература <span class=font13>............................................................................................................................................................... <b>......... </b></span>42</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font3><b><i>1. Введение</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font12>Протокол граничного шлюза (BGP) является протоколом маршрутизации между автономными системами (AS).</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font12 style=" line-height:9.84pt;">Основной функцией понимающей BGP системы является обмен информацией о доступности сетей с другими системами BGP. Информация о доступности сетей включает список автономных систем (AS), через которые проходит эта информация. Этих сведений достаточно для построения графа связности AS, из которого могут исключаться маршрутные петли (routing loop), а также приниматься некоторые решения на уровне политики AS.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font12 style=" line-height:9.84pt;">BGP-4 обеспечивает новые механизмы поддержки бесклассовой междоменной маршрутизации (CIDR) [RFC1518, RFC1519]. Эти механизмы включают поддержку анонсирования группы адресатов с помощью префикса IP и позволяют обойтись без концепции &laquo;класса&raquo; сетей в рамках BGP. BGP-4 также добавляет механизм объединения маршрутов, включающий объединение путей AS. Маршрутная информация, передаваемая с использованием BGP поддерживает только парадигму пересылки на основе адреса получателя (destination-based forwarding paradigm), которая предполагает, что маршрутизатор пересылает пакеты, опираясь лишь на адрес получателя, содержащийся в заголовке IP-пакета. Это, в свою очередь, отражает набор правил политики, которые могут быть применены (или не применены) с использованием BGP. Протокол BGP может поддерживать только правила, соответствующие парадигме пересылки по адресу получателя.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3><b>1.1. Определения основных терминов</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font12 style=" line-height:9.84pt;">В этом разделе приводятся определения основных терминов, имеющих специфическое толкование в контексте протокола BGP и встречающихся в данном документе.</span></div>
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font12 style=" line-height:15.84pt;"><b>Adj-RIB-In</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:15.84pt;">Необработанная маршрутная информация, которая анонсируется локальному узлу BGP его партнерами.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font12 style=" line-height:15.84pt;"><b>Adj-RIB-Out</b></span></div>
<div class=paragraph style=" padding:2.16pt 56.88pt 0.00pt 42.72pt; text-align:left;"><span class=font12 style=" line-height:9.84pt;">Adj-RIBs-Out содержит маршруты, анонсируемые указанным партнерам с помощью сообщений UPDATE, передаваемых локальным узлом BGP.</span></div>
<div class=paragraph style=" padding:3.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:82.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Autonomous System (AS) – автономная система</b></span></div>
<div class=paragraph style=" padding:4.08pt 27.84pt 0.00pt 70.56pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В соответствии с классическим определением автономная система представляет собой набор маршрутизаторов, находящихся под единым административным управлением, использующих протокол внутрибоменной маршрутизации (interior gateway protocol или IGP) и общую метрику для определения маршрутизации пакетов внутри AS, а также использующих протокол междоменной маршрутизации для определения маршрутов пересылки пакетов в другие AS. С момента создания этого определения для AS стало общепринятым использование нескольких протоколов IGP, а в некоторых случаях и нескольких наборов метрик. Использование термина AS в таких случаях подчеркивает, что даже при использовании нескольких IGP и метрик администрирование AS с точки зрения других автономных систем представляет собой единый согласованный план маршрутизации и согласованную картину адресатов, домупных через данную AS.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13><b>BGP Identifier – идентификатор BGP</b></span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">4-октетное целое число без знака, идентифицирующее узел BGP, отправляющий сообщение BGP. Данный узел BGP устанавливает в качестве значения BGP Identifier адрес IP, присвоенный узлу BGP. Значение идентификатора BGP определяется при старте системы и совпадает для всех локальных интерфейсов и данного партнера BGP.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>BGP speaker – узел BGP</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Маршрутизатор, поддерживающий протокол BGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>EBGP</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">External BGP (BGP-соединение с внешним партнером).</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>External peer – внешний партнер</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Партнер BGP, относящийся к другой (внешней по отношению к локальной системе) AS.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Feasible route – подходящий маршрут</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Анонсируемый маршрут, который пригоден для использования получателем.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>IBGP</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Internal BGP (BGP-соединение с внутренним партнером).</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Internal peer – внутренний партнер</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Партнер BGP, относящийся к той же AS, что и локальная система.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>IGP – протокол внутреннего шлюза</b></span></div>
<div class=paragraph style=" padding:1.92pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Interior Gateway Protocol – протокол маршрутизации, используемый для обмена маршрутной информацией между маршрутизаторами одной AS.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Loc-RIB</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Loc-RIB содержит маршруты, выбранные процессом принятия решений (Decision Process) локального узла BGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>NLRI</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Network Layer Reachability Information – информация о доступности на сетевом уровне.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Route - маршрут</b></span></div>
<div class=paragraph style=" padding:2.16pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Единица информации, связывающая набор адресатов с атрибутами пути к этим адресатам. Набор адресатов представляет собой системы, чьи адреса IP содержатся в одном префиксе IP, передаваемом в поле NLRI сообщения UPDATE. Путь представляет собой информацию, содержащуюся в поле атрибутов пути того же сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>RIB</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Routing Information Base – база маршрутной информации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Unfeasible route – неподходящий маршрут</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Анонсированный ранее подходящий маршрут, который утратил доступность.</span></div>
<div class=paragraph style=" padding:7.20pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>1.2. Уровни требований</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Ключевые слова <b>необходимо </b>(MUST), <b>недопустимо </b>(MUST NOT), <b>требуется </b>(REQUIRED), <b>нужно </b>(SHALL), <b>не следует </b>(SHALL NOT), <b>следует </b>(SHOULD), <b>не нужно </b>(SHOULD NOT), <b>рекомендуется </b>(RECOMMENDED), <b>возможно </b>(MAY), <b>необязательно </b>(OPTIONAL) в данном документе интерпретируются в соответствии с RFC 2119 [RFC2119].</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font3><b><i>2. Благодарности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Первый вариант этого документа был опубликован в RFC 1267 (октябрь 1991), разработанном Kirk Lougheed (Cisco Systems) и</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Yakov Rekhter (IBM).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Авторы выражают свою благодарность Guy Almes (ANS), Len Bosack (Cisco Systems) и Jeffrey C. Honig (Cornell University) за их</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">вклад в подготовку предварительных вариантов документа.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Отдельно отметим Bob Braden (ISI) за обзор предварительных вариантов документа и конструктивные замечания.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Благодарим также Bob Hinden (Director for Routing of the Internet Engineering Steering Group) и команду специалистов,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">подготовивших обзор предыдущей версии документа (BGP-2). Эта команда, в состав которой входят Deborah Estrin, Milo Medin,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">John Moy, Radia Perlman, Martha Steenstrup, Mike St. Johns и Paul Tsuchiya, показала в работе высокий уровень профессионализма,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">упорство и такт.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Некоторые фрагменты этого документа были заимствованы из протокола IDRP [IS10747], являющегося аналогом BGP в OSI. В</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">связи с этим следует отметить работу группы ANSI X3S3.3 под руководством Lyman Chapin и Charles Kunzinger, который также</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">был редактором IDRP в этой группе.</span></div>
<div class=paragraph style=" padding:21.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:736.32pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Авторы также выражают свою признательность Benjamin Abarbanel, Enke Chen, Edward Crabbe, Mike Craren, Vincent Gillet, Eric Gray, Jeffrey Haas, Dimitry Haskin, Stephen Kent, John Krawczyk, David LeRoy, Dan Massey, Jonathan Natale, Dan Pei, Mathew Richardson, John Scudder, John Stewart III, Dave Thaler, Paul Traina, Russ White, Curtis Villamizar, Alex Zinin за их комментарии.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Отдельной благодарности заслуживает Andrew Lange за его помощь в подготовке окончательного варианта этого документа.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>И, наконец, благодарим всех членов группы IDR за их идеи и поддержку в процессе создания этого документа.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font4><b><i>3. Основы работы протокола</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Протокол граничного шлюза BGP<sup>2</sup> является протоколом маршрутизации между автономными системами<sup>3</sup>. Он создан на основе опыта, полученного при разработке протокола EGP (определен в [RFC904]) и его использовании в магистралях NSFNET ([RFC1092] и [RFC1093]). Дополнительную информацию о протоколе BGP можно найти в документах [RFC1772], [RFC1930], [RFC1997] и [RFC2858].</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Основной функцией понимающей BGP системы является обмен информацией о доступности сетей с другими системами BGP. Информация о доступности сетей включает список автономных систем (AS), через которые проходит эта информация. Этих сведений достаточно для построения графа связности AS, из которого могут исключаться маршрутные петли (routing loop), а также приниматься некоторые решения на уровне политики AS.</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В контексте этого документа предполагается, что узел BGP анонсирует своим партнерам только те маршруты, которые он сам использует (т. е., узел BGP говорит, что он “использует” маршрут BGP, если он является наиболее предпочтительным из BGP-маршрутов и применяется для пересылки пакетов). Рассмотрение прочих случаев не входит в задачи данного документа.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>В контексте этого документа термин &quot;IP-адрес&quot; относится к адресам IP версии 4 [RFC791].</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Маршрутная информация, передаваемая с использованием BGP поддерживает только парадигму пересылки на основе адреса получателя (destination-based forwarding paradigm), которая предполагает, что маршрутизатор пересылает пакет на только основе адреса получателя, содержащегося в заголовке IP-пакета. Это, в свою очередь, отражает набор правил политики, которые могут быть применены (или не применены) с использованием BGP. Протокол BGP может поддерживать только правила, соответствующие парадигме пересылки по адресу получателя. Отметим, что некоторые правила не могут поддерживаться в рамках парадигмы пересылки на основе адреса получателя и требуют использования иных методов типа маршрутизации, задаваемой отправителем (source routing или explicit routing). Такие правила не могут быть реализованы в рамках BGP. Например, BGP не позволяет одной AS, передающей трафик в соседнюю AS для пересылки тому или иному адресату (достижимому через эту AS, но не относящемуся к ней), предполагать, что этот трафик будет доставляться адресату иным путем, нежели трафик, исходящий из соседней AS (для того же адресата). С другой стороны, BGP может поддерживать любую политику, согласующуюся с парадигмой пересылки на основе адреса получателя.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP-4 обеспечивает новые механизмы поддержки бесклассовой междоменной маршрутизации (CIDR) [RFC1518, RFC1519]. Эти механизмы включают поддержку анонсирования набора адресатов в форме префикса IP и позволяют обойтись без концепции &laquo;класса&raquo; сетей в рамках BGP. BGP-4 также включает механизм объединения маршрутов, включающий объединение путей AS.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В этом документе используется термин &laquo;автономная система&raquo; (AS). По классическому определению автономная система представляет собой множество маршрутизаторов с единым техническим администрированием, использующих один протокол внутренней маршрутизации (IGP) и единую метрику для маршрутизации пакетов внутри AS, а для передачи пакетов в другие автономные системы применяющих протокол внешней маршрутизации (exterior gateway protocol или EGP). Со временем классическое определение было расширено и в современном понимании AS может использовать несколько протоколов внутренней маршрутизации, а в некоторых случаях даже несколько наборов метрик в рамках одной AS. Использование термина AS в таких случаях обусловлено тем, что даже при использовании множества метрик и протоколов IGP администрирование такой AS с точки зрения других автономных систем выглядит как единый план внутренней маршрутизации и показывает согласованную картину доступности адресатов через данную AS.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP использует в качестве транспортного протокол TCP [RFC793]. Это избавляет от необходимости реализации явного фрагментирования уведомлений, повторной передачи и порядковых номеров. BGP слушает протокол TCP через порт 179. Механизм уведомлений об ошибках, используемый в BGP, предполагает, что TCP поддерживает аккуратное завершение соединений (т. е., все остающиеся данные будут доставлены прежде, чем соединение будет закрыто).</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Между парой систем организуется соединение TCP. После этого системы обмениваются сообщениями для согласования и подтверждения параметров соединения.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Первоначальный поток данных является частью таблицы маршрутизации BGP, которая разрешена политикой экспорта, и называется Adj-Ribs-Out (см. параграф 3.2). Нарастающие обновления передаются при изменении таблицы маршрутов. BGP не требует периодического обновления таблицы маршрутизации. Чтобы локальные изменения политики могли вступать в силу без сброса соединений, узлу BGP <b>следует </b>(a) сохранять текущую версию маршрутов, анонсированных ему всеми партнерами в течение работы соединения или использовать расширение Route Refresh<sup>4</sup> [RFC2918].</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для обеспечения сохранности соединения периодически передаются сообщения KEEPALIVE. Сообщения NOTIFICATION передаются в ответ на ошибки или при возникновении особых условий. При возникновении ошибок в соединении передается сообщение NOTIFICATION и соединение закрывается.</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Партнер в другой AS называется внешним партнером (external peer), а партнер из той же AS называется внутренним (internal peer). Для внутренних и внешних соединений BGP обычно используются аббревиатуры IBGP и EBGP, соответственно.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если отдельная AS имеет множество узлов BGP и обеспечивает транзит для других AS, внутри этой системы должна обеспечиваться согласованная картина маршрутизации, обеспечиваемая протоколом внутренней маршрутизации (IGP) данной AS. В целях данного документа принимается допущение, что согласованная картина путей за пределы AS обеспечивается за счет организации каждым узлом BGP внутри данной AS IBGP-соединений со всеми остальными узлами BGP в этой AS.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Данный документ задает поведение протокола BGP. Это поведение может быть изменено (и изменяется) дополнительными спецификациями. При расширении протокола новое поведение полностью документируется в спецификациях расширения.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:19.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:44.64pt;">
<div class=paragraph style=" padding:0.00pt 408.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><sup>2</sup>Border Gateway Protocol <sup>3</sup>inter-Autonomous System routing protocol <sup>4</sup>Route Refresh – обновление маршрута.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:2.16pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:701.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>3.1.&nbsp;Маршруты – анонсирование и хранение</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В целях данного протокола маршрут определяется как единица информации, связывающая набор адресатов с путем к этим адресатам. Набором адресатов являются системы, чьи адреса IP содержатся в одном префиксе IP, указываемом полем NLRI<sup>5 </sup>сообщения UPDATE, а путь представляет собой информацию, задаваемую в поле атрибутов пути того же сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Маршруты анонсируются между узлами BGP в сообщениях UPDATE. Множество маршрутов с одинаковыми атрибутами пути может быть объединено в одном сообщении UPDATE путем включения множества префиксов в поле NLRI сообщения UPDATEw.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Маршруты хранятся в базах маршрутных данных (RIB) Adj-RIBs-In, Loc-RIB и Adj-RIBs-Out, описанных в параграфе 3.2.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если узел BGP решает анонсировать полученный ранее маршрут, он <b>может </b>добавить или изменить атрибуты пути перед анонсированимем маршрута партнерам.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Протокол BGP обеспечивает механизмы, позволяющие узлам BGP информировать своих партнеров о том, что анонсированный ранее маршрут перестал быть доступным. Существует три метода, которые данный узел BGP может использовать для указания отзываемых маршрутов.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">a)&nbsp; &nbsp;Префикс IP, указывающий адресата ранее анонсированного маршрута, может быть анонсирован в поле WITHDRAWN ROUTES сообщения UPDATE и соответствующий маршрут будет помечен как недоступный для дальнейшего использования.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>b)&nbsp; &nbsp;Замена маршрута с сохранением ранее анонсированного значения NLRI.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.08pt;">c)&nbsp; &nbsp;Узел BGP может закрыть соединение, что приведет к неявному удалению всех маршрутов, которые данная пара узлов анонсировала друг другу.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Изменение одного или нескольких атрибутов маршрута сопровождается анонсированием замены. Анонсируемый измененный маршрут содержит иные атрибуты, но имеет такой же префикс, как и ранее анонсированный маршрут.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>3.2.&nbsp;База маршрутной информации RIB</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>База маршрутной информации (RIB<sup>6</sup>) узла BGP состоит из трех отдельных частей.</span></div>
<div class=paragraph style=" padding:3.84pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">a)&nbsp; &nbsp;<b>Adj-RIBs-In </b>– маршрутные данные, полученные из входящих сообщений UPDATE, которые были приняты от других узлов BGP. Эта база представляет маршруты, которые могут использоваться как входные данные для процесса принятия решения (Decision Process).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">b)&nbsp; &nbsp;<b>Loc-RIB </b>– локальная маршрутная информация узла BGP, выбранная путем применения локальной политике к маршрутам, содержащимся в Adj-RIBs-In. Эти маршруты будут использоваться локальным узлом BGP. Значения next hop для каждого из этих маршрутов <b>должны </b>быть преобразуемыми с помощью таблицы маршрутизации (Routing Table) локального узла BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">c)&nbsp; &nbsp;<b>Adj-RIBs-Out </b>– информация локального узла BGP, выбранная им для анонсирования своим партнерам. Маршрутные данные из Adj-RIBs-Out будут передаваться от локального узла BGP в сообщениях UPDATE для анонсирования партнерам.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Таким образом, Adj-RIBs-In содержит необработанные маршрутные данные, которые были анонсированы локальному узлу BGP его партнерами; Loc-RIB содержит маршруты, которые выбраны в процессе принятия решения локальным узлом BGP; Adj-RIBs-Out содержит маршруты для анонсирования заданным партнерам (в передаваемых локальным узлом сообщениях UPDATE ).</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Хотя концептуальная модель различает базы Adj-RIBs-In, Loc-RIB и Adj-RIBs-Out это не требует от реализации поддержки трех отдельных копий маршрутной информации. Выбор реализацией способа хранения маршрутных данных (например в 3 копиях или 1 копии с указателями) не задается протоколом.</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Маршрутная информация, которую узел BGP использует для пересылки пакетов (или для создания таблицы пересылки, используемой для пересылки пакетов) сохраняется в таблице маршрутизации. Таблица маршрутизации включает маршруты в непосредственно подключенные сети, статические маршруты, маршруты, полученные от протоколов IGP, и маршруты, полученные от BGP. Включение того или иного маршрута BGP в таблицу маршрутизации или замена маршрута, полученного из других источников, маршрутом BGP определяются локальной политикой, а не спецификациями данного документа. В дополнение к рассылке пакетов таблица маршрутизации используется для преобразования адресов next-hop, заданных в обновлениях BGP (см. параграф 5.1.3).</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font3><b><i>4. Формат сообщений</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>В этой главе описан формат сообщений BGP.</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщения BGP передаются через соединения TCP. Обработка сообщений производится только после того, как сообщение будет принято полностью. Максимальный размер сообщения составляет 4096 октетов. Все реализации протокола должны поддерживать сообщения максимального размера. Наименьшее сообщение, которое может быть передано, содержит заголовок BGP (19 октетов) без поля данных.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Многооктетные поля передаются с использованием сетевого порядка байтов.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>4.1. Формат заголовка</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Каждое сообщение имеет заголовок фиксированного размера, за которым может (но не обязано) следовать поле данных, зависящих от типа сообщения. Схема заголовка показана на рисунке.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Marker - маркер</b></span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Это 16-октетное поле включено для обеспечения совместимости<sup>7</sup> и должно содержать нулевое значение в каждом октете.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:44.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:54.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>5</sup>Network Layer Reachability Information – информация о доступности на сетевом уровне.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><sup>6</sup>Routing Information Base</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><sup>7</sup>С предыдущей версией спецификации протокола BGP (RFC 1771), перевод которой имеется на сайте <span style=" color:rgb(0,0,128);"><a href="http://www.protococls.ru"><u>http://www.protococls.ru</u></a></span>.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>5&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:104.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:39.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:204.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:252.00pt;">
<div class=block style=" width:252.00pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:342.96pt;">
<div class=block style=" width:342.96pt; height:24.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 204.48pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:90.48pt;">
<div class=block style=" width:90.48pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Length - размер</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:161.52pt;">
<div class=block style=" width:161.52pt; height:12.00pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.44pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:194.64pt;">
<div class=block style=" width:194.64pt; height:139.68pt;">
<div class=paragraph style=" padding:2.64pt 8.64pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это 2-октетное целое число без знака показывает общий размер сообщения, (включая заголовок) в октетах. По этому значению можно найти следующее сообщение (начало поля Marker) в потоке TCP. Значение поля Length <b>должно </b>быть не менее 19 и не более 4096. В зависимости от типа сообщения на поле размера <b>могут </b>накладываться дополнительные<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>ограничения.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Заполнение<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>сообщения</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">дополнительными<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>октетами</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:400.32pt;">
<div class=block style=" width:400.32pt; height:139.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>0</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>1</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>2</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>3</b></span></div>
<div class=paragraph style=" padding:0.00pt 49.44pt 0.00pt 0.00pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>+</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>|</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>+</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>|</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>Marker</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>+</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>|</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" padding:0.00pt 49.44pt 0.00pt 0.00pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>Length</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|     Type    |</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:212.40pt;">
<div class=block style=" width:212.40pt; height:39.84pt;">
<div class=paragraph style=" padding:0.00pt 6.48pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">(&quot;padding&quot;)     после     данных     не допускается.     Следовательно,  значение оставшуюся часть сообщения.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Type - тип</b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:382.56pt;">
<div class=block style=" width:382.56pt; height:39.84pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font13>поля  Length <b>должно </b>быть наименьшим  числом,  которое  позволит  включить</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:78.48pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Это 1-октетное целое число без знака содержит код типа сообщения. В данном документе определяются следующие коды типов сообщений:</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>1&nbsp;- OPEN</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>2&nbsp;- UPDATE</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>3&nbsp;- NOTIFICATION</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>4&nbsp;- KEEPALIVE</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.32pt;">В [RFC2918] определен один дополнительный код типа.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:78.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3 style=" line-height:10.32pt;"><b>4.2. Формат сообщения OPEN</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:10.32pt;">После организации соединения TCP первым сообщение от каждой из сторон имеет тип OPEN. После восприятия сообщения</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:10.32pt;">OPEN узел возвращает подтверждающее сообщение KEEPALIVE.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В дополнение к стандартному заголовку BGP сообщение OPEN содержит следующие поля:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Version - версия</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1-октетное целое число без знака, показывающую номер версии протокола. Текущая версия BGP имеет номер 4.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:194.64pt;">
<div class=block style=" width:194.64pt; height:180.72pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>My Autonomous System – моя АС</b></span></div>
<div class=paragraph style=" padding:2.16pt 8.64pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это 2-октетное целое число без знака показывает номер автономной системы отправителя.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Hold Time – время удержания</b></span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Это   2-октетное   целое   число   без</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">знака   показывает   число   секунд,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">которое    отправитель    предлагает</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">установить для таймера удержания</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">(Hold     Timer).     При     получении</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">сообщения OPEN узел BGP <b>должен</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">рассчитать   значение   Hold   Timer,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">используя   меньшее   из   значений</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Hold        Time        в        локальной</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">конфигурации<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>и<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>принятом</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">сообщении  OPEN.  Значение  Hold</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:400.32pt;">
<div class=block style=" width:400.32pt; height:180.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>0</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>1</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>2</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>3</b></span></div>
<div class=paragraph style=" padding:0.00pt 62.40pt 0.00pt 0.00pt; text-align:left; text-indent:5.28pt;"><span class=font8 style=" line-height:10.08pt;"><b>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+ |   Version   | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |    My Autonomous System     | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>Hold Time</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" padding:0.00pt 49.44pt 0.00pt 0.00pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>BGP Identifier</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" padding:0.00pt 49.44pt 0.00pt 0.00pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Opt Parm Len |</b></span></div>
<div class=paragraph style=" padding:0.00pt 49.44pt 0.00pt 0.00pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>|</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>Optional Parameters (переменный размер)</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>|</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>|</b></span></div>
<div class=paragraph style=" text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:124.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Time <b>должно </b>быть нулевым или не менее 3 секунд. Реализация <b>может </b>отвергать соединения по значению поля Hold Time.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Рассчитанное значение показывает максимальное время (в секундах), которое может проходить между получением от</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">партнера сообщений KEEPALIVE и/или UPDATE.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>BGP Identifier – идентификатор BGP</b></span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это 4-октетное целое число без знака показывает идентификатор BGP отправителя сообщения. Узел BGP устанавливает в качестве идентификатора BGP адрес IP, присвоенный этому узлу BGP. Значение идентификатора BGP определяется при старте узла и совпадает для всех локальных интерфейсов и самого узла BGP.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Optional Parameters Length – размер дополнительных параметров</b></span></div>
<div class=paragraph style=" padding:4.32pt 57.12pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Это 1-октетное целое число без знака показывает общий размер поля Optional Parameters в октетах. Нулевое значение этого поля говорит об отсутствии дополнительных параметров.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:252.00pt;">
<div class=block style=" width:252.00pt; height:51.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Optional Parameters – дополнительные параметры</b></span></div>
<div class=paragraph style=" padding:4.08pt 9.12pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это поле содержит список дополнительных параметров, представленных в формате &lt;Parameter Type, Parameter Length, Parameter Value&gt;.</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:342.96pt;">
<div class=block style=" width:342.96pt; height:71.76pt;">
<div class=paragraph style=" padding:13.44pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>0</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>1</b></span></div>
<div class=paragraph style=" padding:0.00pt 51.36pt 0.00pt 0.00pt; text-align:left; text-indent:5.28pt;"><span class=font8 style=" line-height:10.08pt;"><b>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-... |     Тип     |    Размер   | Значение (перемен.) +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-...</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:252.00pt;">
<div class=block style=" width:252.00pt; height:19.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Однооктетное     поле    типа     (Parameter     Type)</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">обеспечивает       однозначную       идентификацию</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt;">
<div class=block style=" width:42.72pt; height:21.84pt;">
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:552.24pt;">
<div class=block style=" width:552.24pt; height:21.84pt;">
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:9.84pt;">параметра. Однооктетное поле размера (Parameter Length) показывает размер поля Parameter Value в октетах. Значение</span></div>
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:9.84pt;">параметра (Parameter Value) имеет переменный размер и интерпретируется в соответствии с типом параметра (поле Parameter</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:252.00pt;">
<div class=block style=" width:252.00pt; height:31.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>Type).</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:204.48pt;">
<div class=block style=" width:204.48pt; height:31.68pt;">
<div class=paragraph style=" padding:20.16pt 0.00pt 0.00pt 53.28pt; text-align:left;"><span class=font0><b>6</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:31.68pt;">
<div class=paragraph style=" padding:18.96pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="7" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:42.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:47.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:104.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:17.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:39.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:204.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:769.20pt;">
<div class=paragraph style=" padding:0.00pt 210.72pt 0.00pt 56.88pt; text-align:left; text-indent:13.92pt;"><span class=font13 style=" line-height:16.08pt;">В [RFC3392] определен дополнительный параметр Capabilities (возможности). Минимальный размер сообщения OPEN составляет 29 октетов (с учетом заголовка).</span></div>
<div class=paragraph style=" padding:6.96pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>4.3. Формат сообщения UPDATE</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщения UPDATE используются для передачи маршрутной информации между партнерами BGP. Данные из сообщений UPDATE могут использоваться для построения графа, описывающего связи между различными AS. Применение обсуждаемых здесь правил позволяет избавиться от петель и некоторых других аномалий в маршрутизации между AS.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Сообщение  UPDATE  служит  для  анонсирования<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>+ ----------------------------------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">доступных маршрутов с общими атрибутами пути<span class=font0>&nbsp; &nbsp;</span><span class=font8><b>|  Withdrawn Routes Length (2 октета)</b></span><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span class=font8><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">узлу-партнеру       или      для      отзыва       группы<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>+ ----------------------------------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">анонсированных    ранее    маршрутов    (см.    3.1).<span class=font0>&nbsp; &nbsp;</span><span class=font8><b>|  Withdrawn Routes (variable)</b></span><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font8><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Сообщение      UPDATE      <b>может      </b>одновременно<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>+ ----------------------------------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">анонсировать   доступный    маршрут   и   отзывать<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>|  Total Path Attribute Length (2 октета)</b></span><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font8><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">группу недоступных более маршрутов. Сообщения<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>+ ----------------------------------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">UPDATE     всегда     включают     заголовок     BGP<span class=font0>&nbsp; &nbsp;</span><span class=font8><b>|  Path Attributes (перемен.)</b></span><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font8><b>|</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">фиксированного   размера,   а   также   другие   поля,<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>+ ----------------------------------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">показанные на рисунке (отметим, что некоторые из<span class=font0>&nbsp; &nbsp;</span><span class=font8><b>|  Network Layer Reachability Information (перемен.) |</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">этих полей являются необязательными).<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font8><b>+ ----------------------------------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Withdrawn Routes Length – размер отзываемых маршрутов</b></span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это 2-октетное целое число без знакf указывает общий размер поля Withdrawn Routes в октетах. Значение этого поля должно позволять определение размера поля Network Layer Reachability Information в соответствии с приведенным ниже описанием.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13>Нулевое значение говорит об отсутствии отзываемых маршрутов и поля Withdrawn Routes в сообщении UPDATE.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Withdrawn Routes – отзываемые маршруты</b></span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Это поле переменной длины содержит список префиксов IP-адресов для маршрутов, которые отзываются. Каждый префикс представляется парой &lt;length, prefix&gt; в формате, описанном ниже:</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 151.92pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>+ -------------------------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 151.92pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>|  Length (1 октет)       |</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 151.92pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>+ -------------------------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 289.92pt 0.00pt 151.92pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>|  Prefix (перемен.)      | + -------------------------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13 style=" line-height:10.32pt;">Ниже описано назначение поле.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13><b>a)&nbsp; &nbsp;Length - размер</b></span></div>
<div class=paragraph style=" padding:4.32pt 28.80pt 0.00pt 84.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Поле Length показывает размер адресного префикса IP в битах. Нулевое значение размера указывает на префикс, которому соответствуют все адреса IP (сам префикс содержит 0 октетов).</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13><b>b)&nbsp; &nbsp;Prefix - префикс</b></span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 84.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Поле Prefix содержит префикс адресов IP, за которым следует минимально возможное количество битов заполнения, служащих для выравнивания по границе октета. Отметим, что значения битов заполнения не принимаются во внимание.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Total Path Attribute Length – общий размер атрибутов пути.</b></span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Это 2-октетное целое число без знака показывает общий размер поля Path Attributes в октетах. Данное значение позволяет определить размер поля Network Layer Reachability Information, как описано ниже.</span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Нулевое значение поля говорит об отсутствии полей Network Layer Reachability Information и Path Attribute в данном сообщении UPDATE.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Path Attributes – атрибуты пути</b></span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Последовательность переменной длины с атрибутами пути присутствует в каждом сообщении UPDATE за исключением тех сообщений, которые служат только для отзыва маршрутов. Каждый атрибут пути представляется триплетом &lt;attribute type, attribute length, attribute value&gt; переменной длины.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13>Поле типа (Attribute Type) является двухоктетным и состоит из октета флагов   <span class=font8><b>0</b></span><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font8><b>1</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13>(Attribute Flags), за которым следует октет типа (Attribute Type Code).<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font8><b>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 31.68pt 0.00pt 70.80pt; text-align:justify; text-indent:318.00pt;"><span class=font8 style=" line-height:10.80pt;"><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ </b><span class=font10>Споткаразшыивйа е тб и от т н(обсиитт с0я) доакнтнетыай Aаtтtрriиbбuуteт Fк l agчsис ляувл ядеотпсоял нфилтаеглоьмн ы Oх p t(i1o)n a иl лии </span><span class=font7><b>| Attr. Flags |Attr. Type Code| </b></span><span class=font10>основных<sub>8</sub> (0).</span><span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</b></span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Следующий по старшинству бит (бит 1) октета Attribute Flags является флагом транзитивности (Transitive), который определяет является атрибут транзитивным (1) или нетранзитивным (0).</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Для общеизвестных (well-known) атрибутов флаг Transitive <b>должен </b>устанавливаться в 1 (см. обсуждение транзитивных атрибутов в разделе 5).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Следующий бит (бит 2) октета Attribute Flags является флагом Partial и показывает, является информация, содержащаяся в дополнительном транзитивном атрибуте частичной (1) или полной (0). Для общеизвестных атрибутов и дополнительных нетранзитивных атрибутов флаг Partial <b>должен </b>иметь значение 0.</span></div>
<div class=paragraph style=" padding:4.32pt 27.84pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Четвертый по старшинству бит (бит 3) октета Attribute Flags является флагом расширенного размера (Extended Length) и определяет имеет поле Attribute Length размер 1 октет (0) или 2 октета (1).</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Четыре младших бита октета Attribute Flags не используются. Отправитель <b>должен </b>устанавливать для них нулевые значения, а получатель <b>должен </b>игнорировать эти биты.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.00pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>8</sup>В оригинале well-known - общеизвестные. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:749.04pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Октет Attribute Type Code содержит код типа атрибута. Определенные в настоящий момент коды типов перечислены в разделе 5.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если бит Extended Length октета Attribute Flags имеет значение 0, третий октет Path Attribute содержит значение размера данных атрибута в октетах.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>При значении бита Extended Length = 1 третий и четвертый октеты атрибута пути содержат размер данных атрибута в октетах.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Остальные октеты поля Path Attribute представляют собой значение атрибута и интерпретируются в соответствии со значениями октетов Attribute Flags и Attribute Type Code. Коды поддерживаемых типов (Attribute Type Code) и значения их атрибутов описаны ниже.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13>a)&nbsp; &nbsp;<b>ORIGIN </b>(тип 1):</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Атрибут ORIGIN относится к числу общеизвестных и обязательных, определяя происхождение (источник) маршрутной информации. Октет данных может содержать значения, приведенные ниже:</span></div>
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 61.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;"><b><i>Значение</i></b><span class=font0><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><b><i>Описание</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 77.76pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;IGP – данные NLRI являются внутренними для исходной AS</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 77.76pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;EGP – данные NLRI получены от протокола EGP [RFC904]</span></div>
<div class=paragraph style=" padding:1.20pt 248.64pt 0.00pt 56.88pt; text-align:left; text-indent:20.88pt;"><span class=font13 style=" line-height:12.96pt;">2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;INCOMPLETE – данные NLRI получены из иных источников. Использование этого атрибута рассматривается в параграфе 5.1.1.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13>b)&nbsp; &nbsp;<b>AS_PATH </b>(тип 2):</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">общеизвестный обязательный атрибут AS_PATH состоит из последовательности сегментов AS path. Каждый сегмент представляется триплетом &lt;path segment type, path segment length, path segment value&gt;.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>Тип сегмента пути (path segment type) представляет собой 1-октетное поле, для которого определены следующие значения:</span></div>
<div class=paragraph style=" padding:4.80pt 0.00pt 0.00pt 65.28pt; text-align:left;"><span class=font13 style=" line-height:15.60pt;"><b><i>Значение</i></b><span class=font0><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><b><i>Тип сегмента</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 81.84pt; text-align:left;"><span class=font13 style=" line-height:15.60pt;">1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AS_SET – неупорядоченный набор AS, через которые проходит маршрут из сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 82.08pt; text-align:left;"><span class=font13 style=" line-height:15.60pt;">2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; AS_SEQUENCE - упорядоченный набор AS, через которые проходит маршрут из сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Размер сегмента пути (path segment length) представляет собой 1-октетное поле, в котором указывается число AS (не число октетов) в поле path segment value. Поле сегмента пути (path segment value) содержит один или множество номеров AS, каждый из которых представляется 2-октетным полем. Использование этого атрибута рассматривается в параграфе 5.1.2.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13>c)&nbsp; &nbsp;<b>NEXT_HOP </b>(тип 3):</span></div>
<div class=paragraph style=" padding:3.84pt 56.16pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Этот общеизвестный обязательный атрибут определяет (индивидуальный<sup>9</sup>) адрес IP маршрутизатора, который <b>следует </b>использовать в качестве следующего этапа на пути к адресатам, указанным в поле Network Layer Reachability Information сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>Использование этого атрибута рассматривается в параграфе 5.1.3.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13>d)&nbsp; &nbsp;<b>MULTI_EXIT_DISC </b>(тип 4):</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Этот необязательный нетранзитивный атрибут представляет собой 4-октетное целое число без знака. Значение атрибута <b>может </b>использоваться узлом BGP в процессе выбора маршрутов (Decision Process) для разделения<sup>10</sup> множества точек входа в соседнюю АС.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>Использование этого атрибута рассматривается в параграфе 5.1.4.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13>e)&nbsp; &nbsp;<b>LOCAL_PREF </b>(тип 5):</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Общеизвестный атрибут LOCAL_PREF представляет собой 4-октетное целое число без знака. Узел BGP использует этот атрибут для информирования своих внутренних партнеров, показывая свой уровень предпочтения для анонсируемого маршрута.</span></div>
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Использование этого атрибута рассматривается в параграфе 5.1.5.</span></div>
<div class=paragraph style=" padding:0.24pt 115.92pt 0.00pt 57.12pt; text-align:left; text-indent:-14.16pt;"><span class=font13 style=" line-height:15.84pt;">f)&nbsp; &nbsp; <b>ATOMIC_AGGREGATE </b>(тип 6) ATOMIC_AGGREGATE является общеизвестным необязательным (discretionary) атрибутом нулевой длины. Использование этого атрибута рассматривается в параграфе 5.1.6.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">g)&nbsp; &nbsp;<b>AGGREGATOR </b>(тип 7)</span></div>
<div class=paragraph style=" padding:2.16pt 56.88pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Необязательный транзитивный атрибут AGGREGATOR имеет размер 5 октетов. Этот атрибут содержит номер последней AS, которая формирует агрегированный маршрут (2 октета), после которого указан IP-адрес узла BGP, создавшего агрегированный маршрут (4 октета). Для этого поля <b>следует </b>устанавливать тот же адрес, который используется для поля BGP Identifier этого узла.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>Использование этого атрибута рассматривается в параграфе 5.1.7.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Network Layer Reachability Information</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 41.76pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это поле переменной длины содержит список адресных префиксов IP. Размер (в октетах) поля Network Layer Reachability Information не задается явно, но может быть вычислен по формуле:</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 41.76pt; text-align:left;"><span class=font8><b>Поле Length сообщения UPDATE - 23 - Total Path Attributes Length - Withdrawn Routes Length</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:16.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:34.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><sup>9</sup>unicast</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><sup>10</sup>Discriminate - исключение лишних</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:192.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:192.72pt;">
<div class=block style=" width:192.72pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:25.44pt;">
<div class=block style=" width:25.44pt; height:12.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:611.76pt;">
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 70.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Значение поля Length для сообщения UPDATE указано в постоянной части заголовке BGP, Значения полей Total Path Attribute Length и Withdrawn Routes Length указываются в переменной части сообщения UPDATE, а 23 представляет собой суммарный размер постоянного заголовка BGP и полей Total Path Attribute Length, Withdrawn Routes Length.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 70.08pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Информация о доступности представляется в форме одной или множества пар   <span class=font8><b>+ --------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.08pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">&lt;length, prefix&gt;:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font8><b>|  Length (1 октет)       |</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 413.28pt; text-align:left;"><span class=font8 style=" line-height:9.84pt;"><b>+ --------------------------- +</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13>Назначение полей пары описано ниже:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class=font8><b>|  Prefix (перемен.)      |</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13><b>a)</b><span class=font0><b>&nbsp; &nbsp;</b></span><b>Length - размер</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span class=font8><b>+ --------------------------- +</b></span></span></div>
<div class=paragraph style=" padding:2.16pt 28.80pt 0.00pt 84.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Поле Length показывает размер адресного префикса IP в битах. Нулевое значение размера указывает на префикс, которому соответствуют все адреса IP (сам префикс содержит 0 октетов).</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13><b>b)&nbsp; &nbsp;Prefix - префикс</b></span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 84.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Поле Prefix содержит префикс адресов IP, за которым следует минимально возможное количество битов заполнения, служащих для выравнивания по границе октета. Отметим, что значения битов заполнения не принимаются во внимание.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Минимальный размер сообщения UPDATE составляет 23 октета; 19 занимает постоянный заголовок BGP, 2 октета – поле Withdrawn Routes Length и 2 октета - Total Path Attribute Length (поля Withdrawn Routes Length и Total Path Attribute Length в этом случае содержат значение 0).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщение UPDATE может анонсировать не более одного набора атрибутов пути, но этому пути может соответствовать множество адресатов, путь к которым описывается одним набором атрибутов. Все атрибуты пути, содержащиеся в данном сообщении UPDATE, применимы к каждому из адресатов, соответствующих значению поля NLRI в сообщении UPDATE.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщение UPDATE может содержать множество отзываемых маршрутов. Каждый из таких маршрутов идентифицируется своим адресатом (указывается префиксом IP), однозначно определяющим маршрут в контексте соединения между парой узлов BGP, для которого ранее этот маршрут был анонсирован.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщение UPDATE может анонсировать только отзываемые маршруты – в таких случаях сообщение не будет включать атрибутов пути и поля Network Layer Reachability Information. Если же сообщение анонсирует только доступные маршруты, в него не требуется включать поле WITHDRAWN ROUTES.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В сообщениях UPDATE <b>не следует </b>указывать один и тот же префикс в полях WITHDRAWN ROUTES и Network Layer Reachability Information fields. Однако узел BGP <b>должен </b>быть способен к обработке сообщений такого типа. Узлу BGP <b>следует </b>трактовать такие сообщения UPDATE, как будто они не содержат адресного префикса в поле WITHDRAWN ROUTES.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>4.4.&nbsp;Формат сообщения KEEPALIVE</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP не использует на уровне TCP каких-либо механизмов keep-alive для проверки доступности других узлов (peer). Вместо этого используются сообщения KEEPALIVE, которыми партнеры обмениваются достаточно часто, чтобы между двумя сообщениями не истекло время, заданное таймером удержания (Hold Timer). Разумным значением максимального интервала между передачей двух последовательных сообщений KEEPALIVE является треть интервала, заданного значением Hold Time. <b>Недопустимо </b>передавать сообщения KEEPALIVE чаще одного раза в секунду. Разработчики <b>могут </b>установить интервал между передачей сообщений KEEPALIVE как функцию значения Hold Time.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Если Hold Time = 0, периодическая передача сообщений KEEPALIVE <b>недопустима</b>.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Сообщение KEEPALIVE состоит только из заголовка, следовательно, размер такого сообщения равен 19 октетам.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>4.5.&nbsp;Формат сообщения NOTIFICATION</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Сообщения                   NOTIFICATION<span class=font0>&nbsp; &nbsp;</span><span class=font8><b>0                1                2                3</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">передаются   в   случаях   обнаружения<span class=font0>&nbsp; &nbsp; &nbsp; </span><span class=font8><b>0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">ошибок.            Соединение            BGP<span class=font0>&nbsp; &nbsp;</span><span class=font8><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">незамедлительно    закрывается    после<span class=font0>&nbsp; &nbsp; </span><span class=font8><b>| Error code   | Error subcode |  Data (variable)           |</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">передачи такого сообщения.<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class=font8><b>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В дополнение к постоянному заголовку BGP сообщения NOTIFICATION содержат описанные ниже поля.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Error Code – код ошибки</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Это 1-октетное целое число без знака показывает тип сообщения NOTIFICATION. Коды типов перечислены в таблице.</span></div>
<div class=paragraph style=" padding:4.80pt 0.00pt 0.00pt 60.72pt; text-align:left;"><span class=font13><b><i>Код</i></b><span class=font0><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></b></span><b><i>Символьное имя</i></b><span class=font0><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </i></b></span><b><i>Описание</i></b></span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 66.48pt; text-align:left;"><span class=font13>1     Message Header Error – ошибка в заголовке сообщения<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>параграф 6.1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:184.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.48pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">2&nbsp; &nbsp; &nbsp; OPEN Message Error – ошибка в сообщении OPEN<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>параграф 6.2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.48pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">3&nbsp; &nbsp; &nbsp; &nbsp;UPDATE Message Error – ошибка в сообщении UPDATE<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>параграф 6.3</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 66.48pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">4&nbsp; &nbsp; &nbsp; Hold Timer Expired – истекло время удержания<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>параграф 6.5</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 66.48pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">5&nbsp; &nbsp; &nbsp; &nbsp;Finite State Machine Error – ошибка машины конечных состояний<span class=font0>&nbsp; &nbsp;</span>параграф 6.6</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 66.48pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">6&nbsp; &nbsp; &nbsp; Cease – разрыв соединения<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>параграф 6.7</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Error subcode – субкод ошибки</b></span></div>
<div class=paragraph style=" padding:4.32pt 28.32pt 0.00pt 71.52pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Это 1-октетное целое число без знака содержит более конкретную информацию о природе ошибки. К каждым кодом ошибки (Error Code) может быть связан один или несколько субкодов (Error Subcode). При отсутствии субкода для ошибки в поле Error Subcode помещается нулевое значение.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Субкоды для Message Header Error</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 104.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1&nbsp;- Connection Not Synchronized – соединение не синхронизировано.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 104.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2&nbsp;- Bad Message Length – некорректный размер сообщения.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>9&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:192.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:25.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3 - Bad Message Type -некорректный тип сообщения.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Субкоды для OPEN Message Error</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1&nbsp;– Unsupported Version Number - неподдерживаемый номер версии.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2&nbsp;- Bad Peer AS – некорректный номер AS у партнера.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3&nbsp;- Bad BGP Identifier – некорректный идентификатор BGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">4&nbsp;- Unsupported Optional Parameter – неподдерживаемый дополнительный параметр.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">5&nbsp;– [Не используется, см. Приложение A].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">6&nbsp;- Unacceptable Hold Time – недопустимое значение времени удержания.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Субкоды для UPDATE Message Error</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1&nbsp;- Malformed Attribute List – некорректно сформированный список атрибутов.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2&nbsp;- Unrecognized Well-known Attribute – нераспознанный общеизвестный атрибут.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3&nbsp;- Missing Well-known Attribute – отсутствует обязательный атрибут.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">4&nbsp;- Attribute Flags Error некорректные флаги атрибута.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">5&nbsp;- Attribute Length Error – некорректный размер атрибута.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">6&nbsp;- Invalid ORIGIN Attribute – некорректный атрибут ORIGIN.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">7&nbsp;- [Не используется, см. Приложение A].</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">8&nbsp;- Invalid NEXT_HOP Attribute – некорректный атрибут NEXT_HOP.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">9&nbsp;- Optional Attribute Error – ошибка в дополнительном атрибуте.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 74.16pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">10&nbsp;- Invalid Network Field некорректное указание сети.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 74.16pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">11&nbsp;- Malformed AS_PATH – некорректный формат AS_PATH.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Data - данные</b></span></div>
<div class=paragraph style=" padding:2.16pt 56.88pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Это поле переменной длины служит для диагностики причины генерации сообщений NOTIFICATION. Содержимое поля данных зависит от значений полей Error Code и Error Subcode. Дополнительная информация приведена в главе 6.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13>Отметим, что размер поля Data можно определить на основании значения поля Length в заголовке сообщения по формуле:</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 43.44pt; text-align:left;"><span class=font8><b>Length в заголовке сообщения = 21 + размер поля Data</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13>Минимальный размер сообщений NOTIFICATION составляет 21 октет (с учетом заголовка).</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font4><b><i>5. Атрибуты пути</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 234.24pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В этой главе рассматриваются атрибуты пути, используемые в сообщениях UPDATE. Атрибуты делятся на 4 категории:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1.&nbsp; &nbsp;Well-known mandatory – общеизвестные, обязательные.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2.&nbsp; &nbsp;Well-known discretionary – общеизвестные, необязательные.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3.&nbsp; &nbsp;Optional transitive – дополнительные, транзитивные (переходные).</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">4.&nbsp; &nbsp;Optional non-transitive – дополнительные, нетранзитивные.</span></div>
<div class=paragraph style=" padding:1.92pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализации BGP <b>должны </b>распознавать все общеизвестные атрибуты. Некоторые из этих атрибутов являются обязательными и <b>должны </b>включаться в каждое сообщение UPDATE, содержащее NLRI. Остальные атрибуты являются необязательными и <b>могут </b>включаться или не включаться в сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">После того, как узел BGP обновит значения любого из общеизвестных атрибутов, он <b>должен </b>передать измененные атрибуты своим партнерам в передаваемых обновлениях.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Кроме общеизвестных атрибутов каждый путь может содержать один или несколько дополнительных атрибутов. Поддержка дополнительных атрибутов не является обязательной для каждой реализации BGP. Обработка нераспознанных дополнительных атрибутов определяется установкой бита Transitive в октете флагов атрибута. Пути с нераспознанными переходными дополнительными атрибутами <b>следует </b>принимать. Если путь с нераспознанными дополнительными переходными атрибутами принят и передается другим узлам BGP, нераспознанные атрибуты этого пути <b>должны </b>передаваться другим узлам BGP с установленным (1) битом Partial в поле Attribute Flags. Если путь с распознанным переходным атрибутом воспринят и передается другим узлам BGP, а бит Partial октета Attribute Flags имеет значение 1, установленное какой-либо из предыдущих AS, данная автономная система не должна сбрасывать этот бит в 0. Нераспознанные дополнительные непереходные атрибуты следует просто игнорировать, не передавая их другим узлам BGP. Если путь с распознанными транзитивными атрибутами передается другим партнерам BGP и значение бита Partial в поле Attribute Flags уже установлено в 1 какой-либо из предшествующих AS, для текущей AS <b>недопустимо </b>сбрасывать этот бит в 0. Нераспознанные нетранзитивные дополнительные атрибуты <b>должны </b>игнорироваться без каких-либо действий и передачи другим партнерам BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Новые дополнительные переходные атрибуты могут добавляться в конце пути исходным отправителем (originator) или любым узлом BGP на пути. Если эти атрибуты не добавляются исходным отправителем, для бита Partial в октете Attribute Flags устанавливается значение 1. Правила присоединения новых непереходных дополнительных атрибутов зависят от природы конкретного атрибута. Предполагается, что документация к каждому новому дополнительному непереходному атрибуту будет включать такие правила (описание атрибута MULTI_EXIT_DISC может служить примером). Все дополнительные атрибуты (переходные и непереходные) могут обновляться (если это допустимо) узлами BGP в пути.</span></div>
<div class=paragraph style=" padding:16.80pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:161.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:215.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:92.16pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Отправителю сообщения UPDATE <b>следует </b>размещать атрибуты пути в сообщениях UPDATE в порядке возрастания типа атрибутов. Получатель сообщения UPDATE <b>должен </b>быть готов к обработке неупорядоченных атрибутов пути из сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Один и тот же атрибут (несколько экземпляров одного типа) не может неоднократно включаться в поле Path Attributes сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Обязательные атрибуты <b>должны </b>присутствовать в сообщениях, передаваемых в IBGP и EBGP, если сообщение UPDATE включает поле NLRI. Использование дополнительных атрибутов может определяться по собственному усмотрению, может требоваться или запрещаться в зависимости от контекста.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:161.76pt;">
<div class=block style=" width:161.76pt; height:27.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 88.32pt; text-align:left;"><span class=font13><b><i>Атрибут</i></b></span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 59.52pt; text-align:left;"><span class=font13>ORIGIN</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:433.20pt;">
<div class=block style=" width:433.20pt; height:27.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 32.16pt; text-align:left;"><span class=font13><b><i>EBGP</i></b><span class=font0><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></b></span><b><i>IBGP</i></b></span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font13>обязательно<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>обязательно</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:161.76pt;">
<div class=block style=" width:161.76pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 24.48pt 0.00pt 59.28pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">AS_PATH NEXT_HOP MULTI_EXIT_DISC LOCAL_PREF</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:433.20pt;">
<div class=block style=" width:433.20pt; height:58.32pt;">
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:15.36pt;">обязательно<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>обязательно</span></div>
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:15.36pt;">обязательно<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>обязательно</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">по своему усмотрению<span class=font0>&nbsp; </span>по своему усмотрению</span></div>
<div class=paragraph style=" text-align:left;"><span class=font13 style=" line-height:15.36pt;">см. параграф 5.1.5<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>требуется</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:161.76pt;">
<div class=block style=" width:161.76pt; height:27.36pt;">
<div class=paragraph style=" padding:0.00pt 7.68pt 0.00pt 59.52pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">ATOMIC_AGGREGATE AGGREGATOR</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:433.20pt;">
<div class=block style=" width:433.20pt; height:27.36pt;">
<div class=paragraph style=" text-align:left;"><span class=font13>см. параграфы 5.1.6 и 9.1.4</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font13>по своему усмотрению по своему усмотрению</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:574.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>5.1. Использование атрибутов пути</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Ниже описывается использование всех атрибутов пути BGP.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>5.1.1.&nbsp; ORIGIN</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Атрибут ORIGIN является общеизвестным и обязательным. Этот атрибут генерируется автономной системой, которая является исходным отправителем маршрутной информации. Другим узлам BGP <b>не следует </b>изменять значение этого атрибута.</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>5.1.2.&nbsp; AS_PATH</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">AS_PATH относится к общеизвестным обязательным атрибутам и служит для идентификации автономных систем, через которые передается информация в данном сообщении UPDATE. Компонентами списка являются поля AS_SET или AS_SEQUENCE.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Когда узел BGP распространяет маршрут, который был получен из сообщения UPDATE от другого узла BGP, в сообщении UPDATE, он должен изменить в маршруте атрибут AS_PATH с учетом размещения узла BGP, которому передается маршрут:</span></div>
<div class=paragraph style=" padding:3.84pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.08pt;">a)&nbsp; &nbsp;Когда данный узел BGP анонсирует своему внутреннему партнеру, анонсирующему узлу <b>не следует </b>изменять связанный с этим маршрутом атрибут AS_PATH.</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.08pt;">b)&nbsp; &nbsp;Когда данный узел BGP анонсирует своему внешнему партнеру, анонсирующий узел обновляет атрибут AS_PATH, как показано ниже.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 85.20pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:9.84pt;">1)&nbsp; &nbsp;Если первый сегмент пути в AS_PATH имеет тип AS_SEQUENCE, локальной системе следует поместить свой номер AS как последний элемент списка (в крайнюю левую позицию со смещением вправо остальных октетов протокольного сообщения). Если такое включение будет приводить к переполнению сегмента AS_PATH (т. е., число АС превысит 255 ), <b>следует </b>добавить впереди (prepend) новый сегмент, указав в нем свой номер AS.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 85.20pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.08pt;">2)&nbsp; &nbsp;Если первый сегмент пути в AS_PATH имеет тип AS_SET, локальная система добавляет впереди (prepend) новый сегмент типа AS_SEQUENCE, включая в него свой номер AS.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 85.20pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.08pt;">3)&nbsp; &nbsp;При пустом AS_PATH локальная система создает сегмент пути типа AS_SEQUENCE, помещает в него свой номер AS и включает этот сегмент в AS_PATH.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Когда узел BGP является источником маршрута:</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">a)&nbsp; &nbsp;этот узел включает свой номер AS в сегмент пути типа AS_SEQUENCE атрибута AS_PATH всех сообщений UPDATE, передаваемых внешним партнерам. В таких случаях номер AS являющегося источником маршрута узла будет единственным элементом сегмента пути, а данный сегмент будет единственным в атрибуте AS_PATH.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">b)&nbsp; &nbsp;Этот узел включает пустой атрибут AS_PATH во все сообщения UPDATE, передаваемые внутренним партнерам (пустой атрибут AS_PATH имеет нулевое значение в поле размера).</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Всякий раз, когда изменение атрибута AS_PATH связано в включением или добавлением впереди номера AS локальной системы, эта система <b>может </b>включать/добавлять впереди более одного экземпляра своего номера AS в атрибут AS_PATH. Этот процесс определяется параметрами локальной конфигурации.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>5.1.3.&nbsp;NEXT_HOP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">общеизвестный обязательный атрибут NEXT_HOP определяет IP-адрес маршрутизатора, который <b>следует </b>использовать в качестве next hop на пути к адресатам, указанным в сообщении UPDATE. Атрибут NEXT_HOP определяется следующим образом:</span></div>
<div class=paragraph style=" padding:3.84pt 28.32pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">1)&nbsp; &nbsp;При передаче сообщения внутреннему партнеру, если маршрут имеет нелокальное происхождение, узлу BGP <b>не следует </b>изменять значение NEXT_HOP за исключением тех случаев, когда он явно настроен на анонсирование своего адреса IP в качестве NEXT_HOP. При анонсировании внутренним партнерам маршрутов локального происхождения, узлу BGP <b>следует </b>использовать в качестве NEXT_HOP адрес внутреннего интерфейса, через который анонсируемая сеть доступна для узла. Если маршрут непосредственно соединен с анонсирующим узлом или адрес интерфейса, через который узлу доступна анонсируемая сеть, является адресом внутреннего партнера, узлу BGP <b>следует </b>использовать свой адрес IP (адрес интерфейса, черз который доступен партнер) в качестве значения атрибута NEXT_HOP.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>2)&nbsp; &nbsp;При передаче сообщения внешнему партнеру X, когда тот находится на расстоянии одного интервала IP от данного узла:</span></div>
<div class=paragraph style=" padding:16.56pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>11&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:161.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:215.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:759.36pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 56.64pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; </b>Если анонсируемый маршрут получен от внутреннего партнера или имеет локальное происхождение, узел BGP может использовать в качестве атрибута NEXT_HOP адрес интерфейса внутреннего (партнерского) маршрутизатора, через который анонсируемая сеть доступна для данного узла. В этом случае партнер X будет иметь общую подсеть с указанным адресом. Этот случай является вариантом NEXT_HOP из “третьих рук” (third party).</span></div>
<div class=paragraph style=" padding:6.72pt 56.88pt 0.00pt 56.64pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; </b>В остальных случаях, если анонсируемый маршрут получен от внешнего партнера, узел BGP может использовать в атрибуте NEXT _HOP адрес IP любого смежного маршрутизатора (известный из принятого атрибута NEXT _HOP) который данный узел использует для локального определения маршрута, В таких случаях X имеет с указанным адресом общую подсеть. Этот случай является вариантом NEXT_HOP из “третьих рук”.</span></div>
<div class=paragraph style=" padding:6.48pt 56.64pt 0.00pt 56.64pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; </b>В противном случае, если внешний партнер, для которого анонсируется маршрут, имеет общую подсеть с одним из интерфейсов анонсирующего узла, последний <b>может </b>использовать связанный с таким интерфесом адрес IP в качестве значения атрибута NEXT_HOP. Этот случай является вариантом NEXT_HOP из “первых рук” (first party).</span></div>
<div class=paragraph style=" padding:6.48pt 56.88pt 0.00pt 56.64pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; </b>По умолчанию (если не выполняется ни одно из перечисленных выше условий), узлу BGP <b>следует </b>использовать в качестве атрибута NEXT_HOP IP-адрес интерфейса, который служит данному узлу для организации соединения BGP с партнером X.</span></div>
<div class=paragraph style=" padding:5.52pt 56.88pt 0.00pt 42.96pt; text-align:left; text-indent:-14.16pt;"><span class=font13 style=" line-height:10.08pt;">3)  При передаче сообщения внешнему партнеру X, находящемуся на расстоянии нескольких интервалов IP от данного узла (multihop EBGP):</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 56.64pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; </b>Узел <b>может </b>быть настроен на распространение атрибута NEXT_HOP. В таких случаях при анонсировании полученного от одного из партнеров маршрута узел должен указывать в качестве атрибута NEXT_HOP в анонсируемом маршруте значение NEXT_HOP, полученное в анонсе маршрута от партнера (т. е, узел не изменяет значение NEXT_HOP).</span></div>
<div class=paragraph style=" padding:5.52pt 56.88pt 0.00pt 56.64pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>По умолчанию узлу BGP <b>следует </b>использовать IP-адрес интерфейса, который узел указывает в атрибуте NEXT_HOP лоя организации соединение BGP с узлом X.</span></div>
<div class=paragraph style=" padding:4.56pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Обычно значение атрибута NEXT_HOP выбирается так, чтобы принимался кратчайший из возможных путей. Узел BGP <b>должен </b>обеспечивать возможность запрета анонсирования атрибутов NEXT_HOP, полученных “из третьих рук” для работы в сетях с несовершенными мостами.</span></div>
<div class=paragraph style=" padding:5.04pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Маршрут, порожденный узлом BGP, <b>не следует </b>анонсировать партнеру с использованием в качестве атрибута NEXT_HOP адреса этого партнера. Узлу BGP <b>не следует </b>устанавливать маршруты со своим адресом в качестве NEXT_HOP.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Атрибут NEXT_HOP используется узлами BGP для определения реального выходного интерфейса и адреса ближайшего маршрутизатора (immediate next-hop address), по которому <b>следует </b>пересылать транзитные пакеты для связанных с маршрутом адресатов.</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Адрес ближайшего маршрутизатора (immediate next-hop address) определяется путем рекурсивного просмотра маршрутов для IP-адреса из атрибута NEXT_HOP, использования содержимого таблицы маршрутизации (Routing Table) и выбора одной записи, если существует множество равноценных путей. Запись таблицы маршрутизации, которая соответствует IP-адресу из атрибута NEXT_HOP, всегда будет задавать выходной интерфейс. Если запись таблицы маршрутизации указывает подключенную подсеть, но не задает адрес next-hop, тогда адрес из атрибута NEXT_HOP <b>следует использовать </b>в качестве адреса ближайшего маршрутизатора (immediate next-hop address). Если запись в таблице также содержит адрес next-hop, этот адрес <b>следует </b>использовать в качестве адреса ближайшего маршрутизатора для пересылки пакетов.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font2><b><i>5.1.4.&nbsp;MULTI_EXIT_DISC</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Дополнительный непереходный атрибут MULTI_EXIT_DISC<sup>11</sup> предназначен для использования на внешних (между AS) соединениях для выбора из множества путей в одну смежную AS. Значение атрибута MULTI_EXIT_DISC представляет собой 4-октетное целое число без знака, которое называют метрикой. При прочих равных из нескольких маршрутов <b>следует </b>выбирать тот, у которого меньше значение метрики. При получении через EBGP атрибут MULTI_EXIT_DISC <b>можно </b>распространять черз IBGP другим узлам BGP в данной AS (см. также параграф 9.1.2.2). Атрибут MULTI_EXIT_DISC, полученный из соседней AS, <b>недопустимо </b>распространять в другие соседние AS.</span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узел BGP <b>должен </b>обеспечивать механизм (в соответствии с локальной конфигурацией), позволяющий удалять из маршрутов атрибут MULTI_EXIT_DISC. Если узел BGP настроен на удаление атрибута MULTI_EXIT_DISC из маршрутов, такое удаление <b>должно </b>выполняться до того, как будет определяться предпочтительный маршрут или происходить выбор маршрута (фазы 1 и 2 Decision Process).</span></div>
<div class=paragraph style=" padding:4.80pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализация <b>может также </b>(в соответствии с локальной конфигурацией) изменять значение атрибутов MULTI_EXIT_DISC, полученных через EBGP. Если узел BGP настроен на изменение значений атрибута MULTI_EXIT_DISC, принятых через EBGP, такое изменение <b>должно </b>выполняться до того, как будет определяться предпочтительный маршрут или происходить выбор маршрута (фазы 1 и 2 Decision Process). Некоторые ограничения описаны в параграфе 9.1.2.2.</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font2><b><i>5.1.5.&nbsp;LOCAL_PREF</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Атрибут LOCAL _PREF относится к числу общеизвестных необязательных. Это атрибут <b>следует </b>включать во все сообщения UPDATE, которые данный узел BGP передает другим внутренним партнерам. узлам BGP, расположенным в той же автономной системе. Узлу BGP <b>следует </b>рассчитать уровень предпочтения для каждого внешнего маршрута на основе локальной политики и включать этот уровень в анонсы для внутренних партнеров. Предпочтение <b>должно </b>отдаваться маршрутам с более высоким уровнем. Узел BGP использует уровень предпочтения из LOCAL _PREF, в процессе выбора маршрутов (см. параграф 9.1.1).</span></div>
<div class=paragraph style=" padding:5.04pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для узлов BGP недопустимо включение этого атрибута в сообщения UPDATE, передаваемые внешним партнерам за исключением случаев использования BGP Confederations [RFC3065]. Если атрибут содержится в сообщении UPDATE, полученном от внешнего партнера, принимающий узел <b>должен </b>игнорировать этот атрибут за исключением случаев использования BGP Confederations [RFC3065].</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font2><b><i>5.1.6.&nbsp;ATOMIC_AGGREGATE</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font13>Атрибут ATOMIC_AGGREGATE относится к числу общеизвестных, но не обязательных.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><sup>11</sup>Этот атрибут подробно рассматривается в RFC 4451, перевод которого имеется на сайте <span style=" color:rgb(0,0,128);"><a href="index.html"><u>http://rfc.com.ru</u></a></span>. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>12&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:376.80pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:218.16pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:8.88pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:376.80pt;"> <div class=block style=" width:376.80pt; height:11.28pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод 
          RFC 4271</u></b></span></div>
      </div></td>
    <td class=cell rowspan="2" valign="top" style=" width:218.16pt;">&nbsp;</td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:376.80pt;"> <div class=block style=" width:376.80pt; height:1.44pt;"> 
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:750.96pt;"> 
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Когда 
          узел BGP объединяет (агрегирует) несколько маршрутов с целью анонсирования 
          отдельному партнеру, значение AS_PATH агрегированного маршрута обычно 
          включает AS_SET из набора AS, для которых выполняется объединение маршрутов. 
          Во многих случаях администратор сети может определить возможность агрегирования 
          маршрутов без анонсирования AS_SET, чтобы при этом не возникало маршрутных 
          петель.</span></div>
        <div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если 
          агрегирование не включает по крайней мере некоторые AS из атрибутов 
          AS_PATH объединяемых маршрутов, в создаваемый агрегированный маршрут 
          при анонсировании его партнеру <b>следует </b>включать атрибут ATOMIC_AGGREGATE.</span></div>
        <div class=paragraph style=" padding:3.84pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Узлу 
          BGP, получившему маршрут с атрибутом ATOMIC_AGGREGATE, <b>не следует 
          </b>удалять этот атрибут при распространении маршрута другим узлам.</span></div>
        <div class=paragraph style=" padding:3.84pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для 
          узла BGP, получившего маршрут с атрибутом ATOMIC_AGGREGATE, <b>недопустимо 
          </b>указание каких-либо NLRI из этого маршрута как более специфичных 
          (в соответствии с определением параграфа 9.1.4) при анонсировании данного 
          маршрута другим узлам BGP.</span></div>
        <div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узлу 
          BGP, получившему маршрут с атрибутом ATOMIC_AGGREGATE, следует отдавать 
          себе отчет в том, что актуальный путь к адресату, указанный в NLRI этого 
          маршрута, хотя и не содержит петель, может не быть путем, заданным в 
          атрибуте AS_PATH этого маршрута.</span></div>
        <div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>5.1.7. 
          AGGREGATOR</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Дополнительный 
          транзитивный атрибут AGGREGATOR <b>может </b>включаться в обновления, 
          формируемые при объединении маршрутов (см. параграф 9.2.2.2). Узел BGP, 
          выполняющий агрегирование, <b>может </b>добавлять атрибут AGGREGATOR, 
          в который при этом <b>следует </b>включать свой номер AS и адрес IP. 
          Адрес IP <b>следует </b>указывать тот же, который используется для поля 
          BGP Identifier данного узла.</span></div>
        <div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>6. 
          Обработка ошибок BGP</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>В 
          этой главе рассматриваются действия, предпринимаемые при обнаружении 
          ошибок в процессе обработки сообщений BGP.</span></div>
        <div class=paragraph style=" padding:4.32pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При 
          выполнении любого из описанных здесь условий передается сообщение NOTIFICATION 
          с соответствующими значениями кода (Error Code) и субкода (Error Subcode) 
          ошибкии, а таже полем Data и соединение BGP закрывается (если явно не 
          указано, что передается сообщение NOTIFICATION, но соединение BGP не 
          закрывается). Если субкод ошибки не указан, <b>должно </b>использоваться 
          нулевое значение.</span></div>
        <div class=paragraph style=" padding:4.08pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Фраза 
          “соединение BGP разрывается”<sup>12</sup> означает, что закрывается 
          соединение TCP, очищается связанная с ним база Adj-RIB-In и удаляются 
          все ресурсы, выделенные данному соединению BGP. Записи в базе Loc-RIB, 
          связанные с удаленным партнером, помечаются как некорректные. Локальная 
          система заново рассчитывает наилучшие маршруты для адресатов, маршруты 
          к которым помечены как некорректные. До удаления некорректных маршрутов 
          из таблицы они анонсируются партнерам путем отзыва ставших некорректными 
          маршрутов или задания новых маршрутов взамен некорректных.</span></div>
        <div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Если 
          явно не указано иное, поле Data сообщений NOTIFICATION, передаваемых 
          для индикации ошибок, остается пустым.</span></div>
        <div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>6.1.&nbsp;Отработка 
          ошибок в заголовках сообщений</b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Все 
          ошибки, обнаруживаемые при обработке заголовка сообщения, должны указываться 
          путем передачи сообщений NOTIFICATION с кодом ошибки Message Header 
          Error. Поле Error Subcode указывает природу ошибки более точно.</span></div>
        <div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Ожидаемое 
          в заголовке сообщение значение поля Marker состоит только из единиц. 
          Если поле Marker в заголовке сообщения содержит неожиданное значение, 
          возникает ошибка синхронизации и в поле Error Subcode <b>должно </b>указываться 
          значение Connection Not Synchronized (соединение не синхронизировано).</span></div>
        <div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Если 
          выполняется хотя бы одно из перечисленных здесь условий:</span></div>
        <div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" line-height:17.76pt;">•<span class=font13>&nbsp; 
          &nbsp; &nbsp;поле Length в заголовке сообщения содержит значение меньше 
          19 или больше 4096;</span></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" line-height:17.76pt;">•<span class=font13>&nbsp; 
          &nbsp; &nbsp;значение поля Length в заголовке сообщения OPEN меньше 
          минимального размера сообщения OPEN;</span></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" line-height:17.76pt;">•<span class=font13>&nbsp; 
          &nbsp; &nbsp;значение поля Length в заголовке сообщения UPDATE меньше 
          минимального размера сообщения UPDATE;</span></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" line-height:17.76pt;">•<span class=font13>&nbsp; 
          &nbsp; &nbsp;значение поля Length в заголовке сообщения KEEPALIVE не 
          равно 19;</span></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" line-height:17.76pt;">•<span class=font13>&nbsp; 
          &nbsp; &nbsp;значение поля Length в заголовке сообщения NOTIFICATION 
          меньше минимального размера сообщения NOTIFICATION.</span></span></div>
        <div class=paragraph style=" padding:1.92pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">для 
          поля Error Subcode <b>должно </b>устанавливаться значение Bad Message 
          Length (некорректный размер сообщения). Поле Data в таких случаях <b>должно 
          </b>содержать ошибочное значение поля Length.</span></div>
        <div class=paragraph style=" padding:3.84pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если 
          не распознано поле Type в заголовке сообщения, для поля Error Subcode 
          <b>должно </b>устанавливаться значение Bad Message Type (некорректный 
          тип сообщения). Поле Data в таких случаях <b>должно </b>содержать ошибочное 
          значение поля Type.</span></div>
        <div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>6.2.&nbsp;Отработка 
          ошибок в сообщениях OPEN</b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Все 
          ошибки, детектируемые в процессе обработки сообщений OPEN, <b>должны 
          </b>указываться сообщениями NOTIFICATION с Error Code = OPEN Message 
          Error. Значение Error Subcode уточняет природу ошибки.</span></div>
        <div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если 
          версия протокола, указанная в поле Version полученного сообщения OPEN, 
          не поддерживается, <b>должно </b>устанавливаться значение Error Subcode 
          = Unsupported Version Number. Поле data в таких случаях представляет 
          собой 2-октетное целое число без знака, которое показывает (в старшем 
          октете) насколько наибольший номер версии, поддерживаемой локально, 
          меньше номера версии, предложенного удаленным партнером BGP (показан 
          в принятом сообщении OPEN) или (в младшем октете) насколько наименьший 
          локально поддерживаемый номер версии больше предложенного удаленным 
          партнером BGP.</span></div>
        <div class=paragraph style=" padding:4.08pt 29.04pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если 
          поле Autonomous System в сообщении OPEN содержит неприемлемое значение, 
          в поле Error Subcode <b>должно </b>помещаться значение Bad Peer AS. 
          Определение допустимости номеров AS выходит за пределы спецификации 
          данного протокола.</span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:24.48pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:24.72pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>12</sup>“the 
          BGP connection is closed“</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>13&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:20.16pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:376.80pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:218.16pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:153.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:767.76pt;">
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если значение поля Hold Time в принятом сообщении OPEN неприемлемо, <b>должно </b>устанавливаться значение Error Subcode = Unacceptable Hold Time. Реализация <b>должна </b>отвергать значения Hold Time в одну или две секунды. Реализация <b>может </b>отвергнуть любое предложенное значение Hold Time. Реализация, принявшая значение Hold Time, <b>должна </b>использовать согласованное значения для параметра.</span></div>
<div class=paragraph style=" padding:3.84pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если поле BGP Identifier в принятом сообщении OPEN синтаксически некорректно, <b>должно </b>устанавливаться значение Error Subcode = Bad BGP Identifier. Синтаксическая корректность означает, что поле BGP Identifier содержит допустимый индивидуальный (unicast) IP-адрес хоста.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если не распознано поле Optional Parameters в принятом сообщении OPEN, должно устанавливаться Error Subcode = Unsupported Optional Parameters.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если один из дополнительных параметров принятого сообщения OPEN распознан, но имеет некорректный формат, <b>должно </b>устанавливаться значение Error Subcode = 0 (не задано - Unspecific).</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3><b>6.3.&nbsp;Отработка ошибок в сообщениях UPDATE</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Все ошибки, детектируемые при обработке сообщений UPDATE, <b>должны </b>приводить к генерации сообщения NOTIFICATION с Error Code = UPDATE Message Error. Субкод ошибки уточняет ее природу.</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Проверка ошибок в сообщении UPDATE начинается с атрибутов пути. Если значение поля Withdrawn Routes Length или Total Attribute Length слишком велико (т. е., Withdrawn Routes Length + Total Attribute Length + 23 превосходит значение поля Length в заголовке сообщения), для поля Error Subcode <b>должно </b>устанавливаться значение Malformed Attribute List.</span></div>
<div class=paragraph style=" padding:3.84pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если в любом распознанном атрибуте возникает конфликт флагов (Attribute Flags) и типа атрибута (Attribute Type Code), <b>должно </b>устанавливаться значение Error Subcode = Attribute Flags Error. В поле Data <b>должен </b>включаться связанный с ошибкой атрибут (тип, размер и значение).</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если в любом распознанном атрибуте размер (Attribute Length) конфликтует с ожидаемым (на основе кода типа) значением, <b>должно </b>устанавливаться значение Error Subcode = Attribute Length Error. В поле Data <b>должен </b>включаться связанный с ошибкой атрибут (тип, размер и значение).</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При отсутствии любого из общеизвестных обязательных атрибутов, <b>должен </b>устанавливаться субкод Error Subcode = Missing Well-known Attribute, а в поле Data <b>должен </b>включаться код типа (Attribute Type Code) пропущенного атрибута.</span></div>
<div class=paragraph style=" padding:4.08pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если не распознан любой из общеизвестных обязательных атрибутов, <b>должно </b>устанавливаться значение Error Subcode = Unrecognized Well-known Attribute, а в поле Data <b>должен </b>включаться нераспознанный атрибут (тип, размер и значение).</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если атрибут ORIGIN имеет неопределенный тип, в поле Error Subcode <b>должно </b>указываться значение Invalid Origin Attribute, а в поле Data <b>должен </b>включаться нераспознанный атрибут (тип, размер и значение).</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если поле атрибута NEXT_HOP синтаксически некорректно, для поля Error Subcode <b>должно </b>устанавливаться значение Invalid NEXT_HOP Attribute. Поле Data <b>должно </b>содержать некорректный атрибут (тип, размер и значение). Синтаксическая корректность означает, что атрибут NEXT_HOP содержит допустимый IP-адрес хоста.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Для того, чтобы адрес IP в поле NEXT_HOP был семантически корректен, он <b>должен </b>соответствовать приведенным критериям:</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>a)&nbsp; &nbsp;<b>недопустимо </b>включать в это поле IP-адрес принимающего узла;</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:9.84pt;">b)&nbsp; &nbsp;в случае EBGP, когда отправитель и получатель расположены на расстоянии одного интервала (one IP hop), IP-адрес в поле NEXT_HOP <b>должен </b>быть IP-адресом отправителя, использованным для организации соединения BGP, или интерфейс, связанный с адресом из поля NEXT_HOP, <b>должен </b>находиться в одной подсети с принимающим узлом BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если атрибут NEXT_HOP семантически некорректен, <b>следует </b>записать информацию об этом в журнальный файл системы, маршрут также <b>следует </b>игнорировать. В таких случаях передавать сообщение NOTIFICATION и разрывать соединение <b>не следует.</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Проверяется синтаксическая корректность атрибута AS_PATH. При наличии синтаксических ошибок в пути <b>должно </b>устанавливаться значение Error Subcode = Malformed AS_PATH.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если сообщение UPDATE получено от внешнего партнера, локальная система <b>может </b>проверить совпадение расположенного слева (по порядку октетов протокольного сообщения) номера AS в атрибуте AS_PATH с номером автономной системы партнера, передавшего сообщение. Если номера не совпадают, <b>должно </b>устанавливаться значение Error Subcode = Malformed AS_PATH.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если дополнительный атрибут распознан, его значение <b>должно </b>быть проверено. При обнаружении ошибки атрибут <b>должен </b>быть отброшен и <b>требуется </b>установить Error Subcode = Optional Attribute Error. Поле Data в таком случае <b>должно </b>содержать связанный с ошибкой атрибут (тип, размер и значение).</span></div>
<div class=paragraph style=" padding:3.84pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если тот или иной атрибут неоднократно встречается в сообщении UPDATE, в поле Error Subcode <b>должно </b>устанавливаться значение Malformed Attribute List.</span></div>
<div class=paragraph style=" padding:3.84pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Проверяется синтаксическая корректность поля NLRI в сообщении UPDATE. При обнаружении ошибки <b>должно </b>устанавливаться значение Error Subcode = Invalid Network Field.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если префикс в поле NLRI семантически некорректен (например, содержит неожиданный групповой адрес IP), информацию об ошибке <b>следует </b>записать в локальный журнальный файл, а префикс <b>следует </b>игнорировать.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Сообщения UPDATE с корректными атрибутами пути, но без NLRI <b>следует </b>трактовать как корректные.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3><b>6.4.&nbsp;Отработка ошибок в сообщениях NOTIFICATION</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если узел передает сообщение NOTIFICATION и получатель этого сообщения детектирует в нем ошибку, получатель не может использовать сообщение NOTIFICATION для уведомления своего партнера об ошибке. Все ошибки этого типа (например, нераспознанное значение Error Code или Error Subcode) должны локально протоколироваться с передачей уведомления администратору узла, отправившего ошибочное сообщение. Способы такого протоколирования и уведомления не рассматриваются в данном документе.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:19.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt;">
<div class=block style=" width:302.64pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:153.84pt;">
<div class=block style=" width:153.84pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>14</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:153.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:2.16pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:546.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>6.5.&nbsp;Отработка таймаутов Hold Timer</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если система не получает сообщений KEEPALIVE и/или UPDATE и/или NOTIFICATION в течение периода, заданного полем Hold Time в сообщении OPEN, передается сообщение NOTIFICATION с кодом ошибки Hold Timer Expired и соединение BGP закрывается.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>6.6.&nbsp;Обработка ошибок машины конечных состояний</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Любая ошибка, обнаруженная машиной конечных состояний (FSM<sup>13</sup>) BGP (например, неожиданное событие), индицируется путем передачи сообщения NOTIFICATION с Error Code = Finite State Machine Error.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>6.7.&nbsp;Обработка Cease</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При отсутствии каких-либо критических ошибок (из числа описанных выше) узел BGP <b>может </b>в любой момент закрыть соединение BGP, передав партнеру сообщение NOTIFICATION с Error Code = Cease. Однако такие сообщения <b>недопустимо </b>использовать при возникновении какой-либо из перечисленных выше критических ошибок.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узел BGP <b>может </b>обеспечивать возможность вносить задаваемый параметрами локальной конфигурации верхний предел для числа адресных префиксов, принимаемых от соседа. В случае превышения заданного порога в соответствии с параметрами локальной конфигурации (a) новые префиксы от этого соседа отбрасываются (с сохранением соединения с данным соседом) или (b) закрывается соединение BGP с этим соседом. Если узел BGP принимает решение о разрыве соединения BGP со своим соседом в результате получения от того избыточного числа префиксов, этот узел <b>должен </b>пердать соседу сообщение NOTIFICATION с Error Code = Cease. Узел <b>может </b>также записать информацию об этом в журнальный файл.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b>6.8.&nbsp;Детектирование конфликтов в соединениях BGP</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если пара узлов BGP пытается одновременно организовать соединение TCP друг с другом, между узлами такой пары могут возникнуть два параллельных соединения. Если IP-адрес отправителя в одном из таких соединений совпадает с IP-адресом получателя в другом соединении и наоборот, возникает конфликт при соединении. При возникновении такого конфликта одно из соединений <b>должно </b>быть закрыто.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Выбор одного из пары соединений для закрытия базируется на соглашении об идентификаторах BGP. При возникновении конфликта сравниваются значения BGP Identifier вовлеченных в конфликт узлов и сохраняется только то соединение, которое было инициировано узлом BGP с большим значением BGP Identifier.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При получении сообщения OPEN локальная система <b>должна </b>проверить все свои соединения, находящиеся в состоянии OpenConfirm. Узел BGP <b>может </b>также проверить соединения, которые находятся в состоянии OpenSent, если он имеет информацию о значении BGP Identifier узла на противоположной стороне соединения (эта информация получается с помощью других протоколов). Если какое-либо из этих соединений относится к удаленному узлу BGP, идентификатор которого совпадает со значением BGP Identifier в сообщении OPEN, локальные система выполняет следующие процедуры разрешения конфликта:</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">1)&nbsp; &nbsp;Значение BGP Identifier локальной системы сравнивается с идентификатором удаленного узла BGP, указанным в сообщении OPEN. Сравнение производится с преобразованием значений BGP Identifier к принятому для хостов порядку байтов (host byte order) и трактовкой полученных значений как 4-октетных целых чисел без знака.</span></div>
<div class=paragraph style=" padding:4.32pt 27.84pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">2)&nbsp; &nbsp;Если значение BGP Identifier для локального узла меньше соответствующего значения для удаленного узла, локальная система закрывает существующее соединение BGP с этим узлом (это соединение уже находится в состоянии OpenConfirm) и принимает соединение BGP от удаленного партнера.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">3)&nbsp; &nbsp;В противном случае локальная система закрывает недавно созданное соединение BGP (связанное с недавно полученным сообщением OPEN) и продолжает использовать существующее соединение с этим партнером (то, которое уже находится в состоянии OpenConfirm).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если конфигурационные параметры не задают иного, конфликт с существующим соединением BGP, которое находится в состоянии Established, приводит к разрыву недавно созданного соединения.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Отметим, что конфликт соединений не может быть детектирован для состояний Idle, Connect и Active.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Разрыв соединения BGP (в результате процедуры разрешения конфликта) осуществляется путем передачи сообщения NOTIFICATION с Error Code = Cease.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:203.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>7.&nbsp;Согласование версий BGP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узлы BGP могут согласовать версию протокола путем повторных попыток организации соединения BGP, используя в первой попытке высший номер, поддерживаемый локальной стороной. Если при попытке организации соединения возникает ошибка с Error Code = OPEN Message Error и Error Subcode = Unsupported Version Number, узел BGP имеет информацию о номере версии, который был использован при неудачной попытке, номере версии, которую пытался использовать партнер, номере версии, переданном партнером в сообщении NOTIFICATION, и номере версии, которую он поддерживает. Если номера одной или более версий из числа поддерживаемых обоими партнерами совпадают, имеющаяся информация позволяет быстро определить максимальный поддерживаемый номер версии. Для поддержки согласования версии BGP в будущих версиях протокола <b>должен </b>сохраняться формат сообщений OPEN и NOTIFICATION.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font3><b><i>8.&nbsp;Машина конечных состояний BGP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Структуры данных и FSM, описанные в данном документе, являются концептуальными моделями и не реализуются в точном соответствии с приведенными описаниями. Если реализация поддерживает описанную функциональность, она будет демонстрировать соответствующее описанному здесь поведенеи.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В этой главе описывается работа BGP в терминах машины конечных состояний (FSM). Глава разбита на две части:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;Описание событий для машины состояний (параграф 8.1)</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;Описание FSM (параграф 8.2)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:16.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" letter-spacing:-0.85pt;"><sup>13</sup> <span style=" letter-spacing:0.00pt;">Finite State Machine – машина конечных состояний</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>15</b></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:24.72pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:153.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:778.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Обязательными атрибутами каждого соединения являются:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;State - состояние</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;ConnectRetryCounter – счетчик числа попыток организации соединения</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;ConnectRetryTimer – таймер повторов для соединения</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">4)&nbsp; &nbsp;ConnectRetryTime – время ожидания для повтора</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">5)&nbsp; &nbsp;HoldTimer – таймер удержания</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">6)&nbsp; &nbsp;HoldTime – время удержания</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">7)&nbsp; &nbsp;KeepaliveTimer – таймер сохранения</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">8)&nbsp; &nbsp;KeepaliveTime – время сохранения</span></div>
<div class=paragraph style=" padding:1.92pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Атрибуты состояния сессии показывают текущее состояние BGP FSM. Счетчик ConnectRetryCounter показывает число попыток узла BGP организовать соединение с партнером.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Обязательные атрибуты, связанные с таймерами, описаны в главе 10. Для каждого таймера существуют значения &quot;timer&quot; и &quot;time&quot; (начальное значение).</span></div>
<div class=paragraph style=" padding:4.08pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Ниже перечислены дополнительные атрибуты сессий. Эти атрибуты могут поддерживаться для соединений или для локальной системы в целом:</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp;AcceptConnectionsUnconfiguredPeers</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp;AllowAutomaticStart</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp;AllowAutomaticStop</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">4)&nbsp;CollisionDetectEstablishedState</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">5)&nbsp;DampPeerOscillations</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">6)&nbsp;DelayOpen</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">7)&nbsp;DelayOpenTime</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">8)&nbsp;DelayOpenTimer</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">9)&nbsp;IdleHoldTime</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">10)&nbsp;IdleHoldTimer</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">11)&nbsp;PassiveTcpEstablishment</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">12)&nbsp;SendNOTIFICATIONwithoutOPEN</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">13)&nbsp;TrackTcpState</span></div>
<div class=paragraph style=" padding:2.16pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Дополнительные атрибуты сессий определяют различные параметры BGP, оказывающие влияние на смену состояний BGP FSM. Две группы атрибутов, связанных с таймерами, включают:</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Группа 1: DelayOpen, DelayOpenTime, DelayOpenTimer</b></span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Группа 2: DampPeerOscillations, IdleHoldTime, IdleHoldTimer</b></span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Первый параметр (DelayOpen, DampPeerOscillations) является дополнительным атрибутом, который показывает, что функция Timer активна. Значение &quot;Time&quot; указывает начальное состояние таймера (DelayOpenTime, IdleHoldTime). &quot;Timer&quot; задает реальный таймер.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Описание взаимодействия между дополнительными атрибутами и состояниями, передаваемыми FSM приведено в параграфе 8.1.1. Параграф 8.2.1.3 также дает краткий обзор двух различных типов дополнительных атрибутов (флаги и таймеры).</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font2><b>8.1. События BGP FSM</b></span></div>
<div class=paragraph style=" padding:2.40pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font2 style=" line-height:13.44pt;"><b><i>8.1.1. Дополнительные события, связанные с дополнительными атрибутами сессии</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Входной информацией для BGP FSM являются события, которые могут относиться к числу обязательных (mandatory) и необязательных (optional). Некоторые из дополнительных событий связаны с дополнительными атрибутами сессии. Дополнительные атрибуты сессий включают несколько групп функций FSM.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Связи между функциями FSM, событиями и дополнительными атрибутами сессий описаны ниже.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Группа 1: Автоматические административные события (старт/стоп)</b></span></div>
<div class=paragraph style=" padding:3.84pt 56.64pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>Дополнительные    атрибуты    сессии</b>:    AllowAutomaticStart,    AllowAutomaticStop,    DampPeerOscillations,    IdleHoldTime, IdleHoldTimer</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13><b><u>Опция 1</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>AllowAutomaticStart</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 89.52pt; text-align:justify; text-indent:-45.36pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Соединение с партнером BGP может быть инициировано или разорвано административными средствами. Такая операция может выполняться вручную с участием оператора или автоматически под управлением встроенной логики реализации BGP. Термин “автоматический” говорит о том, что соединение с партнером BGP организуется тогда, когда логика определяет, что соединение BGP следует перезапустить.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 89.52pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Атрибут AllowAutomaticStart указывает, что данное соединение BGP поддерживает автоматический запуск соединения BGP.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt;">
<div class=block style=" width:302.64pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:153.84pt;">
<div class=block style=" width:153.84pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>16</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:153.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 118.08pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если реализация BGP поддерживает AllowAutomaticStart, рестарт соединения с партнером может повторяться. Три перечисленные ниже опции управляют скоростью организации повторных соединений:</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 118.08pt; text-align:left;"><span class=font8 style=" line-height:10.08pt;"><b>DampPeerOscillations, IdleHoldTime, the IdleHoldTimer.</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 118.08pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Опция DampPeerOscillations определяет использование дополнительной логики для подавления осцилляций BGP в форме последовательности автоматически повторяющихся процедур старта и остановки. Параметр IdleHoldTime задает продолжительность периода сохранения партнером BGP состояния Idle перед тем, как будет возможен новый автоматический рестарт. Таймер IdleHoldTimer управляет сохранением состояния Idle.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 118.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Примером логики DampPeerOscillations является рост значения IdleHoldTime в тех случаях, когда BGP-партнер порождает периодические осцилляции (организация/разрыв соединения) в течение некоторого интервала времени. Для включения этой логики партеру достаточно организовать 10 соединений и их разрывов в течение 5 минут. Значение IdleHoldTime будет сменено с нуля на 120 секунд.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b><u>Опция 2</u>:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>AllowAutomaticStop</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 118.08pt; text-align:justify; text-indent:-47.52pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Этот дополнительный атрибут сессии BGP показывает, что для соединения BGP разрешено “автоматическое” прерывание. “автоматическим” называется прерывание сессии под управлением поддерживаемой реализацией логики. Рассмотрение такой логики не входит в задачи данной спецификации.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b><u>Опция 3</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>DampPeerOscillations</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 118.08pt; text-align:justify; text-indent:-47.52pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Дополнительный атрибут сессии DampPeerOscillations показывает, что соединение BGP использует логику подавления осцилляций в состоянии Idle.</span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b><u>Опция 4</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>IdleHoldTime</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Описание</b>. IdleHoldTime принимает значение, установленное для IdleHoldTimer.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Значение</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Время в секундах.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b><u>Опция 5</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>IdleHoldTimer</span></div>
<div class=paragraph style=" padding:1.92pt 28.32pt 0.00pt 71.52pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Таймер IdleHoldTimer служит для контроля осцилляций BGP. Таймер IdleHoldTimer служит для сохранения партнера BGP в состоянии Idle в течение заданного интервала времени. Событие IdleHoldTimer_Expires описано в параграфе 8.1.3.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Значение</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Время в секундах.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Группа 2: Не указанные в конфигурации партнеры</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Дополнительные атрибуты сессии</b>: AcceptConnectionsUnconfiguredPeers</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b><u>О пция </u></b><u>1</u> :<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>AcceptConnectionsUnconfiguredPeers</span></div>
<div class=paragraph style=" padding:2.16pt 28.32pt 0.00pt 114.96pt; text-align:justify; text-indent:-44.40pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Машина состояний BGP FSM может позволять восприятие соединений BGP от неуказанных в конфигурации соседей. Дополнительный атрибут сессии AcceptConnectionsUnconfiguredPeers позволяет FSM поддерживать переходы состояний, которые позволяют реализации принимать или отвергать соединения от таких партнеров.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 114.96pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Атрибут  AcceptConnectionsUnconfiguredPeers  влияет  на  безопасность.  Детальное  описание  можно  найти  в документе “Уязвимости BGP” [RFC4272].</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Группа 3: Обработка TCP</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Дополнительные атрибуты сессии</b>: PassiveTcpEstablishment, TrackTcpState</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b><u>Опция 1</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>PassiveTcpEstablishment</span></div>
<div class=paragraph style=" padding:1.68pt 28.56pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;"><b>Описание</b>. Эта опция показывает, что BGP FSM будет пассивно ожидать вызова от удаленного партнера BGP для организации соединения BGP TCP.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b><u>Опция 2</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>TrackTcpState</span></div>
<div class=paragraph style=" padding:3.84pt 28.56pt 0.00pt 118.08pt; text-align:justify; text-indent:-46.56pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. BGP FSM обычно отслеживает конечный результат попытки организации соединения TCP, а не отдельные сообщения TCP. Опционально BGP FSM может поддерживать дополнительное взаимодействие с системой согласования параметров соединений TCP. Учет событий TCP может увеличить объем записей в журнальных файлах и число смен состояний BGP FSM.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Группа 4: Обработка сообщений BGP</b></span></div>
<div class=paragraph style=" padding:3.84pt 28.32pt 0.00pt 70.56pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;"><b>Дополнительные атрибуты сессии</b>: DelayOpen, DelayOpenTime, DelayOpenTimer, SendNOTIFICATIONwithoutOPEN, CollisionDetectEstablishedState</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13><b><u>Опция 1</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>DelayOpen</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 114.96pt; text-align:justify; text-indent:-44.40pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Дополнительный атрибут сессии DelayOpen позволяет реализации настроить задержку передачи сообщения OPEN на заданное время. Такая задержка позволяет удаленному партнеру BGP первым отправить сообщение OPEN.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:13.92pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>17&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:153.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:744.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b><u>Опция 2</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>DelayOpenTime</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Описание</b>. DelayOpenTime – начальное значение таймера DelayOpenTimer.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Значение</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Время в секундах.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b><u>Опция 3</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>DelayOpenTimer</span></div>
<div class=paragraph style=" padding:1.92pt 56.88pt 0.00pt 87.60pt; text-align:justify; text-indent:-44.40pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. Дополнительный атрибут сессии DelayOpenTimer используется для задержки передачи сообщения OPEN в данном соединении. Событие DelayOpenTimer_Expires (Событие 12) описано в параграфе 8.1.3.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13><b>Значение</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>Время в секундах.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13><b><u>Опция 4</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>SendNOTIFICATIONwithoutOPEN</span></div>
<div class=paragraph style=" padding:3.84pt 56.64pt 0.00pt 88.56pt; text-align:justify; text-indent:-46.32pt;"><span class=font13 style=" line-height:9.84pt;"><b>Описание</b>. SendNOTIFICATIONwithoutOPEN позволяет партнеру передать сообщение NOTIFICATION без отправки сначала сообщения OPEN. Без этого дополнительного атрибута соединение BGP предполагает, что сообщение OPEN должно быть отправлено партнером до того, как ему будет передаваться сообщение NOTIFICATION.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13><b><u>Опция 5</u></b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>CollisionDetectEstablishedState</span></div>
<div class=paragraph style=" padding:3.84pt 56.64pt 0.00pt 87.60pt; text-align:justify; text-indent:-45.36pt;"><span class=font13 style=" line-height:10.08pt;"><b>Описание</b>. Обычно Detect Collision (см. параграф 6.8) игнорируется для состояния Established. Это дополнительный атрибут сессии показывает, что данное соединение BGP обрабатывает конфликты и в состоянии Established.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13><b>Значения</b>:<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>TRUE или FALSE</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 43.20pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Примечание: Дополнительные сеансовые атрибуты проясняют описание BGP FSM для имеющихся возможностей реализации BGP. Эти атрибуты могут быть предопределенными для реализации и недоступными через интерфейс управления, поддерживаемый реализацией. Если поддерживается новая (2 и выше) версия BGP MIB, эти поля будут доступны через интерфейс управления.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font2><b><i>8.1.2. События административного плана</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">К числу административных относятся те события, при операторский интерфейс машины политики BGP<sup>14</sup> сигнализирует машине конечных состояний BGP о необходимости запуска или остановки машины состояний BGP. Базовые средства индикации запуска и остановки дополняются необязательными атрибутами соединения, которые передают сигналы о некоторых типах запуска и остановки BGP FSM. Примером такой комбинации может служить Событие 5 - AutomaticStart_with_PassiveTcpEstablishment. С помощью такого события реализация BGP сигнализирует BGP FSM об использовании Automatic Start с опцией для применения процедуры Passive TCP Establishment. В свою очередь Passive TCP establishment сигнализирует, что BGP FSM будет ждать вызова удаленной стороны для организации соединения TCP.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Отметим, что только Событие 1 (ManualStart) и Событие 2 (ManualStop) относятся к числу обязательных административных событий. Все остальные события административного типа (События 3 – 8) являются дополнительными. Каждое из описанных ниже событий имеет номер, определение, статус (обязательное или дополнительное), а также дополнительные атрибуты сессии, которые <b>следует </b>устанавливать на каждой стадии. При генерации Событий 1 - 8 для BGP FSM проверяются условия, заданные в поле &quot;<b>Статус дополнительных атрибутов</b>&quot;. Если любое из этих условий не выполняется, локальной системе следует записать в журнальный файл сведения об ошибке FSM.</span></div>
<div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В некоторых реализациях установка дополнительных атрибутов сессии может быть неявной и, следовательно, эти атрибуты не могут явно устанавливаться оператором. В параграфе 8.2.1.5 описаны такие неявные установки дополнительных сеансовых атрибутов. Описанные ниже административные события также могут быть неявными в некоторых реализациях и недоступными для оператора.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 1: ManualStart</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: администратор локальной системы вручную инициирует соединение с партнером.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательный</span></div>
<div class=paragraph style=" padding:0.00pt 111.84pt 0.00pt 28.32pt; text-align:left; text-indent:14.40pt;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов: </b>для атрибута PassiveTcpEstablishment <b>следует </b>установить значение FALSE. <b>Событие 2: ManualStop</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: администратор локальной системы вручную останавливает соединение с партнером.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательный</span></div>
<div class=paragraph style=" padding:0.00pt 167.04pt 0.00pt 28.32pt; text-align:left; text-indent:14.40pt;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов: </b>взаимодействие с дополнительными атрибутами отсутствует. <b>Событие 3: AutomaticStart</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: локальная система автоматически организует соединение BGP.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительный, зависит от локальной системы.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута AllowAutomaticStart <b>следует </b>установить значение, если происходит данное событие;</span></div>
<div class=paragraph style=" padding:1.68pt 56.88pt 0.00pt 70.80pt; text-align:left; text-indent:-14.16pt;"><span class=font13 style=" line-height:9.84pt;">2)&nbsp; &nbsp;если поддерживается дополнительный атрибут сессии PassiveTcpEstablishment, для него <b>следует </b>установить значение FALSE;</span></div>
<div class=paragraph style=" padding:2.16pt 72.96pt 0.00pt 28.32pt; text-align:left; text-indent:28.32pt;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;если поддерживается DampPeerOscillations, <b>следует </b>установить значение FALSE, когда произойдет данное событие. <b>Событие 4: ManualStart_with_PassiveTcpEstablishment</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:30.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt;">
<div class=block style=" width:302.64pt; height:24.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><sup>14</sup>BGP Policy engine</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:153.84pt;">
<div class=block style=" width:153.84pt; height:24.24pt;">
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>18</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:24.24pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:153.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 132.24pt; text-align:justify; text-indent:-60.24pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: локальный администратор вручную инициирует соединение с партнером при включенном режиме PassiveTcpEstablishment; дополнительный сеансовый атрибут PassiveTcpEstablishment показывает, что будут прослушиваться вызовы партнера прежде, чем соединение будет организовано.</span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительный, зависит от локальной системы.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута PassiveTcpEstablishment <b>следует </b>установить значение TRUE, если это событие происходит;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;после завершения события для атрибута DampPeerOscillations <b>следует </b>установить значение FALSE.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 5: AutomaticStart_with_PassiveTcpEstablishment</b></span></div>
<div class=paragraph style=" padding:1.68pt 28.32pt 0.00pt 132.24pt; text-align:justify; text-indent:-61.20pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: локальная система автоматически инициирует соединение BGP при включенном режиме PassiveTcpEstablishment; дополнительный сеансовый атрибут PassiveTcpEstablishment показывает, что будут прослушиваться вызовы партнера прежде, чем соединение будет организовано.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительный, зависит от локальной системы.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута AllowAutomaticStart <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;для атрибута PassiveTcpEstablishment <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;если поддерживается атрибут DampPeerOscillations, для него <b>следует </b>установить значение FALSE.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 6: AutomaticStart_with_DampPeerOscillations</b></span></div>
<div class=paragraph style=" padding:2.16pt 28.56pt 0.00pt 132.24pt; text-align:justify; text-indent:-60.24pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>:локальная система автоматически инициирует соединение BGP при включенном режиме подавления осцилляций; конкретный метод подавления осцилляций определяется реализацией и его рассмотрение выходит за пределы данной спецификации.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительный, зависит от локальной системы.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута AllowAutomaticStart <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;для атрибута DampPeerOscillations <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;для атрибута PassiveTcpEstablishment <b>следует </b>установить значение TRUE.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 7: AutomaticStart_with_DampPeerOscillations_and_PassiveTcpEstablishment</b></span></div>
<div class=paragraph style=" padding:1.92pt 27.84pt 0.00pt 131.28pt; text-align:justify; text-indent:-61.20pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: локальная система автоматически инициирует соединение BGP при включенном режиме подавления осцилляций и PassiveTcpEstablishment; конкретный метод подавления осцилляций определяется реализацией и его рассмотрение выходит за пределы данной спецификации.</span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительный, зависит от локальной системы.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута AllowAutomaticStart <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;для атрибута DampPeerOscillations <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;для атрибута PassiveTcpEstablishment <b>следует </b>установить значение TRUE.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 8: AutomaticStop</b></span></div>
<div class=paragraph style=" padding:1.92pt 28.32pt 0.00pt 131.28pt; text-align:justify; text-indent:-60.24pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: локальная система автоматически останавливает соединение BGP; примером автоматической остановки может служить избыточное число префиксов от данного партнера и автоматический разрыв локальной системой соединения с этим партнером.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительный, зависит от локальной системы.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>Статус дополнительных атрибутов: </b>для атрибута AllowAutomaticStop <b>следует </b>установить значение TRUE.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>8.1.3. События, связанные с таймерами</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 9: ConnectRetryTimer_Expires</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: событие генерируется при завершении отсчета таймера ConnectRetryTimer.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 10: HoldTimer_Expires</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: событие генерируется при завершении отсчета таймера HoldTimer.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 11: KeepaliveTimer_Expires</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: событие генерируется при завершении отсчета таймера KeepaliveTimer.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 12</b>: DelayOpenTimer_Expires</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: событие генерируется при завершении отсчета таймера DelayOpenTimer.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительное.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128); line-height:15.84pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>19&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:738.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов: </b>если произошло данное событие</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута DelayOpen <b>следует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;<b>следует </b>поддерживать атрибут DelayOpenTime;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;<b>следует </b>поддерживать атрибут DelayOpenTimer.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 13</b>: IdleHoldTimer_Expires</span></div>
<div class=paragraph style=" padding:1.92pt 57.12pt 0.00pt 101.04pt; text-align:justify; text-indent:-58.32pt;"><span class=font13 style=" line-height:10.08pt;"><b>Определение</b>: это событие генерируется при завершении отсчета таймера IdleHoldTimer, которое показывает, что для соединения BGP завершился период ожидания (back-off), служащий для предотвращения осцилляции BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 102.00pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Таймер IdleHoldTimer используется только в тех случаях, когда разрешено постоянное использование функции подавления осцилляций путем установки DampPeerOscillations = TRUE.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 102.00pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Реализации, не поддерживающие функцию постоянного подавления осцилляций, могут не поддерживать таймер IdleHoldTimer.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительное.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов: </b>если происходит данное событие:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута DampPeerOscillations <b>слебует </b>установить значение TRUE;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;<b>следует </b>дождаться завершения отсчета таймера IdleHoldTimer.</span></div>
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font2><b><i>8.1.4. События, связанные с соединениями TCP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Событие 14: TcpConnection_Valid</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 102.00pt; text-align:justify; text-indent:-59.28pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: событие, показывающее прием локальной системой запроса на соединение TCP с корректным адресом и номером порта TCP для отправителя и получателя; принятие решение о корректности IP-адресов отправителя и получателя является прерогативой реализации.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 102.00pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В качестве порта получателя BGP <b>следует </b>использовать значение 179, заданное IANA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 102.00pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Запросы на организацию соединений TCP фиксируются локальной системой при получении пакетов TCP SYN.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительное.</span></div>
<div class=paragraph style=" padding:1.92pt 56.88pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><b>Статус дополнительных атрибутов: </b>для атрибута TrackTcpState <b>следует </b>установить значение TRUE, если происходит данное событие.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Событие 15: Tcp_CR_Invalid</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 102.96pt; text-align:justify; text-indent:-59.28pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: событие, показывающее получение локальной системой запроса на организацию соединения TCP с некорректным значением адреса или номера порта для отправителя или получателя.</span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 102.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В качестве порта получателя BGP <b>следует </b>использовать значение 179, заданное IANA.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 102.00pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Запросы на организацию соединений TCP фиксируются локальной системой при получении пакетов TCP SYN.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительное.</span></div>
<div class=paragraph style=" padding:1.92pt 56.88pt 0.00pt 42.24pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;"><b>Статус дополнительных атрибутов: </b>для атрибута TrackTcpState <b>следует </b>установить значение TRUE, если происходит данное событие.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Событие 16: Tcp_CR_Acked</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 102.00pt; text-align:justify; text-indent:-59.28pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: событие, показывающее, что локальная система запросила организацию соединения TCP с удаленным партнером.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 101.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Локальная система передала пакет TCP SYN, приняла отклик TCP SYN/ACK и передала подтверждение TCP ACK.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Событие 17: TcpConnectionConfirmed</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 101.04pt; text-align:justify; text-indent:-58.32pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: событие, показывающее, что локальная система получила от удаленного узла подтверждение организации соединения TCP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 101.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Модуль TCP удаленного партнера передал пакет TCP SYN; локальный модуль передал в ответ SYN, ACK и получил завершающее подтверждение ACK.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Событие 18: TcpConnectionFails</b></span></div>
<div class=paragraph style=" padding:3.84pt 56.88pt 0.00pt 101.04pt; text-align:justify; text-indent:-58.32pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: событие, показывающее, что локальная система получила информацию об отказе при попытке организации соединения TCP.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 101.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Модуль TCP удаленного партнера BGP мог передать пакет FIN, на который локальный узел ответил пакетом FIN-ACK. Другим вариантом является детектирование таймаута для соединения TCP и прекращения попытки организации соединения.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:50.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.44pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>20</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:23.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:800.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>8.1.5. События, связанные с сообщениями BGP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 19: BGPOpen</b></span></div>
<div class=paragraph style=" padding:0.24pt 182.40pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении корректного сообщения OPEN. <b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.48pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1)&nbsp; &nbsp;для атрибута DelayOpen <b>следует </b>установить значение FALSE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.48pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2)&nbsp; &nbsp;таймер DelayOpenTimer <b>следует </b>выключить.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 20: BGPOpen with DelayOpenTimer running</b></span></div>
<div class=paragraph style=" padding:1.92pt 28.56pt 0.00pt 128.88pt; text-align:justify; text-indent:-58.32pt;"><span class=font13 style=" line-height:10.08pt;"><b>Определение</b>: это событие генерируется при получении корректного сообщения OPEN для партнера, который уже имеет организованное транспортное соединение и в настоящее время задерживает передачу сообщения BGP OPEN.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительное.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус дополнительных атрибутов:</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 84.48pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3)&nbsp; &nbsp;для атрибута DelayOpen <b>следует </b>установить значение FALSE;</span></div>
<div class=paragraph style=" padding:0.24pt 329.76pt 0.00pt 56.88pt; text-align:left; text-indent:27.60pt;"><span class=font13 style=" line-height:15.84pt;">4)&nbsp; &nbsp;таймер DelayOpenTimer <b>следует </b>включить. <b>Событие 21: BGPHeaderErr</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.08pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении сообщения BGP с некорректным заголовком.</span></div>
<div class=paragraph style=" padding:0.00pt 400.08pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.24pt 417.36pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 22: BGPOpenMsgErr</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении сообщения OPEN, содержащего ошибки.</span></div>
<div class=paragraph style=" padding:0.24pt 400.08pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.00pt 408.72pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 23: OpenCollisionDump</b></span></div>
<div class=paragraph style=" padding:1.92pt 28.32pt 0.00pt 128.88pt; text-align:justify; text-indent:-58.32pt;"><span class=font13 style=" line-height:9.84pt;"><b>Определение</b>: это событие генерируется административным путем при детектировании конфликта соединений в процесс обработки входящего сообщения OPEN, если данное соединение планируется разорвать; описание детектирования конфликтов приведено в параграфе 6.8.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 129.84pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Событие 23 является административным действием, генерируемым логикой реализации, принимающей решение о сбросе соединения в соответствии с правилами параграфа 6.8. Это событие может происходить, если FSM реализована как две связанных машины состояний.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>дополнительное.</span></div>
<div class=paragraph style=" padding:3.84pt 28.56pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><b>Статус дополнительных атрибутов: </b>если машина состояний обрабатывает это событие из состояния Established, для дополнительного атрибута CollisionDetectEstablishedState <b>следует </b>установить значение TRUE.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Примечание: событие OpenCollisionDump может происходить в состояниях Idle, Connect, Active, OpenSent и OpenConfirm без установки каких-либо дополнительных атрибутов.</span></div>
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 24: NotifMsgVerErr</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении сообщения NOTIFICATION с кодом ошибки несоответствия версий.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 25: NotifMsg</b></span></div>
<div class=paragraph style=" padding:1.92pt 28.56pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;"><b>Определение</b>: это собыытие генерируется при получении сообщения NOTIFICATION с кодом ошибки, отличным от несовпадения версий.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 26</b>: KeepAliveMsg</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении сообщения KEEPALIVE.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Событие 27: UpdateMsg</b></span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении корректного сообщения UPDATE.</span></div>
<div class=paragraph style=" padding:0.00pt 428.88pt 0.00pt 56.88pt; text-align:left; text-indent:14.16pt;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:    </b>Mandatory <b>Событие 28: UpdateMsgErr</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Определение</b>: это событие генерируется при получении некорректного сообщения UPDATE</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Статус:</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span>обязательное.</span></div>
<div class=paragraph style=" padding:6.72pt 398.40pt 0.00pt 56.88pt; text-align:left;"><span class=font2 style=" line-height:19.68pt;"><b>8.2. Описание FSM <i>8.2.1. Определение FSM</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP <b>должен </b>поддерживать отдельную FSM для каждого включенного в конфигурацию партнера. Каждый узел BGP, включенный в потенциальное соединение, будет пытаться связаться с партнером, если для данного узла не задано сохранение состояния Idle или пассивный режим. В последующем обсуждении активная или подключающаяся сторона соединения TCP (та сторона, с</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>21&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:795.84pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">которой был передан первый пакет TCP SYN) называется исходящей (outgoing). Пассивная или ожидающая сторона (отправитель первого пакета SYN/ACK) будет называться входящей. Дополнительные разъяснения терминов “активный” и “пассивный” приведены ниже в параграфе 8.2.1.1.</span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализация BGP <b>должна </b>подключиться к порту TCP с номером 179 и прослушивать его с целью приема входящих вызовов в дополнение к своим попыткам организовать соединение с партнером. Для каждого входящего соединения <b>должен </b>создаваться экземпляр машины состояний. Существует период, в течение которого соединение с партнером на другой стороне уже организовано, но его идентификатор BGP еще не известен. В течение этого периода могут одновременно существовать входящее и исходящее соединение для одной пары партнеров. Такая ситуация называется конфликтом при соединении (см. параграф 6.8).</span></div>
<div class=paragraph style=" padding:6.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализация BGP будет иметь не более одной машины FSM для каждого указанного в конфигурации партнера и одну FSM для каждого входящего соединения TCP, в котором партнер еще не идентифицирован. Каждый экземпляр FSM соответствует одному соединению TCP.</span></div>
<div class=paragraph style=" padding:5.76pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Между парой партнеров может существовать несколько соединений, если в них используются различные пары адресов IP. Такая ситуация называется “множественным партнерством” (multiple &quot;configured peerings&quot;).</span></div>
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font0 style=" line-height:9.84pt;"><b>8.2.1.1.&nbsp;Термины &quot;активный&quot; и &quot;пассивный&quot;</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Термины &quot;активный&quot; и &quot;пассивный&quot; присутствуют в сленге операторов Internet уже почти десятилетие и оказались весьма полезными. Эти термины в контексте соединений TCP или соединений с партнерами имеют специфическое толкование. В любом соединении TCP может быть только одна активная и одна пассивная сторона (в соответствии с приведенным выше определением и описанными ниже состояниями FSM). Когда узел BGP настроен как активный, он может располагаться как на активной, так и на пассивной стороне соединения, которое будет организовано в результате. После завершения процесса организации соединения TCP уже не имеет значения, какая из сторон была активной, а какая пассивной на этапе организации соединения. Единственное различие заключается втом, какая из сторон будет использовать порт TCP с номером 179.</span></div>
<div class=paragraph style=" padding:12.96pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font0 style=" line-height:9.84pt;"><b>8.2.1.2.&nbsp; FSM и детектирование конфликтов</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Существует одна машина FSM на каждое соединение BGP. При возникновении конфликта соединений до того, как будет полностью идентифицирован, может существовать два соединения с одним партнером. После разрешения конфликта (см. параграф 6.8) FSM разорванного соединения <b>следует </b>освободить (отключить).</span></div>
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font0 style=" line-height:9.84pt;"><b>8.2.1.3.&nbsp; FSM и дополнительные атрибуты сессий</b></span></div>
<div class=paragraph style=" padding:0.24pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Дополнительные атрибуты сессий действуют как флаги (TRUE или FALSE) или дополнительные таймеры. Для атрибутов, являющихся флагами, должно поддерживаться соответствующее действие BGP FSM, если для флага может быть установлено значение TRUE. Например, если в реализации BGP могут быть установлены опции AutoStart и PassiveTcpEstablishment, должны поддерживаться События 3, 4 и 5. Если дополнительный атрибут сессии не может иметь значения TRUE, соответствующие события не поддерживаются.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Каждый из дополнительный таймеров (DelayOpenTimer и IdleHoldTimer) имеет группу атрибутов, включающую:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>флаг индикации поддержки;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>значение времени (Time) для таймера;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>Таймер.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Формат дополнительный таймеров показан ниже:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>DelayOpenTimer</b>: DelayOpen, DelayOpenTime, DelayOpenTimer</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.96pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>IdleHoldTimer</b>: DampPeerOscillations, IdleHoldTime, IdleHoldTimer</span></div>
<div class=paragraph style=" padding:3.12pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если флаг индикации поддержки для дополнительного таймера (DelayOpen или DampPeerOscillations) не может иметь значение TRUE, таймеры и события, поддерживающие данную опцию, не поддерживаются.</span></div>
<div class=paragraph style=" padding:12.96pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font0 style=" line-height:10.08pt;"><b>8.2.1.4.&nbsp; Номера событий FSM</b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Номера событий (1-28) используются при описании машины состояний. Реализации могут использовать эти номера для систем сетевого управления. Точная форма FSM или событий FSM зависит от реализации.</span></div>
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font0 style=" line-height:10.08pt;"><b>8.2.1.5.&nbsp;Действия FSM, зависящие от реализации</b></span></div>
<div class=paragraph style=" padding:0.24pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">В некоторых случаях BGP FSM указывает, что будет выполняться инициализация BGP или удаление ресурсов BGP. Инициализация BGP FSM и связанных с машиной ресурсов зависит от связанной с политикой части реализации BGP. Детальное рассмотрение этих действий выходит за пределы описания FSM.</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font2><b><i>8.2.2. Машина конечных состояний</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font13><b>Состояние Idle</b></span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Изначально FSM узла BGP находится в состоянии Idle (далее машина конечных состояний узла BGP будет обозначаться для краткости BGP FSM).</span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">В этом состоянии BGP FSM отвергает все входящие соединения BGP для данного узла. Никаких ресурсов не выделено. В ответ на событие ManualStart (Событие 1) или Automatic Start (Событие 3) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>инициализировать все ресурсы BGP для соединения с партнером;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>запускать таймер ConnectRetryTimer с начальным значением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>инициировать соединение TCP с другим узлом BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 43.20pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>прослушивать соединения, инициированные удаленными узлами BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128); line-height:17.52pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>22</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:795.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Connect.</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 71.76pt; text-align:left;"><span class=font13>События ManualStop (Событие 2) и AutomaticStop (Событие 8) игнорируются в состоянии Idle.</span></div>
<div class=paragraph style=" padding:5.76pt 28.08pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">В ответ на событие ManualStart_with_PassiveTcpEstablishment (Событие 4) или AutomaticStart_with_PassiveTcpEstablishment (Событие 5) локальная система будет:</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>инициализировать все ресурсы BGPж</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>запускать таймер ConnectRetryTimer с начальным значением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; &nbsp;</b>прослушивать соединения, инициированные удаленными узлами BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Active.</span></div>
<div class=paragraph style=" padding:2.88pt 28.80pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Точное значение ConnectRetry Timer определяется локально, но его <b>следует </b>делать достаточно большим для того, чтобы прошла инициализация TCP.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Если атрибут DampPeerOscillations имеет значение TRUE, в состоянии Idle возможны три перечисленных ниже события:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>AutomaticStart_with_DampPeerOscillations (Событие 6),</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>AutomaticStart_with_DampPeerOscillations_and_PassiveTcpEstablishment (Событие 7),</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 71.52pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>IdleHoldTimer_Expires (Событие 13).</span></div>
<div class=paragraph style=" padding:6.72pt 28.56pt 0.00pt 71.52pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Эти  3   события  будут использоваться  локальной  системой  для  предотвращения   осцилляций.   Метод  предотвращения постоянных осцилляций выходит за пределы данного документа.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 71.76pt; text-align:left;"><span class=font13>Любое другое событие (9-12, 15-28) в состоянии Idle не будет приводить к изменению состояния локальной системы.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font13><b>Состояние Connect</b></span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">В этом состоянии BGP FSM ожидает завершения процесса организации соединения TCP. Стартовые события (1, 3-7) игнорируются в состоянии Connect. В ответ на событие ManualStop (Событие 2) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>В ответ на событие ConnectRetryTimer_Expires (Событие 9) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер ConnectRetry Timer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер DelayOpenTimer и сбрасывать его значение в 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>инициировать соединение TCP с другим узлом BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>продолжать прослушивание порта для определения входящих вызовов от других узлов BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сохранять состояние Connect.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;">Если происходит событие DelayOpenTimer_Expires (Событие 12) в состоянии Connect, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать своему партнеру сообщение OPEN;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать большое значение для таймера удержания HoldTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние OpenSent.</span></div>
<div class=paragraph style=" padding:1.92pt 28.08pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Если BGP FSM получает информацию о событии TcpConnection_Valid (Событие 14), обрабатывается соединение TCP и сохраняется состояние Connect.</span></div>
<div class=paragraph style=" padding:6.00pt 29.04pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">При получении BGP FSM информации о событии Tcp_CR_Invalid (Событие 15) локальная система отвергнет соединение TCP и сохранит состояние Connect.</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">При успешной организации соединения TCP (Событие 16 или 17) локальная система будет сначала проверять атрибут DelayOpen. Если этот атрибут имеет значение TRUE, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать начальное значение для таймера DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сохранять состояние Connect.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Если атрибут DelayOpen имеет значение FALSE, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>завершать инициализацию BGP;</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>23</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:794.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать своему партнеру сообщение OPEN;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать большое значение для таймера удержания HoldTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние OpenSent.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>Предлагается использовать для HoldTimer значение 4 минуты.</span></div>
<div class=paragraph style=" padding:5.76pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">При отказе в организации соединения TCP (Событие 18) локальная система проверяет DelayOpenTimer. Если этот таймер запущен, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер ConnectRetryTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер DelayOpenTimer и сбрасывать его значение в 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>продолжать прослушивание порта для определения входящих вызовов от других узлов BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Active.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Если таймер DelayOpenTimer не запущен, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер ConnectRetry Timer;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Если получено сообщение OPEN при запущенном таймере DelayOpenTimer (Событие 20), локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>завершать инициализацию BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать и сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение OPEN;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение KEEPALIVE;</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>если начальное значение таймера HoldTimer отлично от 0</span></div>
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font0>•<span class=font13>&nbsp; &nbsp; &nbsp;запускается таймер KeepaliveTimer с начальным значением;</span></span></div>
<div class=paragraph style=" padding:4.56pt 295.68pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" line-height:16.80pt;">•<span class=font13>&nbsp; &nbsp; &nbsp;таймер HoldTimer сбрасывается в согласованное значение, в противном случае (начальное значение HoldTimer равно 0)</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 58.80pt; text-align:left;"><span class=font0 style=" line-height:16.80pt;">•<span class=font13>&nbsp; &nbsp; &nbsp;сбрасывается таймер KeepaliveTimer;</span></span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 58.80pt; text-align:left;"><span class=font0>•<span class=font13>&nbsp; &nbsp; &nbsp;таймер HoldTimer сбрасывается в 0,</span></span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>система переходит в состояние OpenConfirm.</span></div>
<div class=paragraph style=" padding:6.72pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Если значение поля AS совпадает с номером локальной автономной системы, для соединения устанавливается статус внутреннего, в противном случае соединение считается внешним.</span></div>
<div class=paragraph style=" padding:5.04pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Если обнаружены ошибки при проверке заголовка BGP (Событие 21) или сообщения OPEN (Событие 22) (см. параграф 6.2), локальная система будет:</span></div>
<div class=paragraph style=" padding:6.24pt 56.88pt 0.00pt 56.88pt; text-align:left; text-indent:-14.16pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) если атрибут SendNOTIFICATIONwithoutOPEN имеет значение TRUE, локальная система сначала будет передавать сообщение NOTIFICATION с соответствующим кодом ошибки и после этого будет</span></div>
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations attribute = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">При получении сообщения NOTIFICATION об ошибке верификации (Событие 24), локальная система проверяет таймер DelayOpenTimer. Если этот таймер запущен, локальная система будет:</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать и сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>24&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:797.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>Если таймер DelayOpenTimer не запущен, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetryTimer (если тот включен) и устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>выполнять процедуру подавления осцилляций, если DampPeerOscillations attribute = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;">В ответ на все остальные события (8, 10-11, 13, 19, 23, 25-28) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>если таймер ConnectRetry Timer запущен, - останавливать и сьрасывать его в 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>если таймер DelayOpenTimer, - останавливать и сьрасывать его в 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>выполнять процедуру подавления осцилляций, если DampPeerOscillations attribute = TRUE;</span></div>
<div class=paragraph style=" padding:0.72pt 400.08pt 0.00pt 57.36pt; text-align:left; text-indent:13.68pt;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle. <b>Состояние Active</b></span></div>
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>В этом состоянии BGP FSM пытается приобрести партнеров путем прослушивания и восприятия соединений TCP.</span></div>
<div class=paragraph style=" padding:5.28pt 28.56pt 0.00pt 71.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Стартовые события (1, 3-7) игнорируются в состоянии Active. В ответ на событие ManualStop (Событие 2) локальная система будет:</span></div>
<div class=paragraph style=" padding:6.24pt 28.80pt 0.00pt 85.20pt; text-align:left; text-indent:-14.16pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>при  запущенном  таймере  DelayOpenTimer  и  установленном  атрибуте   SendNOTIFICATIONwithoutOPEN  передавать сообщение NOTIFICATION с кодом ошибки Cease;</span></div>
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP и останавливать таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">В ответ на событие ConnectRetryTimer_Expires (Событие 9) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер ConnectRetry Timer (с начальным значением);</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>инициировать соединение TCP с другим узлом BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>продолжать прослушивание входящих вызовов TCP, которые могут приходить от удаленных узлов BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Connect.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">В ответ на событие DelayOpenTimer_Expires (Событие 12) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать и сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>завершать инициализацию BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать удаленному узлу сообщение OPEN;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать большое значение для таймера удержания;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние OpenSent.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.28pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Для этого перехода предлагается устанавливать значение HoldTimer равным 4 минутам.</span></div>
<div class=paragraph style=" padding:2.40pt 28.80pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">При получении сведений о событии TcpConnection_Valid (Событие 14) локальная система обрабатывает флаги соединения TCP и остается в состоянии Active.</span></div>
<div class=paragraph style=" padding:6.00pt 28.32pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">При получении информации о событии Tcp_CR_Invalid (Событие 15) локальная система отвергнет соединение TCP и сохранит состояние Active.</span></div>
<div class=paragraph style=" padding:5.76pt 28.80pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">При успешной организации соединения TCP (Событие 16 или 17) локальная система будет проверять сначала дополнительный атрибут DelayOpen.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Если DelayOpen = TRUE, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать для таймера DelayOpenTimer начальное значение (DelayOpenTime);</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>25</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:794.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>сохранять состояние Active.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;">Если DelayOpen = FALSE, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>завершать инициализацию BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать удаленному узлу сообщение OPEN;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать большое значение для таймера удержания;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.56pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние OpenSent.</span></div>
<div class=paragraph style=" padding:0.00pt 210.48pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.56pt;">Для этого перехода предлагается устанавливать значение HoldTimer равным 4 минутам. В ответ на событие TcpConnectionFails (Событие 18) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.56pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер ConnectRetry Timer (с начальным значением);</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать и сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно0 выполнять процедуру подавления осцилляций, если атрибут DampPeerOscillations имеет значение TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>Если получено сообщение OPEN и запущен таймер DelayOpenTimer (Событие 20), локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот запущен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать и сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>завершать инициализацию BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение OPEN;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение KEEPALIVE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>если значение HoldTimer отлично от 0</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" line-height:17.76pt;">•<span class=font13>&nbsp; &nbsp; &nbsp;запускать таймер KeepaliveTimer с начальным значением;</span></span></div>
<div class=paragraph style=" padding:0.48pt 305.04pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" line-height:16.80pt;">•<span class=font13>&nbsp; &nbsp; &nbsp;</span><span class=font13>сбрасывать таймер HoldTimer в согласованное значение, </span><span class=font13>если HoldTimer = 0</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font0 style=" line-height:16.80pt;">•<span class=font13>&nbsp; &nbsp; &nbsp;сбрасывать таймер KeepaliveTimer (0);</span></span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font0>•<span class=font13>&nbsp; &nbsp; &nbsp;сбрасывать в 0 таймер HoldTimer;</span></span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние OpenConfirm.</span></div>
<div class=paragraph style=" padding:6.72pt 57.36pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Если в поле AS содержится номер локальной автономной системы, соединение относится к числу внутренних, в противном случае считается внешним.</span></div>
<div class=paragraph style=" padding:5.04pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Если обнаружены ошибки при проверке заголовка BGP (Событие 21) или сообщения OPEN (Событие 22) (см. параграф 6.2), локальная система будет:</span></div>
<div class=paragraph style=" padding:6.24pt 56.88pt 0.00pt 56.88pt; text-align:left; text-indent:-14.16pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) если атрибут SendNOTIFICATIONwithoutOPEN имеет значение TRUE, локальная система сначала будет передавать сообщение NOTIFICATION с соответствующим кодом ошибки и после этого будет</span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations attribute = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 57.12pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">При получении сообщения NOTIFICATION об ошибке верификации (Событие 24), локальная система проверяет таймер DelayOpenTimer. Если этот таймер запущен, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать таймер ConnectRetry Timer (если тот включен) и устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>останавливать и сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>26</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:797.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>Если таймер DelayOpenTimer не запущен, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходиь в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;">В ответ на любое другое событие (8, 10-11, 13, 19, 23, 25-28) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.72pt 400.08pt 0.00pt 57.36pt; text-align:left; text-indent:13.68pt;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle. <b>Состояние OpenSent</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;">В этом состоянии BGP FSM ожидает сообщения OPEN от партнера.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.28pt; text-align:left;"><span class=font13 style=" line-height:16.32pt;">Стартовые события (1, 3-7) игнорируются в состоянии OpenSent.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:16.32pt;">Если событие ManualStop (Событие 2) происходит в состоянии OpenSent, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:16.32pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.72pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>Если происходит событие AutomaticStop (Событие 8) в состоянии OpenSent, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;">В ответ на событие HoldTimer_Expires (Событие 10) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом ошибки Hold Timer Expired;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:6.72pt 28.56pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">События TcpConnection_Valid (Событие 14), Tcp_CR_Acked (Событие 16) или TcpConnectionConfirmed (Событие 17) говорят о том, что может иметь место второе соединение TCP. Это второе сообщение находится под контролем системы обработки конфликтов при соединениях (параграф 6.8), пока не будет принято сообщение OPEN.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 71.28pt; text-align:left;"><span class=font13>Запрос соединений TCP через некорректный порт (Tcp_CR_Invalid - Событие 15)) игнорируются.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>При получении информации о событии TcpConnectionFails (Событие 18) локальная система будет:</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>закрывать соединение BGP;</span></div>
<div class=paragraph style=" padding:13.44pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>27</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:794.88pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер ConnectRetryTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>продолжать прослушивание порта на предмет вызовов от удаленных узлов BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Active.</span></div>
<div class=paragraph style=" padding:2.88pt 56.64pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При получении сообщения OPEN проверяется корректность всех полей этого сообщения. Если сообщение OPEN не содержит ошибок (Событие 19), локальная система будет:</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать в 0 таймер DelayOpenTimer;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать для таймера ConnectRetry Timer значение 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение KEEPALIVE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать значение таймера KeepaliveTimer (см. ниже);</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать для таймера HoldTimer согласованное значение (см. параграф 4.2);</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние OpenConfirm.</span></div>
<div class=paragraph style=" padding:2.88pt 56.88pt 0.00pt 42.48pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если согласованное время удержания равно 0, таймеры HoldTimer и KeepaliveTimer не запускаются. Если значение поля Autonomous System совпадает с номером локальной AS, соединение трактуется как внутреннее, в противном случае относится к числу внешних (это будет оказывать влияние на описанную ниже обработку сообщений UPDATE).</span></div>
<div class=paragraph style=" padding:5.04pt 57.12pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если обнаружены ошибки при проверке заголовка BGP (Событие 21) или сообщения OPEN (Событие 22) (см. параграф 6.2), локальная система будет:</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с соответствующим кодом ошибки и после этого будет;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations attribute = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.16pt 56.88pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">При получении корректного сообщения BGP OPEN (Событие 19 или 20) требуется применять механизм детектирования конфликтов (параграф 6.8). Please refer to Section 6.8 for the details of the comparison. A</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 42.96pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Событие CollisionDetectDump происходит, когда реализация BGP определяет наличие конфликта при соединении (рассмотрение этих механизмов выходит за пределы данного документа).</span></div>
<div class=paragraph style=" padding:5.76pt 57.12pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если в состоянии OpenSent возникает необходимость закрыть соединение, машине состояний передается сигнал OpenCollisionDump (Событие 23). При получении такого события в состоянии OpenSent локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>Если получено сообщение NOTIFICATION с кодом ошибки несоответствия версий (Событие 24), локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">В ответ на любое другой событие (9, 11-13, 20, 25-28) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Finite State Machine Error;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:7.20pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>28</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:796.08pt;">
<div class=paragraph style=" padding:0.00pt 400.08pt 0.00pt 57.36pt; text-align:left; text-indent:12.96pt;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle. <b>Состояние OpenConfirm</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В этом состоянии BGP ожидает приема сообщения KEEPALIVE или NOTIFICATION.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.28pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Любый стартовые события (1, 3-7) игнорируются в состоянии OpenConfirm.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В ответ на событие ManualStop (Событие 2), инициированное оператором, локальная система будет:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>В ответ на событие AutomaticStop, инициированное системой (Событие 8), локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>Если событие HoldTimer_Expires (Событие 10) происходит до получения сообщения KEEPALIVE, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом ошибки Hold Timer Expired,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">Если локальная система получает сигнал KeepaliveTimer_Expires (Событие 11), она будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение KEEPALIVE;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер KeepaliveTimer;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>сохранять состояние OpenConfirmed.</span></div>
<div class=paragraph style=" padding:3.12pt 28.32pt 0.00pt 71.28pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Событие TcpConnection_Valid (Событие 14) или успешная организация соединения TCP (Событие 16 или 17) в состоянии OpenConfirm требуют от локальной системы проверки отсутствия второго соединения (с тем же партнером).</span></div>
<div class=paragraph style=" padding:5.76pt 29.04pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">При попытке организации соединения TCP через некорректный порт (Событие 15) локальная система будет игнорировать вторую попытку организации соединения.</span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Если локальная система получает сигнал TcpConnectionFails (Событие 18) от нижележащего уровня TCP или сообщение NOTIFICATION (Событие 25), она будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 28.80pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Если локальная система получает сообщение NOTIFICATION с кодом ошибки несоответствия версий (NotifMsgVerErr -Событие 24)), она будет:</span></div>
<div class=paragraph style=" padding:6.96pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:11.28pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>29</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:794.64pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:6.72pt 57.12pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если локальная система получает корректное сообщение OPEN (BGPOpen - Событие 19), выполняется процесс детектирования конфликтов, описанный в параграфе 6.8. Если в результате данное соединение будет разрываться, локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP (пакет TCP FIN);</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 56.64pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если получено сообщение OPEN, проверяется корректность всех полей этого сообщения. Если обнаружены ошибки при проверке заголовка BGP (Событие 21) или сообщения OPEN (Событие 22) (см. параграф 6.2), локальная система будет:</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с соответствующим кодом ошибки;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.52pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.16pt 56.64pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если (в процессе обработки другого сообщения OPEN) реализация BGP определяет (способы детектирования выхолят за пределы данного документа), что произошел конфликт при соединении и данное соединение будет закрыто, локальная система будет подавать сигнал OpenCollisionDump Событие (Событие 23). При получении сигнала OpenCollisionDump (Событие 23) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">При получении сообщения KEEPALIVE (KeepAliveMsg - Событие 26) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер HoldTimer;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Established.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;">В ответ на все остальные события (9, 12-13, 20, 27-28) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с соответствующим кодом Finite State Machine Error;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font13 style=" line-height:17.28pt;"><b>Состояние Established</b></span></div>
<div class=paragraph style=" padding:1.44pt 56.88pt 0.00pt 42.72pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В состоянии Established машина BGP FSM может обмениваться сообщениями UPDATE, NOTIFICATION и KEEPALIVE со своим партнером. Любые стартовые события (1, 3-7) игнорируются в состоянии Established.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>В ответ на событие ManualStop (Событие 2), инициированное оператором локальная система будет:</span></div>
<div class=paragraph style=" padding:6.96pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>30</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:796.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryCounter = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>В ответ на событие AutomaticStop (Событие 8) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>удалять все маршруты, связанные с этим соединением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 28.56pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Одной из причин сигнала AutomaticStop может быть получение сообщений UPDATE с числом префиксов, превышающим заданный предел общего числа префиксов. Локальная система будет автоматически разрывать соединение с данным партнером.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>В ответ на событие HoldTimer_Expires (Событие 10) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом ошибки Hold Timer Expired;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations attribute = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>По сигналу KeepaliveTimer_Expires (Событие 11) локальная система будет:</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение KEEP ALIVE;</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер KeepaliveTimer, если согласованное значение HoldTime не равно 0.</span></div>
<div class=paragraph style=" padding:6.72pt 29.04pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Каждый раз при получении локальной системой сообщения KEEPALIVE или UPDATE она заново запускает таймер KeepaliveTimer, если согласованное значение HoldTime не равно 0.</span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сигнал TcpConnection_Valid (Событие 14), принятый для корректного порта, будет инициировать систему отслеживания второго соединения.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13>Некорректные соединения (Tcp_CR_Invalid - Событие 15) будут игнорироваться.</span></div>
<div class=paragraph style=" padding:5.76pt 29.04pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">В ответ на индикацию завершения организации соединения TCP (Событие 16 или 17) <b>нужно </b>отслеживать второе соединение, пока не будет передано сообщение OPEN.</span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При получении корректного сообщения OPEN (BGPOpen - Событие 19) и CollisionDetectEstablishedState = TRUE сообщение OPEN будет проверяться на предмет конфликта (параграф 6.8) с другими соединениями. Если реализация BGP принимает решение о разрыве данного соединения, она будет генерировать сигнал OpenCollisionDump (Событие 23). если соединение нужно разорвать, локальная система будет:</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Cease;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>удалять все маршруты, связанные с соединением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetryCounter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 28.56pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если локальная система получает сообщение NOTIFICATION (Событие 24 или 25) или сигнал TcpConnectionFails (Событие 18) от нижележащего уровня TCP, она будет:</span></div>
<div class=paragraph style=" padding:12.96pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0); letter-spacing:-0.50pt;"><b>31</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:292.56pt;">
<div class=block style=" width:292.56pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.08pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:772.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetryTimer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>удалять все маршруты, связанные с соединением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>При получении сообщения KEEPALIVE (Событие 26) локальная система будет:</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер HoldTimer, если согласованное значение HoldTime не равно 0;</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>сохранять состояние Established.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;">В ответ на сообщение UPDATE (Событие 27) локальная система будет:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>обрабатывать принятое сообщение;</span></div>
<div class=paragraph style=" padding:4.56pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>заново запускать таймер HoldTimer, если согласованное значение HoldTime не равно 0;</span></div>
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>сохранять состояние Established.</span></div>
<div class=paragraph style=" padding:6.72pt 57.60pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Если локальная система получает сообщение UPDATE и процедура контроля ошибок в сообщениях UPDATE (см. параграф 6.3) обнаруживает ошибку (Событие 28), локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Update error;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>удалять все маршруты, связанные с соединением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13>В ответ на все прочие события (9, 12-13, 20-22) локальная система будет:</span></div>
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>передавать сообщение NOTIFICATION с кодом Finite State Machine Error,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>удалять все маршруты, связанные с соединением;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>устанавливать ConnectRetry Timer = 0;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>освобождать все ресурсы BGP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>сбрасывать соединение TCP;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>увеличивать значение ConnectRetry Counter на 1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>(необязательно) выполнять процедуру подавления осцилляций, если DampPeerOscillations = TRUE;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13 style=" line-height:17.76pt;"><b>&#9830;&nbsp; &nbsp; </b>переходить в состояние Idle.</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font4><b><i>9. Обработка сообщений UPDATE</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщение UPDATE может быть получено только в состоянии Established. Получение такого сообщения в любом другом состоянии является ошибкой. При получении сообщения UPDATE проверяется корректность каждого поля в соответствии с параграфом 6.3.</span></div>
<div class=paragraph style=" padding:5.76pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если не удается распознать дополнительные непереходные атрибуты, они просто игнорируются. Если не удается распознать дополнительные переходные атрибуты, устанавливается значение бита Partial=1 в поле флагов атрибута (третий по старшинству бит) и атрибут сохраняется для передачи другим узлам BGP.</span></div>
<div class=paragraph style=" padding:5.04pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если дополнительный атрибут распознан и имеет корректное значение, тогда (в зависимости от типа дополнительного атрибута) этот атрибут обрабатывается локально, сохраняется и обновляются (при необходимости) для возможной передачи другим узлам BGP.</span></div>
<div class=paragraph style=" padding:5.04pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если сообщение UPDATE содержит непустое поле WITHDRAWN ROUTES (отзываемые маршруты), ранее анонсированные маршруты, чьи адресаты указаны префиксами IP в данном поле, удаляются из таблицы Adj-RIB-In. Узлу BGP <b>следует </b>запустить процесс выбора маршрутов (Decision Process), поскольку анонсированные ранее маршруты больше не являются доступными.</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если сообщение UPDATE содержит доступный маршрут, таблицу Adj-RIB-In следует обновить, добавив этот маршрут, как указано здесь: если поле NLRI нового маршрута идентично одному из маршрутов, хранящихся в Adj-RIB-In, новый маршрут <b>нужно </b>поместить взамен имеющегося в Adj-RIB-In (таким образом, неявно отзывая более старый маршрут). В противном случае, если Adj-RIB-In не содержит машрута с идентичным значением NLRI, новый маршрут <b>нужно </b>включить в таблицу Adj-RIB-In.</span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>После того, как узел BGP обновит базу Adj-RIB-In, ему <b>нужно </b>инициировать процесс выбора маршрутов (Decision Process).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>32</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:763.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font2><b>9.1. Процесс выбора маршрутов (Decision Process)</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Процесс выбора маршрутов (Decision Process) обеспечивает выбор маршрутов для последующего анонсирования путем применения правил, заданных в локальной базе правил PIB (Policy Information Base), к маршрутам из базы Adj-RIB-In. Результатом процесса является набор маршрутов, которые будут анонсироваться всем партнерам - эти маршруты хранятся в локальной базе Adj-RIB-Out в соответствии с политикой.</span></div>
<div class=paragraph style=" padding:5.76pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP Decision Process описывается здесь концептуально и не обязательно должен быть реализован в точном соответствии с этим описанием. Если реализация поддерживает описанную функциональность, она будет демонстрировать внешнее поведение, соответствующее данному описанию.</span></div>
<div class=paragraph style=" padding:6.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Процесс выбора формализуется путем определения функций, принимающих атрибуты данного маршрута в качестве аргументов и возвращающих (a) неотрицательное целое число, которое задает уровень предпочтения для данного маршрута, или (b) значение, показывающее, что данный маршрут нежелательно включать в Loc-RIB и он будет исключен рассмотрения на последующих этапах процесса выбора.</span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В функции, вычисляющей уровень предпочтения для данного маршрута, <b>не следует </b>использовать в качестве входных данных перечисленной здесь информации - существование других маршрутов, отсутствие других маршрутов, атрибуты пути для других маршрутов. Процесс выбора маршрутов состоит из независимого определения уровня предпочтения каждого доступного маршрута и последующего выбора одного из маршрутов с максимальным уровнем предпочтения.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Процесс выбора применяется ко всем маршрутам из базы Adj-RIB-In и отвечает за:</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>выбор маршрутов, которые будут использоваться локальным узлом;</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>выбор маршрутов, которые будут анонсироваться партнерам BGP;</span></div>
<div class=paragraph style=" padding:4.32pt 159.60pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:16.80pt;"><b>&#9830;&nbsp; &nbsp; </b>агрегирование (объединение) маршрутов и снижение объема маршрутной информации. Decision Process делится на три фазы, каждая из которых включается определенными событиями:</span></div>
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>a)&nbsp; &nbsp;Фаза 1 отвечает за расчет уровня предпочтения для каждого маршрута, полученного от партнера.</span></div>
<div class=paragraph style=" padding:6.00pt 27.84pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">b)&nbsp; &nbsp;Фаза 2 начинается по завершении фазы 1 и отвечает за выбор лучшего маршрута из числа доступных для каждого адресата, а также включение выбранных маршрутов в Loc-RIB.</span></div>
<div class=paragraph style=" padding:6.00pt 28.32pt 0.00pt 71.04pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">c)&nbsp; &nbsp;Фаза 3 начинается после обновления Loc-RIB и отвечает за распространение маршрутов из Loc-RIB всем партнерам в соответствии с политикой, содержащейся в PIB. На этой фазе также может выполняться объединение маршрутов и снижение объема маршрутной информации.</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font2><b><i>9.1.1.&nbsp;Фаза 1: Расчет предпочтений (Calculation of Degree of Preference)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Фаза 1 активизируется всякий раз, когда локальный узел BGP получает от партнера сообщение UPDATE, анонсирующее новый маршрут, замену или отзыв маршрута.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>Фаза 1 представляет собой отдельный процесс, который завершается после выполнения всех требуемых операций.</span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 57.12pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Функция, используемая в фазе 1, блокирует базу Adj-RIB-In прежде, чем начать работу с содержащимися в ней маршрутами и снимет блокировку по завершении работы со всеми новыми или недоступными маршрутами в этой базе.</span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">При получении нового маршрута или замене доступного маршрута локальный узел BGP определяет уровень предпочтения, как описано ниже:</span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если маршрут получен от внутреннего партнера в качестве уровня предпочтения принимается значение атрибута LOCAL_PREF или локальная система рассчитывает этот уровень на основе заданных конфигурацией параметров политики. Отметим, что последний вариант может приводить к созданию постоянных маршрутных петель.</span></div>
<div class=paragraph style=" padding:6.00pt 28.08pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если маршрут получен от внешнего партнера, локальный узел BGP рассчитывает уровень предпочтения на основе заданных конфигурацией параметров политики. Если полученное значение показывает, что маршрут является неподходящим, этот маршрут <b>может не </b>передаваться на следующий этап процесса выбора, в противном случае возвращенное значение <b>должно </b>использоваться как значение LOCAL_PREF в любом повторном анонсе IBGP.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13>Конкретные правила политики и методы расчета уровня предпочтения задаются локально.</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 57.60pt; text-align:left;"><span class=font2><b><i>9.1.2.&nbsp;Фаза 2: Выбор маршрута (Route Selection)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Фаза 2 выполняется после завершения фазы 1 и представляет собой отдельный процесс, который завершается после выполнения всех необходимых операций. В фазе 2 используются все маршруты из базы Adj-RIBs-In.</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 56.64pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Активизация фазы 2 блокируется, пока не будет завершена работа фазы 3. Функция фазы 2 блокирует целиком базу Adj-RIBs-In перед началом работы и снимает блокировку по завершении расчета.</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если атрибут NEXT_HOP маршрута BGP указывает непреобразуемый адрес<sup>15</sup> или этот адрес не будет преобразовываться после установки маршрута, такой маршрут BGP <b>должен </b>исключаться из обработки в фазе 2.</span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если атрибут AS_PATH маршрута BGP содержит петлю (AS loop), маршрут BGP следует исключить из рассмотрения в фазе 2. Детектирование петель осуществляется путем полного сканирования пути, указанного в атрибуте AS_PATH, и проверки отсутствия в нем номера локальной AS. Обсуждение работы узлов BGP, настроенных на восприятие маршрутов с номером AS этого узла в атрибутах пути, выходит за пределы данного документа.</span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Важно, чтобы узлы BGP внутри AS при выборе маршрутов не принимали конфликтующих решений, которые будут приводить к возникновению петель при пересылке пакетов.</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для каждого набора адресатов, к которому существует доступный маршрут в таблице Adj-RIBs-In, локальный узел BGP идентифицирует маршрут, для которого выполняется одно из перечисленных условий:</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font13>a)   маршрут имеет высший уровень предпочтения из всего набора путей к этому множеству адресатов;</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>15</sup>Локальный узел не имеет маршрута для этого адреса в своей таблице. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>33&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:0.24pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:762.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>b)&nbsp; &nbsp;маршрут является единственным для данного множества адресатов;</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.08pt;">c)&nbsp; &nbsp;маршрут выбран в результате применения в фазе 2 правил &laquo;отбрасывания лишнего&raquo; (tie breaking) описанных в параграфе 9.1.2.2.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">После этого локальному узлу <b>нужно </b>установить маршрут в таблицу Loc-RIB, заменяя любой маршрут к тому же адресату, который в настоящее время хранится в Loc-RIB. После включения нового маршрута BGP в таблицу маршрутизации следует принять меры по удалению из таблицы других маршрутов к тому же адресату. Принятие решения о замене имеющегося в таблице маршрута, полученного не от BGP, на маршрут BGP определяется локальной политикой узла BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Локальный узел <b>должен </b>определить адрес ближайшего маршрутизатора (immediate next-hop) из атрибута NEXT_HOP выбранного маршрута (см. параграф 5.1.3). При смене ближайшего маршрутизатора или стоимости IGP до NEXT_HOP (NEXT_HOP преобразуется через маршрут IGP) выбор маршрута в фазе 2 <b>должен </b>быть проведен заново.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Отметим, что даже в тех случаях, кога маршруты BGP не включаются в таблицу маршрутизации с immediate next-hop, реализация <b>должна </b>принять к тому, чтобы адрес NEXT_HOP был преобразован в адрес подключенного напрямую следующего маршрутизатора<sup>16</sup> до того, как по маршруту BGP будет начата пересылка пакетов, и этот адрес (адреса) использовался при реальной пересылке пакетов.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Маршруты, которые невозможно преобразовать, <b>следует </b>удалить из базы Loc-RIB и таблицы маршрутизации. Однако соответствующие непреобразуемые маршруты <b>следует </b>сохранить в базе Adj-RIBs-In (впоследствии их преобразование может стать возможным).</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font1 style=" line-height:10.08pt;"><b>9.1.2.1.&nbsp;Возможность преобразования маршрута</b></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Как сказано в параграфе 9.1.2, узлам BGP <b>следует </b>исключать непреобразуемые маршруты из рассмотрения в фазе 2. Это позволяет включать в базу Loc-RIB и таблицу маршрутизации только действующие маршруты.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Возможность преобразования маршрута определяется перечисленными ниже условиями:</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:9.84pt;">1)&nbsp; &nbsp;Маршрут Rte1, указанный только промежуточным адресом, рассматривается как преобразуемый, если таблица маршрутизации содержит по крайней мере один маршрут Rte2, который соответствует промежуточному адресу маршрута Rte1 и преобразуется без рекурсии (непосредственно или опосредованно) через Rte1. Пр наличии более одного такого маршрута <b>следует </b>рассматривать только маршрут с максимальным соответствием.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.08pt;">2)&nbsp; &nbsp;Маршруты, указанные интерфейсами (с промежуточным адресом или без него) считаются преобразуемыми, если указанный для маршрута интерфейс активен и для него включена обработка IP.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Маршруты BGP не включают интерфейсов, но могут быть преобразованы в маршруты из таблицы маршрутизации, которые могут относиться к обоим перечисленным выше типам (т. е., задавать или не задавать интерфейс). Предполагается, что маршруты IGP и маршруты в непосредственно подключенные сети задают выходной интерфейс. Статические маршруты могут задавать выходной интерфейс, промежуточный адрес или оба параметра.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Отметим, что маршрут BGP рассматривается как непреобразуемый в ситуации, когда таблица маршрутизации узла BGP не включает маршрута, соответствующего значению NEXT_HOP из маршрута BGP. Взаимно-рекурсивные маршруты (маршруты, преобразующие друг друга или самого себя) также не проходят проверку на возможность преобразования.</span></div>
<div class=paragraph style=" padding:4.32pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Важно также обеспечить исключение доступных маршрутов, которые станут непреобразуемыми после их включения в таблицу маршрутизации даже если значение NEXT_HOP для такого маршрута может быть преобразовано в текущем контексте таблицы маршрутизации (примером могут служить взаимно-рекурсивные маршруты). Эта проверка гарантирует, что узел BGP не включит в свою таблицу маршрутизации маршруты, которые будут удалены и не будут использоваться узлом. Следовательно, в дополнение к стабильности локальной таблицы маршрутизации эта проверка также делает более эффективной работу протокола в сети.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">В тех случаях, когда узел BGP идентифицирует маршрут как непреобразуемый по причине взаиморекурсии, <b>следует </b>записывать сообщение об ошибке в журнальный файл системы.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font1 style=" line-height:9.84pt;"><b>9.1.2.2.&nbsp;“Отбрасывание лишнего” (фаза 2)</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В таблице Adj-RIBs-In узла BGP может храниться несколько маршрутов к одному адресату, имеющих одинаковый уровень предпочтения. Локальный узел может выбрать только один из таких маршрутов для включения в таблицу Loc-RIB. В рассмотрение принимаются все маршруты с одинаковым уровнем предпочтения, полученные как от внутренних, так и от внешних партнеров.</span></div>
<div class=paragraph style=" padding:4.08pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В описанной ниже процедуре предполагается, что для каждого маршрута-кандидата все узлы BGP в автономной системе могут определить стоимость пути (внутренняя дистанция) до адреса, указанного атрибутом NEXT_HOP в данном маршруте, и применяется один алгоритм выбора маршрутов.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Работа алгоритма tie-breaking начинается с рассмотрения всех маршрутов к одному множеству адресатов, имеющих одинаковый уровень предпочтения, и выбором маршрутов, которые будут исключаться из рассмотрения. Работа алгоритма завершается после того, как останется единственный маршрут. Критерии отбора <b>должны </b>применяться в указанном ниже порядке.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Некоторые критерии описаны с использованием псевдокода. Отметим, что выбор псевдокода был продиктован соображениями ясности, а не эффективности. Он не предназначен для конкретной реализации. Реализации протокола BGP <b>могут </b>использовать любой алгоритм, который будет давать такой же результат, как описано здесь.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:9.84pt;">a)&nbsp; &nbsp;Исключаются из рассмотрения все маршруты, с числом номеров AS в атрибуте AS_PATH, большим минимального значения. Отметим, что при расчете этого значения AS_SET учитывается как 1, независимо от количества AS в данном наборе.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>b)&nbsp; &nbsp;Исключаются из рассмотрения все маршруты, для которых значение атрибута Origin превышает минимальное.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:9.84pt;">c)&nbsp; &nbsp;Исключаются из рассмотрения маршруты с менее предпочтительными атрибутами MULTI_EXIT_DISC. Значения MULTI_EXIT_DISC можно сравнивать только для маршрутов, полученных из одной соседней AS (эта AS определяется из атрибута AS_PATH). Маршруты без атрибута MULTI_EXIT_DISC рассматриваются как маршруты с наименьшим возможным значением MULTI_EXIT_DISC.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><sup>16</sup>immediate (directly connected) next-hop address</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>34&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:762.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13>Описанный выше алгоритм можно представить в виде следующей процедуры:</span></div>
<div class=paragraph style=" padding:1.44pt 207.12pt 0.00pt 129.12pt; text-align:left; text-indent:-21.12pt;"><span class=font8 style=" line-height:10.08pt;"><b>for m = число остающихся в рассмотрении маршрутов for n = число остающихся в рассмотрении маршрутов</b></span></div>
<div class=paragraph style=" padding:0.00pt 147.84pt 0.00pt 171.12pt; text-align:left; text-indent:-21.12pt;"><span class=font8 style=" line-height:10.08pt;"><b>if (neighborAS(m) == neighborAS(n)) и (MED(n) &lt; MED(m)) исключить маршрут m из рассмотрения</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">В приведенном выше псевдокоде функция MED(n) возвращает значение атрибута MULTI_EXIT_DISC для маршрута n. Если маршрут n не имеет атрибута MULTI_EXIT_DISC, функция возвращает минимальное из возможных значения MULTI_EXIT_DISC (т. е., 0).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Функция neighborAS(n) возвращает номер соседней AS, из которой был получен маршрут n. Если маршрут получен через IBGP и другой узел IBGP не является исходной точкой этого маршрута, это будет номер соседней AS, из которой другой узел IBGP получил маршрут. Если маршрут получен через IBGP и другой узел IBGP (a) является исходной точкой маршрута или (b) создал маршрут путем агрегирования и атрибут AS_PATH агрегированного маршрута пуст или начинается с AS_SET, это локальная AS.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если атрибут MULTI_EXIT_DISC удаляется до повторного анонсирования маршрута в IBGP, <b>можно </b>провести сравнение с использованием через EBGP полученного атрибута MULTI_EXIT_DISC. Если реализация решает удалить MULTI_EXIT_DISC, тогда дополнительное сравнение MULTI_EXIT_DISC, если оно выполняется, <b>должно </b>учитывать только маршруты, полученные через EBGP. Наилучший маршрут от EBGP можно тогда сравнивать с маршрутами от IBGP после удаления атрибута MULTI_EXIT_DISC. Если атрибут MULTI_EXIT_DISC удаляется из подмножества маршрутов от EBGP и из выбранного “лучшего” маршрута от EBGP не будет удален атрибут MULTI_EXIT_DISC, тогда этот атрибут должен использоваться для сравнения с маршрутами от IBGP. Для полученных через IBGP маршрутов атрибут MULTI_EXIT_DISC <b>должен </b>использоваться при сравнении маршрутов, которые не исключены на предыдущих этапах выбора (Decision Process). Включение атрибута MULTI_EXIT_DISC маршрутов от EBGP в сравнение с маршрутами от IBGP с последующим удалением атрибута MULTI_EXIT_DISC и анонсированием маршрута будет предотвращать возникновение маршрутных петель.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">d)&nbsp; &nbsp;Если хотя бы один из маршрутов-кандидатов получен через EBGP, исключаются из рассмотрения все маршруты, полученные от IBGP.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:9.84pt;">e)&nbsp; &nbsp;Исключаются из рассмотрения все маршруты с наименее предпочтительной внутренней стоимостью (interior cost). Внутренняя стоимость маршрута определяется путем расчета метрики до NEXT_HOP для маршрута с использованием таблицы маршрутизации. Если маршрутизатор NEXT_HOP для этого маршрута доступен, но стоимость пути невозможно определить, этот этап следует пропустить (возможно, рассматривая все маршруты, как равноценные).</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13>Описанный выше алгоритм можно представить псевдокодом.</span></div>
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 118.32pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>for m = число остающихся в рассмотрении маршрутов</b></span></div>
<div class=paragraph style=" padding:0.00pt 196.56pt 0.00pt 160.80pt; text-align:left; text-indent:-21.12pt;"><span class=font8 style=" line-height:10.32pt;"><b>for n = число остающихся в рассмотрении маршрутов if (cost(n) &lt; cost(m))</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 181.92pt; text-align:left;"><span class=font8 style=" line-height:10.32pt;"><b>исключить маршрут m из рассмотрения</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.32pt;">В приведенном псевдокоде функция cost(n) возвращает стоимость пути (внутренняя дистанция) до адреса, указанного в атрибуте NEXT_HOP рассматриваемого маршрута.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:justify; text-indent:-13.92pt;"><span class=font13 style=" line-height:8.64pt;">f)&nbsp; &nbsp; Исключаются из рассмотрения все маршруты, кроме того, который был анонсирован узлом BGP с наименьшим значением BGP Identifier<sup>17</sup>.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>g)&nbsp; &nbsp;Выбирается маршрут, полученный от партнера с наименьшим адресом.</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>9.1.3.&nbsp;Фаза 3: Распространение маршрутов (Route Dissemination)</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Фаза 3 выполняется после завершения операция фазы 2 или по любому из перечисленных ниже событий:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">a)&nbsp; &nbsp;изменение в Loc-RIB маршрутов к локальным адресатам;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">b)&nbsp; &nbsp;изменение локально сгенерированных маршрутов, которые были получены не от BGP;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">c)&nbsp; &nbsp;организация соединения с новым узлом BGP.</span></div>
<div class=paragraph style=" padding:1.92pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Функция фазы 3 представляет собой отдельный процесс, работа которого завершается после выполнения всех требуемых действий. Функция фазы 3 блокируется на время работы функции фазы 2.</span></div>
<div class=paragraph style=" padding:4.08pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Все маршруты базы Loc-RIB обрабатываются для включения в Adj-RIBs-Out согласно заданной конфигурацией политике. Эта политика <b>может </b>исключать маршруты, содержащиеся в Loc-RIB, из числа добавляемых в базу Adj-RIB-Out. Маршрут <b>не следует </b>устанавливать в Adj-Rib-Out, если для адресатов и NEXT_HOP этого маршрута а таблице маршрутизации нет соответствующей записи. Если маршрут из базы Loc-RIB не включается в ту или иную базу Adj-RIB-Out, ранее анонсированный маршрут этой базы Adj-RIB-Out <b>должен </b>быть отозван с помощью сообщения UPDATE (см. параграф 9.2).</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В этой фазе могут дополнительно применяться методы агрегирования маршрутов и снижения объема маршрутных данных (см. параграф 9.2.2.1).</span></div>
<div class=paragraph style=" padding:4.32pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Вопросы локальной политики, которая может приводить к включению маршрутов в базу Adj-RIB-Out без их добавления в таблицу пересылки локального узла BGP выходят за пределы данного документа.</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">После завершения процессов обновления Adj-RIBs-Out и таблицы маршрутизации локальный узел BGP запускает процесс передачи обновлений (Update-Send - параграф 9.2).</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font2><b><i>9.1.4.&nbsp;Перекрывающиеся маршруты</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узел BGP может передавать маршруты с перекрывающимися NLRI другому узлу BGP. Перекрытие NLRI происходит в тех случаях, когда множество адресатов отображается в несоответствующее множество маршрутов. Поскольку BGP представляет NLRI с использованием префиксов IP, перекрытия всегда могут быть выражены как подмножества. Маршрут, описывающий более узкое множество адресатов (более длинный префикс) будем называть более специфичным по сравнению с маршрутом, описывающим более широкое множество адресатов (префикс короче), - такие маршруты будем называть менее специфичными.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>17</sup>RFC 4456 вносит изменение в это правило и добавляет еще одно правило между f) и g). <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>35&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font1 style=" letter-spacing:-0.60pt;"><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:292.56pt;">
<div class=block style=" width:292.56pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.08pt; text-align:left;"><span class=font1 style=" letter-spacing:-0.65pt;"><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:760.80pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font13>Отношения предпочтительности позволяют разделить менее специфичный маршрут на 2 части:</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>&#9830;&nbsp;</b>множество адресатов, описываемое менее специфичным маршрутом, и</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>&#9830;&nbsp;</b>множество адресатов, описываемое перекрытием менее специфичного и более специфичного маршрутов.</span></div>
<div class=paragraph style=" padding:6.72pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Набор адресатов, описываемый перекрытием, представляет часть менее специфичного маршрута, которая доступна, но в настоящее время не используется. Если более специфичный маршрут впоследствии отзывается, описываемые перекрытием адресаты остаются доступными через менее специфичный маршрут.</span></div>
<div class=paragraph style=" padding:5.04pt 56.40pt 0.00pt 28.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если узел BGP получает перекрывающиеся маршруты, процесс выбора маршрутов (Decision Process) <b>должен </b>рассматривать оба маршрута на основе заданной конфигурацией политики восприятия маршрутов. Если приемлемы оба маршрута (менее специфичный и более специфичный), процесс выбора <b>должен </b>установить в Loc-RIB оба маршрута или объединить их и установить в Loc-RIB агрегированный маршрут, что обеспечивается наличием в обоих маршрутах одинакового значения атрибута NEXT_HOP.</span></div>
<div class=paragraph style=" padding:4.80pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если узел BGP выбирает агрегирование маршрутов, ему <b>следует </b>включить все AS, используемые при формировании агрегированного маршрута в AS_SET, или добавить в маршрут атрибут ATOMIC_AGGREGATE. Данный атрибут в настоящее время используется в основном как информационный. По мере избавления от протоколов маршрутизации IP, хостов и маршрутизаторов, не поддерживающих бесклассовую маршрутизацию, необходимость в деагрегировании маршрутов отпадет. Маршруты <b>не следует </b>деагрегировать. В частности, маршруты с атрибутом ATOMC_AGGREGATE деагрегировать <b>недопустимо</b>. Таким образом, значение NLRI такого маршрута не может быть более специфичным. Пересылка по такому маршруту не обеспечивает гарантии, что пакеты IP будут в реальности проходить только через AS, указанные в атрибуте AS_PATH этого маршрута.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font3><b>9.2. Процесс передачи обновлений (Update-Send)</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Процесс передачи обновлений (Update-Send) отвечает за анонсирование сообщений UPDATE всем партнерам. Например, он распространяет маршруты, выбранные Decision Process, другим узлам BGP, которые могут располагаться в той же или соседних AS.</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Когда узел BGP получает сообщение UPDATE от внутреннего партнера, принимающему узлу BGP <b>не нужно </b>заново распространять содержащуюся в сообщении UPDATE информацию другим внутренним узлам (если данный узел не используется как BGP Route Reflector [RFC2796]).</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В фазе 3 процесса выбора маршрутов узел BGP обновляет свою базу Adj-RIBs-Out. Все вновь включенные маршруты и все маршруты, ставшие недоступными (если для них нет замены) <b>следует </b>анонсировать партнерам в сообщениях UPDATE.</span></div>
<div class=paragraph style=" padding:6.00pt 57.36pt 0.00pt 28.56pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узлу BGP <b>не следует </b>анонсировать данный доступный маршрут BGP из своей базы Adj-RIB-Out, если это будет порождать сообщение UPDATE, содержащее такой же маршрут BGP, какой уже был анонсирован.</span></div>
<div class=paragraph style=" padding:6.00pt 57.60pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Все маршруты из базы Loc-RIB, помеченные как недоступные, <b>следует </b>удалять. Изменения в состоянии доступности адресатов внутри своей автономной системы также <b>следует </b>анонсировать в сообщение UPDATE.</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если один маршрут в силу ограничений на размер сообщений UPDATE (см. главу 4) не помещается в сообщение, для узла BGP <b>недопустимо </b>анонсирование этого маршрута; реализация <b>может </b>записывать информацию о таких фактах в системный журнал.</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font3 style=" letter-spacing:-0.75pt;"><b><i>9.2.1.</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;</i></b></span><b><i>Контроль за избыточным трафиком</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Протокол BGP вынужден ограничивать объем служебного трафика (сообщения UPDATE) в целях снижения расхода полосы каналов, требуемой для анонсирования, и ресурсов системы, требуемых на этапе выбора маршрутов (Decision Process) для обработки информации, содержащейся в сообщениях UPDATE.</span></div>
<div class=paragraph style=" padding:11.76pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font1><b>9.2.1.1.&nbsp;Частота анонсирования маршрутов</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Параметр MinRouteAdvertisementInterval определяет минимальное время, которое должно пройти между анонсированием и/или отзывом маршрутов для конкретного адресата от одного узла BGP. Процедура ограничения скорости рассылки применяется независимо для каждого адресата, хотя значение MinRouteAdvertisementInterval устанавливается для узла BGP в целом.</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Два сообщения UPDATE, передаваемые партнеру узлом BGP, с анонсами доступных и/или недоступных маршрутов к некоторому общему набору адресатов должны быть разделены промежутком времени не менее MinRouteAdvertisementInterval. Очевидно, что для достижения этого требуется использовать отдельный таймер для каждого общего набора адресатов. Такой подход будет порождать недопустимую нагрузку (overhead). Для практического применения подходит любой метод, обеспечивающий между двумя последовательными сообщениями UPDATE одному партнеру с анонсом доступных и/или недоступных маршрутов к некому множеству адресатов интервал не менее MinRouteAdvertisementInterval и способный гарантировать постоянное значение верхней границы для такого интервала.</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Поскольку внутри AS требуется быстрое схождение маршрутов, (a) значение MnRouteAdvertisementIntervalTimer, используемое для внутренних партнеров, <b>следует </b>делать меньше значения этого параметра для внешних партнеров или (b) описанную здесь процедуру <b>не следует </b>применять для маршрутов, передаваемых внутренним партнерам.</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.56pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Эта процедура не ограничивает скорость выбора маршрута, внося лишь ограничение на частоту анонсирования. Если новые маршруты были выбраны несколько раз в течение ожидания MnRouteAdvertisementInterval, по завершении этого периода <b>следует </b>анонсировать последний выбранный маршрут.</span></div>
<div class=paragraph style=" padding:12.48pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font1 style=" line-height:10.08pt;"><b>9.2.1.2.&nbsp;Частота обновления из исходной AS</b></span></div>
<div class=paragraph style=" padding:0.48pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Параметр MinASOriginationInterval определяет минимальный интервал времени между последовательными сообщениями UPDATE, которые содержат информацию об изменениях внутри AS анонсирующего узла BGP.</span></div>
<div class=paragraph style=" padding:10.32pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font3 style=" letter-spacing:-0.75pt;"><b><i>9.2.2.</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;</i></b></span><b><i>Эффективная организация маршрутных данных</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Имея маршрутную информацию для анонсирования, узел BGP может воспользоваться несколькими методами эффективной организации маршрутных данных.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:23.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font1 style=" color:rgb(0,0,128); letter-spacing:-0.65pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font1><b>36</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font1 style=" color:rgb(0,0,128); letter-spacing:-0.60pt;"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:797.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font0><b>9.2.2.1.&nbsp;Снижение объема информации</b></span></div>
<div class=paragraph style=" padding:0.24pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Снижение объема информации означает снижение уровня гранулярности контроля над политикой маршрутизации - после сжатия информации одни и те же правила будут применяться ко всем адресатам и путям одного класса.</span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Процесс выбора маршрутов (Decision Process) может дополнительно снижать объем информации, включаемой в базу Adj-RIBs-Out, любым из перечисленных ниже методов.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font13 style=" letter-spacing:-0.50pt;"><b>a)</b><span style=" letter-spacing:0.00pt;"><b>&nbsp; &nbsp;</b></span><span style=" letter-spacing:-0.10pt;"><b>Network Layer Reachability Information (NLRI):</b></span></span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">IP-адреса получателей могут быть представлены как префиксы IP. В тех случаях, когда имеется соответствие между структурой адреса и системами, находящимися под управлением администратора AS, можно уменьшить размер NLRI, передаваемых в сообщениях UPDATE.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>b)&nbsp; &nbsp;<b>AS_PATH</b>:</span></div>
<div class=paragraph style=" padding:6.00pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Информация об AS в пути может быть упорядоченной (AS_SEQUENCE) или неупорядоченной (AS_SET). Вариант AS_SET используется в алгоритме агрегирования маршрутов, описанном в параграфе 9.2.2.2. Это снижает объем данных AS_PATH за счет однократного указания номера каждой AS (независимо от числа ее упоминаний во множестве агрегируемых AS_PATH).</span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 70.56pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">AS_SET означает, что адресаты, указанные в NLRI, могут быть достигнуты по пути, проходящему по крайней мере через некоторые из включенных AS. Группы AS_SET обеспечивают достаточную информацию для предотвращения маршрутных петель, однако при их использовании могут теряться потенциально возможные пути, поскольку они больше не указываются индивидуально в форме AS_SEQUENCE. На практике это обычно не вызывает проблем, поскольку по прибытии одного пакета IP на границу группы AS узел BGP в этой точке явно будет иметь более детальную информацию о пути и сможет различать отдельные маршруты к адресатам.</span></div>
<div class=paragraph style=" padding:12.96pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font0><b>9.2.2.2.&nbsp;Агрегирование маршрутной информации</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Агрегирование представляет собой процесс объединения характеристик нескольких разных маршрутов таким образом, чтобы их можно было анонсировать как единый маршрут. Агрегирование может выполняться как часть процесса принятия выбора маршрутов для снижения объема маршрутных данных, помещаемых в Adj-RIBs-Out.</span></div>
<div class=paragraph style=" padding:5.04pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Агрегирование снижает объем информации, которую узел BGP должен сохранять и рассылать другим узлам BGP. Маршруты можно агрегировать путем применения описанной ниже процедуры раздельно к однотипным атрибутам пути и NLRI.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Маршруты с разными атрибутами MULTI_EXIT_DISC <b>не следует </b>агрегировать.</span></div>
<div class=paragraph style=" padding:5.76pt 28.80pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если агрегированный маршрут имеет AS_SET в качестве первого элемента атрибута AS_PATH, маршрутизатору, от которого исходит маршрут, <b>не следует </b>анонсировать атрибут MULTI_EXIT_DISC с этим маршрутом.</span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Атрибуты пути с различными кодами типа не могут быть агрегированы. Однотипные атрибуты пути могут агрегироваться в соответствии с приведенными ниже правилами:</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>NEXT_HOP</b></span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 70.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">При агрегировании маршрутов с разными атрибутами NEXT_HOP в агрегированном маршруте атрибуту NEXT_HOP <b>нужно </b>сопоставлять интерфейс узла BGP, выполняющего агрегирование.</span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Атрибут ORIGIN</b></span></div>
<div class=paragraph style=" padding:6.00pt 28.32pt 0.00pt 70.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если хотя бы один из агрегируемых маршрутов имеет ORIGIN = INCOMPLETE, для объединенного маршрута также должно устанавливаться ORIGIN = INCOMPLETE. Если хотя бы один из объединяемых маршрутов имеет значение ORIGIN = EGP, агрегированный маршрут также должен иметь значение EGP для этого атрибута. В остальных случаях для агрегированного маршрута устанавливается ORIGIN = IGP.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Атрибут AS_PATH</b></span></div>
<div class=paragraph style=" padding:6.00pt 28.80pt 0.00pt 70.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если агрегируемые маршруты имеют идентичные атрибуты AS_PATH, объединенный маршрут имеет такое же значение AS_PATH.</span></div>
<div class=paragraph style=" padding:6.00pt 28.56pt 0.00pt 70.08pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В целях объединения атрибутов AS_PATH будем моделировать каждую AS в атрибуте AS_PATH как пару &lt;type, value&gt;, где type определяет тип сегмента пути, к которому относится AS (например, AS_SEQUENCE, AS_SET), а value указывает номер AS. Если агрегируемые маршруты имеют разные атрибуты AS_PATH, агрегированному атрибуту AS_PATH <b>нужно </b>удовлетворять каждому из перечисленных ниже требований:</span></div>
<div class=paragraph style=" padding:6.48pt 28.32pt 0.00pt 84.24pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>всем парам типа AS SEQUENCE  агрегированного AS PATH <b>нужно </b>присутствовать в каждом атрибуте AS PATH исходного набора агрегируемых маршрутов;</span></div>
<div class=paragraph style=" padding:5.76pt 28.32pt 0.00pt 84.24pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>всем парам типа AS SET агрегированного AS PATH <b>нужно </b>присутствовать хотя бы в одном атрибуте AS PATH исходного набора (возможно, как AS_SET или AS_SEQUENCE);</span></div>
<div class=paragraph style=" padding:5.28pt 29.28pt 0.00pt 84.24pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>для любой пары X типа AS_SEQUENCE в агрегированном AS_PATH, которая предшествует паре Y агрегированного AS_PATH, X предшествует Y в каждом атрибуте AS_PATH исходного набора, который содержит Y, независимо от типа Y;</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>ни одной паре типа AS_SET <b>не следует </b>появляться в агрегированном AS_PATH более одного раза;</span></div>
<div class=paragraph style=" padding:7.20pt 28.56pt 0.00pt 84.24pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>множество пар типа AS_SEQUENCE с одинаковыми значениями может присутствовать в агрегированном AS_PATH только по-соседству с другой однотипной парой с совпадающим значение.</span></div>
<div class=paragraph style=" padding:5.28pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Разработчики могут выбирать любой алгоритм, который обеспечивает соответствие приведенным правилам. Соответствующей требованиям этого документа реализации <b>следует </b>поддерживать по крайней мере описанный ниже алгоритм для выполнения всех приведенных выше требований:</span></div>
<div class=paragraph style=" padding:6.48pt 28.80pt 0.00pt 84.72pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>определить наиболее длинную последовательность лидирующих пар (как описано выше), присутствующую в атрибутах AS_PATH всех объединяемых маршрутов и сделать ее лидирующей в объединенном атрибуте AS_PATH;</span></div>
<div class=paragraph style=" padding:5.76pt 28.56pt 0.00pt 84.72pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>установить для оставшихся пар из атрибутов AS_PATH объединяемых маршрутов тип AS_SET и присоединить их в конце агрегированного атрибута AS_PATH;</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>37&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:292.56pt;">
<div class=block style=" width:292.56pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.08pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:770.16pt;">
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 56.88pt; text-align:left; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>если объединенный атрибут AS_PATH содержит несколько одинаковых пар (независимо от типа), лишние (все, кроме одной) пары типа AS_SET следует удалить из объединенного атрибута AS_PATH;</span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 56.88pt; text-align:left; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.80pt;"><b>&#9830;&nbsp; &nbsp; </b>для каждых двух смежных пар в агрегированном AS_PATH следует произвести операцию их слияния, если пары имеют одинаковый тип и размер сегмента не будет превышать 255.</span></div>
<div class=paragraph style=" padding:5.52pt 57.12pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">В приложении F (параграф F.6) представлен другой алгоритм, соответствующий условиям и допускающим более сложную конфигурацию политики.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Атрибут ATOMIC_AGGREGATE</b></span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 42.00pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">Если хотя бы один из объединяемых маршрутов имеет атрибут ATOMIC_AGGREGATE, в объединенный маршрут также <b>нужно </b>включать этот атрибут.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Атрибут AGGREGATOR</b></span></div>
<div class=paragraph style=" padding:6.00pt 57.36pt 0.00pt 42.48pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Любые   атрибуты   AGGREGATOR   из   агрегируемых   маршрутов   <b>недопустимо   </b>включать   в   агрегированный   маршрут. Выполняющий агрегирование узел BGP <b>может </b>включить в маршрут новый атрибут AGGREGATOR (см. параграф 5.1.7).</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font4 style=" letter-spacing:-0.90pt;"><b>9.3.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.80pt;"><b>Критерии выбора маршрута</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">В общем случае рассмотрение дополнительных правил сравнения маршрутов выходит за пределы данного документа. Однако имеются два исключения:</span></div>
<div class=paragraph style=" padding:6.72pt 57.12pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.32pt;"><b>&#9830;&nbsp; &nbsp; </b>если локальная AS присутствует в пути нового маршрута, этот маршрут не может считаться лучше какого-либо из имеющихся путей (предполагается, что узел принимает такие маршруты); нарушение этого правила ведет к возникновению маршрутных петель;</span></div>
<div class=paragraph style=" padding:6.72pt 56.64pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.40pt;"><span class=font13 style=" line-height:10.08pt;"><b>&#9830;&nbsp; &nbsp; </b>для обеспечения эффективной распределенной обработки следует выбирать только маршруты, представляющиеся стабильными. Таким образом, AS <b>следует </b>избегать применения нестабильных маршрутов и <b>не следует </b>вносить скороспелых спонтанных изменений при выборе путей. Трактовка слов &laquo;нестабильный&raquo; и &laquo;скороспелый&raquo; в предыдущем предложении требует некоторого опыта, но, в принципе, достаточно понятна. Нестабильные маршруты могут быть “оштрафованы” (например, с использованием прцедур, описанных в документе [RFC2439]).</span></div>
<div class=paragraph style=" padding:11.04pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font4 style=" letter-spacing:-0.90pt;"><b>9.4.</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.80pt;"><b>Порождение маршрутов BGP</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Узел BGP может порождать (originate) маршруты BGP, помещая информацию, полученную из других источников (например, IGP), в BGP. Порождающий маршруты узел BGP указывает для таких маршрутов уровень предпочтения (например, в соответствии с локальной политикой), используя для этого Decision Process (см. параграф 9.1). Эти маршруты <b>могут </b>также рассылаться другим узлам BGP в локальной AS, как часть процесса обновления (см. параграф 9.2). Решение о целесообразности рассылки полученной из других источников информации внутри AS с использованием BGP зависит от используемой в AS среды (например, типа IGP) и его <b>следует </b>задавать на уровне конфигурации.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 30.00pt; text-align:left;"><span class=font4><b><i>10. Таймеры BGP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP поддерживает пять таймеров - ConnectRetryTimer (см. главу 8), HoldTimer (см. параграф 4.2), KeepaliveTimer (см. главу 8), MinASOriginationIntervalTimer (см. параграф 9.2.1.2) и MinRouteAdvertisementIntervalTimer (см. параграф 9.2.1.1).</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;"><b>Могут </b>также поддерживаться два дополнительных таймера - DelayOpenTimer и IdleHoldTimer (см. главу 8). Использование этих таймеров описано в главе 8. Полное описание работы этих дополнительных таймеров выходит за пределы данного документа.</span></div>
<div class=paragraph style=" padding:6.00pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Параметр ConnectRetry Time является обязательным атрибутом FSM и хранит начальное значение для таймера ConnectRetry Timer. Предлагается по умолчанию устанавливать значение ConnectRetry Time равным 120 секундам.</span></div>
<div class=paragraph style=" padding:6.00pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Параметр HoldTime является обязательным атрибутом FSM и сохраняет начальное значение таймера HoldTimer. Предлагается по умолчанию использовать для HoldTime значение 90 секунд.</span></div>
<div class=paragraph style=" padding:6.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">На некоторых этапах (см. главу 8) для HoldTimer устанавливается большое значение. Предлагается в качестве такого значения устанавливать 4 минуты.</span></div>
<div class=paragraph style=" padding:6.00pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Параметр KeepaliveTime является обязательным атрибутом FSM и сохраняет начальное значение таймера KeepaliveTimer. По умолчанию предлагается устанавливать для KeepaliveTime значение 1/3 HoldTime.</span></div>
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Для таймера MinASOriginationIntervalTimer предлагается по умолчанию использовать значение 15 секунд.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Для таймера MinRouteAdvertisementIntervalTimer предлагается устанавливать значение 30 секунд на соединениях EBGP.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Для таймера MinRouteAdvertisementIntervalTimer предлагается устанавливать значение 5 секунд на соединениях IBGP.</span></div>
<div class=paragraph style=" padding:2.88pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализация BGP <b>должна </b>обеспечивать возможность установки значения HoldTimer с помощью конфигурационного параметра для каждого партнера и <b>может </b>обеспечивать возможность выбора значений для других таймеров.</span></div>
<div class=paragraph style=" padding:6.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для снижения вероятности возникновения пиков при распространении сообщений BGP данным узлом <b>следует </b>использовать флуктуации (jitter) для таймеров, связанных с MinASOriginationIntervalTimer, KeepaliveTimer, MinRouteAdvertisementIntervalTimer и ConnectRetry Timer. Данный узел BGP <b>может </b>использовать одинаковые флуктуации для каждого из этих таймеров независимо от адресатов передаваемых обновлений (т. е., флуктуации не требуется делать независимыми для каждого партнера).</span></div>
<div class=paragraph style=" padding:6.00pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Предлагаемую по умолчанию величину флуктуаций <b>следует </b>определять путем умножения базового значения соответствующего таймера на случайное значение из диапазона 0.75 - 1.0. при каждой установке таймера <b>следует </b>выбирать новое случайное значение. Диапазон флуктуаций <b>может </b>быть настраиваемым.</span></div>
<div class=paragraph style=" padding:12.24pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font4><b><i>Приложение A. Сравнение с RFC 1771</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 67.20pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">В настоящем документе имеется множество редакторских правок спецификации [RFC 1771] (слишком много для перечисления). Ниже приводится список технических изменений:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:13.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt;">
<div class=block style=" width:302.40pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.08pt;">
<div class=block style=" width:154.08pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>38</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:763.20pt;">
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Внесены изменения, связанные с использованием TCP MD5 [RFC2385], BGP Route Reflectors [RFC2796], BGP Confederations [RFC3065] и BGP Route Refresh [RFC2918].</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Разъяснено использование поля BGP Identifier в атрибуте AGGREGATOR.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Процедуры задания верхней границы для числа префиксов, которые узел BGP будет принимать от партнера.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Возможность включать более одного экземпляра своей AS в атрибут AS_PATH для управления картиной трафика между AS.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Разъяснены различные типы NEXT_HOP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Разъяснено использование атрибута ATOMIC_AGGREGATE.</span></div>
<div class=paragraph style=" padding:2.16pt 28.56pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Соотношения между ближайшим маршрутизатором (immediate next hop) и следующим маршрутизатором, указанным атрибутом пути NEXT_HOP.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Разъяснены процедуры “отбрасывания лишнего” (tie-breaking).</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Разъяснены требования по частоте анонсирования маршрутов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Отменено использование дополнительного параметра типа 1 (Authentication Information).</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Отменен субкод 7 (AS Routing Loop) для ошибок в сообщениях UPDATE .</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Отменен субкод (Authentication Failure) для ошибок в сообщениях OPEN .</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Отменено использование поля Marker для аутентификации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Реализация <b>должна </b>поддерживать механизм TCP MD5 [RFC2385] для аутентификации.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Разъяснена работа BGP FSM.</span></div>
<div class=paragraph style=" padding:7.44pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font4><b><i>Приложение B. Сравнение с RFC 1267</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Все изменения, перечисленные в Приложении A, а также приведенные ниже изменения.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 71.76pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP-4 может работать в среде, где множество доступных адресатов может указываться с помощью одного префикса IP. Концепция классов сетей или подсетей чужеродна для BGP-4. Для поддержки работы с префиксами в BGP-4 изменена семантика и кодирование, связанное с атрибутом AS_PATH. В спецификацию добавлено определение семантики, связанное с префиксами IP. Такое расширение позволяет BGP-4 поддерживать предложенную схему supernet [RFC1518, RFC1519].</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.76pt; text-align:left;"><span class=font13>Для упрощения настройки вводится новый атрибут LOCAL_PREF, упрощающий процедуру выбора маршрута.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 71.76pt; text-align:left;"><span class=font13>Атрибут INTER_AS_METRIC переименован в MULTI_EXIT_DISC.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 71.76pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Добавлен новый атрибут ATOMIC_AGGREGATE для управления возможностью деагрегирования маршрутов. Другой новый атрибут – AGGREGATOR – может добавляться в агрегированные маршруты, чтобы указать, какая AS и какой узел BGP в этой AS вызвали агрегирование.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 71.76pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для обеспечения симметрии значение Hold Time согласуется на уровне соединений. Поддерживаются нулевые значения Hold Time.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font4><b><i>Приложение C. Сравнение с RFC 1163</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Все изменения, перечисленные в Приложениях A и B, а также приведенные ниже изменения.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 71.76pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для обнаружения конфликтов при соединениях BGP и восстановления работы протокола добавлено новое поле BGP Identifier в сообщения OPEN. Для описания процедур детектирования и разрешения конфликтов при соединениях в документ добавлен новый параграф (6.8).</span></div>
<div class=paragraph style=" padding:4.32pt 28.56pt 0.00pt 71.76pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Снято ограничение, требовавшее чтобы граничный маршрутизатор, указанный атрибутом пути NEXT_HOP, относился к той же AS, в которой находится узел BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 71.76pt; text-align:left;"><span class=font13>В новом документе оптимизировано и упрощено описание процедур обмена информацией о ранее доступных маршрутах.</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font4><b><i>Приложение D. Сравнение с RFC 1105</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Все изменения, перечисленные в Приложениях A, B и C, а также приведенные ниже изменения.</span></div>
<div class=paragraph style=" padding:4.32pt 28.08pt 0.00pt 71.04pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Потребовалось внесение незначительных изменений в машину конечных состояний RFC1105 для согласования с пользовательским интерфейсом TCP в системах BSD версии 4.3.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 70.80pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Понятия и соотношения Up/Down/Horizontal, присутствующие в RFC1105, были исключены из протокола.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Внесен ряд изменений в формат сообщений RFC1105:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">1.&nbsp; &nbsp;Поле Hold Time было удалено из заголовка BGP и включено в сообщение OPEN.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">2.&nbsp; &nbsp;Поле номера версии было удалено из заголовка BGP и включено в сообщение OPEN.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">3.&nbsp; &nbsp;Из сообщений OPEN было удалено поле Link Type.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">4.&nbsp; &nbsp;Вместо подтверждений OPEN CONFIRM используются сообщения KEEPALIVE.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">5.&nbsp; &nbsp;Существенно изменен формат сообщений UPDATE, добавлены новые поля для поддержки множества атрибутов пути.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.04pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">6.&nbsp; &nbsp;Поле Marker было расширено и стало использоваться также для аутентификации.</span></div>
<div class=paragraph style=" padding:2.16pt 28.08pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">Отметим, что достаточно часто протокол BGP, соответствующий RFC 1105, называют BGP-1, соответствующий RFC 1163 - BGP-2, а соответствующий RFC 1267 - BGP-3. Вариант BGP, описанный в этом документе, называют BGP-4.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:23.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:72.96pt;">
<div class=block style=" width:72.96pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>39</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 114.72pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt;">
<div class=block style=" width:456.48pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:795.12pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font3><b><i>Приложение E. Опции TCP, которые могут использоваться с BGP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если пользовательский интерфейс TCP в локальной системе поддерживает функцию TCP PUSH, каждое сообщение BGP <b>следует </b>передавать с установленным флагом PUSH. Установка флага приводит к ускорению передачи сообщений BGP.</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Если пользовательский интерфейс TCP в локальной системе поддерживает установку поля DSCP [RFC2474] для соединений TCP, транспортные соединения для BGP <b>следует </b>открывать с битами 0-2 поля DSCP, имеющими двоичное значение 110.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Реализация <b>должна </b>поддерживать опцию TCP MD5 [RFC2385].</span></div>
<div class=paragraph style=" padding:13.20pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font3><b><i>Приложение F. Рекомендации для разработчиков</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>В этом приложении даются некоторые рекомендации разработчикам.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font3><b>Приложение F.1. Множество префиксов сетей в одном сообщении</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Протокол BGP позволяет указывать в одном сообщении множество адресных префиксов с одинаковыми атрибутами пути. Настоятельно рекомендуется использовать эту возможность. Передача сообщений с единственным префиксом существенно повышает нагрузку на получателя. В результате передачи множества сообщений не только растет нагрузка на системы, но и издержки при сканировании таблиц маршрутизации для передачи обновлений партнерам BGP и другим протоколам маршрутизации (увеличивается и объем передаваемых обновлений).</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Одним из способов создания сообщений с множеством префиксов для каждого набора атрибутов пути из таблицы маршрутизации, не организованной по наборам атрибутов, является создание множества сообщений при сканировании таблицы. При обработке каждого префикса создается сообщение для связанного набора атрибутов пути, если оно не существует и в это сообщение добавляется новый префикс. Если сообщение уже создано, новый префикс просто добавляется в конец этого сообщения. Если в сообщение уже нельзя добавить новый префикс по соображениям размера, имеющееся сообщение передается, а для префикса создается новое сообщение. После завершения сканирования всей таблицы маршрутов созданные сообщения передаются и выделенные для них ресурсы освобождаются. Максимальное сжатие при таком методе обеспечивается в тех случаях, когда все адресаты перекрываются адресными префиксами с одним набором атрибутов пути. В этом случае сообщение может содержать столько префиксов, сколько позволяет ограничение на размер сообщений (4096 октетов).</span></div>
<div class=paragraph style=" padding:5.76pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">При работе с реализациями BGP, которые не поддерживают множества префиксов в одном сообщении, может потребоваться выполнение ряда операций для снижения нагрузки в результате лавинной рассылки данных, полученных при обретении нового партнера или существенном изменении сетевой топологии. Одним из способов такого снижения является ограничение частоты передачи обновлений. Это позволяет избавиться от избыточного сканирования таблиц для &laquo;мгновенного&raquo; обновления узлов BGP и других протоколов маршрутизации. Недостатком этого способа является увеличение задержек при распространении маршрутной информации. Выбор минимального интервала обновлений, который незначительно превышает время обработки множества сообщений, позволяет минимизировать эту задержку. Наилучшим решением будет просмотр всех полученных сообщений до передачи обновлений.</span></div>
<div class=paragraph style=" padding:12.24pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font3><b>Приложение F.2. Снижение числа переключений маршрутов</b></span></div>
<div class=paragraph style=" padding:0.00pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Во избежание ненужных переключений маршрутов (route flapping) узлу BGP, которому нужно отозвать адресата и передать обновление с более (или менее) специфичным маршрутом, следует объединять анонсы в одно сообщение UPDATE.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font3><b>Приложение F.3. Упорядочивание атрибутов пути</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализации, комбинирующие обновления (как описано в параграфе 6.1), могут предпочесть просмотр всех атрибутов пути, представленных в определенном порядке. Такой подход позволяет быстро идентифицировать наборы атрибутов из разных обновлений, которые идентичны семантически. Для реализации такого подхода полезно упорядочивать атрибуты в соответствии с кодом типа. Такая оптимизация не является обязательной.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font3><b>Приложение F.4. Сортировка AS_SET</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.56pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Другим полезным способом оптимизации является упорядочивание по номерам AS, найденным в атрибуте AS_SET. Такая оптимизация не является обязательной.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font3><b>Приложение F.5. Контроль за согласованием версий</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Поскольку протокол BGP-4 может передавать агрегированные маршруты, которые не могут быть корректно представлены в BGP-3, реализациям, поддерживающим BGP-4 и иные версии BGP, следует обеспечивать возможность работы только с BGP-4 независимо для каждого партнера.</span></div>
<div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 29.28pt; text-align:left;"><span class=font3><b>Приложение F.6. Комплексное агрегирование AS_PATH</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">Реализация, обеспечивающая механизм агрегирования маршрутов с сохранением значительного количества данных о пути, может использовать описанную ниже процедуру.</span></div>
<div class=paragraph style=" padding:5.76pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Для объединения атрибутов AS_PATH двух маршрутов будем представлять каждую AS как пару &lt;type, value&gt;, где type указывает тип сегмента пути, к которому принадлежит AS (например, AS SEQUENCE, AS SET), а value задает номер AS. Если две пары &lt;type, value&gt; совпадают, они относятся к одной AS.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 28.08pt; text-align:left;"><span class=font13>Алгоритм объединения двух атрибутов AS_PATH работает следующим образом:</span></div>
<div class=paragraph style=" padding:5.76pt 57.12pt 0.00pt 42.72pt; text-align:justify; text-indent:-14.16pt;"><span class=font13 style=" line-height:9.84pt;">a)&nbsp; &nbsp;Идентифицируется совпадение AS (как описано выше) в каждом атрибуте AS_PATH, которые находятся в том же относительном порядке для каждого атрибута AS_PATH. Две AS (X и Y) следуют в одинаковом порядке, если выполняется любое из приведенных ниже условий:</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>X предшествует Y в обоих атрибутах AS_PATH;</span></div>
<div class=paragraph style=" padding:7.68pt 0.00pt 0.00pt 42.72pt; text-align:left;"><span class=font13><b>&#9830;&nbsp; &nbsp; </b>Y предшествует X в обоих атрибутах AS_PATH.</span></div>
<div class=paragraph style=" padding:6.72pt 56.64pt 0.00pt 42.48pt; text-align:justify; text-indent:-14.16pt;"><span class=font13 style=" line-height:10.08pt;">b)&nbsp; &nbsp;Агрегированный атрибут AS_PATH состоит из AS, найденных на этапе (a) и представленных в том же порядке, который был обнаружен в объединяемых атрибутах AS_PATH. Если две последовательные AS, найденные на этапе (a), не следуют одна за</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:456.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:121.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:134.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:120.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.72pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:102.00pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 70.80pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">другой непосредственно в каждом из объединяемых атрибутов AS_PATH, мешающие AS (AS, расположенные между двумя последовательно совпадающими AS) в обоих атрибутах объединяются в сегмент пути AS_SET, который содержит мешающие AS из обоих атрибутов AS_PATH. Этот сегмент пути помещается в агрегированном атрибуте между двумя последовательными AS, идентифицированными в пункте (a).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 70.80pt; text-align:left; text-indent:-13.92pt;"><span class=font13 style=" line-height:10.08pt;">c)  Для каждых двух смежных пар в агрегированном AS_PATH (если они имеют одинаковый тип) выполняется слияние, если оно не будет приводить к генерации сегмента размером более 255.</span></div>
<div class=paragraph style=" padding:4.08pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Если в результате применения описанной выше процедуры данный номер AS появляется в агрегированном атрибуте AS_PATH более одного раза, все вхождения этого номера, кроме последнего (самый правый) следует удалить из агрегированного атрибута PATH.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:479.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font4><b><i>Вопросы безопасности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Реализация BGP <b>должна </b>поддерживать механизм аутентификации, определенный в RFC 2385 [RFC2385]. Аутентификация на основе этого механизма может осуществляться независимо для каждого хоста.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">BGP использует протокол TCP для организации надежного обмена трафиком между маршрутизаторами-партнерами. Для обеспечения целостности соединений и аутентификации источников данных для соединений между парами узлов спецификация BGP задает использование механизма, определенного в RFC 2385. Этот механизм предназначен для детектирования и предотвращения активного перехвата (wiretapping attacks) данных из соединений TCP между маршрутизаторами. В отсутствие такого рода механизмов обеспечения безопасности атакующие могут разрывать соединения TCP и/или маскироваться под легитимные партнерские маршрутизаторы. Поскольку определенный в RFC механизм не обеспечивает аутентификацию партнеров, протокольные соединения могут служить объектом некоторых атак с повторным использованием перехваченных ранее данных (replay attack), которые не будут детектироваться уровнем TCP. Такие атаки могут приводить к доставке (от уровня TCP) “испорченных” или “подмененных” сообщений BGP.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Механизм, определенный в RFC 2385 добавляет к обычным контрольным суммвм TCP 16-байтовый код аутентификации сообщения (MAC<sup>18</sup>) который рассчитывается на основе тех же данных, что и контрольная сумма TCP. Расчет MAC основан на использовании необратимой хэш-функции (MD5) и закрытых ключей. Ключ известен паре маршрутизаторов-партнеров и используется для генерации значений MAC, которые не могут быть вычислены атакующим без знания ключа. Соответствующие спецификации реализации протокола должны поддерживать этот механизм т позволять администратору активизировать его использование независимо для каждого партнера.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">RFC 2385 не задает механизмов поддержки ключей (например, их генерация, распространение и замена), используемых для расчета MAC. Документ RFC 3562 [RFC3562] (он имеет статус информационного) содержит некоторые рекомендации в этом направлении с обоснованием этих рекомендаций. В документе отмечается, что следует использовать разные ключи для связи с каждым защищенным партнером. Если один ключ используется для множества партнеров, это может привести к снижению уровня безопасности (например, за счет того, что при компрметации одного маршрутизатора становятся известными ключи, используемые для других маршрутизаторов).</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Используемые для расчета MAC ключи следует периодически заменять для минимизации влияния компрометации ключа или успешной криптоаналитической атаки. В RFC 3562 предлагается устанавливать крипто-период (срок действия ключа) не более 90 дней. Более частая смена ключей снижает вероятность успеха атак с повторным использованием перехваченных данных. Однако отсутствие стандартного механизма эффективной координированной замены ключа, используемого парой маршрутизаторов не позволяет надеяться, что реализации BGP-4, соответствующие данной спецификации, будут поддерживать такую частоту смены ключей.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Очевидно, что ключи следует выбирать так, чтобы атакующему было сложно угадать или подобрать ключ. Описанные в RFC 1750 методы генерации случайных чисел обеспечивают руководство по созданию значений, которые могут использоваться в качестве ключей. RFC 2385 предлагает разработчикам использовать ключи, представляющие собой строки печатных символов ASCII размером 80 байтов или меньше. В RFC 3562 предлагается в таком контексте использовать ключи размером от 12 до 24, состоящие из случайных (псевдослучайных) битов. Это полностью совместимо с предложениями для аналогичных алгоритмов MAC, которые обычно используют ключи размером от 16 до 20 байтов. В части обеспечения достаточного уровня случайности при использовании ключей минимальной длины в RFC 3562 также отмечается,что типичная срока текста ACSII будет близка к верхней границе диапазона длины ключей, заданного в RFC 2385.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>Анализ уязвимостей протокола BGP приводится в документе [RFC4272].</span></div>
<div class=paragraph style=" padding:9.36pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font4><b><i>Согласование с IANA</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 29.04pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.60pt;">Все сообщения BGP содержат 8-битовые идентификаторы типа сообщения, для которых агентство IANA создало и поддерживает “Реестр типов сообщений BGP<sup>19</sup>”. В данном документе определены следующие типы сообщений:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:256.56pt;">
<div class=block style=" width:199.92pt; height:80.40pt; padding:0.00pt 0.00pt 0.00pt 56.64pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:199.92pt; height:80.40pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt;">
<div class=block style=" width:72.48pt; height:16.80pt;">
<div class=paragraph style=" padding:3.12pt 1.92pt 0.00pt 0.00pt; text-align:center;"><span class=font13><b><i>Имя</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.72pt;">
<div class=block style=" width:48.72pt; height:16.80pt;">
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 1.20pt; text-align:center;"><span class=font13><b><i>Значение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.72pt;">
<div class=block style=" width:78.72pt; height:16.80pt;">
<div class=paragraph style=" padding:3.12pt 0.00pt 0.00pt 1.44pt; text-align:center;"><span class=font13><b><i>Определение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt;">
<div class=block style=" width:72.48pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>OPEN</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.72pt;">
<div class=block style=" width:48.72pt; height:15.60pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 2.16pt; text-align:center;"><span class=font13>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.72pt;">
<div class=block style=" width:78.72pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.40pt; text-align:center;"><span class=font13>См. параграф 4.2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt;">
<div class=block style=" width:72.48pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>UPDATE</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.72pt;">
<div class=block style=" width:48.72pt; height:15.60pt;">
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 1.68pt; text-align:center;"><span class=font13>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.72pt;">
<div class=block style=" width:78.72pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.40pt; text-align:center;"><span class=font13>См. параграф 4.3.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt;">
<div class=block style=" width:72.48pt; height:15.36pt;">
<div class=paragraph style=" padding:1.68pt 3.84pt 0.00pt 0.00pt; text-align:center;"><span class=font13>NOTIFICATION</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.72pt;">
<div class=block style=" width:48.72pt; height:15.36pt;">
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 2.16pt; text-align:center;"><span class=font13>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.72pt;">
<div class=block style=" width:78.72pt; height:15.36pt;">
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 2.40pt; text-align:center;"><span class=font13>См. параграф 4.5.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt;">
<div class=block style=" width:72.48pt; height:17.04pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>KEEPALIVE</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:48.72pt;">
<div class=block style=" width:48.72pt; height:17.04pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 1.68pt; text-align:center;"><span class=font13>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.72pt;">
<div class=block style=" width:78.72pt; height:17.04pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.40pt; text-align:center;"><span class=font13>См. параграф 4.4.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:72.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:338.40pt;">
<div class=block style=" width:338.40pt; height:80.40pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:65.04pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Выделение новых значений для типов сообщений происходит на основе процесса стандартизации (Standards Action), определенного в [RFC2434], или путем “Заблаговременного выделения агентством IANA<sup>20</sup>”, как описано в [RFC4020]. Типы сообщений задаются именем и числовым идентификатором.</span></div>
<div class=paragraph style=" padding:4.08pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщения BGP UPDATE могут содержать один или множество атрибутов пути (Path Attribute), каждый из которых включает 8-битовый код типа (Attribute Type Code). Агентство IANA уже поддерживает реестр таких кодов, названный &quot;BGP Path Attributes<sup>21</sup>&quot;. В этом документе определяются следующие типы атрибутов пути (Path Attributes Type Code):</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.80pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:41.52pt;">
<div class=paragraph style=" padding:0.00pt 429.60pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.60pt;"><sup>18</sup>message authentication code <sup>19</sup>BGP Message Types <sup>20</sup>Early IANA Allocation <sup>21</sup>Атрибуты путей BGP.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:121.92pt;">
<div class=block style=" width:121.92pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:473.04pt;">
<div class=block style=" width:473.04pt; height:12.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:121.92pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:134.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:120.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:80.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:302.16pt;">
<div class=block style="position:relative; z-index:2; width:302.16pt; height:12.72pt;"> 
        <div class=block style="float:left; width:1px; height:12.24pt; clear:left;"><span style="line-height:0pt;"></span></div>
        <div class=block style="float:left; width:184.32pt; height:0.48pt; clear:left;"><span style="line-height:0pt;"></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b><u>Разумные 
          сети от компании BiLiM Systems</u></b></span></div>
      </div>
</td>
<td class=cell colspan="2" valign="top" style=" width:292.80pt;">
<div class=block style=" width:292.80pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.32pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style="position:relative; z-index:2; width:594.96pt; height:27.60pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 199.68pt; text-align:left;"><span class=font13><b><i>Определение</i></b></span></div>
        <div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 186.72pt; text-align:left;"><span class=font13>См. 
          параграф 5.1.1.</span></div>
      </div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style="position:relative; z-index:2; width:594.96pt; height:42.96pt;"> 
        <div class=paragraph style=" padding:0.00pt 333.84pt 0.00pt 186.72pt; text-align:justify;"><span class=font13 style=" line-height:15.36pt;">См. 
          параграф 5.1.2. См. параграф 5.1.3. См. параграф 5.1.4.</span></div>
      </div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style="position:relative; z-index:1; width:594.96pt; height:101.28pt;"> 
        <div class=block style="float:left; width:184.32pt; height:1.92pt; clear:left;"><span style="line-height:0pt;"></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">LOCAL_PREF<span class=font0>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; </span>5<span class=font0>&nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; </span>См. параграф 5.1.5.</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">ATOMIC_AGGREGATE<span class=font0>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>6<span class=font0>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; </span>См. параграф 5.1.6.</span></div>
        <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">AGGREGATOR<span class=font0>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp;</span>7<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          </span>См. параграф 5.1.7.</span></div>
        <div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Выделение 
          новых значений для кодов атрибутов пути происходит на основе процесса 
          стандартизации (Standards Action), определенного в [RFC2434], или путем 
          “Заблаговременного выделения агентством IANA”, как описано в [RFC4020]. 
          Типы атрибутов задаются именем и числовым идентификатором.</span></div>
        <div class=paragraph style=" padding:4.32pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщения 
          BGP NOTIFICATION содержат 8-битовые значения кода ошибки (Error Code), 
          для которых агентство IANA создало и поддерживает реестр &quot;BGP Error 
          Codes<sup>22</sup>&quot;. В этом документе определены следующие коды 
          ошибок:</span></div>
        <div class=block style=" width:156.00pt; height:82.56pt; position:absolute; left:28.32pt; top:-80.64pt; z-index:-1;"> 
          <img src="4271-1.jpg" alt="" style=" width:156.00pt; height:82.56pt;"></div>
      </div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.20pt;">
<div class=block style=" width:91.20pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 71.28pt; text-align:left;"><span class=font13><b><i>Имя</i></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:108.00pt;">
<div class=block style=" width:108.00pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 48.24pt; text-align:left;"><span class=font13><b><i>Значение</i></b></span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:395.76pt;">
<div class=block style=" width:395.76pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 0.48pt; text-align:left;"><span class=font13><b><i>Определение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:176.88pt;">
<div class=block style=" width:176.88pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Message Header Error<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">OPEN Message Error<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>2</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">UPDATE Message Error<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>3</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Hold Timer Expired<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>4</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:418.08pt;">
<div class=block style=" width:418.08pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 340.56pt 0.00pt 9.84pt; text-align:justify;"><span class=font13 style=" line-height:15.36pt;">См. параграф 6.1. См. параграф 6.2. См. параграф 6.3. См. параграф 6.5.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:176.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13>Finite State Machine Error<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>5<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>См. параграф 6.6.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13>Cease<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>6<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>См. параграф 6.7.</span></div>
<div class=paragraph style=" padding:0.96pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Выделение новых значений для кодов ошибок происходит на основе процесса стандартизации (Standards Action), определенного в [RFC2434], или путем “Заблаговременного выделения агентством IANA”, как описано в [RFC4020]. Коды ошибок задаются именем и числовым идентификатором.</span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Сообщения BGP NOTIFICATION содержат 8-битовые значения субкода ошибки (Error Subcode) и каждое значение субкода определяется в контексте соответствующего кода ошибки (Error Code) и, таким образом, является уникальным только в этом контексте.</span></div>
<div class=paragraph style=" padding:4.08pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Агентство IANA создало и поддерживает набор реестров &quot;Error Subcodes&quot;, в котором для каждого кода ошибки BGP имеется отдельный реестр. Выделение новых значений для субкодов ошибок происходит на основе процесса стандартизации (Standards Action), определенного в [RFC2434], или путем “Заблаговременного выделения агентством IANA”, как описано в [RFC4020]. Субкоды ошибок задаются именем и числовым идентификатором.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>В этом документе определяются следующие субкоды для ошибок в заголовках сообщений (Message Header Error):</span></div>
<div class=paragraph style=" padding:6.96pt 0.00pt 0.00pt 78.96pt; text-align:left;"><span class=font13><b><i>Имя</i></b><span class=font0><b><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</i></b></span><b><i>Значение       Определение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:176.88pt;">
<div class=block style=" width:176.88pt; height:42.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Connection Not Synchronized<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Bad Message Length<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>2</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Bad Message Type<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>3</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:418.08pt;">
<div class=block style=" width:418.08pt; height:42.72pt;">
<div class=paragraph style=" padding:0.00pt 328.08pt 0.00pt 22.32pt; text-align:justify;"><span class=font13 style=" line-height:15.36pt;">См. параграф 6.1. См. параграф 6.1. См. параграф 6.1.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.96pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>В этом документе определяются следующие субкоды для ошибок в сообщениях OPEN (OPEN Message Error):</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:259.68pt; height:90.24pt; padding:0.00pt 305.76pt 0.00pt 29.52pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:259.68pt; height:90.24pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:86.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt;">
<div class=block style=" width:126.96pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font13><b><i>Имя</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:12.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.64pt; text-align:center;"><span class=font13><b><i>Значение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:86.88pt;">
<div class=block style=" width:86.88pt; height:12.48pt;">
<div class=paragraph style=" text-align:center;"><span class=font13><b><i>Определение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt;">
<div class=block style=" width:126.96pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font13>Unsupported Version Number</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:15.60pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font13>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:86.88pt;">
<div class=block style=" width:86.88pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13>См. параграф 6.2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt;">
<div class=block style=" width:126.96pt; height:15.36pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font13>Bad Peer AS</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:15.36pt;">
<div class=paragraph style=" padding:2.64pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font13>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:86.88pt;">
<div class=block style=" width:86.88pt; height:15.36pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13>См. параграф 6.2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt;">
<div class=block style=" width:126.96pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font13>Bad BGP Identifier</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:15.60pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font13>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:86.88pt;">
<div class=block style=" width:86.88pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13>См. параграф 6.2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt;">
<div class=block style=" width:126.96pt; height:15.84pt;">
<div class=paragraph style=" padding:1.92pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font13>Unsupported Optional Parameter</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:15.84pt;">
<div class=paragraph style=" padding:2.88pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font13>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:86.88pt;">
<div class=block style=" width:86.88pt; height:15.84pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font13>См. параграф 6.2.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt;">
<div class=block style=" width:126.96pt; height:15.36pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 1.68pt; text-align:left;"><span class=font13>[отменено]</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:15.36pt;">
<div class=paragraph style=" padding:2.40pt 0.00pt 0.00pt 3.12pt; text-align:center;"><span class=font13>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:86.88pt;">
<div class=block style=" width:86.88pt; height:15.36pt;">
<div class=paragraph style=" padding:1.44pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font13>См. Приложение A.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:86.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.48pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13>Unacceptable Hold Time<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>6<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>См. параграф 6.2.</span></div>
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>В этом документе определяются следующие субкоды для ошибок в сообщениях UPDATE (UPDATE Message Error):</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:6.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:139.44pt;">
<div class=block style=" width:139.44pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 91.20pt; text-align:left;"><span class=font13><b><i>Имя</i></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:82.32pt;">
<div class=block style=" width:82.32pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 37.44pt; text-align:left;"><span class=font13><b><i>Значение</i></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:373.20pt;">
<div class=block style=" width:373.20pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.48pt; text-align:left;"><span class=font13><b><i>Определение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:199.20pt;">
<div class=block style=" width:199.20pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Malformed Attribute List<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>1</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Unrecognized Well-known Attribute<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>2</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Missing Well-known Attribute<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span>3</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Attribute Flags Error<span class=font0>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>4</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:395.76pt;">
<div class=block style=" width:395.76pt; height:58.32pt;">
<div class=paragraph style=" padding:0.00pt 305.52pt 0.00pt 22.56pt; text-align:justify;"><span class=font13 style=" line-height:15.36pt;">См. параграф 6.3. См. параграф 6.3. См. параграф 6.3. См. параграф 6.3.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:199.20pt;">
<div class=block style=" width:199.20pt; height:42.96pt;">
<div class=paragraph style=" padding:0.00pt 73.92pt 0.00pt 31.20pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">Attribute Length Error Invalid ORIGIN Attribute [отменено]</span></div>
</div>
</td>
<td class=cell colspan="4" valign="top" style=" width:395.76pt;">
<div class=block style=" width:395.76pt; height:42.96pt;">
<div class=paragraph style=" padding:13.92pt 296.88pt 0.00pt 22.56pt; text-align:left;"><span class=font13 style=" line-height:15.36pt;">См. параграф 6.3. См. Приложение A.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:22.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:221.76pt;">
<div class=block style=" width:221.76pt; height:24.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><sup>22</sup>Коды ошибок BGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:234.72pt;">
<div class=block style=" width:234.72pt; height:24.24pt;">
<div class=paragraph style=" padding:12.72pt 0.00pt 0.00pt 80.40pt; text-align:left;"><span class=font0><b>42</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:24.24pt;">
<div class=paragraph style=" padding:11.52pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:91.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:48.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:37.44pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:22.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:80.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt;">
<div class=block style=" width:376.80pt; height:12.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:218.16pt;">
<div class=block style=" width:218.16pt; height:12.24pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:513.12pt; height:77.76pt; padding:0.00pt 25.20pt 0.00pt 56.64pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:513.12pt; height:77.76pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:239.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt;">
<div class=block style=" width:130.08pt; height:15.84pt;">
<div class=paragraph style=" padding:1.68pt 49.44pt 0.00pt 0.00pt; text-align:right;"><span class=font13><b><i>Имя</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:15.84pt;">
<div class=paragraph style=" padding:1.68pt 10.08pt 0.00pt 0.00pt; text-align:right;"><span class=font13><b><i>Значение</i></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:317.76pt;">
<div class=block style=" width:317.76pt; height:15.84pt;">
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 10.56pt; text-align:left;"><span class=font13><b><i>Определение</i></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt;">
<div class=block style=" width:130.08pt; height:15.12pt;">
<div class=paragraph style=" padding:1.68pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>Invalid NEXT_HOP Attribute</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:15.12pt;">
<div class=paragraph style=" padding:2.40pt 26.16pt 0.00pt 0.00pt; text-align:right;"><span class=font13>8</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:15.12pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:239.76pt;">
<div class=block style=" width:239.76pt; height:15.12pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt;">
<div class=block style=" width:130.08pt; height:15.60pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>Optional Attribute Error</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:15.60pt;">
<div class=paragraph style=" padding:2.88pt 26.16pt 0.00pt 0.00pt; text-align:right;"><span class=font13>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:15.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:239.76pt;">
<div class=block style=" width:239.76pt; height:15.60pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt;">
<div class=block style=" width:130.08pt; height:15.36pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>Invalid Network Field</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:15.36pt;">
<div class=paragraph style=" padding:2.64pt 24.00pt 0.00pt 0.00pt; text-align:right;"><span class=font13>10</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:15.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:239.76pt;">
<div class=block style=" width:239.76pt; height:15.36pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt;">
<div class=block style=" width:130.08pt; height:15.84pt;">
<div class=paragraph style=" padding:1.92pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font13>Malformed AS_PATH</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:65.28pt;">
<div class=block style=" width:65.28pt; height:15.84pt;">
<div class=paragraph style=" padding:2.88pt 24.72pt 0.00pt 0.00pt; text-align:right;"><span class=font13>11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:78.00pt;">
<div class=block style=" width:78.00pt; height:15.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:239.76pt;">
<div class=block style=" width:239.76pt; height:15.84pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:130.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:65.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:78.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:239.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:657.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4><b><i>Нормативные документы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC791] Postel, J., &quot;Internet Protocol&quot;, STD 5, RFC 791<sup>23</sup>, September 1981.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC793] Postel, J., &quot;Transmission Control Protocol&quot;, STD 7, RFC 793<sup>23</sup>, September 1981.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC2119] Bradner, S., &quot;Key words for use in RFCs to Indicate Requirement Levels&quot;, BCP 14, RFC 2119<sup>23</sup>, March 1997.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC2385] Heffernan, A., &quot;Protection of BGP Sessions via the TCP MD5 Signature Option&quot;, RFC 2385<sup>23</sup>, August 1998.</span></div>
<div class=paragraph style=" padding:2.40pt 29.28pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">[RFC2434] Narten, T. and H. Alvestrand, &quot;Guidelines for Writing an IANA Considerations Section in RFCs&quot;, BCP 26, RFC 2434, October 1998.</span></div>
<div class=paragraph style=" padding:9.60pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4><b><i>Дополнительная литература</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC904] Mills, D., &quot;Exterior Gateway Protocol formal specification&quot;, RFC 904, April 1984.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1092] Rekhter, J., &quot;EGP and policy based routing in the new NSFNET backbone&quot;, RFC 1092, February 1989.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1093] Braun, H., &quot;NSFNET routing architecture&quot;, RFC 1093, February 1989.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1105] Lougheed, K. and Y. Rekhter, &quot;Border Gateway Protocol (BGP)&quot;, RFC 1105, June 1989.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1163] Lougheed, K. and Y. Rekhter, &quot;Border Gateway Protocol (BGP)&quot;, RFC 1163, June 1990.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1267] Lougheed, K. and Y. Rekhter, &quot;Border Gateway Protocol 3 (BGP-3)&quot;, RFC 1267, October 1991.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1771] Rekhter, Y. and T. Li, &quot;A Border Gateway Protocol 4 (BGP-4)&quot;, RFC 1771<sup>23</sup>, March 1995.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1772] Rekhter, Y. and P. Gross, &quot;Application of the Border Gateway Protocol in the Internet&quot;, RFC 1772<sup>23</sup>, March 1995.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC1518] Rekhter, Y. and T. Li, &quot;An Architecture for IP Address Allocation with CIDR&quot;, RFC 1518<sup>23</sup>, September 1993.</span></div>
<div class=paragraph style=" padding:1.92pt 28.80pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">[RFC1519] Fuller, V., Li, T., Yu, J., and K. Varadhan, &quot;Classless Inter-Domain Routing (CIDR): an Address Assignment and Aggregation Strategy&quot;, RFC 1519<sup>23</sup>, September 1993.</span></div>
<div class=paragraph style=" padding:4.08pt 28.32pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.12pt;">[RFC1930] Hawkinson, J. and T. Bates, &quot;Guidelines for creation, selection, and registration of an Autonomous System (AS)&quot;, BCP 6, RFC 1930<sup>23</sup>, March 1996.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>[RFC1997] Chandra, R., Traina, P., and T. Li, &quot;BGP Communities Attribute&quot;, RFC 1997<sup>23</sup>, August 1996.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>[RFC2439] Villamizar, C., Chandra, R., and R. Govindan, &quot;BGP Route Flap Damping&quot;, RFC 2439, November 1998.</span></div>
<div class=paragraph style=" padding:4.08pt 28.80pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">[RFC2474] Nichols, K., Blake, S., Baker, F., and D. Black, &quot;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers&quot;, RFC 2474, December 1998.</span></div>
<div class=paragraph style=" padding:2.16pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC2796] Bates, T., Chandra, R., and E. Chen, &quot;BGP Route Reflection - An Alternative to Full Mesh IBGP&quot;, RFC 2796<sup>23</sup>, April 2000.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC2858] Bates, T., Rekhter, Y., Chandra, R., and D. Katz, &quot;Multiprotocol Extensions for BGP-4&quot;, RFC 2858<sup>23</sup>, June 2000.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC3392] Chandra, R. and J. Scudder, &quot;Capabilities Advertisement with BGP-4&quot;, RFC 3392<sup>23</sup>, November 2002.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC2918] Chen, E., &quot;Route Refresh Capability for BGP-4&quot;, RFC 2918<sup>23</sup>, September 2000.</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC3065] Traina, P., McPherson, D., and J. Scudder, &quot;Autonomous System Confederations for BGP&quot;, RFC 3065<sup>23</sup>, February 2001.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">[RFC3562] Leech, M., &quot;Key Management Considerations for the TCP MD5 Signature Option&quot;, RFC 3562<sup>23</sup>, July 2003.</span></div>
<div class=paragraph style=" padding:2.40pt 28.08pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:10.08pt;">[IS10747] &quot;Information Processing Systems - Telecommunications and Information Exchange between Systems - Protocol for Exchange of Inter-domain Routeing Information among Intermediate Systems to Support Forwarding of ISO 8473 PDUs&quot;, ISO/IEC IS10747, 1993.</span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>[RFC4272] Murphy, S., &quot;BGP Security Vulnerabilities Analysis&quot;, RFC 4272<sup>23</sup>, January 2006</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13>[RFC4020] Kompella, K. and A. Zinin, &quot;Early IANA Allocation of Standards Track Code Points&quot;, BCP 100, RFC 4020<sup>23</sup>, February 2005.</span></div>
<div class=paragraph style=" padding:18.24pt 462.24pt 0.00pt 56.88pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Адреса редакторов Yakov Rekhter</b></span></div>
<div class=paragraph style=" padding:0.24pt 434.64pt 0.00pt 63.60pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">Juniper Networks EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:yakov@juniper.net"><u>yakov@juniper.net</u></a></span></span></div>
<div class=paragraph style=" padding:17.76pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><b>Tony Li</b></span></div>
<div class=paragraph style=" padding:4.32pt 0.00pt 0.00pt 63.60pt; text-align:left;"><span class=font13>EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:tony.li@tony.li"><u>tony.li@tony.li</u></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:35.76pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:24.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font13><sup>23</sup>На сайте <span style=" color:rgb(0,0,128);"><a href="index.html"><u>http://rfc.com.ru</u></a></span><span style=" color:rgb(0,0,255);"> </span>имеется перевод этого документа на русский язык. <i>Прим. перев.</i></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>43&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:376.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:218.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:164.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:301.92pt;">
<div class=block style=" width:301.92pt; height:12.48pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:293.04pt;">
<div class=block style=" width:293.04pt; height:104.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 154.56pt; text-align:left;"><span class=font0><b><u>Перевод RFC 4271</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:91.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;"><b>Susan Hares</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 35.28pt; text-align:left;"><span class=font13 style=" line-height:15.84pt;">NextHop Technologies, Inc. 825 Victors Way Ann Arbor, MI 48108 Phone: (734)222-1610 EMail: <span style=" color:rgb(0,0,128);"><a href="mailto:skh@nexthop.com"><u>skh@nexthop.com</u></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:164.16pt;">
<div class=block style=" width:164.16pt; height:91.68pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:13.68pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:325.92pt;">
<div class=paragraph style=" padding:0.00pt 467.52pt 0.00pt 35.28pt; text-align:left; text-indent:-6.96pt;"><span class=font13 style=" line-height:9.84pt;"><b><i>Перевод на русский язык </i>Николай Малых</b></span></div>
<div class=paragraph style=" padding:0.00pt 483.60pt 0.00pt 35.28pt; text-align:left;"><span class=font13 style=" line-height:9.84pt;">BiLiM Systems <span style=" color:rgb(0,0,128);"><a href="mailto:nmalykh@bilim.com"><u>nmalykh@bilim.com</u></a></span><span style=" color:rgb(0,0,255);"><u> </u></span>тел. (812) 4490770</span></div>
<div class=paragraph style=" padding:9.12pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Полное заявление авторских прав</b></span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Copyright (C) The Internet Society (2006).</b></span></div>
<div class=paragraph style=" padding:4.08pt 57.12pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.</span></div>
<div class=paragraph style=" padding:4.32pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">This document and the information contained herein are provided on an &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Интеллектуальная собственность</b></span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.</span></div>
<div class=paragraph style=" padding:4.08pt 56.88pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:9.84pt;">Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at <span style=" color:rgb(0,0,128);"><a href="http://www.ietf.org/ipr"><u>http://www.ietf.org/ipr</u></a></span>.</span></div>
<div class=paragraph style=" padding:4.32pt 57.36pt 0.00pt 28.32pt; text-align:justify;"><span class=font13 style=" line-height:10.08pt;">The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at <span style=" color:rgb(0,0,128);"><a href="mailto:ietf-ipr@ietf.org"><u>ietf-ipr@ietf.org</u></a></span>.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13><b>Подтверждение</b></span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font13>Финансирование функций RFC Editor обеспечено IETF Administrative Support Activity (IASA).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:354.72pt;">
        <div class=paragraph><a href='http://rupornovideo.org/789-Zrelaya-suchka-zastavila-parnya-lizat-pizdu.html'>порно смотреть бесплатно заставила лизать</a> | <a href='http://www.pussycat-girls.ru/'>посмотри у них на сайте</a> бляди спб
<script>
var siteid=10204;
var cats='0';
var adult='0';
document.write('<scr'+'ipt type="text/jav'+'ascript" src="/click'+'under2.js"></scr'+'ipt>');
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10568897-4");
pageTracker._trackPageview();
} catch(err) {}</script></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:14.40pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:318.72pt;">
<div class=block style=" width:318.72pt; height:14.40pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 164.16pt; text-align:left;"><span class=font0><b>44</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:138.48pt;">
<div class=block style=" width:138.48pt; height:14.40pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 3.84pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:20.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:164.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:138.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</body>
</html>

