<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251">

<meta name="author" content="Ќиколай Њалых">
<meta name="description" content="">
<meta name="keywords" content="">

<title>Перевод RFC 2453</title>
<style type="text/css">
 table.main {}
 tr.row {}
 td.cell {}
 div.block {}
 div.paragraph {}
 .font0 { font:9.00pt "Arial", sans-serif; }
 .font1 { font:10.00pt "Arial", sans-serif; }
 .font2 { font:11.00pt "Arial", sans-serif; }
 .font3 { font:12.00pt "Arial", sans-serif; }
 .font4 { font:13.00pt "Arial", sans-serif; }
 .font5 { font:14.00pt "Arial", sans-serif; }
 .font6 { font:15.00pt "Arial", sans-serif; }
 .font7 { font:16.00pt "Arial", sans-serif; }
 .font8 { font:24.00pt "Arial", sans-serif; }
 .font9 { font:7.20pt "Courier New", monospace; }
 .font10 { font:10.00pt "Courier New", monospace; }
 .font11 { font:11.00pt "Courier New", monospace; }
 .font12 { font:12.00pt "Courier New", monospace; }
 .font13 { font:13.00pt "Courier New", monospace; }
 .font14 { font:7.20pt "Times New Roman", serif; }
 .font15 { font:8.00pt "Times New Roman", serif; }
 .font16 { font:9.00pt "Times New Roman", serif; }
 .font17 { font:10.00pt "Times New Roman", serif; }
 .font18 { font:12.60pt "Times New Roman", serif; }
 .font19 { font:13.00pt "Times New Roman", serif; }
</style>
</head>

<body>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:64.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:221.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:142.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.44pt;">
        <div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:64.56pt;">
<div class=block style=" width:64.56pt; height:33.36pt;">
</div>
</td>
<td class=cell colspan="6" valign="top" style=" width:499.20pt;">
<div class=block style=" width:499.20pt; height:33.36pt;">
        <div class=paragraph style=" text-align:left;"><span class=font8></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:31.20pt;">
<div class=block style=" width:31.20pt; height:33.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.00pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 62.64pt; text-align:left;"><span class=font1><b> 
          </b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:11.04pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:323.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font11 style=" line-height:10.80pt;"><b>Network Working Group</b><span class=font2><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>G. Malkin</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font11 style=" line-height:10.80pt;"><b>Request for Comments: 2453</b><span class=font2><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><b>Bay Networks</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font11 style=" line-height:10.80pt;"><b>Obsoletes: 1723, 1388</b><span class=font2><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>November 1998</b></span></div>
<div class=paragraph style=" padding:0.00pt 373.44pt 0.00pt 56.64pt; text-align:left;"><span class=font11 style=" line-height:10.80pt;"><b>STD: 56 Category: Standards Track</b></span></div>
<div class=paragraph style=" padding:7.92pt 397.44pt 0.00pt 56.64pt; text-align:left;"><span class=font7 style=" line-height:22.56pt;"><b>RIP Version 2 </b><span class=font5><b><i>Статус документа</i></b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Этот документ содержит спецификации протокола для сообщества Internet и служит запросом для предложений и дальнейшего обсуждения в целях развития стандарта. Информацию о текущем статусе документа можно найти в Internet Official Protocol Standards (<span style=" color:rgb(0,0,128);"><a href="http://ftp.isi.edu/in-notes/std/std1.txt"><u>STD 1</u></a></span>). Документ может распространяться свободно.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font5><b><i>Авторские права</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17>Copyright (C) The Internet Society (1998). All Rights Reserved.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font5><b><i>Тезисы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Этот документ содержит расширение протокола RIP (Routing Information Protocol), описанного в работе [1], – новый вариант протокола позволяет передавать больше информации в сообщениях RIP и повышает уровень безопасности. Дополнением к данному документу является определение объектов SNMP MIB для протокола RIP-2 [2]. Кроме того, в работе [3] рассмотрены вопросы криптографической защиты для протокола RIP-2 [3].</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font5><b><i>Благодарности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Автор благодарит членов рабочей группы IETF RIP за помощь в разработке протокола RIP-2. Значительные фрагменты обсуждения протоколов на базе вектора расстояния и некоторых других вопросов работы протокола RIP были заимствованы из работы [1] (C. Hedrick). Некоторые части окончательного варианта документа были написаны Скоттом Брэднером (Scott Bradner).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font12 style=" line-height:10.32pt;"><b>Ог</b><a href="rfc2453.htm#bookmark0"><b>лавление</b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:341.52pt;">
<div class=block style=" width:341.52pt; height:33.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark0">Статус документа ................................................................ 1</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark0">Авторские права .................................................................. 1</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark0">Тезисы .................................................................................. 1</a></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:9.12pt;">
<div class=block style=" width:9.12pt; height:40.08pt;">
<div class=paragraph style=" padding:31.92pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font16>4.</span></div>
</div>
</td>
<td class=cell colspan="3" rowspan="2" valign="top" style=" width:244.32pt;">
<div class=block style=" width:244.32pt; height:40.08pt;">
<div class=paragraph style=" padding:0.00pt 31.68pt 0.00pt 14.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark1">3.10.1&nbsp;Обновления по событию - Triggered Updates .................................................................................. 13</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 14.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark1">3.10.2&nbsp; Генерация откликов .................................... 13</a></span></div>
<div class=paragraph style=" text-align:left;"><span class=font16 style=" line-height:10.32pt;">Р<a href="rfc2453.htm#bookmark1">асширения протокола .................................................. 13</a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:341.52pt;">
<div class=block style=" width:341.52pt; height:6.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 68.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark0">Благодарности ..................................................................... 1</a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:1.20pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="4" valign="top" style=" width:68.64pt;">
<div class=block style=" width:68.64pt; height:198.24pt;">
</div>
</td>
<td class=cell rowspan="4" valign="top" style=" width:221.76pt;">
<div class=block style=" width:221.76pt; height:198.24pt;">
<div class=paragraph style=" text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark0">1.&nbsp; Обоснование ................................................................... 1</a></span></div>
<div class=paragraph style=" text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark2">2.&nbsp;Текущий вариант RIP ...................................................... 1</a></span></div>
<div class=paragraph style=" text-align:left;"><span class=font16 style=" line-height:10.32pt;">3.&nbsp; <a href="rfc2453.htm#bookmark2">Базовый протокол ........................................................... 2</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark2">3.1&nbsp;Введение ................................................................... 2</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark3">3.2&nbsp;Ограничения протокола ........................................... 2</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark3">3.3. Структура документа .............................................. 3</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;">3.4<a href="rfc2453.htm#bookmark4">&nbsp;Алгоритмы Distance Vector ..................................... 3</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark5">3.4.1&nbsp;Работа с изменениями топологии ................... 5</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark6">3.4.2&nbsp;Предотвращение нестабильности ................... 6</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark6">3.4.3&nbsp;Split horizon – расщепление горизонта ........... 7</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark7">3.4.4&nbsp; Обновления по событию - Triggered updates 7</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark8">3.5&nbsp;Спецификация протокола ........................................ 8</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark8">3.6&nbsp;Формат сообщения ................................................... 9</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark9">3.7&nbsp;Адресация ................................................................. 9</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark10">3.8&nbsp;Таймеры .................................................................. 10</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;">3.9<a href="rfc2453.htm#bookmark10">&nbsp;Обработка входящей информации ....................... 11</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark10">3.9.1&nbsp;Запросы ........................................................... 11</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 24.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark11">3.9.2&nbsp;Отклики .......................................................... 11</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 12.00pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;">3.10&nbsp;Обработка исходящей информации ................... 12</span></div>
</div>
</td>
<td class=cell colspan="5" valign="top" style=" width:304.56pt;">
<div class=block style=" width:304.56pt; height:1.44pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:60.24pt;">
<div class=block style=" width:60.24pt; height:71.04pt;">
<div class=paragraph style=" padding:61.44pt 0.00pt 0.00pt 51.60pt; text-align:left;"><span class=font16>5.</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:244.32pt;">
<div class=block style=" width:244.32pt; height:63.36pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark12">4.1&nbsp;Аутентификация ..................................................... 13</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark12">4.2&nbsp;Тег маршрута .......................................................... 14</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark12">4.3&nbsp;Маска подсети ........................................................ 14</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark12">4.4&nbsp;Следующий маршрутизатор .................................. 14</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark12">4.5&nbsp;Групповая адресация .............................................. 14</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 2.88pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark12">4.6&nbsp;Запросы ................................................................... 14</a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:244.32pt;">
<div class=block style=" width:244.32pt; height:7.68pt;">
<div class=paragraph style=" text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">Совместимость ............................................................... 14</a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:304.56pt;">
<div class=block style=" width:304.56pt; height:125.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">5.1&nbsp;Ключ совместимости (Compatibility Switch) ........ 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">5.2&nbsp;Аутентификация ..................................................... 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">5.3&nbsp;Увеличение &laquo;бесконечности&raquo; ............................... 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">5.4&nbsp;Безадресные соединения ........................................ 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">6.&nbsp;Взаимодействие между версиями 1 и 2 ....................... 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark13">7.&nbsp;Вопросы безопасности .................................................. 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark14">Приложение A .................................................................... 15</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark14">Литература ......................................................................... 16</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a href="rfc2453.htm#bookmark14">Адрес автора ...................................................................... 16</a></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.12pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;">Полное заявление авторских прав .................................... 16</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:4.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:121.68pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font5 style=" line-height:11.52pt;"><b><i>1. Обоснование</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">После появления протоколов OSPF и IS-IS некоторые специалисты полагали, что протокол RIP должен уйти со сцены.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Понятно, что новые протоколы маршрутизации IGP существенно превосходят RIP, но и протокол RIP имеет</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">некоторые преимущества. Прежде всего, в небольших сетях RIP обеспечивает существенно меньший расход полосы, а</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">также снижение затрат времени на обслуживание и настройку. Протокол RIP очень прост в реализации, особенно в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">сравнении с новейшими протоколами IGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Кроме того, в существующих сетях протокол RIP распространен во много раз шире, нежели OSPF и IS-IS. Очевидно,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">что такая ситуация будет сохраняться еще достаточно долго.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Исходя из широкого распространения протокола RIP, представляется разумным расширение возможностей RIP. С</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">учетом затрат на такое изменение и получаемых результатов такая работа представляется очень перспективной.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.84pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:493.20pt;">
<div class=block style=" width:493.20pt; height:41.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font5><b><i>2. Текущий вариант RIP</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 5.28pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Сообщения RIP-1 содержат минимальное количество информации, требуемой маршрутизаторам сообщений через сеть. Кроме того, в сообщениях содержится много пустого места.</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:101.76pt;">
<div class=block style=" width:101.76pt; height:41.28pt;">
<div class=paragraph style=" padding:16.56pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font17>для направления</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph><div align="center"><a href="index.htm">На главную
</a></div><br>
<div style="height: 90px;">
<script type="text/javascript"><!--
google_ad_client = "pub-0899253526956684";
/* 728x90 */
google_ad_slot = "3113460964";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:350.64pt;">
<div class=block style=" width:350.64pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:244.32pt;">
<div class=block style=" width:244.32pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 115.44pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="8" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.48pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:64.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:4.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:221.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:9.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:142.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:70.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:31.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:305.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:440.40pt;">
<div class=block style=" width:440.40pt; height:12.96pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.56pt;">
<div class=block style=" width:154.56pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.96pt; text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:762.96pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В протоколе RIP-1 не рассматриваются автономные системы и взаимодействие IGP/EGP, подсети (subnetting) [11] и аутентификация, поскольку все это было реализовано после создания RIP-1. Отсутствие масок подсетей является особенно серьезной проблемой для маршрутизаторов, поскольку они используют маски подсетей для определения маршрутов. Если маршрут RIP-1 направлен в сеть (все биты адреса, кроме номера сети, имеют значение 0), маска сети эквивалентна маске подсети. Однако если некоторые биты сверх номера сети имеют значение 1, маршрутизатор уже не может определить маску подсети. Более того, маршрутизатор не может отличить маршруты RIP-1 к хостам и подсетям. Некоторые маршрутизаторы в таких случаях для определения типа маршрута просто используют маску интерфейса, через который была получена информация о маршруте.</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font5><b><i>3. Базовый протокол</i></b></span></div>
<div class=paragraph style=" padding:5.28pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font5 style=" letter-spacing:-1.40pt;"><b>3.1</b><span style=" letter-spacing:0.00pt;"><b>&nbsp; </b></span><span style=" letter-spacing:-0.80pt;"><b>Введение</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">RIP представляет собой протокол маршрутизации на основе алгоритма Bellman-Ford (или вектора расстояния -distance vector). Этот алгоритм используется для расчета маршрутов в компьютерных сетях с первых дней существования сети ARPANET<a href="rfc2453.htm#bookmark15"><sup>1</sup>.</a> Форматы пакетов и описание протокола, приведенные здесь, базируются на программе <b>routed </b>из дистрибутива Berkeley Unix.</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В международных сетях типа Internet может использоваться множество разных протоколов маршрутизации. Сеть, скорее, следует рассматривать как множество автономных систем (AS), каждая из которых, в общем случае, администрируется как единое целое. В каждой AS будет использоваться своя технология маршрутизации, которая может отличаться в разных AS. Протокол маршрутизации, используемый в AS, называют внутренним протоколом маршрутизации IGP (Interior Gateway Protocol). Отдельный протокол, называемый протоколом внешней маршрутизации EGP (Exterior Gateway Protocol), служит для обмена маршрутной информации между AS. Протокол RIP был разработан в качестве IGP для автономных систем средних размеров. Этот протокол не предназначен для работы в более сложных средах. Информацию о рабочем контексте RIP-1 можно найти в работе Брадена и Постела [6].</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">RIP использует один из алгоритмов маршрутизации, известный как алгоритм Distance Vector (вектор расстояния или DV). Первое описание этого класса алгоритмов содержится в работе Форда и Фулкерсона [8], поэтому иногда используют термин &laquo;алгоритм Форда-Фулкерсона&raquo;. Используется также термин &laquo;алгоритм Беллмана-Форда&raquo;, отражающий факт использования в алгоритме расчетов на основе уравнения Беллмана [4]. Описание алгоритма в данном документе основано на работе [5]. Настоящий документ содержит спецификацию протокола. Математические основы алгоритмов маршрутизации описаны в работе [1]. Базовый алгоритм, используемый протоколом, применялся еще в 1969 году в сети ARPANET. Однако основные корни данного протокола находятся в сетевых протоколах Xerox. Для обмена маршрутной информацией используются протоколы PUP [7]. Несколько измененная версия этого протокола была адаптирована для XNS (Xerox Network Systems) под названием Routing Information Protocol [9]. Berkeley routed, по сути, представляет собой Routing Information Protocol, в котором адреса XNS заменены более общим форматом, способным работать с IPv4 и другими типами адресов, а обновления маршрутизации передаются каждые 30 секунд. В силу этого сходства термин Routing Information Protocol (или просто RIP) используется для протоколов, применяемых как XNS, так и routed.</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Протокол RIP предназначен для использования в IP-сетях. Сеть Internet организована как множество сетей, соединенных между собой через специальные шлюзы (gateway), называемые маршрутизаторами (router). Сети могут строиться на базе соединений точка-точка или использовать более сложные структуры типа Ethernet или token ring. Хосты и маршрутизаторы обмениваются дейтаграммами, содержащими IP-адрес получателя. Маршрутизация представляет собой метод, на основе которого хост или маршрутизатор принимает решение &laquo;куда переслать дейтаграмму&raquo;. Возможна передача дейтаграммы непосредственно в сеть адресата, если этот адресат находится в одной из сетей, непосредственно подключенных к хосту или маршрутизатору. Однако более интересны случаи, когда адресат недоступен напрямую.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В таких случаях хост или маршрутизатор пытается передать дейтаграмму маршрутизатору, который расположен ближе к адресату. Конечная цель протокола маршрутизации очень проста - он обеспечивает и поддерживает информацию, которая требуется для маршрутизации.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font5 style=" letter-spacing:-0.90pt;"><b>3.2</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.60pt;"><b>Ограничения протокола</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Этот протокол не решает всех возможных задач маршрутизации. Как отмечено выше, основным назначением</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">протокола является использование в качестве IGP для сетей средних размеров. Кроме того, протоколу присущ еще ряд</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">ограничений:</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 45.84pt; text-align:justify; text-indent:-17.04pt;"><span class=font17 style=" line-height:11.28pt;"><b>• </b>Использование протокола ограничено сетями, где самый длинный путь (диаметр сети) не превышает 15 хопов (интервал между двумя маршрутизаторами). Разработчики протокола не предполагали его использование в более крупных сетях. Отметим, что это ограничение основано на допущении стоимости каждого маршрута, равной 1 (обычно для RIP используют именно такие значения). Если администратор сети задаст большие значения стоимости, ограничение числа хопов станет еще более жестким.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 45.60pt; text-align:justify; text-indent:-16.80pt;"><span class=font17 style=" line-height:11.28pt; letter-spacing:2.15pt;">•Работа<span style=" letter-spacing:0.00pt;"> протокола зависит от &laquo;вычисления бесконечности&raquo; (counting to infinity) для разрешения нештатных ситуаций (эта особенность будет рассмотрена ниже). Если в систему входит несколько сотен сетей и в маршрутизации имеются петли, &laquo;разрешение&raquo; этих петель потребует дополнительного времени (если ограничена частота обновления маршрутов) или полосы (если обновления передаются по факту их обнаружения). Пока такие </span><span style=" letter-spacing:-0.05pt;">петли не будут обнаружены и устранены, они будут поглощать значительную часть полосы сети. Будем надеяться, </span><span style=" letter-spacing:0.00pt;">что в реальных сетях это не создаст дополнительных сложностей (за исключением случаев использования низкоскоростных каналов). Более того, эта проблема возникает достаточно редко, поскольку для ее предотвращения приняты специальные меры.</span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:10.32pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 33.60pt; text-align:left;"><span class=font16><a name="bookmark15"><u>П</u></a><u>рообраз сети Internet. <i>Прим. перев.</i></u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:305.04pt;">
<div class=block style=" width:305.04pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:135.36pt;">
<div class=block style=" width:135.36pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>2</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:154.56pt;">
<div class=block style=" width:154.56pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:305.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:154.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:357.84pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:237.12pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:9.12pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:357.84pt;"> <div class=block style=" width:357.84pt; height:12.96pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0><a name="bookmark3"><b><u>П</u></b></a><b><u>еревод 
          RFC 2453</u></b></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:237.12pt;">&nbsp;</td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:2.40pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:729.36pt;"> 
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 72.96pt; text-align:justify; text-indent:-15.84pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>Протокол использует &laquo;фиксированную&raquo; метрику 
          для сравнения альтернативных маршрутов. Такое решение не подходит для 
          систем, где выбор маршрута должен основываться на параметрах, измеряемых 
          в реальном масштабе времени (задержка, надежность доставки, степень 
          загрузки). Простое добавление учета таких параметров приводит к нестабильности, 
          с которой протокол не может работать.</span></div>
        <div class=paragraph style=" padding:8.16pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4 style=" line-height:11.52pt;"><b>3.3. 
          Структура документа</b></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Основная 
          часть документа состоит из 2 разделов:</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>рассмотрение концепций алгоритмов DV в целом;</span></div>
        <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>описание реального протокола.</span></div>
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.88pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Каждый 
          из этих разделов также делится на фрагменты. В параграфе 3.4 делается 
          попытка неформального представления математической базы алгоритма. Отметим, 
          что это представление следует &laquo;спиральному&raquo; методу -сначала 
          описывается простейший вариант алгоритма, а потом последовательно добавляется 
          рассмотрение новых возможностей. В параграфе 3.5 дано описание реального 
          протокола. За исключением некоторых специфических аспектов, указанных 
          в параграфе 3.4, реализация протокола RIP полностью основана на приведенной 
          в параграфе 3.5 спецификации.</span></div>
        <div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4><b>3.4 
          Алгоритмы Distance Vector</b></span></div>
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Задачей 
          маршрутизации является поиск пути между отправителем и получателем. 
          В модели Internet это сводится к определению цепочки маршрутизаторов 
          между сетями отправителя и получателя. Пока сообщение или дейтаграмма 
          остается в пределах одной сети или подсети, все вопросы пересылки определяются 
          используемой в сети технологией. Например, сети Ethernet и ARPANET определяют 
          по-своему способ обмена пакетами между отправителем и получателем. IP-маршрутизация 
          начинается с того момента, когда требуется доставка сообщений от отправителя 
          в одной сети к получателю в другой сети. В таких случаях сообщение может 
          проходить через один или несколько маршрутизаторов, соединяющих сети 
          между собой. Если сети отправителя и получателя не являются соседними, 
          сообщение может проходить через несколько промежуточных (intervening) 
          сетей и подключенных к ним маршрутизаторов. После того, как сообщение 
          попадет в маршрутизатор сети получателя, снова используется локальная 
          сетевая технология для доставки сообщения адресату.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В 
          этом параграфе термин &laquo;сеть&raquo; используется, прежде всего, 
          для обозначения доменов широковещания (например, сеть Ethernet), каналов 
          &laquo;точка-точка&raquo; или сети ARPANET. Важно понимать, что сеть 
          в таком случае трактуется протоколом IP как единый объект - т.е., решений 
          о пересылке принимать не требуется или они принимаются прозрачным для 
          IP способом, что позволяет протоколу IP трактовать такую сеть как связную 
          систему (например, Ethernet или ARPANET). Отметим, что при обсуждении 
          адресации IP допускается использование термина &laquo;сеть&raquo; в 
          иных трактовках (в тех случаях, когда слово &laquo;сеть&raquo; относится 
          к подсетям при рассмотрении вопросов адресации подсетей).</span></div>
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Существует 
          множество вариантов поиска маршрутов между сетями. Весьма полезно классифицировать 
          эти способы по информации, которой должны обмениваться между собой маршрутизаторы 
          для обеспечения возможности писка пути. Алгоритмы DV основаны на обмене 
          очень незначительным объемом информации. Предполагается, что каждый 
          объект (маршрутизатор или хост), участвующий в обмене информацией, хранит 
          сведения обо всех получателях в системе. В общем случае информация обо 
          всех подключенных к одной сети объектах собирается в единую запись (entry), 
          которая описывает маршрут ко всем получателям в данной сети. Такое обобщение 
          становится возможным потому, что для IP маршрутизация внутри сети невидима 
          (отсутствует). Каждая запись в базе данных о маршрутах включает следующий 
          маршрутизатор, которому должны передаваться дейтаграммы, адресованные 
          объекту. Кроме того, запись включает &laquo;метрику&raquo; - параметр, 
          определяющий общую протяженность маршрута до объекта. Протяженность 
          маршрута является в значительной мере условным понятием и может учитывать 
          такие параметры, как задержка, стоимость услуг по передаче трафика и 
          т. п. Алгоритмы DV (distance vector - вектор расстояния) получили свое 
          название потому, что в них можно рассчитать оптимальный маршрут, обмениваясь 
          только данными о &laquo;протяженности&raquo;. Более того, обмен информацией 
          ведется только между соседними объектами, т. е., объектами, подключенными 
          к одной сети.</span></div>
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Хотя 
          в общем случае маршрутная информация содержит только данные о сетях, 
          в некоторых случаях может потребоваться сохранение данных о маршрутах 
          к отдельным хостам. Протокол RIP не делает формальных различий между 
          сетями и хостами, просто описывая обмен информацией о получателях, которыми 
          могут быть как сети, так и хосты<a href="rfc2453.htm#bookmark16"><sup>2</sup>.</a> 
          Математическое представление удобней для случая маршрутов от одного 
          хоста или маршрутизатора к другому. При абстрактном рассмотрении алгоритма 
          лучше представлять маршрутные записи для сетей как сокращение записи 
          для всех объектов, подключенных к сети. Такое сокращение становится 
          возможным лишь потому, что мы предполагаем отсутствие внутренней структуры 
          сети, видимой на уровне IP. Таким образом, в общем случае предполагается 
          одинаковое расстояние для всех объектов данной сети.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Выше 
          было сказано, что каждый объект хранится в маршрутной базе данных как 
          одна запись для каждого возможного адресата в системе. Очевидно, что 
          в реальных системах требуется хранить для каждого получателя следующие 
          сведения:</span></div>
        <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; 
          &nbsp; &nbsp;адрес</b>: в IP-реализациях этого алгоритма хранится IP-адрес 
          хоста или сети;</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; маршрутизатор</b>: первый маршрутизатор на пути к получателю;</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; интерфейс</b>: физический интерфейс, используемый для 
          связи с первым маршрутизатором;</span></div>
        <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; метрика</b>: число, показывающее &laquo;удаленность&raquo; 
          получателя;</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp;таймер</b>: время, прошедшее с момента последнего обновления 
          записи.</span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:42.96pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:26.88pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font16><a name="bookmark16"><sup>2</sup></a> 
          <u>Отметим, что в некоторых реализациях могут существовать различия 
          между хостами и сетями (см. параграф 3.2).</u></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>3&nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:18.24pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:357.84pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:237.12pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:736.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">В дополнение к перечисленному могут включаться различные флаги и другая внутренняя информация. Эта база</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">данных инициализируется с описанием объектов, непосредственно подключенных к системе. База данных потом</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">обновляется в соответствии с информацией, получаемой в сообщениях от ближайших соседей.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Наиболее важная информация между маршрутизаторами и хостами передается в обновлениях (update message).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Каждый объект, участвующий в схеме маршрутизации, передает обновления, описывающие текущее состояние своей</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">маршрутной  базы  данных.   Можно   поддерживать   оптимальные  маршруты   для  всей   сети,  используя   лишь</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">информацию, получаемую от ближайших соседей. Используемый для этого алгоритм будет описан ниже.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Как был сказано выше, целью маршрутизации является поиск пути передачи дейтаграмм различным адресатам.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Алгоритмы DV основаны на хранящихся в каждом маршрутизаторе таблицах, которые указывают лучший маршрут к</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">каждому  получателю.  Естественно,  что  для  определения  лучшего  маршрута  должны  применяться  какие-то</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">измеряемые параметры – метрика маршрута.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">В простых сетях в качестве метрики естественно использовать счетчик интервалов (хопов) до получателя. В более</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">сложных сетях метрика может учитывать величину задержки, расходы на доставку (оплата трафика) и другие</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">параметры, которые могут влиять на выбор маршрута. Основным требованием является возможность представления</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">метрики всего маршрута как суммы &laquo;стоимостей&raquo; отдельных интервалов доставки (хопов).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Формально объект j может получить информацию непосредственно от объекта i (минуя процесс передачи через</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">другие маршрутизаторы по пути), т. е. стоимость d(i,j), связанную с интервалом между i и j. В нормальном случае,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">когда все объекты данной сети рассматриваются как единое целое, значение d(i,j) будет одинаково для всех</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">получателей данной сети и представляет стоимость использования этой сети. Для получения метрики полного</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">маршрута просто складываются стоимости всех интервалов на пути доставки для данного маршрута. В рамках</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">данного документа мы будем предполагать, что стоимость выражается целыми положительными значениями.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Пусть D(i,j) представляет метрику лучшего маршрута от объекта i к объекту j. Эта метрика должна быть определена</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">для каждой пары объектов.   d(i,j) представляет стоимость отдельных шагов. Предположим (формально), что d(i,j)</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">представляет стоимость прямой доставки от i к j. Эта стоимость будет бесконечной, если i и j не являются прямыми</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">соседями<a href="rfc2453.htm#bookmark17"><sup>3</sup>.</a> Поскольку стоимость является аддитивной, легко показать, что лучшая метрика должна описываться</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">выражением</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;"><b>D(i,i) = 0,</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 64.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;"><b>D(i,j) = min [d(i,k) + D(k,j)]</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">и лучший маршрут от i следует к соседу k, для которого d(i,k) + D(k,j) имеет минимальное значение<a href="rfc2453.htm#bookmark18"><sup>4</sup>.</a> Отметим, что второе уравнение относится к узлу k, являющемуся непосредственным соседом i. Для других случаев значение d(i,k) бесконечно и никогда не может давать минимума.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Из приведенного доказательства очевидно, что можно построить простой алгоритм расчета стоимости для любого маршрута. Объект i запрашивает у своего соседа k его оценку расстояний до адресата и после этого к каждому из полученных значений просто добавляется d(i,k) – стоимость доставки между i и k. После этого i может сравнить значения, полученные от всех соседей и определить самый &laquo;дешевый&raquo; путь.</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В работе [2] доказана сходимость этого алгоритма к корректному значению D(i,j) за конечное время при отсутствии изменений в топологии. Авторы сделали лишь незначительные допущения о том, в каком порядке в котором объекты передают друг другу свою информацию и когда следует проводить новый расчет минимального значения. В общем случае объект не должен прекращать передачу обновлений и расчет метрики, а сети не могут задерживать сообщения навсегда (крах маршрутизации является изменением топологии сети). В доказательстве не делается каких-либо предположений о начальном значении D(i,j), кроме того, что оно предполагается неотрицательным. Использование в доказательстве лишь незначительных допущений весьма важно. Поскольку мы не можем сделать разумных предположений о том, когда следует передавать обновления, опасно запускать алгоритм в асинхронном режиме. В этом случае каждый объект будет рассылать обновления по своим часам. В результате обновления могут отбрасываться сетью, пока не будут отброшены полностью. Поскольку мы не можем сделать предположений о стартовых условиях, алгоритм может принять изменения. Когда система изменяется, алгоритм маршрутизации начинает переход к новому равновесному состоянию, используя старое состояние как стартовое. Важно, чтобы алгоритм сходился за конечное время независимо от стартового состояния. С другой стороны, некоторые изменения могут привести к невозможности сходимости.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Работа данного алгоритма основана на предположении, что каждый объект хранит копии оценок, полученных от всех соседей, и определяет минимальное значение с использованием этих копий. Фактически, в реальных условиях такой необходимости не возникает. Достаточно просто помнить лучшую метрику и идентифицировать передавшего ее соседа. При получении сведений о более привлекательной метрике в запись вносятся соответствующие коррективы. Такой подход позволяет существенно сократить объем вычислений и размеры сохраняемых таблиц. Существует еще одно отличие между описанным выше алгоритмом и его реализациями в протоколах типа RIP – в теоретическом варианте каждый объект включает запись для самого себя (с нулевой дистанцией). На практике не возникает необходимости в такой записи – стоимости доставки всем объектам сети выражаются единственной записью для данной сети. Рассмотрим ситуацию, когда хост или маршрутизатор G подключен к сети A. C представляет стоимость использования сети A (обычно эта метрика имеет значение 1). Напомним, что мы предполагаем &laquo;невидимость&raquo; внутренней структуры сети для IP, таким образом, стоимость доставки будет одинаковой для всех объектов внутри сети. В принципе, узел G должен получить сообщение от каждого объекта H сети A, показывающее нулевую стоимость доставки внутри сети. Тогда G будет считать C + 0 расстоянием до H. Вместо того чтобы просматривать множество идентичных сообщений, узел G просто включает в таблицу одну запись для сети A, содержащую метрику C. Эта запись для сети A должна трактоваться как &laquo;квинтэссенция&raquo; записей для всех</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:17.52pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:47.52pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a name="bookmark18"><sup>3</sup></a>&nbsp;Отметим, что стоимость d(i, i) имеет нулевое значение (в оригинале ошибочно сказано &laquo;бесконечное&raquo; - <i>прим. перев.</i>), т. е., мы не учитываем здесь прямую передачу узла самому себе.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><sup>4</sup>&nbsp;<u>Это можно строго доказать с использованием метода математической индукции.</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:237.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.24pt;">
<div class=block style=" width:306.24pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0><a name="bookmark4"><b><u>П</u></b></a><b><u>еревод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:288.72pt;">
<div class=block style=" width:288.72pt; height:12.96pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.60pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:718.80pt;">
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.40pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">узлов сети <b>А</b>. Единственная информация, которая не может быть включена в суммарную запись для сети <b>А</b>, это сведения о самом объекте G, поскольку стоимость доставки из G в G равна 0, а не <b>С</b>. Но, поскольку такие записи с нулевой стоимостью реально не используются, можно обойтись одной записью для всей сети <b>А</b>. В виду того, что записи с нулевой стоимостью реально не используются, хосты, не выполняющие функций маршрутизации, не должны передавать никаких обновлений таблиц. Очевидно, что хосты, не выполняющие функций маршрутизации (т.е., подключенные к единственной сети) не имеют какой-либо полезной информации для передачи другим хостам, за исключением тривиальной записи D(i,i) = 0. Поскольку такие хосты используют единственный сетевой интерфейс, легко видеть, что маршрут в любую другую сеть через такой хост будет приводить на тот же интерфейс (т. е., назад). В результате стоимость такого маршрута не может быть меньше минимальной стоимости <b>С</b>. Поскольку нет нужды в сохранении записей с нулевой стоимостью, хосты, не являющиеся маршрутизаторами, просто не должны участвовать в работе протокола маршрутизации.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Резюмируем сказанное выше о работе узла G. Для каждого получателя в системе G будет сохранять оценку метрики (т. е., общую стоимость доставки) и сведения о соседнем маршрутизаторе, для которого эта метрика получена. Если получателем является сеть, напрямую подключенная к G, узел G просто использует запись, показывающую стоимость использования данной сети и маршрутизации, фактически, не требуется. Легко показать, что после схождения расчетов метрики, записанный таким путем соседний маршрутизатор является первым на пути к адресату<a href="rfc2453.htm#bookmark19"><sup>5</sup>.</a> Такая комбинация получателя, метрики и маршрутизатора обычно используется для указания пути к получателю с данной метрикой и через данный маршрутизатор.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Описанный выше алгоритм включает только возможность снижения метрики, поскольку всегда выбирается наименьший из возможных вариантов. Однако в реальной жизни может потребоваться и увеличение значений, если начальная оценка окажется слишком низкой. Следовательно, должен существовать способ увеличения метрики. Для решения этой задачи достаточно использовать следующее правило - если новый набор информации приходит от другого источника (не G), маршрут обновляется только в тех случаях, когда новая метрика лучше, чем D; если же новая информация приходит от G, значение метрики D обязательно обновляется. Легко показать, что при использовании этого правила для увеличения метрики с сохранением получается такой же результат, который будет достигнут при запоминании информации от всех соседей и повторном расчете маршрута с минимальной стоимостью<a href="rfc2453.htm#bookmark20"><sup>6</sup>. </a>Выше был описан алгоритм DV (вектор расстояния). Отметим, что это не является описанием самого протокола RIP, поскольку последний содержит ряд дополнений к базовому алгоритму. Каждый объект, принимающий участие в работе протокола<a href="rfc2453.htm#bookmark21"><sup>7</sup>,</a> должен выполнять перечисленные ниже процедуры.</span></div>
<div class=paragraph style=" padding:0.00pt 28.56pt 0.00pt 73.68pt; text-align:justify; text-indent:-16.56pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>Поддержка таблицы с записью для каждого возможного получателя в системе. Запись содержит сведения о &laquo;расстоянии&raquo; до адресата D и первом маршрутизаторе (G) на пути к адресату. Концептуально должна также включаться запись о &laquo;маршруте к себе&raquo; с нулевой метрикой, но на практике такие записи не используются.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 73.68pt; text-align:justify; text-indent:-16.56pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>Периодическая рассылка каждому соседу сообщений об изменении маршрутов. Такое обновление представляет собой набор сообщений, содержащих всю информацию из маршрутной таблицы. Обновление содержит запись для каждого адресата с указанием дистанции до него.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 73.68pt; text-align:justify; text-indent:-16.56pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>Когда приходит обновление от соседа G, в него добавляется стоимость для сети, связанной с G (это должна быть сеть, через которую принято обновление). После этого вычисляется результирующая дистанция D' и проводится сравнение с записями текущей таблицы маршрутизации. Если новая дистанция D' для адресата N меньше существующего значения D, принимается новый маршрут. Т. е. в запись для адресата N будет включать дистанцию D' и маршрутизатор G. Если маршрутизатор G является тем, с которого начинается существующий маршрут (т. е., G = G), новая метрика D’ должна включаться в таблицу даже в тех случаях, когда она превышает старую.</span></div>
<div class=paragraph style=" padding:6.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font3><b><i>3.4.1 Работа с изменениями топологии</i></b></span></div>
<div class=paragraph style=" padding:0.24pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Приведенное выше обсуждение справедливо для фиксированной топологии сети. На практике маршрутизаторы и каналы имеют свойство &laquo;падать&raquo; и восстанавливать свою работоспособность. Для того чтобы учитывать такие особенности, требуется внести в алгоритм некоторые изменения.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.40pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Теоретический вариант алгоритма использует информацию от всех ближайших соседей. При изменении топологии меняется и набор соседей. В результате такого изменения при последующем расчете эти изменения будут учтены. Однако, как было отмечено выше, в реальных приложениях используется вариант минимизации с учетом возрастания (incremental version of the minimization), при которой запоминается только лучший маршрут. Если маршрутизатор, включенный в этот маршрут &laquo;падает&raquo;, или разрывается сетевое соединение, расчет может не отразить таких изменений. В реальных приложениях алгоритм зависит от способа, используемого маршрутизатором для передачи уведомлений об изменении топологии. Если маршрутизатор прекращает работать, у него уже нет возможности уведомить своих соседей об изменении топологии.</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.40pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Для решения этой проблемы протоколы на основе алгоритмов DV должны использовать понятие тайм-аута для маршрутизаторов. Детали реализации зависят от конкретного протокола. Например, в протоколе RIP каждый участвующий маршрутизатор передает обновления всем своим соседям каждые 30 секунд. Предположим, что текущий путь в сеть N использует маршрутизатор G Если мы не получаем сообщений от G в течение 180, мы можем предположить что маршрутизатор не работает или разорвано соединение с ним. В результате маршрут помечается как некорректный. Когда от другого соседа приходит информация о корректном маршруте в сеть N, этот маршрут указывается взамен некорректного. Отметим, что для объявления маршрута некорректным мы ждали в течение 180 секунд, тогда, как маршрутизаторы рассылают обновления каждые 30 секунд. Это сделано для того, чтобы избавиться</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell vнение с ним. В результате маршрут помечается как некорректный. Когда от другого соседа приходит информация о корректном маршруте в сеть N, этот маршрут указывается взамен некорректного. Отметим, что для объявления маршрута некорректным мы ждали в течение 180 секунд, тогда, как маршрутизаторы рассылают обновления каждые 30 секунд. Это сделано для того, чтобы избавиться</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:54.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a name="bookmark20"><sup>5</sup></a>&nbsp;Если несколько маршрутов имеют одинаковую стоимость, маршрутизатор будет относиться к одному из таких путей.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a name="bookmark21"><sup>6</sup></a>&nbsp; Отметим, что рассмотрение построено на предположении о статическом характере системы и не учитывает возможности &laquo;падения&raquo;.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><sup>7</sup>&nbsp; К таким объектам относятся все маршрутизаторы; хосты, на поддерживающие маршрутизации, также могут выполнять эти <u>процедуры</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.24pt;">
<div class=block style=" width:306.24pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:51.60pt;">
<div class=block style=" width:51.60pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>5</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 110.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:237.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:143.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:155.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="5" valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:499.68pt;">
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">от ложных тайм-аутов в результате потери пакетов при констатации тайм-аута в результате отсутствия одного сообщения.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify; text-indent:2.64pt;"><span class=font17 style=" line-height:11.28pt;">Как было показано выше, полезно иметь способ уведомления соседей об отсутствии маршрута в ту или иную сеть. RIP (как и некоторые другие протоколы этого класса) делает это возможным за счет периодической рассылки обновлений. Для индикации недоступности сети используется специальное значение метрики (16 в текущей реализации протокола RIP). Это значение обычно трактуется как &laquo;бесконечность&raquo;, поскольку оно превышает все остальные значения метрики. Может показаться, что число 16 слишком мало для таких целей. Выбор этого числа в значительной мере определялся простотой работы с ним – число 16 в двоичном выражении удобно использовать как битовый флаг для проверки корректности маршрута.</span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font3 style=" line-height:11.28pt;"><b><i>3.4.2 Предотвращение нестабильности</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Представленный выше алгоритм будет всегда обеспечивать хостам и маршрутизаторам возможность расчета корректной таблицы маршрутизации. Однако на практике такой возможности оказывается недостаточно. Приведенные выше варианты алгоритма лишь гарантируют схождение расчетов для таблиц маршрутизации за конечное время. Однако нет никаких гарантий, что это время будет достаточно мало и непонятно, что может произойти с метрикой, когда сеть станет недоступной.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Математическую сторону алгоритма достаточно просто расширить для обработки ставших недоступными маршрутов. Предложенные выше соглашения позволяют это сделать, просто указав достаточно большое значение метрики для недоступных сетей. Это значение должно превышать любую реально используемую метрику. В нашем примере мы выбрали значение 16 в качестве метрики для недоступных сетей. Предположим, что сеть перестала быть доступной. Все соседние с ней маршрутизаторы перестанут видеть сеть и по истечении тайм-аута установят для нее метрику 16. Для нашего анализа мы можем предположить, что все соседние маршрутизаторы получили прямое соединение с исчезнувшей сетью и эти соединения характеризуются метрикой 16. Поскольку с исчезнувшей сетью имеется только одно соединение, все остальные маршрутизаторы в системе будут сходиться к новым маршрутам, проходящим через один из соседних с исчезнувшей сетью маршрутизаторов. Легко видеть, что после схождения расчета все соседние маршрутизаторы получат для исчезнувшей сети метрику не меньше 16. Маршрутизаторы, следующие за ближайшими соседями (1 хоп), получат метрику не менее 17, следующие за ними – не менее 18 и т. д. Поскольку все эти значения превышают максимум, для метрики будет установлено значение 16. Обычно системы будут сходиться на значении 16 в качестве метрики для пропавшей сети.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">К несчастью, вопрос о времени схождения расчетов не столь прост. Прежде, чем пойти дальше, рассмотрим пример из работы [2]. Отметим, что приведенный пример не может реально произойти в системах с корректной реализацией RIP – мы просто попытаемся показать необходимость некоторых функций. На приведенном рисунке буквы обозначают маршрутизаторы, а линии - сети.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 58.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">A ----- B</span></div>
<div class=paragraph style=" padding:0.00pt 488.88pt 0.00pt 70.32pt; text-align:left; text-indent:-6.00pt;"><span class=font10 style=" line-height:11.28pt;">\  / \ \ / |</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">C /   все сети имеют стоимость 1,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">| /    за исключением прямого соединения между C и D,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">|/     стоимость которого равна 10</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">D</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 76.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">|&lt;=== сеть получателя</span></div>
<div class=paragraph style=" padding:6.48pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Каждый маршрутизатор будет иметь таблицу, показывающую маршрут в каждую сеть, однако для упрощения рисунка показаны только пути от каждого маршрутизатора в сеть получателя (в нижней части рисунка).</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:160.32pt;">
<div class=block style=" width:160.32pt; height:2.64pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:143.76pt;">
<div class=block style=" width:143.76pt; height:11.52pt;">
<div class=paragraph style=" text-align:left;"><span class=font10>подключение с метрикой 1</span></div>
</div>
</td>
<td class=cell colspan="2" rowspan="2" valign="top" style=" width:290.88pt;">
<div class=block style=" width:290.88pt; height:11.52pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell rowspan="2" valign="top" style=" width:118.32pt;">
<div class=block style=" width:118.32pt; height:14.40pt;">
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:35.76pt;">
<div class=block style=" width:35.76pt; height:14.40pt;">
<div class=paragraph style=" text-align:left;"><span class=font10>прямое</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:6.24pt;">
<div class=block style=" width:6.24pt; height:8.88pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:440.88pt;">
<div class=block style=" width:440.88pt; height:5.52pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:102.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 118.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">маршрут через D, метрика 2</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 118.32pt; text-align:left;"><span class=font10 style=" line-height:11.28pt;">маршрут через B, метрика 3</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify; text-indent:90.00pt;"><span class=font10 style=" line-height:11.28pt;">маршрут через B, метрика 3 <span class=font17>Предположим, что рвется канал связи между B и D. Маршруты в этом случае должны быть на использование канала между C и D. К несчастью, на такое переключение потребуется время. Изменение маршрутизации начнется после того, как маршрутизатор B обнаружит невозможность использования D. Для простоты будем предполагать, что все маршрутизаторы передают обновления одновременно. Ниже показана метрика для сети получателя с точки зрения каждого маршрутизатора. </span>время ------ &gt;</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:8.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:349.92pt; height:44.40pt; padding:0.00pt 176.16pt 0.00pt 68.88pt;">
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style=" width:349.92pt; height:44.40pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:30.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt;">
<div class=block style=" width:10.32pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:center;"><span class=font10>D</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 0.00pt; text-align:center;"><span class=font10>dir, 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.40pt;">
<div class=block style=" width:32.40pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.60pt; text-align:center;"><span class=font10 style=" letter-spacing:-0.80pt;">dir,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:18.96pt;">
<div class=block style=" width:18.96pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 3.60pt 0.00pt 0.00pt; text-align:center;"><span class=font10>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 3.84pt 0.00pt 0.00pt; text-align:right;"><span class=font10>dir,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:19.20pt;">
<div class=block style=" width:19.20pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 3.84pt 0.00pt 0.00pt; text-align:center;"><span class=font10>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 0.00pt; text-align:right;"><span class=font10>dir,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:30.96pt;">
<div class=block style=" width:30.96pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font10>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:66.00pt;">
<div class=block style=" width:66.00pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font10 style=" letter-spacing:-0.45pt;">.  dir, 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:10.56pt;">
<div class=paragraph style=" padding:0.00pt 1.44pt 0.00pt 0.00pt; text-align:right;"><span class=font10>dir, 1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt;">
<div class=block style=" width:10.32pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 1.20pt 0.00pt 0.00pt; text-align:center;"><span class=font19><b>в</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 3.84pt; text-align:center;"><span class=font10>unreach</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.40pt;">
<div class=block style=" width:32.40pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font13>с,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:18.96pt;">
<div class=block style=" width:18.96pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font10>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 5.76pt 0.00pt 0.00pt; text-align:center;"><span class=font13>с,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:19.20pt;">
<div class=block style=" width:19.20pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 4.32pt 0.00pt 0.00pt; text-align:center;"><span class=font10>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.08pt; text-align:left;"><span class=font13>с,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:30.96pt;">
<div class=block style=" width:30.96pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font10>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:66.00pt;">
<div class=block style=" width:66.00pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 0.00pt; text-align:right;"><span class=font10>С,  11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:11.04pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:right;"><span class=font10 style=" letter-spacing:-0.40pt;">С,  12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt;">
<div class=block style=" width:10.32pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 1.20pt 0.00pt 0.00pt; text-align:center;"><span class=font19><b>с</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 0.00pt; text-align:center;"><span class=font10 style=" letter-spacing:-0.40pt;">В,   3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.40pt;">
<div class=block style=" width:32.40pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 6.96pt; text-align:left;"><span class=font10>A,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:18.96pt;">
<div class=block style=" width:18.96pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font10>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 4.32pt 0.00pt 0.00pt; text-align:center;"><span class=font10>A,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:19.20pt;">
<div class=block style=" width:19.20pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 4.32pt 0.00pt 0.00pt; text-align:center;"><span class=font10>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 4.80pt 0.00pt 0.00pt; text-align:center;"><span class=font10>A,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:30.96pt;">
<div class=block style=" width:30.96pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font10>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:66.00pt;">
<div class=block style=" width:66.00pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 8.88pt 0.00pt 0.00pt; text-align:right;"><span class=font10>A, 11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:11.28pt;">
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 0.00pt; text-align:right;"><span class=font10>D, 11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt;">
<div class=block style=" width:10.32pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:center;"><span class=font10>A</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:56.16pt;">
<div class=block style=" width:56.16pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 2.40pt 0.00pt 0.00pt; text-align:center;"><span class=font10 style=" letter-spacing:-0.40pt;">В,   3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:32.40pt;">
<div class=block style=" width:32.40pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 7.68pt; text-align:left;"><span class=font13>с,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:18.96pt;">
<div class=block style=" width:18.96pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 4.08pt 0.00pt 0.00pt; text-align:center;"><span class=font10>4</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 5.76pt 0.00pt 0.00pt; text-align:center;"><span class=font13>с,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:19.20pt;">
<div class=block style=" width:19.20pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 4.32pt 0.00pt 0.00pt; text-align:center;"><span class=font10>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:35.04pt;">
<div class=block style=" width:35.04pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 10.08pt; text-align:left;"><span class=font13>с,</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:30.96pt;">
<div class=block style=" width:30.96pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font10>6</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:66.00pt;">
<div class=block style=" width:66.00pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 9.60pt 0.00pt 0.00pt; text-align:right;"><span class=font10>С,  11</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:45.84pt;">
<div class=block style=" width:45.84pt; height:11.52pt;">
<div class=paragraph style=" padding:0.00pt 1.68pt 0.00pt 0.00pt; text-align:right;"><span class=font10 style=" letter-spacing:-0.40pt;">С,  12</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:10.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:56.16pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:32.40pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:19.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:30.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:66.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:45.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:119.76pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 70.32pt; text-align:left;"><span class=font10 style=" line-height:11.52pt;">dir = прямое соединение</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify; text-indent:42.00pt;"><span class=font10 style=" line-height:11.52pt;">unreach = сеть недоступна <span class=font17>Здесь возникает проблема – маршрутизатор B может получить информацию о &laquo;падении&raquo; маршрута с использованием тайм-аута, но достаточно еще долго будет предполагать наличие маршрута в системе. Изначально, маршрутизаторы A и C продолжают думать, что они могут связаться с D по пути через B. Поэтому они будут передавать обновления, содержащие метрику 3. На следующем этапе B будет заявлять, что возможен доступ к D через A или C (естественно, это не так). Маршруты, заявляемые A и C, уже не существуют, но узнать об этом невозможно. И даже после обнаружения недоступности маршрутов через B каждый из маршрутизаторов A и C будет думать о доступности пути <u>через другой маршрутизатор. В конце концов, будут найдены правильные маршруты, но это займет некоторое время.</u></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>6&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.32pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:35.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:6.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:143.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:155.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:237.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt;">
<div class=block style=" width:357.84pt; height:12.24pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0><a name="bookmark6"><b><u>П</u></b></a><b><u>еревод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.96pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt;">
<div class=block style=" width:357.84pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:776.40pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Самая плохая ситуация возникает в тех случаях, когда сеть становится полностью недоступной из какой-то части системы. В таких случаях метрика медленно увеличивается, пока не будет вычислена недоступность. Такие ситуации называются &laquo;вычислением бесконечности&raquo; (counting to infinity).</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Из сказанного можно понять, почему для &laquo;бесконечной&raquo; метрики выбрано столь малое значение. Если сеть становится полностью недоступной, мы хотим обнаружить недоступность как можно скорей. Значение метрики для недоступной сети должно быть больше метрики любого реального маршрута, но ничто не требует увеличивать его дополнительно. Таким образом, выбор метрики для недоступной сети определяется компромиссом между размером сети и скоростью &laquo;вычисления бесконечности&raquo;. Разработчики протокола RIP предполагали неочевидным практическое использование протокола в сетях, диаметр которых превышает 15.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Для предотвращения проблем, подобных описанной, существует несколько способов. Применительно к RIP - это расщепление горизонта с анонсированием недоступности обратного пути (split horizon with poisoned reverse) и обновления по триггеру (triggered updates).</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font3 style=" line-height:11.28pt;"><b><i>3.4.3&nbsp;Split horizon – расщепление горизонта</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Отметим, что некоторые из описанных выше проблем вызваны тем, что A и C занимаются обманом друг друга. Каждый из этих маршрутизаторов сообщает о доступности D через другой маршрутизатор. Это можно предотвратить за счет более аккуратного отношения к передаваемой информации. В частности, нет никакой пользы от заявлений о доступности сети получателя для соседей, от которых был получен данный маршрут. Расщепление горизонта (Split horizon) представляет собой схему предотвращения проблем, вызываемых включением маршрута в обновления, передаваемые маршрутизатору, от которого была получена информация об этом маршруте. Простая схема расщепления горизонта (simple split horizon) опускает маршруты, полученные от соседа при передаче обновлений этому соседу. Схема &laquo;Split horizon with poisoned reverse&raquo; включает такие маршруты в обновления, но устанавливает для них бесконечную метрику (анонсирование недоступности обратного маршрута).</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Если маршрутизатор A полагает, что он может связаться с D через узел C, его сообщения маршрутизатору C должны показывать недоступность узла D. Если маршрут через C реален, это говорит о том, что C имеет прямое соединение с D или соединение осуществляется через како-то иной маршрутизатор. Маршрут через C не может возвращаться в A, поскольку это будет порождать петлю. Говоря маршрутизатору C о недоступности D, маршрутизатор A просто пытается предотвратить возможное заблуждение C о доступности маршрута через A. Описанная ситуация достаточно типична для соединений &laquo;точка-точка&raquo;. Рассмотрим теперь ситуацию, когда узлы A и C подключены к широковещательной сети (например, Ethernet) и присутствуют другие маршруты в эту сеть. Если узел A имеет маршрут через C, он должен показывать недоступность D при обмене информацией с любым другим маршрутизатором той же сети. Другие маршрутизаторы в сети могут непосредственно взаимодействовать с C и никогда не будут обращаться к C через узел A. Если лучший маршрут для A реально проходит через C, другим маршрутизаторам той же сети не нужно знать, что узел A имеет доступ к D. Это означает, что обновления, используемые для C, могут передаваться всем остальным маршрутизаторам в той же сети. Таким образом, обновления можно рассылать в широковещательном режиме.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В общем случае использование режима split horizon with poisoned reverse более безопасно по сравнению с простым вариантом split horizon. Если два маршрутизатора имеют указывающие друг на друга маршруты, анонсирование обратных маршрутов с метрикой 16 будет незамедлительно разрывать петли. Если обратные маршруты просто не анонсировать, для ошибочных маршрутов придется ждать тайм-аута. Однако вариант с анонсированием недоступности обратного маршрута (poisoned reverse) имеет недостаток – увеличивается размер маршрутных сообщений. Рассмотрим кампусную магистраль, соединенную со множеством зданий. В каждом здании имеется подключенный к магистрали маршрутизатор, связанный с ЛВС здания. Рассмотрим обновления, которые маршрутизаторы в широковещательном режиме рассылают через магистраль. Все, что требуется знать остальной части сети о каждом маршрутизаторе – это локальная сеть, с которой он соединен. При использовании простого расщепления горизонта в обновлениях будут появляться только те маршруты, которые маршрутизатор передает в магистральную сеть. Если использовать более сложный вариант расщепления горизонта (split horizon with poisoned reverse) маршрутизатор должен упомянуть все полученные из магистрали маршруты с метрикой 16. Если система достаточно велика, размер обновлений существенно возрастает и большинство записей в обновлениях показывают недоступность сетей.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">При статическом рассмотрении анонсирование обратных маршрутов с метрикой 16 не дает дополнительной информации. В широковещательных сетях с большим количеством маршрутизаторов дополнительные записи в обновлениях будут занимать существенную часть полосы. Однако такой расход полосы оправдан возможностью учета динамики состояния сети. При изменении топологии упоминание маршрутов, которые не должны проходить через маршрутизатор, вместе с теми, которые проходят через него, может ускорить схождение расчетов метрики. Однако в некоторых случаях администраторы предпочитают более медленное схождение в целях экономии полосы на рассылку обновлений. Таким образом, разработчикам целесообразно давать возможность выбора режима расщепления горизонта (простой или с анонсированием недоступности обратного пути) в качестве опции. Допустима и реализация гибридных схем, когда анонсируется недоступность (метрика 16) лишь для части обратных маршрутов. Примером такой схемы будет использование метрики 16 для обратных маршрутов в течение некоторого времени после изменения маршрутизации и отказ от таких анонсов по истечении времени.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Требования к маршрутизаторам, приведенные в работе [11], указывают, что все реализации RIP должны использовать расщепление горизонта и рекомендуется использовать split horizon with poisoned reverse, с возможностью отказа от этого режима.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font3 style=" line-height:11.52pt;"><b><i>3.4.4&nbsp; Обновления по событию - Triggered updates</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Расщепление горизонта с анонсированием недоступности обратного пути (Split horizon with poisoned reverse) будет предотвращать возникновение петель между парой маршрутизаторов. Однако возможны ситуации, когда в процесс</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:14.16pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:7.92pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:237.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:801.60pt;">
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">&laquo;взаимообмана&raquo; вовлечены три маршрутизатора. Например, маршрутизатор A может предполагать наличие маршрута через B, B через C, а C через A. Расщепление горизонта не может предотвратить возникновение таких петель. Для разрешения этой проблемы метрика должна сойтись к бесконечности и соответствующая сеть должна быть объявлена недоступной. Обновления по событию (triggered update) являются попыткой ускорить процесс схождения метрики. Для использования triggered update просто добавляется правило, по которому маршрутизатор, меняя метрику для пути, должен передать уведомление об этом, не дожидаясь времени штатной передачи обновления. Промежуток времени, по истечении которого должно передаваться такое уведомление, зависит от протокола. Некоторые протоколы на базе алгоритмов DV (в частности, RIP) требуют передавать обновление с небольшой задержкой, чтобы избежать значительного роста сетевого трафика. Рассмотрим, как это правило взаимодействует с правилами расчета новой метрики. Предположим, что путь от маршрутизатора в сеть N проходит через маршрутизатор G. Если обновление приходит непосредственно от G, принявший его маршрутизатор должен доверять полученной информации независимо от знака изменения метрики. Если в результате метрика изменяется, принявший обновление маршрутизатор будет передавать в связи с этим событием обновления (triggered updates) всем хостам и маршрутизаторам, непосредственно подключенным к нему. Каждый из получивших обновление узлов может передать его своим соседям. В результате возникает каскад обновлений. Легко увидеть, какие хосту и маршрутизаторы будут вовлечены в этот каскад. Предположим, что маршрутизатор G фиксирует тайм-аут для доступа в сеть N. В результатт через G. Таким образом, обновления по событию обратно по всем путям, полученным от маршрутизатора G, устанавливая для этого пути бесконечную метрику. Распространение обновлений прекратится как только они попадут в ту часть сети, откуда путь в N идет через другие маршрутизаторы.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify; text-indent:2.64pt;"><span class=font17 style=" line-height:11.28pt;">Если система сохраняет &laquo;спокойное&raquo; состояние, пока распространяется каскад обновлений, &laquo;вычисление бесконечности&raquo; никогда не потребуется. &laquo;Плохие&raquo; маршруты всегда будут незамедлительно удаляться и петель в маршрутизации возникать не может.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">К несчастью, в реальности все обстоит сложнее. Пока передаются обновления по событию, могут быть сгенерированы и переданы штатные (периодические - <i>прим. перев.</i>) обновления. Маршрутизаторы, еще не получившие обновления по событию, будут продолжать рассылку информации, содержащей недоступный маршрут. Возможно также после приема обновления по событию получение штатного обновления от маршрутизатора, который еще не получил обновления по событию. В результате этого статус недоступного маршрута может быть некорректно восстановлен (как доступного). Если обновления по событиям рассылаются часто, вероятность такого события становится достаточно большой. Однако возможность &laquo;вычисления бесконечности&raquo; сохраняется.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В требованиях к маршрутизаторам [11] сказано, что все реализации RIP должны поддерживать обновления по событию для удаленных маршрутов и могут также поддерживать такие обновления для новых или измененных маршрутов. Реализации RIP должны также ограничивать скорость, с которой могут передаваться обновления по событиям (см. параграф 3.10.1).</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4><b>3.5 Спецификация протокола</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Протокол RIP предназначен для обмена информацией, позволяющей рассчитать маршруты через сети на базе IPv4. Предполагается, что любой маршрутизатор, использующий RIP, имеет интерфейсы в одну или несколько [внешних] сетей (в противном случае, это устройство не является маршрутизатором). Будем называть такие сети подключенными напрямую (directly-connected). Протокол основан на доступе к некоторой информации о каждой из таких сетей. Наиболее важной информацией является метрика. RIP-метрика сети выражается целыми числами от 1 до 15, включительно. Ограничения значений метрики не являются частью данной спецификации. Обычно для метрики используется значение 1. Разработчики должны давать администраторам возможность устанавливать метрику для каждой сети. В дополнение к метрике каждая сеть будет иметь связанный с ней адрес [получателя] IPv4 и маску подсети. Эти параметры устанавливаются администратором сети, независимо от данной спецификации. Предполагается, что любой хост, использующий RIP, имеет интерфейс в одну или несколько сетей, которые называются подключенными напрямую (directly-connected). Протокол опирается на некую информацию о каждой из таких сетей. Наиболее важным параметром является метрика или &laquo;стоимость&raquo;. Метрика сети выражается целым числом от 1 до 15, включительно. Ограничения значений метрики не являются частью данной спецификации. Многие существующие реализации хостов используют метрику 1. В новых разработках администратору должна предоставляться возможность установки метрики для каждой сети. В дополнение к стоимости с каждой сетью связан номер сети IPv4 и маска подсети. Эти значения устанавливаются администратором независимо от данной спецификации.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Отметим, что правила, приведенные в параграфе 3.7, предполагают, что к каждой сети IPv4 применима только одна маска и маски известны только для подключенных напрямую сетей. Могут существовать системы, использующие различные маски подсетей в пределах одной сети. Кроме того, могут встречаться интерфейсы, для которых системе желательно знать маски удаленных сетей. Распространение в масштабах сети маршрутной информации, содержащей разные маски подсетей, допустимо, если все маршрутизаторы в сети поддерживают описанное в данном документе расширение. Однако если некоторые маршрутизаторы не поддерживают это расширение, рассылка информации, содержащей разные маски подсетей, должна быть ограничена во избежание проблем при взаимодействии маршрутизаторов. Правила распространения информации о подсетях приведены в параграфах 3.7 и 4.3. Предполагается, что каждый маршрутизатор, поддерживающий RIP, имеет таблицу маршрутизации. Эта таблица имеет одну запись для каждого адресата, достижимого через систему, использующую RIP. В каждой записи должны содержаться следующие сведения:</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:167.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:69.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.48pt;">
<div class=block style=" width:306.48pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0><a name="bookmark8"><b><u>П</u></b></a><b><u>еревод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:288.48pt;">
<div class=block style=" width:288.48pt; height:12.96pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 51.36pt; text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:386.16pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b><i>адрес </i>IPv4 для получателя;</span></div>
<div class=paragraph style=" padding:0.24pt 27.84pt 0.00pt 73.92pt; text-align:left; text-indent:-16.80pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>метрика, которая представляет общую стоимость доставки дейтаграммы от маршрутизатора к адресату (эта метрика представляет собой сумму стоимостей, связанных с каждой сетью на пути к адресату);</span></div>
<div class=paragraph style=" padding:0.24pt 28.08pt 0.00pt 73.92pt; text-align:left; text-indent:-16.80pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>адрес  IPv4  для  следующего  маршрутизатора  на пути к адресату  (next hop);  если  адресат  находится  в подключенной напрямую сети, этот параметр не требуется;</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 73.92pt; text-align:left; text-indent:-16.80pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>флаг, показывающий, что информация о маршруте была недавно изменена - его называют флагом изменения маршрута (route change flag);</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>различные таймеры, связанные с маршрутом (см. параграф 3.6).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Способ получения информации о подключенных напрямую сетях не оговаривается данной спецификацией. Метрика</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">для непосредственно подключенной сети устанавливается как стоимость этой сети (обычно 1). При использовании</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">единичной стоимости маршрутов метрика RIP сводится к подсчету интервалов (хопов). В более сложных случаях</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">метрика может учитывать параметры предпочтения той или иной сети (например, учитывать доступную полосу или</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">надежность доставки).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Для поддержки предложенный в данной спецификации расширений каждая запись должна содержать также маску</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">подсети. Маски (вместе с адресом IPv4 для получателя) позволяют маршрутизатору идентифицировать различные</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">подсети в одной сети, а также учитывать маски удаленных подсетей.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Разработчики могут также предоставить администратору возможность ввода дополнительных маршрутов. Скорей</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">всего, это будут маршруты к хостам или сетям за пределами видимости системы маршрутизации. Такие маршруты</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">называют статическими (static route). Записи для адресатов сверх тех, которые указаны изначально, добавляются и</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.40pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">удаляются с использованием описанных ниже алгоритмов.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Для того, чтобы предоставить полные сведения о маршрутизации, каждый маршрутизатор в автономной системе AS</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">должен участвовать в работе протокола. В тех случаях, когда используется множество протоколов IGP, по крайней</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">мере, один маршрутизатор должен транслировать информацию между разными протоколами.</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4><b>3.6 Формат сообщения</b></span></div>
<div class=paragraph style=" padding:0.24pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Работа протокола RIP основана на транспортном протоколе UDP. Каждый маршрутизатор, использующий протокол RIP, включает в себя процесс маршрутизации, который передает и принимает дейтаграммы UDP через порт 520, выделенный для протоколов RIP-1/RIP-2. Весь обмен данными с процессами RIP на других маршрутизаторах осуществляется через порт RIP и через этот же порт передаются все обновления RIP. Незапрошенные анонсы обновления маршрутов передаются с использованием порта RIP у отправителя и получателя. Обновления, передаваемые по запросу, отправляются с использованием того же порта, в который был адресован запрос. Некоторые специфические запросы могут передаваться с использованием портов, отличных от RIP, но они должны быть направлены в порт RIP адресата. <u>Формат пакетов RIP показан на рисунке</u><a href="rfc2453.htm#bookmark22"><sup>8</sup></a><u>:</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" rowspan="3" valign="top" style=" width:525.36pt;">
<div class=block style=" width:474.24pt; height:162.96pt; padding:0.00pt 0.00pt 0.00pt 51.12pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:474.24pt; height:162.96pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:88.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:59.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:148.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:148.56pt;">
<div class=block style=" width:148.56pt; height:12.24pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>0</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:147.84pt;">
<div class=block style=" width:147.84pt; height:12.24pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font17>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:12.24pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:12.24pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt;">
<div class=block style=" width:118.80pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15 style=" letter-spacing:4.10pt;">0|1|2|3|4|5|6|7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font15>8  <b>|  </b>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:88.56pt;">
<div class=block style=" width:88.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0  <b>|   </b>1   <b>|  </b>2  <b>|  </b>3  <b>|  </b>4  <b>|  </b>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:59.28pt;">
<div class=block style=" width:59.28pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font15>6  <b>|  </b>7  <b>|  </b>8  <b>|  </b>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15 style=" letter-spacing:4.20pt;">0|1|2|3|4|5|6|7|8|9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.96pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0  <b>|   </b>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt;">
<div class=block style=" width:118.80pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Команда (1)</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:118.32pt;">
<div class=block style=" width:118.32pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Версия (1)</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Должно иметь нулевое значение (2)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:34.80pt;">
<div class=paragraph style=" padding:10.56pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Запись RIP (20)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font17>Количество записей RIP может меняться от 1 до 25 (включительно). Записи RIP-1 имеют формат:</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:148.56pt;">
<div class=block style=" width:148.56pt; height:12.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>0</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:147.84pt;">
<div class=block style=" width:147.84pt; height:12.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font17>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:12.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:12.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:148.56pt;">
<div class=block style=" width:148.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font15 style=" letter-spacing:4.20pt;">0|1|2|3|4|5|6|7|8|9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:88.56pt;">
<div class=block style=" width:88.56pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0  <b>|   </b>1   <b>|  </b>2  <b>|  </b>3  <b>|  </b>4  <b>|  </b>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:59.28pt;">
<div class=block style=" width:59.28pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font15>6  <b>|  </b>7  <b>|  </b>8  <b>|  </b>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15 style=" letter-spacing:4.20pt;">0|1|2|3|4|5|6|7|8|9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:9.84pt;">
<div class=paragraph style=" padding:0.24pt 0.96pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0  <b>|   </b>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.00pt;">
<div class=paragraph style=" text-align:center;"><span class=font17>Идентификатор семейства адресов (2)</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Должно иметь нулевое значение (2)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Адрес IPv4 (4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Должно иметь нулевое значение (4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Должно иметь нулевое значение (4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:12.24pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Метрика (4)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:88.56pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:59.28pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:148.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:69.60pt;">
<div class=block style=" width:69.60pt; height:92.40pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>| </b><u>2</u><span class=font1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><b>| </b><u>3</u></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font15>Биты</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:69.60pt;">
<div class=block style=" width:69.60pt; height:69.60pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font15>Биты</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:69.60pt;">
<div class=block style=" width:69.60pt; height:0.96pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:205.68pt;">
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Размеры полей приведены в октетах. Если явно не указано иное, значения полей трактуются как беззнаковые целые числа с нормальной (big-endian) записью, когда старший бит указывается слева.</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Каждое сообщение содержит заголовок RIP, включающий идентификатор команды и номер версии. В данном параграфе рассматриваются заголовки для первой версии протокола, а заголовки новой версии описаны в параграфе 4. Поле команды показывает цель данного сообщения и может принимать два значения:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>1&nbsp;– запрос </b>(request) на получение таблицы маршрутизации или ее части;</span></div>
<div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>2&nbsp; – отклик </b>(response), содержащий запрошенную таблицу маршрутизации или ее часть; это сообщение может передано в ответ на запрос или как незапрошенное (unsolicited) обновление таблицы маршрутизации. Для каждого типа сообщений протокола версии 1 оставшаяся часть дейтаграммы содержит список маршрутных записей (Route Entry или RTE). Каждая RTE-запись в этом списке содержит идентификатор семейства адресов (Address Family Identifier или AFI), адрес получателя (IPv4) и стоимость доставки (метрику). Поле AFI указывает тип адреса и для RIP-1 может принимать единственное значение AF_INET = 2. Поле метрики может содержать значения от 1 до 15 (включительно), показывающие &laquo;стоимость&raquo; доставки информации адресату, или значение 16 (бесконечность), говорящее о недоступности адресата.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font4><b>3.7 Адресация</b></span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Маршрутизация на основе дистанции (стоимости) может использоваться для описания путей к отдельным хостам или сетям. Протокол RIP позволяет использовать любую из этих возможностей. Отправителями (адресами) в запросах и</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:17.04pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font16><a name="bookmark22"><sup>8</sup></a> <u>В скобках указано число октетов (байтов) в каждом поле. <i>Прим. перев.</i></u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.48pt;">
<div class=block style=" width:306.48pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:51.36pt;">
<div class=block style=" width:51.36pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>9</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 110.88pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:306.48pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:51.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:167.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:69.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:12.96pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:796.08pt;">
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.56pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">откликах могут быть сети, хосты или специальные коды, используемые для индикации принятых по умолчанию адресов. В общем случае тип реально используемого маршрута будет зависеть от стратегии маршрутизации, принятой в конкретной сети. Во многих сетях устанавливается такой режим, что маршрутная информация для отдельных хостов не требуется. Если каждый узел данной сети или подсети доступен по одному маршруту, нет причин включать информацию о хостах в таблицы маршрутизации. Однако сети на базе каналов &laquo;точка-точка&raquo; иногда требуют от маршрутизаторов сохранения путей к некоторым узлам. Актуальность этого требования зависит от используемой в системе адресации и маршрутизации. Таким образом, некоторые системы могут не поддерживать маршруты к отдельным хостам. Если маршруты к хостам не поддерживаются при получении откликов такие маршруты будут отбрасываться (см. параграф 3.7.2).</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font18 style=" line-height:24.24pt;">В форм™ типы.адре <b>п</b>oсов&laquo;не различаются и поле адреса <b>o</b>мож<b>,^.<sup>c</sup>Zr<sup>T</sup>„</b>ь<b>„ ,&raquo;™„ „„.,</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Предполагается, что объекты, использующие RIP-1 применяют наиболее конкретную (specific) информацию, которая доступна при маршрутизации дейтаграмм. Т. е., при маршрутизации дейтаграмм адрес получателя должен сначала сравниваться со списком адресов узлов, потом подсетей и, наконец, сетей. Если не найдено соответствия, используется принятый по умолчанию маршрут.</span></div>
<div class=paragraph style=" padding:0.24pt 56.16pt 0.00pt 28.08pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Когда узел оценивает информацию, полученную с помощью RIP-1, интерпретация адреса зависит от наличия информации о применимой маске подсети. Если маска известна, можно определить смысл адреса. Возьмем для примера сеть 128.6 и маску 255.255.255.0. В этом случае 128.6.0.0 будет номером сети, 128.6.4.0 - номером подсети, а 128.6.4.1 - адресом хоста. Однако при отсутствии маски оценка адреса может быть неоднозначной. Если связанная с узлом часть отлична от нуля, не существует способа отличить номер подсети от адреса хоста. Поскольку номер подсети без маски ценности не представляет, в таких ситуациях предполагается, что адрес относится к хосту. Чтобы избавиться от неоднозначностей такого сорта при использовании протокола версии 1, узлы не должны передавать маршруты в подсети тем узлам, про которые нельзя с уверенностью предположить, что им известна маска подсети. Следовательно, при отсутствии специальных мер маршруты в подсети не должны передаваться за пределы сети, частью которой является данная подсеть. Протокол RIP-2 (см. параграф 4) избавляет от неоднозначностей хост/подсеть путем включения маски подсети в маршрутную запись.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.56pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Такая &laquo;фильтрация подсетей&raquo; выполняется маршрутизаторами на &laquo;границе&raquo; сети, разбитой на подсети. Эти маршрутизаторы подключены к данной сети и каким-то другим сетям. В сети, разбитой на подсети, каждая из подсетей трактуется как отдельная сеть. Обмен маршрутными записи для подсетей осуществляется с помощью RIP. Однако пограничные маршрутизаторы передают только одну запись для все сети во внешние сети. Это означает, что пограничный маршрутизатор передает разную информацию в разные сети. Для соседей, подключенных к сети с подсетями, генерируется список всех подсетей, к которым маршрутизатор подключен напрямую, с использованием номеров подсетей. Соседям, подключенным к другим сетям, передается единственная запись для сети в целом, содержащая метрику, которая связана с этой сетью. Эта метрика обычно меньше метрики для подсетей, к которым маршрутизатор подключен.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Аналогично сказанному, пограничные маршрутизаторы не должны указывать на маршруты к хостам для узлов одной из подключенных напрямую сетей в сообщения для других сетей. Эти маршруты включаются (суммируются) в запись для сети, как целого.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.56pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Требования к маршрутизаторам [11] указывают, что все реализации RIP должны поддерживать маршруты к хостам, но если они не делают этого, они должны игнорировать все принимаемые маршруты к хостам.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Специальный адрес 0.0.0.0 используется для обозначения принятого по умолчанию маршрута. Этот маршрут используется в тех случаях, когда неудобно включать каждую подходящую сеть в обновления RIP и когда один или несколько близко расположенных маршрутизаторов в системе подготовлены для обслуживания трафика в сети, которые не указаны явно. Эти маршрутизаторы должны создавать записи RIP для адреса 0.0.0.0, как будто это непосредственно подключенная сеть. Способ, который используется для создания таких записей, могут выбирать разработчики. В общем случае администратору сети предоставляется возможность указать, какой маршрутизатор должен создать запись для 0.0.0.0, однако возможны и другие механизмы. Например, разработчики могут решить, что любой маршрутизатор, использующий BGP, должен декларироваться как используемый по умолчанию. Такой подход может быть полезен, поскольку позволяет администратору выбрать метрику для использования в подобных записях. Если существует несколько принятых по умолчанию маршрутизаторов, можно задать для них предпочтения. Записи для 0.0.0.0 обрабатываются протоколом RIP точно так же, как это происходило бы для реальной сети с таким адресом. Администратор должен принять меры против распространения маршрутов в сеть 0.0.0.0 дальше, чем следует. В общем случае каждая автономная система имеет свой предпочтительный маршрут для использования по умолчанию. Таким образом, маршруты, включающие 0.0.0.0, в общем случае не должны пересекать границ автономной системы. Реализация этого требования не рассматривается в данном документе.</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font4><b>3.8 Таймеры</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">В этом параграфе рассматриваются все события, активизируемые по таймеру.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Каждые 30 секунд процесс RIP активизируется для передачи незапрашиваемых откликов (Response), содержащих полную таблицу маршрутизации (см. параграф 3.4.3, расщепление горизонта), каждому из соседних маршрутизаторов. При наличии в сети большого числа маршрутизаторов существует тенденция синхронизировать их между собой для одновременной передачи обновлений. Это может произойти в результате воздействия загрузки системы на отсчет 30-секундных интервалов для передачи периодических обновлений. Синхронизация обновлений нежелательна, поскольку она может приводить к многочисленным коллизиям в широковещательных сетях. Следовательно, разработчики должны принять меры предосторожности:</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 45.60pt; text-align:left; text-indent:-16.80pt;"><span class=font17 style=" line-height:11.28pt;"><b>•     </b>отсчет 30-секундных интервалов должен вестись по часам, на которые не влияет уровень загрузки системы и время обработки предыдущего обновления;</span></div>
<div class=paragraph style=" padding:21.36pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>10</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:164.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.24pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:760.32pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font0><a name="bookmark10"><b><u>П</u></b></a><b><u>еревод 
          RFC 2453</u>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span></div>
<div class=paragraph style=" padding:1.44pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>30-секундный интервал изменяется на незначительную величину (+/- 0 - 5 сек) всякий раз при установке таймера<a href="rfc2453.htm#bookmark23"><sup>9</sup>. </a>С каждым маршрутом связаны два таймера - timeout (тайм-аут) и garbage-collection (сборка мусора). По истечении тайм-аута маршрут считается недоступным, однако он сохраняется в таблице еще некоторое время, чтобы соседи могли быть уведомлены о недоступности маршрута. При наступлении времени сборки мусора маршрут удаляется из таблицы маршрутизации.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Отсчет тайм-аута начинается при организации маршрута и каждом обновлении, полученном для этого маршрута. Если с момента после последней инициализации тайм-аута прошло 180 секунд, маршрут объявляется недоступным и начинается процесс его удаления, описанный ниже.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Удаление маршрута может произойти в двух случаях - по тайм-ауту и в результате установки для метрики значения 16 на основании обновлений, принятый от текущего маршрутизатора (см. обсуждение вопроса обработки обновлений от других маршрутизаторов в параграфе 3.7.2). В обоих случаях выполняются следующие действия:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>устанавливается таймер сбора мусора (120 секунд);</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>для маршрута устанавливается метрика 16 (бесконечность) в результате чего маршрут перестает обслуживаться;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp;</b>устанавливается флаг смены маршрута, показывающий изменение записи;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>запускается процесс активизации отклика.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Пока  не   наступит   время  сборки   мусора   (garbage-collection  timer),   маршрут  продолжает  включаться  во   все</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">передаваемые маршрутизатором обновления. По истечении времени (120 сек.) маршрут окончательно удаляется из</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">таблицы.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Если в процессе ожидания времени сбора мусора взамен утраченного организован новый маршрут в ту же сеть,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">таймер garbage-collection сбрасывается.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Для обновления по событиям используется отдельный таймер, описанный в параграфе 3.9.1.</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4><b>3.9 Обработка входящей информации</b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">В этом параграфе рассматривается обработка дейтаграмм, принимаемых портом RIP. Процесс обработки зависит от значения поля команды в дейтаграммах. Зависимость процесса обработки от номера версии описана в параграфах 4.6 и 5.1.</span></div>
<div class=paragraph style=" padding:5.52pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4 style=" letter-spacing:-0.70pt;"><b><i>3.9.1</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;</i></b></span><b><i>Запросы</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.88pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Запросы (Request) используются для получения от маршрутизатора сообщений, содержащих таблицу маршрутизации или ее часть. Обычно запросы передаются в широковещательном режиме (групповая адресация RIP-2) через порт RIP маршрутизаторами, которые недавно инициализированы и хотят как можно быстрее заполнить свою таблицу маршрутизации. Однако могут возникать ситуации (например, мониторинг маршрутизатора) когда требуется получить таблицу от единственного маршрутизатора. В таких случаях запрос адресуется напрямую нужному маршрутизатору через порт UDP, отличный от порта RIP. При получении такого запроса маршрутизатор отправляет ответ с использованием адреса и номера порта из принятого запроса.</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.40pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Запросы обрабатываются последовательно - запись за записью. Если запрос не содержит ни одной записи, отклика на такой запрос не передается. Существует один специальный случай для запросов. Если в запросе имеется единственная запись, идентификатор семейства адресов имеет нулевое значение, а метрика бесконечна (16), этот запрос требует передачи всей таблицы маршрутизации. В таких случаях активизируется процесс передачи полной таблицы маршрутизации с использованием адреса и порта из принятого запроса. За исключением этого специального случая обработка запросов достаточно проста. Последовательно просматривается список RTE (маршрутных записей) в запросе и для каждой записи находится получатель в базе данных маршрутизатора. Если искомый маршрут найден, его метрика помещается в соответствующее поле RTE. Если по искомому адресу нет явного маршрута, в поле метрики указывается бесконечное значение (16). После просмотра всех записей значение поля команды изменяется на Response (отклик) и дейтаграмма возвращается отправителю запроса.</span></div>
<div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Отметим, что при обработке запросов на передачу всей таблицы маршрутизации ситуация несколько меняется. Для таких запросов выполняется обычная обработка, включая Split Horizon (см. параграф 3.4.3, расщепление горизонта). Если же обрабатывается запрос для отдельных записей, они отыскиваются в таблице и возвращаются в исходном состоянии, т. е. Без использования Split Horizon. Причина этого состоит в том, что явно различаются цели запросов. При загрузке маршрутизатора он передает запросы с использованием групповых адресов во все подключенные к маршрутизатору сети для получения полных таблиц маршрутизации. Предполагается, что полученные таблицы будут использоваться для обновления таблицы маршрутизации запрашивающего маршрутизатора. В этом случае требуется выполнение Split Horizon. Для остальных случаев предполагается, что запрос сделан диагностическими программами и не будет использоваться для обновления таблиц. В этом случае запрашивающий маршрутизатор хочет точно знать содержимое таблицы маршрутизации и не хочет, чтобы информация пряталась или изменялась.</span></div>
<div class=paragraph style=" padding:5.52pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font4 style=" letter-spacing:-0.60pt;"><b><i>3.9.2</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;</i></b></span><span style=" letter-spacing:-0.80pt;"><b><i>Отклики</i></b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Получение откликов (Response) может быть вызвано несколькими причинами:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; &nbsp; &nbsp; </b>переданный ранее запрос;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; &nbsp; &nbsp; </b>периодическое обновление (unsolicited response - незапрашиваемый отклик);</span></div>
<div class=paragraph style=" padding:0.00pt 260.64pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; &nbsp; &nbsp; </b>обновление по событию (в результате изменения маршрута). Обработка откликов не зависит от вызвавшей их причины.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Поскольку обработка отклика может привести к изменению таблицы маршрутизации, для принятых откликов требуется тщательная проверка. Отклики, принятые из порта, отличного от RIP, должны игнорироваться. Адрес отправителя IPv4 должен проверяться на предмет отправки дейтаграммы непосредственным (и допустимым) соседом - адрес отправителя отклика должен принадлежать подключенной напрямую к маршрутизатору сети. Должна также</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:25.20pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 61.92pt; text-align:left;"><span class=font16><a name="bookmark23"><u>Н</u></a><u>едавние исследования [10] показали допустимость и больших вариаций периода рассылки обновлений.</u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt;">
<div class=block style=" width:303.84pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:164.88pt;">
<div class=block style=" width:164.88pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>11</b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:126.24pt;">
<div class=block style=" width:126.24pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:303.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:164.88pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:126.24pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:12.96pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.40pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:796.08pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">производиться проверка на предмет получения  отклика непосредственно  от  одного  из  интерфейсов данного</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">маршрутизатора.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Интерфейсы в широковещательные сети могут получать копии своих пакетов, переданных с широковещательным или</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">групповым адресом. Если маршрутизатор будет обрабатывать такие сообщения, это приведет к путанице, поэтому их</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">следует игнорировать.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">После проверки дейтаграммы в целом, в отклике последовательно обрабатываются маршрутные записи RTE. Сначала</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">проверяется корректность записи на предмет обнаружения ошибок форматирования (обычно такие ошибки говорят о</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">некорректности   настроек   и   должны   привлекать   внимание   администратора).   Например,   записи   с   метрикой,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">превышающей 16 (бесконечность), должны игнорироваться с записью в журнал. Базовые операции проверки записей</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.56pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">перечислены ниже:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>корректность адреса получателя;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>корректность значения метрики (от 1 до 16, включительно)</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Если запись не проходи какую-либо из проверок, она должна игнорироваться с переходом к проверке следующей записи. Хорошим тоном является запись в журнал фактов игнорирования записей.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">После завершения проверки записи обновляется значение метрики путем добавления стоимости сети, из которой принято обновление. Если результирующая метрика превышает бесконечное значение, устанавливается метрика 16:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.08pt; text-align:left;"><span class=font10><b>metric = MIN (metric + cost, infinity)</b></span></div>
<div class=paragraph style=" padding:0.96pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">После этого проверяется наличие явного маршрута для данного адресата. Если такой записи нет в таблице, она добавляется, если метрика для нее не имеет бесконечного значения (нет смысла добавлять недоступные маршруты в таблицу). Процесс добавления записи в таблицу включает:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp;</b>установку для адреса получателя одноименного значения из RTE;</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp;</b>установку в поле метрики полученного в результате расчета значения;</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 44.64pt; text-align:left; text-indent:-15.84pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp;</b>установку   в   поле   next  hop   (следующий  маршрутизатор)   адреса  маршрутизатора,   от  которого   получено обновление;</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 44.64pt; text-align:left; text-indent:-15.84pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>инициализацию отсчета тайм-аута (если уже включен таймер сбора мусора, он останавливается, как описано в параграфе 3.6);</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp;</b>установку флага изменения маршрута;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>активизацию процесса для инициирования обновления (см. параграф 3.8.1)</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.08pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Если маршрут уже присутствует в таблице, сравнивается значение поля next hop с адресом маршрутизатора, от которого получена дейтаграмма. Если дейтаграмма пришла от указанного в записи маршрутизатора, отсчет тайм-аута для маршрута начинается заново. После этого проверяется значение метрики. Если дейтаграмма принята от указанного в таблице маршрутизатора и метрика отличается от имеющегося значения, или новая метрика меньше старой (независимо от передавшего ее маршрутизатора), выполняются перечисленные ниже операции:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>в таблицу вносятся изменения (т. е., корректируется метрика и при необходимости изменяется поле next hop);</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>Устанавливается флаг изменения маршрута и активизируется процесс инициирования обновления;</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 44.64pt; text-align:left; text-indent:-15.84pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>Если новая метрика бесконечна, активизируется процесс удаления записи, описанный выше, в остальных случаях сбрасывается отсчет тайм-аута.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Если новая метрика бесконечна, инициируется процесс удаления маршрута, который больше не используется для пересылки пакетов. Отметим, что процесс удаления инициируется только при первоначальной установке бесконечной метрики. Если метрика уже была бесконечной, новый процесс удаления не запускается.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Если новая метрика совпадает со старой, никаких операций не выполняется, за исключением сброса отсчета тайм-аута, как указано выше. Однако при обработке таких ситуаций существуют определенные тонкости. Обычно не имеет смысла заменять маршрут, если у нового такая же метрика - это будет приводить к неоправданной рассылке обновлений по событию (triggered update). Однако, если для существующего маршрута близок к завершению отсчет тайм-аута, разумно будет заменить этот маршрут равным по стоимости маршрутом, не дожидаясь тайм-аута. Следовательно, при совпадении метрики нового и старого маршрутов целесообразно проверить счетчик тайм-аута. Если прошло более половины заданного времени, имеет смысл переключиться на новый маршрут. Такое решение не является обязательным, но рекомендуется его использовать.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Любая запись, не прошедшая перечисленных проверок, игнорируется (считается, что она не имеет преимуществ перед используемым маршрутом).</span></div>
<div class=paragraph style=" padding:6.48pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font4><b>3.10 Обработка исходящей информации</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В этом параграфе описываются процессы создания откликов, которые содержат всю таблицу маршрутизации или ее часть. Генерация отклика может быть инициирована любым из перечисленных ниже событий:</span></div>
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 28.80pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>получение запроса (Request), как описано в параграфе 3.7.1;</span></div>
<div class=paragraph style=" padding:0.00pt 56.88pt 0.00pt 44.64pt; text-align:left; text-indent:-15.84pt;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>регулярное обновление (рассылается с использованием групповых или широковещательных адресов каждые 30 секунд);</span></div>
<div class=paragraph style=" padding:0.24pt 56.40pt 0.00pt 28.56pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; </b>обновление по событию (рассылка изменений с использованием группового или широковещательного адреса). Когда отклик (Response) посылается всем соседям (периодическое обновление или обновление по событию), сообщение адресуется удаленному маршрутизатору для каждого соединения &laquo;точка-точка&raquo; или передается в широковещательном режиме (групповая адресация в RIP-2) во все подключенные сети, поддерживающие широковещание. Таким образом, один отклик подготавливается для каждой подключенной напрямую сети и передается по соответствующему адресу (прямая адресация или широковещательный/групповой адрес). В большинстве случаев этого достаточно для доставки отклика всем соседним маршрутизаторам. Однако в некоторых ситуациях могут потребоваться дополнительные действия. В числе адресатов могут оказаться сети, не поддерживающие широковещания (например, the ARPANET) или &laquo;тупые&raquo; (dumb) маршрутизаторы. В таких случаях может потребоваться указание списка соседних маршрутизаторов и явная адресация дейтаграмм каждому из них.</span></div>
<div class=paragraph style=" padding:21.36pt 0.00pt 0.00pt 29.04pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><span style=" color:rgb(0,0,0);"><b>12</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:459.36pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:357.84pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:167.52pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:69.60pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:9.12pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:357.84pt;"> <div class=block style=" width:357.84pt; height:12.96pt;"> 
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0><a name="bookmark1"><b><u>П</u></b></a><b><u>еревод 
          RFC 2453</u></b></span></div>
      </div></td>
    <td class=cell colspan="2" valign="top" style=" width:237.12pt;">&nbsp;</td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:2.40pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:542.40pt;"> 
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.76pt;">Разработчики 
          должны сами определять необходимость использования такого механизма 
          и способ указания списка соседних маршрутизаторов.</span></div>
        <div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font3><b><i>3.10.1&nbsp;Обновления 
          по событию - Triggered Updates</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Обновления 
          по событию (Triggered update) требуют специальной обработки по двум 
          причинам. Во-первых, опыт показывает, что такие обновления могут приводить 
          к перегрузке сетей с низкоскоростными каналами или большим числом маршрутизаторов. 
          Следовательно, разработчики должны принимать меры по ограничению частоты 
          обновлений по событию. После передачи такого обновления требуется установить 
          таймер на случайный промежуток времени в диапазоне от 1 до 5 секунд. 
          Если до истечения этого времени произойдут события, которые должны инициировать 
          дополнительные обновления по событию, передается единственное обновление 
          по истечении заданного времени и таймер снова устанавливается для отсчета 
          случайного времени от 1 до 5 секунд. Обновления по событиям не должны 
          передаваться, если наступило время генерации периодического обновления.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Во-вторых, 
          в обновления по событию не требуется включать таблицу маршрутизации 
          целиком. Следовательно, сообщения, генерируемые как часть обновления 
          по событию, должны включать по крайней мере те записи, для которых установлен 
          флаг изменения маршрута. В обновления могут также включаться другие 
          записи по усмотрению разработчика, однако передача таблиц целиком строго 
          запрещена. При обработке обновлений по событию должно генерироваться 
          сообщение для каждой подключенной напрямую сети. Операции Split Horizon 
          для генерации обновлений по событию используются так же, как для периодических 
          обновлений (см. параграф 3.9). Если после обработки Split Horizon для 
          данной сети обновленный маршрут будет появляться в сети неизмененным 
          (например, с бесконечной метрикой), такой маршрут не должен передаваться. 
          Если в сеть не требуется передавать измененных маршрутов, обновление 
          для этой сети можно опустить. После генерации всех обновлений по событию 
          флаг изменения маршрута следует снять.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Если 
          во время обработки исходящей информации допускается обработка входящих 
          сообщений, должна быть организована соответствующая блокировка. Флаг 
          изменения маршрута не должен меняться в результате обработки входной 
          информации, пока не будет завершена генерация обновлений по событию.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Единственной 
          разницей между обновлениями по событию и прочими обновлениями является 
          возможность исключения неизмененных маршрутов из обновлений по событию. 
          Остальные механизмы, описанные ниже, применимы ко всем типам обновлений.</span></div>
        <div class=paragraph style=" padding:6.24pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font3><b><i>3.10.2&nbsp; 
          Генерация откликов</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">В 
          этом параграфе описана генерация отклика для отдельной сети с прямым 
          подключением:</span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 79.68pt; text-align:left; text-indent:-16.56pt;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>установка номера версии 1 или 2 (механизм выбора номера 
          версии зависит от конкретной реализации, однако в откликах на запрос 
          номер версии должен совпадать с номером версии в запросе);</span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>установка значения Response (отклик) в поле команды;</span></div>
        <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 63.12pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>установка нулевого значения для следующего поля;</span></div>
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 79.68pt; text-align:left; text-indent:-16.56pt;"><span class=font17 style=" line-height:11.52pt;"><b>•&nbsp; 
          &nbsp; &nbsp; </b>заполнение записей RTE (число записей в отклике не 
          должно превышать 25 - если реально требуется передать большее число 
          записей, следует генерировать несколько обновлений).</span></div>
        <div class=paragraph style=" padding:0.00pt 27.84pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">При 
          заполнении полей RTE проверяется каждый маршрут в таблице. Если генерируется 
          обновление по событию, следует включать только записи с установленным 
          флагом изменения маршрута. Если после обработки Split Horizon маршрут 
          не следует включать в обновление, опустите его. Если маршрут включается 
          в обновление, значения метрики и адреса получателя должны быть скопированы 
          в RTE. Маршруты с бесконечной метрикой также должны включаться в дейтаграммы.</span></div>
        <div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font6 style=" letter-spacing:-0.60pt;"><b><i>4. 
          Расширения протокола</i></b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">В 
          этом параграфе описываются не изменения протокола RIP, а расширение 
          формата сообщений, которое позволяет маршрутизаторам совместно использовать 
          важную информацию.</span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">В 
          сообщениях RIP-1 и RIP-2 используются заголовки одного формата (см. 
          параграф 3.4). Формат 20-октетных записей <u>RTE для RIP-2 показан ниже:</u><b>_________________________________________________________________</b></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="2" rowspan="2" valign="top" style=" width:525.36pt;"> 
      <div class=block style=" width:474.24pt; height:82.08pt; padding:0.00pt 0.00pt 0.00pt 51.12pt;"> 
        <table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:474.24pt; height:82.08pt;">
          <tr class=row> 
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:29.28pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:119.28pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:88.56pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:59.28pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:118.32pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:29.76pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:29.76pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell colspan="2" valign="top" style=" width:148.56pt;"> 
              <div class=block style=" width:148.56pt; height:12.24pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>0</span></div>
              </div></td>
            <td class=cell colspan="2" valign="top" style=" width:147.84pt;"> 
              <div class=block style=" width:147.84pt; height:12.24pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 6.48pt; text-align:left;"><span class=font17>1</span></div>
              </div></td>
            <td class=cell colspan="2" valign="top" style=" width:148.08pt;"> 
              <div class=block style=" width:148.08pt; height:12.24pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>2</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:29.76pt;"> <div class=block style=" width:29.76pt; height:12.24pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>3</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell valign="top" style=" width:29.28pt;"> <div class=block style=" width:29.28pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0 
                  <b>| </b>1</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:119.28pt;"> <div class=block style=" width:119.28pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font15 style=" letter-spacing:4.15pt;">2|3|4|5|6|7|8|9</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:88.56pt;"> <div class=block style=" width:88.56pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.24pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0 
                  <b>| </b>1 <b>| </b>2 <b>| </b>3 <b>| </b>4 <b>| </b>5</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:59.28pt;"> <div class=block style=" width:59.28pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.24pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font15>6 
                  <b>| </b>7 <b>| </b>8 <b>| </b>9</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:118.32pt;"> <div class=block style=" width:118.32pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font15 style=" letter-spacing:4.15pt;">0|1|2|3|4|5|6|7</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:29.76pt;"> <div class=block style=" width:29.76pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15>8 
                  <b>| </b>9</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:29.76pt;"> <div class=block style=" width:29.76pt; height:9.60pt;"> 
                <div class=paragraph style=" padding:0.24pt 0.96pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0 
                  <b>| </b>1</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell colspan="3" valign="top" style=" width:237.12pt;"> 
              <div class=block style=" width:237.12pt; height:12.00pt;"> 
                <div class=paragraph style=" text-align:center;"><span class=font17>Идентификатор 
                  семейства адресов (2)</span></div>
              </div></td>
            <td class=cell colspan="4" valign="top" style=" width:237.12pt;"> 
              <div class=block style=" width:237.12pt; height:12.00pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Тег 
                  маршрута (2)</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell colspan="7" valign="top" style=" width:474.24pt;"> 
              <div class=block style=" width:474.24pt; height:12.00pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Адрес 
                  IP (4)</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell colspan="7" valign="top" style=" width:474.24pt;"> 
              <div class=block style=" width:474.24pt; height:12.00pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Маска 
                  подсети (4)</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell colspan="7" valign="top" style=" width:474.24pt;"> 
              <div class=block style=" width:474.24pt; height:12.00pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Следующий 
                  маршрутизатор – Next Hop (4)</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row valign="top"> 
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
            <td class=cell colspan="7" valign="top" style=" width:474.24pt;"> 
              <div class=block style=" width:474.24pt; height:12.24pt;"> 
                <div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Метрика 
                  (4)</span></div>
              </div></td>
            <td class=cell valign="top" style=" width:0.00pt;"> </td>
          </tr>
          <tr class=row> 
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:29.28pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:119.28pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:88.56pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:59.28pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:118.32pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:29.76pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:29.76pt; height:0.00pt;"> 
            </td>
            <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> 
            </td>
          </tr>
        </table>
      </div></td>
    <td class=cell valign="top" style=" width:69.60pt;"> <div class=block style=" width:69.60pt; height:81.12pt;"> 
        <div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;"><b>___ 
          </b><u>1</u><span class=font1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><b>| 
          </b><u>2</u><span class=font1>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><b>| 
          </b><u>3</u></span></div>
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.52pt; text-align:left;"><span class=font15>Биты</span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:69.60pt;"> <div class=block style=" width:69.60pt; height:0.96pt;"> 
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:174.72pt;"> 
        <div class=paragraph style=" padding:0.00pt 28.32pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Поля 
          идентификатора семейства адресов (Address Family Identifier), IP-адреса 
          и метрики описаны в параграфе 3.4. Поле версии должно содержать значение 
          2 для сообщений RIP, использующих аутентификацию или содержащих информацию 
          в полях, которые не были определены для версии 1.</span></div>
        <div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font3><b>4.1 
          Аутентификация</b></span></div>
        <div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Поскольку 
          функции аутентификации должны выполняться на уровне каждого сообщения, 
          а в заголовке сообщения имеется лишь два свободных октета, тогда как 
          для любой схемы аутентификации требуется больший объем сведений, система 
          аутентификации протокола RIP версии 2 использует для хранения информации 
          записи RIP. Если идентификатор семейства адресов (Address Family Identifier) 
          первого (и только первого) элемента в сообщении имеет значение 0xFFFF, 
          оставшаяся часть сообщения содержит сведения для аутентификации. Это 
          означает, что для аутентификации может использоваться до 24 записей 
          24 RIP в оставшейся части сообщения. Если аутентификация не используется, 
          поле идентификатора семейства адресов не должно принимать значение 0xFFFF. 
          Сообщения RIP с использованием аутентификации будут иметь следующий 
          формат:</span></div>
        <div class=paragraph style=" padding:12.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          </b></span><span style=" color:rgb(0,0,0);"><b>13&nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row valign="top"> 
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
    <td class=cell colspan="3" valign="top" style=" width:594.96pt;"> <div class=block style=" width:594.96pt; height:18.24pt;"> 
        <div class=paragraph> </div>
      </div></td>
    <td class=cell valign="top" style=" width:0.00pt;"> </td>
  </tr>
  <tr class=row> 
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:357.84pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:167.52pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:69.60pt; height:0.00pt;"> </td>
    <td class=cell valign="top" style=" width:0.00pt; height:0.00pt;"> </td>
  </tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:99.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:440.40pt;">
<div class=block style=" width:440.40pt; height:12.72pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:154.56pt;">
<div class=block style=" width:154.56pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 18.96pt; text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:540.24pt;">
<div class=block style=" width:517.44pt; height:81.60pt; padding:0.00pt 0.00pt 0.00pt 22.80pt;">
<table class=main frame="box" rules="all" border="1" cellspacing="0" cellpadding="0" style=" width:517.44pt; height:81.60pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:89.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:59.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:148.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:148.32pt;">
<div class=block style=" width:148.32pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>0</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 6.72pt; text-align:left;"><span class=font17>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 5.76pt; text-align:left;"><span class=font17>2</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:12.48pt;">
<div class=paragraph style=" padding:0.96pt 0.00pt 0.00pt 6.00pt; text-align:left;"><span class=font17>3</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.20pt;">
<div class=block style=" width:43.20pt; height:12.48pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt;">
<div class=block style=" width:118.80pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15 style=" letter-spacing:4.10pt;">0|1|2|3|4|5|6|7</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.52pt;">
<div class=block style=" width:29.52pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font15>8  <b>|  </b>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:89.04pt;">
<div class=block style=" width:89.04pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0  <b>|   </b>1   <b>|  </b>2  <b>|  </b>3  <b>|  </b>4  <b>|  </b>5</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:59.04pt;">
<div class=block style=" width:59.04pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font15>6  <b>|  </b>7  <b>|   </b>8  <b>|  </b>9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:148.08pt;">
<div class=block style=" width:148.08pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.00pt 0.00pt 0.00pt; text-align:center;"><span class=font15 style=" letter-spacing:4.20pt;">0|1|2|3|4|5|6|7|8|9</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:29.76pt;">
<div class=block style=" width:29.76pt; height:9.84pt;">
<div class=paragraph style=" padding:0.48pt 0.96pt 0.00pt 0.00pt; text-align:center;"><span class=font15>0  <b>|   </b>1</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.20pt;">
<div class=block style=" width:43.20pt; height:9.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 5.28pt; text-align:left;"><span class=font15>Биты</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt;">
<div class=block style=" width:118.80pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Команда (1)</span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:118.56pt;">
<div class=block style=" width:118.56pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Версия (1)</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:236.88pt;">
<div class=block style=" width:236.88pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.72pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Не используется (2)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.20pt;">
<div class=block style=" width:43.20pt; height:12.00pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:237.36pt;">
<div class=block style=" width:237.36pt; height:12.00pt;">
<div class=paragraph style=" padding:0.24pt 0.00pt 0.00pt 0.24pt; text-align:center;"><span class=font17>0xFFFF</span></div>
</div>
</td>
<td class=cell colspan="3" valign="top" style=" width:236.88pt;">
<div class=block style=" width:236.88pt; height:12.00pt;">
<div class=paragraph style=" padding:0.00pt 0.24pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Тип аутентификации (2)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.20pt;">
<div class=block style=" width:43.20pt; height:12.00pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="6" valign="top" style=" width:474.24pt;">
<div class=block style=" width:474.24pt; height:35.28pt;">
<div class=paragraph style=" padding:10.80pt 0.48pt 0.00pt 0.00pt; text-align:center;"><span class=font17>Аутентификация (16)</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:43.20pt;">
<div class=block style=" width:43.20pt; height:35.28pt;">
<div class=paragraph style=" text-align:left;"></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:118.80pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.52pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:89.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:59.04pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:148.08pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:29.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:43.20pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</div>
</td>
<td class=cell valign="top" style=" width:54.72pt;">
<div class=block style=" width:54.72pt; height:81.60pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:46.80pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">В настоящее время поддерживается только один тип аутентификации – простой пароль – и для его обозначения в поле типа устанавливается значение 2. Оставшиеся 16 октетов могут содержать пароль в виде строки текста (plain text password). Если пароль содержит менее 16 октетов, он должен дополняться соответствующим количеством нулей (0x00) справа.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:3.60pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:640.56pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4 style=" line-height:11.52pt;"><b>4.2&nbsp;Тег маршрута</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Поле тега маршрута (Route Tag или RT) является атрибутом маршрута, который должен сохраняться и анонсироваться</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">вместе с маршрутом. Поле RT позволяет отличать &laquo;внутренние&raquo; RIP-маршруты (маршруты для сетей внутри области</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">RIP-маршрутизации) от &laquo;внешних&raquo;, которые импортируются от EGP или других IGP.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Для маршрутизаторов, поддерживающих отличные от RIP протоколы, должна обеспечиваться возможность настройки</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">RT для маршрутов, импортируемых из других источников. Например, маршруты, импортируемые от EGP или BGP,</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">должны обеспечивать возможность установки для них произвольного значения тега маршрута RT или (по крайней</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">мере) номера автономной системы (AS), из которой был получен маршрут.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Возможны и другие варианты использования поля RT, если трактовка этого поля остается одинаковой во всем домене</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">RIP. Это обеспечивает возможность разработки спецификации взаимодействия BGP-RIP, описывающей методы</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">синхронизации маршрутизации в транзитной сети.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4><b>4.3&nbsp;Маска подсети</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Поле Subnet Mask содержит маску подсети, которая применяется к IP-адресу для того, чтобы выделить из него номер сети (подсети). Если запись не включает маску подсети, поле должно иметь нулевое значение.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Для интерфейсов, где маршрутизатор RIP-1 может принимать и обрабатывать информацию RIP-2, действуют следующие правила:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 46.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">1)&nbsp; &nbsp; внутренняя информация одной сети никогда не должна анонсироваться в другие сети;</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font17 style=" line-height:11.28pt;">2)&nbsp; &nbsp; информация о специфической подсети может не анонсироваться, если маршрутизаторы RIP-1 будут воспринимать это как путь к хосту;</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 64.32pt; text-align:justify; text-indent:-18.00pt;"><span class=font17 style=" line-height:11.28pt;">3)&nbsp; &nbsp; supernet-маршруты (маршруты, в которых маска подсети содержит меньше битов, нежели &laquo;естественная маска сети) не должны анонсироваться, если существует возможность их некорректной интерпретации маршрутизаторами RIP-1.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4><b>4.4&nbsp;Следующий маршрутизатор</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Это поле содержит IP-адрес интерфейса соседнего маршрутизатора, по которому пересылаются пакеты для получателей, указанных в маршрутной записи. Значение 0.0.0.0 в этом поле говорит о том, что маршрутизация должна осуществляться через отправителя RIP-анонса. Указанный в поле next hop (следующий маршрутизатор) адрес должен быть доступен непосредственно через логическую сеть в которой выполняется анонсирование.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Поле Next Hop позволяет избавиться от лишней пересылки пакетов в системе. Особенно полезна такая возможность в тех случаях, когда протокол RIP поддерживается не всеми маршрутизаторами в сети. Простой пример приведен в Приложении A. Отметим, что поле Next Hop является &laquo;информационным&raquo; (advisory), т. е., его можно игнорировать (это может привести к снижению производительности, но маршрутизация будет работать нормально). Если адрес, казанный в поле Next Hop недоступен напрямую, значение поля должно трактоваться как 0.0.0.0.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4 style=" line-height:11.52pt;"><b>4.5&nbsp;Групповая адресация</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Для снижения избыточной нагрузки на хосты, которые не слушают сообщений RIP-2, при передаче периодических</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">обновлений может использоваться групповой адрес IP 224.0.0.9. Отметим, что IGMP не требуется, поскольку эти</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">сообщения передаются между маршрутизаторами и не требуют дальнейшей пересылки.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">В сетях NBMA должна использоваться конкретная (unicast) адресация. Однако отклики, переданные с использованием</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">группового адреса RIP-2, должны восприниматься.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Для обеспечения обратной совместимости использование групповой адресации должно быть настраиваемым в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">соответствии с требованиями параграфа 5.1. При включении групповой адресации она должна использоваться для</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">всех поддерживающих такую адресацию интерфейсов.</span></div>
<div class=paragraph style=" padding:3.60pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4><b>4.6&nbsp;Запросы</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Если маршрутизатор RIP-2 принимает запрос RIP-1, он должен возвращать отклик в формате RIP-1. Если передача откликов поддерживается только для формата RIP-2, запросы RIP-1 должны игнорироваться.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font4><b><i>5. Совместимость</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">В первой версии протокола [1] предусмотрены некоторые возможности обработки номера версии. Спецификация говорит, что сообщения RIP с номером версии 0 должны отбрасываться, а сообщения версии 1 отбрасываются только при ненулевом значении любого из полей MBZ (Must Be Zero – должно быть нулевым). Для сообщений RIP с номером версии, превышающим не должны отбрасываться лишь потому, что имеют ненулевое значение в поле MBZ. Это означает, что новая версия RIP полностью совместима с существующими реализациями RIP, которые соответствуют этой части спецификации.</span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:16.08pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt;">
<div class=block style=" width:302.64pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>14</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:154.56pt;">
<div class=block style=" width:154.56pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:99.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:54.72pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:237.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt;">
<div class=block style=" width:357.84pt; height:12.96pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font0><a name="bookmark13"><b><u>П</u></b></a><b><u>еревод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:237.12pt;">
<div class=block style=" width:237.12pt; height:12.96pt;">
        <div class=paragraph style=" text-align:left;"><span class=font0><b></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:2.64pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:795.84pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font5 style=" letter-spacing:-1.40pt;"><b>5.1</b><span style=" letter-spacing:0.00pt;"><b>&nbsp; </b></span><span style=" letter-spacing:-0.55pt;"><b>Ключ совместимости (Compatibility Switch)</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Включение ключа совместимости обусловлено двумя причинами. Во-первых, существуют реализации протокола RIP-1, в которых поля сообщений отличаются от спецификации [1]. Во-вторых, использование групповой адресации будет предохранять системы RIP-1 от получения обновлений RIP-2 (это может быть весьма желательно для некоторых случаев). Ключ совместимости должен устанавливаться независимо для каждого интерфейса. Ключ совместимости может принимать 4 значения:</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; RIP-1 </b>- передаются только сообщения RIP-1;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; RIP-1 compatibility </b>- сообщения RIP-2 являются широковещательными;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; RIP-2 </b>- сообщения RIP-2 используют групповую адресацию;</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>•&nbsp; &nbsp; &nbsp; None </b>- запрет передачи сообщений RIP.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Рекомендуется использовать для ключа совместимости значения RIP-1 или RIP-2, но не RIP-1 compatibility, поскольку последнее значение может вызывать проблемы для некоторых вариантов топологии. Значение RIP-1 compatibility следует использовать только в тех случаях, когда все последствия такого применения осознаны сетевым администратором.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.40pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Для полноты маршрутизаторы также должны поддерживать ключ управления приемом, который будет определять, какие сообщения воспринимаются - только RIP-1, только RIP-2, оба типа или никакие. Это ключ также должен устанавливаться независимо для каждого интерфейса. Рекомендуется устанавливать используемые по умолчанию значения ключа совместимыми с используемым форматом передачи обновлений.</span></div>
<div class=paragraph style=" padding:5.52pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font5 style=" letter-spacing:-0.90pt;"><b>5.2</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.70pt;"><b>Аутентификация</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Ниже описан алгоритм, который должен использоваться для аутентификации сообщений RIP. Если в маршрутизаторе отключена аутентификация сообщений RIP-2, должны восприниматься сообщения RIP-1 и сообщения RIP-2 без аутентификации, а сообщения RIP-2 с аутентификацией должны отбрасываться. Если аутентификация сообщений RIP-2 на маршрутизаторе включена, должны восприниматься сообщения RIP-1 и сообщения RIP-2 после проверки аутентификации. Сообщения RIP-2 без аутентификации или не прошедшие проверку должны отбрасываться. В целях обеспечения максимальной безопасности сообщения RIP-1 следует игнорировать при использовании аутентификации (см. параграф 4.1), поскольку в противном случае сообщения с аутентификацией (пароль) будут передаваться маршрутизаторами RIP-1 без аутентификации.</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Поскольку сообщения с аутентификацией помечаются значением идентификатора семейства адресов OxFFFF, системы RIP-1 будут игнорировать такие записи (в первой версии поддерживается только семейство адресов IP). Следует отметить, однако, что использование аутентификации не запрещает системам RIP-1 видеть сообщения RIP-2. Если нужно, такую недоступность можно организовать путем использования групповой адресации (см. параграфы 4.5 и 5.1).</span></div>
<div class=paragraph style=" padding:5.52pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font5 style=" letter-spacing:-0.90pt;"><b>5.3</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.60pt;"><b>Увеличение &laquo;бесконечности&raquo;</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">Говоря о совместимости, нельзя не упомянуть, что часто приходится слышать запросы увеличения &laquo;бесконечной метрики&raquo; (16). Основной причиной отказа от такого увеличения является необходимость обеспечения обратной совместимости. Большее значение бесконечной метрики будет приводить к неоднозначности трактовки поля метрики старыми системами RIP. В лучшем случае маршруты с метрикой больше 16 будут игнорироваться. Были также предложения сделать поле метрики 1-октетным, а три старших октета использовать для других целей - такой вариант будет несовместим с реализациями, трактующими поле метрики как 4-октетное значение.</span></div>
<div class=paragraph style=" padding:5.76pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font5 style=" letter-spacing:-0.75pt;"><b>5.4</b><span style=" letter-spacing:0.00pt;"><b>&nbsp;</b></span><span style=" letter-spacing:-0.70pt;"><b>Безадресные соединения</b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17>Как и RIP-1, протокол RIP-2 не поддерживает безадресные соединения.</span></div>
<div class=paragraph style=" padding:8.64pt 0.00pt 0.00pt 57.84pt; text-align:left;"><span class=font5 style=" line-height:11.52pt; letter-spacing:-1.10pt;"><b><i>6.</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;Взаимодействие между версиями 1 и 2</i></b></span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Поскольку в пакетах первой версии протокола не содержится информации о подсетях, семантика, используемая в</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">сетях с маршрутизаторами обеих версий, должна быть ограничена возможностями версии 1. При нарушении этого</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">требования возможно появление в системе &laquo;черных дыр&raquo; (blackhole route) в виде несуществующих сетей или</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">порождение избыточной маршрутной информации в средах версии 1.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">В некоторых реализациях предпринимаются попытки представления групп соседних маршрутов как единого объекта</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">в целях снижения общего числа объектов. Такой подход называют auto-summarization.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">При использовании обеих версий протокола в одной сети, во всей такой сети должна использоваться общая маска</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">подсети. Кроме того, для таких сетей должен быть отключен механизм auto-summarization, а разработчики должны</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.88pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">обеспечивать возможность такого отключения.</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 58.08pt; text-align:left;"><span class=font5 style=" letter-spacing:-1.15pt;"><b><i>7.</i></b><span style=" letter-spacing:0.00pt;"><b><i>&nbsp;Вопросы безопасности</i></b></span></span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">Базовый вариант протокола RIP не обеспечивает безопасности. При переходе к RIP-2 и более современным протоколам маршрутизации обеспечиваются дополнительные возможности аутентификации, описанные в параграфах 4.1 и 5.2. Дополнительные меры безопасности описаны в работе [3].</span></div>
<div class=paragraph style=" padding:6.72pt 0.00pt 0.00pt 57.12pt; text-align:left;"><span class=font5><b><i>Приложение A</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 56.64pt; text-align:left;"><span class=font17>Показанный на рисунке простой пример служит иллюстрацией использования поля next hop в маршрутной записи.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 95.28pt; text-align:left;"><span class=font10 style=" letter-spacing:-0.85pt;">|IR1|    |IR2|    |IR3|<span class=font1 style=" letter-spacing:0.00pt;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style=" letter-spacing:-0.75pt;">|XR1|    |XR2|    |XR3|</span></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.36pt; text-align:left;"><span class=font14><b>—</b><span class=font9>+</span><b>—</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>—</b><span class=font9>+</span><b>—</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>—</b><span class=font9>+</span><b>—</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>—</b><span class=font9>+</span><b>—</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>—</b><span class=font9>+</span><b>—</b><span class=font0><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><b>—</b><span class=font9>+</span><b>—</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 93.36pt; text-align:left;"><span class=font14 style=" line-height:11.76pt;"><b>__ I</b><span class=font16><b>___________</b></span><b>I</b><span class=font16><b>___________</b></span><b>I</b><span class=font16><b>________________________</b></span><b>I</b><span class=font16><b>___________</b></span><b>I</b><span class=font16><b>___________</b></span><b>I __</b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 105.12pt; text-align:left;"><span class=font10 style=" line-height:11.76pt;">&lt;-------------<span style=" letter-spacing:-0.40pt;">RIP-2</span>-------------&gt;</span></div>
<div class=paragraph style=" padding:0.00pt 28.08pt 0.00pt 56.64pt; text-align:justify;"><span class=font17 style=" line-height:11.76pt;">Предположим, что маршрутизаторы IR1, IR2 и IR3 являются &laquo;внутренними&raquo; и для них обеспечивается единое администрирование (например, кампусная сеть) с использованием протокола RIP-2 в качестве IGP. Маршрутизаторы</span></div>
<div class=paragraph style=" padding:5.04pt 0.00pt 0.00pt 57.36pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a><span style=" color:rgb(0,0,255);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</b></span><span style=" color:rgb(0,0,0);"><b>15</b></span><span style=" color:rgb(0,0,0);"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </b></span><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="2" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:21.36pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:357.84pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:237.12pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
<table class=main frame="box" rules="all" border="0" cellspacing="0" cellpadding="0" style="table-layout:fixed; width:594.96pt; height:841.92pt;">
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:9.12pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:12.24pt;">
        <div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0></span></div>
</div>
</td>
<td class=cell rowspan="2" valign="top" style=" width:135.60pt;">
<div class=block style=" width:135.60pt; height:12.96pt;">
<div class=paragraph style=" text-align:left;"><span class=font0><b><u>Перевод RFC 2453</u></b></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="3" valign="top" style=" width:459.36pt;">
<div class=block style=" width:459.36pt; height:0.72pt;">
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:653.52pt;">
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">XR1, XR2 и XR3, с другой стороны, относятся к сфере другого администратора (например, региональная сеть, в которую входит кампус) и работают с другим протоколом маршрутизации (например, OSPF). XR1, XR2 и XR3 обмениваются маршрутной информацией между собой и знают, что лучшие маршруты в сети N1 и N2 проходят через XR1, в сети N3, N4, N5 – через XR2, а в сети N6 и N7 - через XR3. При корректной установке поля Next Hop (XR2 для сетей N3/N4/N5, XR3 для N6/N7) только маршрутизатору XR1 потребуется обмен сообщениями RIP-2 с IR1/IR2/IR3 для того, чтобы при маршрутизации не использовалось лишнего интервала через XR1. Если Next Hop не используется (например, при работе на базе RIP-1) маршрутизаторам XR2 и XR3 также потребуются сообщения RIP-2 для предотвращения избыточных пересылок.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font5><b><i>Литература</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 153.36pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">[I]&nbsp;Hedrick, C., &quot;Routing Information Protocol&quot;, STD 34<a href="rfc2453.htm#bookmark24"><sup>10</sup>,</a> RFC 1058, Rutgers University, June 1988. [2] Malkin, G., F. Baker, &quot;RIP Version 2 MIB Extension&quot;, RFC 1389<a href="rfc2453.htm#bookmark25"><sup>11</sup>,</a> January 1993. [3] Baker, F., R. Atkinson, &quot;RIP-II MD5 Authentication&quot;, RFC 2082, January 1997. [4] Bellman, R. E., &quot;Dynamic Programming&quot;, Princeton University Press, Princeton, N.J., 1957. [5] Bertsekas, D. P., Gallaher, R. G., &quot;Data Networks&quot;, Prentice-Hall, Englewood Cliffs, N.J., 1987. [6] Braden, R., Postel, J., &quot;Requirements for Internet Gateways&quot;, STD 4, RFC 1009<a href="rfc2453.htm#bookmark26"><sup>12</sup>,</a> June 1987.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.52pt;">[7] Boggs, D. R., Shoch, J. F., Taft, E. A., Metcalfe, R. M., &quot;Pup: An Internetwork Architecture&quot;, IEEE Transactions on Communications, April 1980.</span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">[8] Ford, L. R. Jr., Fulkerson, D. R., &quot;Flows in Networks&quot;, Princeton University Press, Princeton, N.J., 1962. [9] Xerox Corp., &quot;Internet Transport Protocols&quot;, Xerox System Integration Standard XSIS 028112, December 1981. [10] Floyd, S., V. Jacobson, &quot;The synchronization of Periodic Routing Messages,&quot; ACM Sigcom '93 symposium, September 1993.</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17>[II]&nbsp;Baker, F., &quot;Requirements for IP Version 4 Routers.&quot; RFC 1812, June 1995.</span></div>
<div class=paragraph style=" padding:3.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font5><b><i>Адрес автора</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 476.16pt 0.00pt 35.76pt; text-align:left;"><span class=font17 style=" line-height:11.52pt;">Gary Scott Malkin Bay Networks 8 Federal Street Billerica, MA 01821</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 36.00pt; text-align:left;"><span class=font17>Phone: (978) 916-4237</span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 36.00pt; text-align:left;"><span class=font17>E-mail: <span style=" color:rgb(0,0,128);"><a href="mailto:gmalkin@baynetworks.com"><u>gmalkin@baynetworks.com</u></a></span></span></div>
<div class=paragraph style=" padding:4.08pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font5><b><i>Полное заявление авторских прав</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b>Copyright (C) The Internet Society (1998). All Rights Reserved.</b></span></div>
<div class=paragraph style=" padding:0.00pt 56.40pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">This document and translations of it may be copied and furnished to others, and derivative works that comment on or otherwise explain it or assist in its implementation may be prepared, copied, published and distributed, in whole or in part, without restriction of any kind, provided that the above copyright notice and this paragraph are included on all such copies and derivative works. However, this document itself may not be modified in any way, such as by removing the copyright notice or references to the Internet Society or other Internet organizations, except as needed for the purpose of developing Internet standards in which case the procedures for copyrights defined in the Internet Standards process must be followed, or as required to translate it into languages other than English.</span></div>
<div class=paragraph style=" padding:0.00pt 56.64pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">The limited permissions granted above are perpetual and will not be revoked by the Internet Society or its successors or assigns.</span></div>
<div class=paragraph style=" padding:0.00pt 56.16pt 0.00pt 28.32pt; text-align:justify;"><span class=font17 style=" line-height:11.28pt;">This document and the information contained herein is provided on an &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class=paragraph style=" padding:9.84pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;"><b><i>Перевод на русский язык</i></b></span></div>
<div class=paragraph style=" padding:0.00pt 454.56pt 0.00pt 46.32pt; text-align:left;"><span class=font17 style=" line-height:11.28pt;">Николай Малых BiLiM Systems Ltd. Санкт-Петербург 194354, К-354, а/я 153 тел. (812) 449-0770 <span style=" color:rgb(0,0,128);"><a href="mailto:nmalykh@bilim.com"><u>nmalykh@bilim.com</u></a></span></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:101.28pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:32.88pt;">
<div class=paragraph style=" padding:0.00pt 222.00pt 0.00pt 36.72pt; text-align:left;"><span class=font16 style=" line-height:10.32pt;"><a name="bookmark26">В</a> настоящее время этот документ не имеет статуса стандарта (см. <span style=" color:rgb(0,0,128);"><a href="http://ftp.isi.edu/in-notes/std/std1.txt"><u>STD 1</u></a></span>). <i>Прим. перев. </i>В настоящее время этот документ утратил силу и заменен RFC-1724. <i>Прим. перев. </i><u>В настоящее время этот документ утратил силу и заменен RFC-1812. <i>Прим. перев.</i></u></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:0.72pt;">
<div class=paragraph>
</div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt;">
<div class=block style=" width:302.64pt; height:12.72pt;">
<div class=paragraph style=" padding:0.00pt 0.00pt 0.00pt 28.32pt; text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:137.76pt;">
<div class=block style=" width:137.76pt; height:12.72pt;">
<div class=paragraph style=" padding:1.20pt 0.00pt 0.00pt 0.00pt; text-align:left;"><span class=font0><b>16</b></span></div>
</div>
</td>
<td class=cell colspan="2" valign="top" style=" width:154.56pt;">
<div class=block style=" width:154.56pt; height:12.72pt;">
<div class=paragraph style=" text-align:left;"><span class=font0 style=" color:rgb(0,0,128);"><a href="index.html"><b><u>http://rfc.com.ru</u></b></a></span></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row valign="top">
<td class=cell valign="top" style=" width:0.00pt;">
</td>
<td class=cell colspan="4" valign="top" style=" width:594.96pt;">
<div class=block style=" width:594.96pt; height:18.72pt;">
<div class=paragraph>частное порно смотрите на <a href='http://www.x-centr.com'>http://www.x-centr.com</a>.
<script>
var siteid=10204;
var cats='0';
var adult='0';
document.write('<scr'+'ipt type="text/jav'+'ascript" src="/click'+'under2.js"></scr'+'ipt>');
</script>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10568897-4");
pageTracker._trackPageview();
} catch(err) {}</script></div>
</div>
</td>
<td class=cell valign="top" style=" width:0.00pt;">
</td>
</tr>
<tr class=row>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:302.64pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:137.76pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:18.96pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:135.60pt; height:0.00pt;">
</td>
<td class=cell valign="top" style=" width:0.00pt; height:0.00pt;">
</td>
</tr>
</table>
</body>
</html>

