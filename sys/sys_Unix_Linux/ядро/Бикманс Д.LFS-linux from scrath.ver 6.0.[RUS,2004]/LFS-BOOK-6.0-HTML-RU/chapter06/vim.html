<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=koi8-r" />
    <title>
      6.23.&nbsp;Vim-6.3
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.65.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="lfs" class="6.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Linux From Scratch - Версия 6.0
        </h4>
        <h3>
          Глава&nbsp;6.&nbsp;Установка основных системных программ
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="readline.html" title="Readline-5.0">Назад</a>
          <p>
            Readline-5.0
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="m4.html" title="M4-1.4.2">Далее</a>
          <p>
            M4-1.4.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Глава&nbsp;6.&nbsp;Установка основных системных программ">Наверх</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Версия 6.0">В начало</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="en" xml:lang="en">
      <div class="titlepage">
        <h1 class="sect1">
          6.23. Vim-6.3
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <p>
          Пакет Vim содержит мощный текстовый редактор
        </p>
        <div class="segmentedlist">
          <p>
            <b>Расчетное время сборки</b> 0.4 SBU
          </p>
          <p>
            <b>Требуемое место на диске</b> 34 MB
          </p>
        </div>
        <div class="segmentedlist">
          <p>
            <b>Vim - зависимости установки:</b> Bash, Binutils, Coreutils,
            Diffutils, GCC, Glibc, Grep, Make, Ncurses и Sed
          </p>
        </div>
        <div class="tip">
          <div class="admonhead">
            <img alt="[Tip]" src="../images/tip.png" />
            <h3 class="admontitle">
              Альтернативы для Vim
            </h3>
          </div>
          <div class="admonbody">
            <p>
              Если вы предпочитаете другие редакторы&mdash;такие как Emacs, Joe или
              Nano&mdash;загляните на <a href=
              "http://www.linuxfromscratch.org/blfs/view/svn/postlfs/editors.html">
              <i>http://www.linuxfromscratch.org/blfs/view/svn/postlfs/editors.html</i></a>
              для получения инструкций по установке.
            </p>
          </div>
        </div>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            6.23.1. Инсталируем Vim
          </h2>
        </div>
        <p>
          Сначала распакуем оба архива <tt class="filename">vim-6.3.tar.bz2</tt> и
          (опционально) <tt class="filename">vim-6.3-lang.tar.gz</tt> в одну и ту же
          директорию. Затем изменим раположение по умолчанию файлов конфигурации
          <tt class="filename">vimrc</tt> и <tt class=
          "filename">gvimrc</tt> на <tt class=
          "filename">/etc</tt>:
        </p>
        <pre class="userinput">
<kbd class=
"command">echo '#define SYS_VIMRC_FILE "/etc/vimrc"' &gt;&gt; src/feature.h
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' &gt;&gt; src/feature.h</kbd>
</pre>
        <p>
          Подготавливаем Vim для компиляции:
        </p>
        <pre class="userinput">
<kbd class="command">./configure --prefix=/usr --enable-multibyte</kbd>
</pre>
        <p>
          Опционально, но очень рекомендуется ключ <i class=
          "parameter"><tt>--enable-multibyte</tt></i> поддержки дополнений
          для редактирования файлов в мультибайтных кодировках символов в
          <span><b class="command">vim</b></span>. Это необходимо при использовании
          локалей с мультибайтными кодировками символов. Этот ключ также полезен
          для возможности редактирования текстовых файлов, изначально созданных в
          таких дистрибутивах Linux, как Fedora Core, который использует UTF-8 в
          качестве основной кодировки символов.
        </p>
        <p>
          Компилируем пакет
        </p>
        <pre class="userinput">
<kbd class="command">make</kbd>
</pre>
        <p>
          Для проверки результата вводим: <b class="userinput"><tt>make
          test</tt></b>. Этот тест выводит на экран большое количество
          хаотических символов, которые могут означать проблему с установками
          текущего терминала. Однако, запуск теста здесь является опциональным.
        </p>
        <p>
          Устанавливаем пакет
        </p>
        <pre class="userinput">
<kbd class="command">make install</kbd>
</pre>
        <p>
          Многие пользователи используют <span><b class="command">vi</b></span>
          вместо <span><b class="command">vim</b></span>. Для возможности
          запуска <span><b class="command">vim</b></span>, когда пользователи
          по ривычке вводят <span><b class="command">vi</b></span>, создадим
          ссылку:
        </p>
        <pre class="userinput">
<kbd class="command">ln -s vim /usr/bin/vi</kbd>
</pre>
        <p>
          Если вы собираетесь устанавливать систему X Window на вашей системе LFS,
	  вам надо будет перекомпилировать Vim после установки X. Vim содержит
	  хорошую GUI версию редактора, который использует X и некоторые другие
	  библиотеки при установке. Для более подробной информации прочитайте
	  документацию по Vim и страницу по установке Vim в книге BLFS на <a href=
          "http://www.linuxfromscratch.org/blfs/view/svn/postlfs/editors.html#postlfs-editors-vim">
          <i>http://www.linuxfromscratch.org/blfs/view/svn/postlfs/editors.html#postlfs-editors-vim</i></a>.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="conf-vim" name="conf-vim"></a>
          <h2 class="sect2">
            6.23.2. Настройка Vim
          </h2>
        </div>
        <p>
          По умолчанию <span><b class="command">vim</b></span> запускается
          в режиме совместимости с vi. Это может быть новым для пользователей,
          которые пользовались другими редакторами в прошлом. Установка режима
          &ldquo;<span class="quote">несовместимости</span>&rdquo; включена
          ниже для выделения того факта, что будет использоваться новое
          поведениие редактора. Создадим основной файл конфигурации
	  <span><b class="command">vim</b></span>, выполнив следующее:
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt; /etc/vimrc &lt;&lt; "EOF"
<tt class="literal">" Begin /etc/vimrc

set nocompatible
set backspace=2
syntax on
if (&amp;term == "iterm") || (&amp;term == "putty")
  set background=dark
endif

" End /etc/vimrc</tt>
EOF</kbd>
</pre>
        <p>
          Строка <i class="parameter"><tt>set nocompatible</tt></i> делает так,
          что <span><b class="command">vim</b></span> ведет себя более полезно
          (по умолчанию), чем в vi-совместимой манере. Удалите
          &ldquo;<span class="quote">no</span>&rdquo; для сохранения старого
          поведения <span><b class="command">vi</b></span>. Строка <i class=
          "parameter"><tt>set backspace=2</tt></i> разрешает забой через конец
          строки, автоотступ и начало вставки. Сторока <i class=
          "parameter"><tt>syntax on</tt></i> включает подсветку синтаксиса vim.
          Наконец, секция <span class="emphasis"><em>if</em></span>
          с <i class="parameter"><tt>set background=dark</tt></i>
          корректирует догадку <span><b class="command">vim</b></span>
          о цвете заднего плана на некоторых эмуляторах терминала. Это дает
          подсветку в лучшей цветовой схеме для использования с черным
          задним планом этих программ.
        </p>
        <p>
          Документация о других доступных опциях может быть получена
          запуском следующей команды:
        </p>
        <pre class="userinput">
<kbd class="command">vim -c ':options'</kbd>
</pre>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="contents-vim" name="contents-vim"></a>
          <h2 class="sect2">
            6.23.3. Описание Vim
          </h2>
        </div>
        <div class="segmentedlist">
          <p>
            <b>Проинсталированные программы:</b> efm_filter.pl, efm_perl.pl, ex (ссылка
            на vim), less.sh, mve.awk, pltags.pl, ref, rview (ссылка на vim),
            rvim (ссылка на vim), shtags.pl, tcltags, vi (ссылка на), view
            (ссылка на vim), vim, vim132, vim2html.pl, vimdiff (ссылка на vim),
            vimm, vimspell.sh, vimtutor и xxd
          </p>
        </div>
        <div class="variablelist">
          <h3>
            Короткое описание
          </h3>
          <dl>
            <dt>
              <a id="efm_filter.pl" name="efm_filter.pl"></a><span class=
              "term"><span><b class="command">efm_filter.pl</b></span></span>
            </dt>
            <dd>
              <p>
                Фильтр для создания файла ошибки, который может быть прочитан
                <span><b class="command">vim</b></span>.
              </p>
            </dd>
            <dt>
              <a id="efm_perl.pl" name="efm_perl.pl"></a><span class=
              "term"><span><b class="command">efm_perl.pl</b></span></span>
            </dt>
            <dd>
              <p>
                Реформатирует сообщения об ошибках интерпритатора Perl для
                использования в режиме &ldquo;<span class="quote">quickfix</span>&rdquo;
                для <span><b class="command">vim</b></span>.
              </p>
            </dd>
            <dt>
              <a id="ex" name="ex"></a><span class="term"><span><b class=
              "command">ex</b></span></span>
            </dt>
            <dd>
              <p>
                Запускает <span><b class="command">vim</b></span> в режиме ex.
              </p>
            </dd>
            <dt>
              <a id="less.sh" name="less.sh"></a><span class=
              "term"><span><b class="command">less.sh</b></span></span>
            </dt>
            <dd>
              <p>
                Скрипт, запускающий <span><b class="command">vim</b></span>
                с less.vim.
              </p>
            </dd>
            <dt>
              <a id="mve.awk" name="mve.awk"></a><span class=
              "term"><span><b class="command">mve.awk</b></span></span>
            </dt>
            <dd>
              <p>
                Обрабатывает ошибки <span><b class="command">vim</b></span>.
              </p>
            </dd>
            <dt>
              <a id="pltags.pl" name="pltags.pl"></a><span class=
              "term"><span><b class="command">pltags.pl</b></span></span>
            </dt>
            <dd>
              <p>
                Создает файл тегов кода perl для использования <span><b class=
                "command">vim</b></span>
              </p>
            </dd>
            <dt>
              <a id="ref" name="ref"></a><span class="term"><span><b class=
              "command">ref</b></span></span>
            </dt>
            <dd>
              <p>
                Проверяет написание параметров.
              </p>
            </dd>
            <dt>
              <a id="rview" name="rview"></a><span class=
              "term"><span><b class="command">rview</b></span></span>
            </dt>
            <dd>
              <p>
                Урезанная версия <span><b class="command">view</b></span>;
                нет поддержки shell-команд и не может быть приостановлен
                <span><b class="command">view</b></span>.
              </p>
            </dd>
            <dt>
              <a id="rvim" name="rvim"></a><span class="term"><span><b class=
              "command">rvim</b></span></span>
            </dt>
            <dd>
              <p>
                Урезанная версия <span><b class="command">vim</b></span>;
                нет поддержки shell-команд и не может быть приостановлен
                and <span><b class="command">vim</b></span>
              </p>
            </dd>
            <dt>
              <a id="shtags.pl" name="shtags.pl"></a><span class=
              "term"><span><b class="command">shtags.pl</b></span></span>
            </dt>
            <dd>
              <p>
                Генерирует файл тегов для скриптов perl.
              </p>
            </dd>
            <dt>
              <a id="tcltags" name="tcltags"></a><span class=
              "term"><span><b class="command">tcltags</b></span></span>
            </dt>
            <dd>
              <p>
                Генерирует файл тегов для кода TCL.
              </p>
            </dd>
            <dt>
              <a id="view" name="view"></a><span class="term"><span><b class=
              "command">view</b></span></span>
            </dt>
            <dd>
              <p>
                Запускает <span><b class="command">vim</b></span> в режиме только для чтения.
              </p>
            </dd>
            <dt>
              <a id="vi" name="vi"></a><span class="term"><span><b class=
              "command">vi</b></span></span>
            </dt>
            <dd>
              <p>
                Редактор
              </p>
            </dd>
            <dt>
              <a id="vim" name="vim"></a><span class="term"><span><b class=
              "command">vim</b></span></span>
            </dt>
            <dd>
              <p>
                Редактор
              </p>
            </dd>
            <dt>
              <a id="vim132" name="vim132"></a><span class=
              "term"><span><b class="command">vim132</b></span></span>
            </dt>
            <dd>
              <p>
                Запускает <span><b class="command">vim</b></span> в режиме
		132-колоночного терминала.
              </p>
            </dd>
            <dt>
              <a id="vim2html.pl" name="vim2html.pl"></a><span class=
              "term"><span><b class="command">vim2html.pl</b></span></span>
            </dt>
            <dd>
              <p>
                Конвертирует документацию vim в HTML.
              </p>
            </dd>
            <dt>
              <a id="vimdiff" name="vimdiff"></a><span class=
              "term"><span><b class="command">vimdiff</b></span></span>
            </dt>
            <dd>
              <p>
                Редактирует две или три версии файла в <span><b class=
                "command">vim</b></span> и показывает различия.
              </p>
            </dd>
            <dt>
              <a id="vimm" name="vimm"></a><span class="term"><span><b class=
              "command">vimm</b></span></span>
            </dt>
            <dd>
              <p>
                Включает модель ввода DEC locator на удаленном терминале.
              </p>
            </dd>
            <dt>
              <a id="vimspell.sh" name="vimspell.sh"></a><span class=
              "term"><span><b class="command">vimspell.sh</b></span></span>
            </dt>
            <dd>
              <p>
                Просматривает файл и генерирует синтаксические выражения,
                необходимые для подсветки в <span><b class="command">vim</b></span>.
                Этот скрипт требует старую Unix команду <span><b class=
                "command">spell</b></span>, которая не поддерживается ни в
                LFS, ни в BLFS.
              </p>
            </dd>
            <dt>
              <a id="vimtutor" name="vimtutor"></a><span class=
              "term"><span><b class="command">vimtutor</b></span></span>
            </dt>
            <dd>
              <p>
                Обучает вас основным командам и горячим клавишам <span><b class=
                "command">vim</b></span>
              </p>
            </dd>
            <dt>
              <a id="xxd" name="xxd"></a><span class="term"><span><b class=
              "command">xxd</b></span></span>
            </dt>
            <dd>
              <p>
                Отображает бинарник в шестнадцатиричном фрмате. Он также может
		работать в обратном направлении, что позволяет использовать его
		для патча бинарников.
              </p>
            </dd>
          </dl>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="readline.html" title="Readline-5.0">Назад</a>
          <p>
            Readline-5.0
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="m4.html" title="M4-1.4.2">Далее</a>
          <p>
            M4-1.4.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Глава&nbsp;6.&nbsp;Установка основных системных программ">Наверх</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Версия 6.0">В начало</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
