<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=koi8-r" />
    <title>
      6.58.&nbsp;Util-linux-2.12b
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.65.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="lfs" class="6.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Linux From Scratch - Версия 6.0
        </h4>
        <h3>
          Глава&nbsp;6.&nbsp;Установка основных системных программ
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="udev.html" title="Udev-030">Назад</a>
          <p>
            Udev-030
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="aboutdebug.html" title=
          "About Debugging Symbols">Далее</a>
          <p>
            Об отладочных символах
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Глава&nbsp;6.&nbsp;Установка основных системных программ">Наверх</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Версия 6.0">В начало</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="en" xml:lang="en">
      <div class="titlepage">
        <h1 class="sect1">
          6.58. Util-linux-2.12b
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <p>
          Пакет Util-linux содержит ряд различных утилит. Некоторые из этих
	  утилит используются для монтирования, размонтирования, форматирования,
	  разбиения и обслуживания дисков, открытия портов tty
	  и вызова сообщений ядра.
        </p>
        <div class="segmentedlist">
          <p>
            <b>Расчетное время сборки</b> 0.2 SBU
          </p>
          <p>
            <b>Требуемое место на диске</b> 16 MB
          </p>
        </div>
        <div class="segmentedlist">
          <p>
            <b>Util-linux - зависимости установки:</b> Bash, Binutils,
            Coreutils, Diffutils, GCC, Gettext, Glibc, Grep, Make, Ncurses,
            Sed и Zlib
          </p>
        </div>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            6.58.1. Замечания о совместимости с FHS
          </h2>
        </div>
        <p>
          FHS рекомендует использовать директорию <tt class=
          "filename">/var/lib/hwclock</tt> вместо обычной
          <tt class="filename">/etc</tt> в качестве места для расположения файла
          <tt class="filename">adjtime</tt>. Для обеспечения FHS-совместимости программы
	  <span><b class="command">hwclock</b></span>, выполним следующее:
        </p>
        <pre class="userinput">
<kbd class="command">sed -i 's@etc/adjtime@var/lib/hwclock/adjtime@g' \
    hwclock/hwclock.c
mkdir -p /var/lib/hwclock</kbd>
</pre>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            6.58.2. Инсталируем Util-linux
          </h2>
        </div>
        <p>
          GCC-3.4.1 некорректно компилирует <span><b class=
          "command">sfdisk</b></span> если используется уровень оптимизации по
          умолчанию. Следующий патч исправит эту проблему:
        </p>
        <pre class="userinput">
<kbd class="command">patch -Np1 -i ../util-linux-2.12b-sfdisk-2.patch</kbd>
</pre>
        <p>
          Подготавливаем Util-linux для компиляции:
        </p>
        <pre class="userinput">
<kbd class="command">./configure</kbd>
</pre>
        <p>
          Компилируем пакет
        </p>
        <pre class="userinput">
<kbd class="command">make HAVE_KILL=yes HAVE_SLN=yes</kbd>
</pre>
        <p>
          Описание параметров компиляции:
        </p>
        <div class="variablelist">
          <dl>
            <dt>
              <span class="term"><i class=
              "parameter"><tt>HAVE_KILL=yes</tt></i></span>
            </dt>
            <dd>
              <p>
                Это предостережет программу <span><b class="command">kill</b></span>
                (уже установленной с Procps) от повторной сборки.
              </p>
            </dd>
            <dt>
              <span class="term"><i class=
              "parameter"><tt>HAVE_SLN=yes</tt></i></span>
            </dt>
            <dd>
              <p>
                Это предостережет программу <span><b class="command">sln</b></span>
                (статически скомпонованый <span><b class=
                "command">ln</b></span>, уже установленый с Glibc) от повторной сборки.
              </p>
            </dd>
          </dl>
        </div>
        <p>
          Устанавливаем пакет
        </p>
        <pre class="userinput">
<kbd class="command">make HAVE_KILL=yes HAVE_SLN=yes install</kbd>
</pre>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="contents-utillinux" name="contents-utillinux"></a>
          <h2 class="sect2">
            6.58.3. Описание Util-linux
          </h2>
        </div>
        <div class="segmentedlist">
          <p>
            <b>Проинсталированные программы:</b> agetty, arch, blockdev, cal, cfdisk,
            chkdupexe, col, colcrt, colrm, column, ctrlaltdel, cytune, ddate,
            dmesg, elvtune, fdformat, fdisk, fsck.cramfs, fsck.minix, getopt,
            hexdump, hwclock, ipcrm, ipcs, isosize, line, logger, look,
            losetup, mcookie, mkfs, mkfs.bfs, mkfs.cramfs, mkfs.minix,
            mkswap, more, mount, namei, pg, pivot_root, ramsize (ссылка на
            rdev), raw, rdev, readprofile, rename, renice, rev, rootflags
            (ссылка на rdev), script, setfdprm, setsid, setterm, sfdisk,
            swapdev, swapoff (ссылка на swapon), swapon, tunelp, ul, umount,
            vidmode (ссылка на rdev), whereis и write
          </p>
        </div>
        <div class="variablelist">
          <h3>
            Короткое описание
          </h3>
          <dl>
            <dt>
              <a id="agetty" name="agetty"></a><span class=
              "term"><span><b class="command">agetty</b></span></span>
            </dt>
            <dd>
              <p>
                Открывает порт tty, запрашивает имя пользователя и запускает
		программу <span><b class="command">login</b></span>.
              </p>
            </dd>
            <dt>
              <a id="arch" name="arch"></a><span class="term"><span><b class=
              "command">arch</b></span></span>
            </dt>
            <dd>
              <p>
                Возвращает архитектуру машины.
              </p>
            </dd>
            <dt>
              <a id="blockdev" name="blockdev"></a><span class=
              "term"><span><b class="command">blockdev</b></span></span>
            </dt>
            <dd>
              <p>
                Позволяет вызвать ioctls блочного устройства из командной строки.
              </p>
            </dd>
            <dt>
              <a id="cal" name="cal"></a><span class="term"><span><b class=
              "command">cal</b></span></span>
            </dt>
            <dd>
              <p>
                Отображает простой календарь.
              </p>
            </dd>
            <dt>
              <a id="cfdisk" name="cfdisk"></a><span class=
              "term"><span><b class="command">cfdisk</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для манипуляций с таблицей разделов указанного устройства.
              </p>
            </dd>
            <dt>
              <a id="chkdupexe" name="chkdupexe"></a><span class=
              "term"><span><b class="command">chkdupexe</b></span></span>
            </dt>
            <dd>
              <p>
                Ищет дубликаты исполняемых файлов.
              </p>
            </dd>
            <dt>
              <a id="col" name="col"></a><span class="term"><span><b class=
              "command">col</b></span></span>
            </dt>
            <dd>
              <p>
                Фильтрует перевернутые строки, поступающие с ввода.
              </p>
            </dd>
            <dt>
              <a id="colcrt" name="colcrt"></a><span class=
              "term"><span><b class="command">colcrt</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для фильтрации вывода <span><b class=
		"command">nroff</b></span> для терминалов CRT.
              </p>
            </dd>
            <dt>
              <a id="colrm" name="colrm"></a><span class=
              "term"><span><b class="command">colrm</b></span></span>
            </dt>
            <dd>
              <p>
                Отфильтровывает указанные колонки.
              </p>
            </dd>
            <dt>
              <a id="column" name="column"></a><span class=
              "term"><span><b class="command">column</b></span></span>
            </dt>
            <dd>
              <p>
                Форматирует указанный файл в несколько колонок.
              </p>
            </dd>
            <dt>
              <a id="ctrlaltdel" name="ctrlaltdel"></a><span class=
              "term"><span><b class="command">ctrlaltdel</b></span></span>
            </dt>
            <dd>
              <p>
                Устанавливает функцию для комбинации клавиш Ctrl+Alt+Del для
		аппаратного или программного сброса.
              </p>
            </dd>
            <dt>
              <a id="cytune" name="cytune"></a><span class=
              "term"><span><b class="command">cytune</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для настройки параметров драйверов последовательного
		порта для карт Cyclades.
              </p>
            </dd>
            <dt>
              <a id="ddate" name="ddate"></a><span class=
              "term"><span><b class="command">ddate</b></span></span>
            </dt>
            <dd>
              <p>
                Выдает Discordian дату или конвертирует указанную дату по
		Григорианскому календарю в Discordian дату.
              </p>
            </dd>
            <dt>
              <a id="dmesg" name="dmesg"></a><span class=
              "term"><span><b class="command">dmesg</b></span></span>
            </dt>
            <dd>
              <p>
                Выводит загрузочные сообщения ядра.
              </p>
            </dd>
            <dt>
              <a id="elvtune" name="elvtune"></a><span class=
              "term"><span><b class="command">elvtune</b></span></span>
            </dt>
            <dd>
              <p>
                Может использоваться для настройки работы и взаимодействия блочных устройств.
              </p>
            </dd>
            <dt>
              <a id="fdformat" name="fdformat"></a><span class=
              "term"><span><b class="command">fdformat</b></span></span>
            </dt>
            <dd>
              <p>
                Низкоуровневое форматирование дискеты.
              </p>
            </dd>
            <dt>
              <a id="fdisk" name="fdisk"></a><span class=
              "term"><span><b class="command">fdisk</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для манипуляций с таблицами разделов указанного устройства.
              </p>
            </dd>
            <dt>
              <a id="fsck.cramfs" name="fsck.cramfs"></a><span class=
              "term"><span><b class="command">fsck.cramfs</b></span></span>
            </dt>
            <dd>
              <p>
                Проводит проверку целостности файловой системы Cramfs на указанном устройстве.
              </p>
            </dd>
            <dt>
              <a id="fsck.minix" name="fsck.minix"></a><span class=
              "term"><span><b class="command">fsck.minix</b></span></span>
            </dt>
            <dd>
              <p>
                Проводит проверку целостности файловой системы Minix на указанном устройстве.
              </p>
            </dd>
            <dt>
              <a id="getopt" name="getopt"></a><span class=
              "term"><span><b class="command">getopt</b></span></span>
            </dt>
            <dd>
              <p>
                Анализирует параметры командной строки.
              </p>
            </dd>
            <dt>
              <a id="hexdump" name="hexdump"></a><span class=
              "term"><span><b class="command">hexdump</b></span></span>
            </dt>
            <dd>
              <p>
                Отображает заданный файл в шестнадцатиричном или другом указанном формате.
              </p>
            </dd>
            <dt>
              <a id="hwclock" name="hwclock"></a><span class=
              "term"><span><b class="command">hwclock</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для чтения или установки аппаратных часов системы
		(также называемых RTC- или BIOS-часами).
              </p>
            </dd>
            <dt>
              <a id="ipcrm" name="ipcrm"></a><span class=
              "term"><span><b class="command">ipcrm</b></span></span>
            </dt>
            <dd>
              <p>
                Удаляет указанный ресурс IPC.
              </p>
            </dd>
            <dt>
              <a id="ipcs" name="ipcs"></a><span class="term"><span><b class=
              "command">ipcs</b></span></span>
            </dt>
            <dd>
              <p>
                Отображает статус IPC.
              </p>
            </dd>
            <dt>
              <a id="isosize" name="isosize"></a><span class=
              "term"><span><b class="command">isosize</b></span></span>
            </dt>
            <dd>
              <p>
                Возвращает размер файловой системы iso9660.
              </p>
            </dd>
            <dt>
              <a id="line" name="line"></a><span class="term"><span><b class=
              "command">line</b></span></span>
            </dt>
            <dd>
              <p>
                Копирует строку.
              </p>
            </dd>
            <dt>
              <a id="logger" name="logger"></a><span class=
              "term"><span><b class="command">logger</b></span></span>
            </dt>
            <dd>
              <p>
                Добавляет указанное сообщение в системный лог.
              </p>
            </dd>
            <dt>
              <a id="look" name="look"></a><span class="term"><span><b class=
              "command">look</b></span></span>
            </dt>
            <dd>
              <p>
                Выводит строки, начинающиеся с указанной строки.
              </p>
            </dd>
            <dt>
              <a id="losetup" name="losetup"></a><span class=
              "term"><span><b class="command">losetup</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для установки и управления loop устройств.
              </p>
            </dd>
            <dt>
              <a id="mcookie" name="mcookie"></a><span class=
              "term"><span><b class="command">mcookie</b></span></span>
            </dt>
            <dd>
              <p>
                Генерирует "магические" (128-битные случайные шестнадцатиричные числа)
		ключи для <span><b class="command">xauth</b></span>
              </p>
            </dd>
            <dt>
              <a id="mkfs" name="mkfs"></a><span class="term"><span><b class=
              "command">mkfs</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для создания файловой системы на устройстве
		(обычно разделе жесткого диска).
              </p>
            </dd>
            <dt>
              <a id="mkfs.bfs" name="mkfs.bfs"></a><span class=
              "term"><span><b class="command">mkfs.bfs</b></span></span>
            </dt>
            <dd>
              <p>
                Создает файловую систему SCO bfs.
              </p>
            </dd>
            <dt>
              <a id="mkfs.cramfs" name="mkfs.cramfs"></a><span class=
              "term"><span><b class="command">mkfs.cramfs</b></span></span>
            </dt>
            <dd>
              <p>
                Создает файловую систему cramfs.
              </p>
            </dd>
            <dt>
              <a id="mkfs.minix" name="mkfs.minix"></a><span class=
              "term"><span><b class="command">mkfs.minix</b></span></span>
            </dt>
            <dd>
              <p>
                Создает файловую систему Minix.
              </p>
            </dd>
            <dt>
              <a id="mkswap" name="mkswap"></a><span class=
              "term"><span><b class="command">mkswap</b></span></span>
            </dt>
            <dd>
              <p>
                Инициализирует указанное устройство или файл для использования
		в качестве свопа.
              </p>
            </dd>
            <dt>
              <a id="more" name="more"></a><span class="term"><span><b class=
              "command">more</b></span></span>
            </dt>
            <dd>
              <p>
                Фильтр для постраничного вывода текста. Но less намного лучше.
              </p>
            </dd>
            <dt>
              <a id="mount" name="mount"></a><span class=
              "term"><span><b class="command">mount</b></span></span>
            </dt>
            <dd>
              <p>
                Присоединяет файловую систему на указанном устройстве к
		указанной директории в дереве системных файлов.
              </p>
            </dd>
            <dt>
              <a id="namei" name="namei"></a><span class=
              "term"><span><b class="command">namei</b></span></span>
            </dt>
            <dd>
              <p>
                Показывает символические ссылки в указанных путях.
              </p>
            </dd>
            <dt>
              <a id="pg" name="pg"></a><span class="term"><span><b class=
              "command">pg</b></span></span>
            </dt>
            <dd>
              <p>
                Постранично отображает текстовый файл.
              </p>
            </dd>
            <dt>
              <a id="pivot_root" name="pivot_root"></a><span class=
              "term"><span><b class="command">pivot_root</b></span></span>
            </dt>
            <dd>
              <p>
                Делает указанную файловую системы корневой для текущих процессов.
              </p>
            </dd>
            <dt>
              <a id="ramsize" name="ramsize"></a><span class=
              "term"><span><b class="command">ramsize</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для установки размера RAM-диска в загрузочной карте.
              </p>
            </dd>
            <dt>
              <a id="raw" name="raw"></a><span class="term"><span><b class=
              "command">raw</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для создания сырого символьного устройства Linux
		на блочном устройстве.
              </p>
            </dd>
            <dt>
              <a id="rdev" name="rdev"></a><span class="term"><span><b class=
              "command">rdev</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для запроса и установки корневого устройства и
		других параметров карты загрузки.
              </p>
            </dd>
            <dt>
              <a id="readprofile" name="readprofile"></a><span class=
              "term"><span><b class="command">readprofile</b></span></span>
            </dt>
            <dd>
              <p>
                Считывает профильную информацию ядра.
              </p>
            </dd>
            <dt>
              <a id="rename" name="rename"></a><span class=
              "term"><span><b class="command">rename</b></span></span>
            </dt>
            <dd>
              <p>
                Переименовывает указанные файлы, заменяет указанную строку на другую.
              </p>
            </dd>
            <dt>
              <a id="renice" name="renice"></a><span class=
              "term"><span><b class="command">renice</b></span></span>
            </dt>
            <dd>
              <p>
                Измененяет приоритет выполнения работающего процесса.
              </p>
            </dd>
            <dt>
              <a id="rev" name="rev"></a><span class="term"><span><b class=
              "command">rev</b></span></span>
            </dt>
            <dd>
              <p>
                Переворачивает строки в указанном файле.
              </p>
            </dd>
            <dt>
              <a id="rootflags" name="rootflags"></a><span class=
              "term"><span><b class="command">rootflags</b></span></span>
            </dt>
            <dd>
              <p>
                Используеться для установки или снятия параметров корневой
		файловой системы в карте загрузки.
              </p>
            </dd>
            <dt>
              <a id="script" name="script"></a><span class=
              "term"><span><b class="command">script</b></span></span>
            </dt>
            <dd>
              <p>
                Создает скрипт терминальной сессии.
              </p>
            </dd>
            <dt>
              <a id="setfdprm" name="setfdprm"></a><span class=
              "term"><span><b class="command">setfdprm</b></span></span>
            </dt>
            <dd>
              <p>
                Устанавливает пользовательские параметры дискеты.
              </p>
            </dd>
            <dt>
              <a id="setsid" name="setsid"></a><span class=
              "term"><span><b class="command">setsid</b></span></span>
            </dt>
            <dd>
              <p>
                Запускает указанную программу в новой сессии.
              </p>
            </dd>
            <dt>
              <a id="setterm" name="setterm"></a><span class=
              "term"><span><b class="command">setterm</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для установки атрибутов терминала.
              </p>
            </dd>
            <dt>
              <a id="sfdisk" name="sfdisk"></a><span class=
              "term"><span><b class="command">sfdisk</b></span></span>
            </dt>
            <dd>
              <p>
                Манипулирует таблицами разделов дисков.
              </p>
            </dd>
            <dt>
              <a id="swapdev" name="swapdev"></a><span class=
              "term"><span><b class="command">swapdev</b></span></span>
            </dt>
            <dd>
              <p>
                Используеться для установки свопа в карте загрузки.
              </p>
            </dd>
            <dt>
              <a id="swapoff" name="swapoff"></a><span class=
              "term"><span><b class="command">swapoff</b></span></span>
            </dt>
            <dd>
              <p>
                Отключает устройства или файлы свопа.
              </p>
            </dd>
            <dt>
              <a id="swapon" name="swapon"></a><span class=
              "term"><span><b class="command">swapon</b></span></span>
            </dt>
            <dd>
              <p>
                Подключает устройства или файлы свопа.
              </p>
            </dd>
            <dt>
              <a id="tunelp" name="tunelp"></a><span class=
              "term"><span><b class="command">tunelp</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для настройки параметров LP устройств.
              </p>
            </dd>
            <dt>
              <a id="ul" name="ul"></a><span class="term"><span><b class=
              "command">ul</b></span></span>
            </dt>
            <dd>
              <p>
                Фильтр для перевода знаков подчеркивания в
		escape-последовательности подчеркивания для текущего терминала.
              </p>
            </dd>
            <dt>
              <a id="umount" name="umount"></a><span class=
              "term"><span><b class="command">umount</b></span></span>
            </dt>
            <dd>
              <p>
                Отключает файловую систему от дерева системных файлов.
              </p>
            </dd>
            <dt>
              <a id="vidmode" name="vidmode"></a><span class=
              "term"><span><b class="command">vidmode</b></span></span>
            </dt>
            <dd>
              <p>
                Используется для установки видеорежима в карте загрузки.
              </p>
            </dd>
            <dt>
              <a id="whereis" name="whereis"></a><span class=
              "term"><span><b class="command">whereis</b></span></span>
            </dt>
            <dd>
              <p>
                Возвращает местоположение бинарников, исходников или
		man-страниц для указанной команды.
              </p>
            </dd>
            <dt>
              <a id="write" name="write"></a><span class=
              "term"><span><b class="command">write</b></span></span>
            </dt>
            <dd>
              <p>
                Посылает сообщение указанному пользователю, <span class=
                "emphasis"><em>если</em></span> пользователь не отключил эту возможность.
              </p>
            </dd>
          </dl>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="udev.html" title="Udev-030">Назад</a>
          <p>
            Udev-030
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="aboutdebug.html" title=
          "About Debugging Symbols">Далее</a>
          <p>
            Об отладочных символах
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Глава&nbsp;6.&nbsp;Установка основных системных программ">Наверх</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Версия 6.0">В начало</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
