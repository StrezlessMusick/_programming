<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
  <head> 
    <meta http-equiv="Content-Type" content= 
    "application/xhtml+xml; charset=koi8-r" /> 
    <title> 
      4.3.&nbsp;Добавление пользователя LFS 
    </title> 
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" /> 
    <meta name="generator" content="DocBook XSL Stylesheets V1.65.1" /> 
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type= 
    "text/css" media="print" /> 
  </head> 
  <body id="lfs" class="6.0"> 
    <div class="navheader"> 
      <div class="headertitles"> 
        <h4> 
          Linux From Scratch - Версия 6.0 
        </h4> 
        <h3> 
          Глава&nbsp;4.&nbsp;Окончание подготовки 
        </h3> 
      </div> 
      <ul class="headerlinks"> 
        <li class="prev"> 
          <a accesskey="p" href="creatingtoolsdir.html" title= 
          "Creating the $LFS/tools Directory">Назад</a> 
          <p> 
            Создание директории $LFS/tools 
          </p> 
        </li> 
        <li class="next"> 
          <a accesskey="n" href="settingenvironment.html" title= 
          "Setting Up the Environment">Далее</a> 
          <p> 
            Настройка окружения 
          </p> 
        </li> 
        <li class="up"> 
          <a accesskey="u" href="chapter04.html" title= 
          "Глава&nbsp;4.&nbsp;Final Preparations">Наверх</a>. 
        </li> 
        <li class="home"> 
          <a accesskey="h" href="../index.html" title= 
          "Linux From Scratch - Версия 6.0">В начало</a> 
        </li> 
      </ul> 
    </div> 
    <div class="sect1" lang="en" xml:lang="en"> 
      <div class="titlepage"> 
        <h1 class="sect1"> 
          4.3. Добавление пользователя LFS 
        </h1> 
      </div> 
      <p> 
        Если вы зарегистрировались в ситеме как <span class= 
	"emphasis"><em>root</em></span>, малейшая ошибка может иметь 
	фатальные последствия для вашей системы. Поэтому мы рекомендуем 
	собирать пакеты из этой главы под непривилегированным пользователем. 
	Kонечно, вы можете использовать имя вашего текущего пользователя, 
	но более простым шагом будет созданее нового пользователя <span class= 
        "emphasis"><em>lfs</em></span> и новой группы (так же с именем 
        <span class="emphasis"><em>lfs</em></span>) и использовать его в 
	процессе установки. Под правами <span class= 
        "emphasis"><em>root</em></span> исполните следующие команды для 
	добавления нового пользователя: 
      </p> 
      <pre class="userinput"> 
<kbd class="command">groupadd lfs 
useradd -s /bin/bash -g lfs -m -k /dev/null lfs</kbd> 
</pre> 
      <p> 
        Обозначения опций командной строки: 
      </p> 
      <div class="variablelist"> 
        <dl> 
          <dt> 
            <span class="term"><i class="parameter"><tt>-s 
            /bin/bash</tt></i></span> 
          </dt> 
          <dd> 
            <p> 
              Эта опция делает <span><b class="command">bash</b></span> оболчкой 
              по умолчанию для пользователя <span class="emphasis"><em>lfs</em></span>. 
            </p> 
          </dd> 
          <dt> 
            <span class="term"><i class="parameter"><tt>-g 
            lfs</tt></i></span> 
          </dt> 
          <dd> 
            <p> 
              Эта опция добавляет пользователя <span class= 
              "emphasis"><em>lfs</em></span> в группу <span class= 
              "emphasis"><em>lfs</em></span>. 
            </p> 
          </dd> 
          <dt> 
            <span class="term"><i class="parameter"><tt>-m</tt></i></span> 
          </dt> 
          <dd> 
            <p> 
              Эта опция создает домашнюю директорию для пользователя <span class= 
              "emphasis"><em>lfs</em></span>. 
            </p> 
          </dd> 
          <dt> 
            <span class="term"><i class="parameter"><tt>-k 
            /dev/null</tt></i></span> 
          </dt> 
          <dd> 
            <p> 
              Этот параметр предупреждает возможное копирование файлов из 
              скелетной директории (по умолчанию <tt class= 
              "filename">/etc/skel</tt>) изменением входящего расположения на 
              специальное null-устройство. 
            </p> 
          </dd> 
          <dt> 
            <span class="term"><i class="parameter"><tt>lfs</tt></i></span> 
          </dt> 
          <dd> 
            <p> 
              Это актуальное имя для созданных группы и пользователя. 
            </p> 
          </dd> 
        </dl> 
      </div> 
      <p> 
        Для регистрации как <span class="emphasis"><em>lfs</em></span>,
	дадим пользователю <span class="emphasis"><em>lfs</em></span> пароль: 
      </p> 
      <pre class="userinput"> 
<kbd class="command">passwd lfs</kbd> 
</pre> 
      <p> 
        Чтобы новый пользователь <span class="emphasis"><em>lfs</em></span> 
	получил полный доступ к директории 
        <tt class="filename">$LFS/tools</tt> изменим ее владельца: 
      </p> 
      <pre class="userinput"> 
<kbd class="command">chown lfs $LFS/tools</kbd> 
</pre> 
      <p> 
        Если вы создали отдельную директорию для работы, смените также и ее 
        владельца на <span class="emphasis"><em>lfs</em></span>: 
      </p> 
      <pre class="userinput"> 
<kbd class="command">chown lfs $LFS/sources</kbd> 
</pre> 
      <p> 
        Теперь, войдем в систему как пользователь <span class= 
	"emphasis"><em>lfs</em></span>. Это можно сделать через виртуальную 
	консоль, через менеджер экрана или через команду: 
      </p> 
      <pre class="userinput"> 
<kbd class="command">su - lfs</kbd> 
</pre> 
      <p> 
        Инструкция &ldquo;<span class="quote"><i class= 
        "parameter"><tt>-</tt></i></span>&rdquo; команды <span><b class= 
        "command">su</b></span> запустит новый интерпретатор командной строки. 
      </p> 
    </div> 
    <div class="navfooter"> 
      <ul> 
        <li class="prev"> 
          <a accesskey="p" href="creatingtoolsdir.html" title= 
          "Creating the $LFS/tools Directory">Назад</a> 
          <p> 
            Создание директории $LFS/tools 
          </p> 
        </li> 
        <li class="next"> 
          <a accesskey="n" href="settingenvironment.html" title= 
          "Setting Up the Environment">Далее</a> 
          <p> 
            Настройка окружения 
          </p> 
        </li> 
        <li class="up"> 
          <a accesskey="u" href="chapter04.html" title= 
          "Глава&nbsp;4.&nbsp;Final Preparations">Наверх</a>. 
        </li> 
        <li class="home"> 
          <a accesskey="h" href="../index.html" title= 
          "Linux From Scratch - Версия 6.0">В начало</a>. 
        </li> 
      </ul> 
    </div> 
  </body> 
</html> 
