<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=koi8-r" />
    <title>
      6.5.&nbsp;Создание директорий
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.65.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="lfs" class="6.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Linux From Scratch - Версия 6.0
        </h4>
        <h3>
          Глава&nbsp;6.&nbsp;Установка основных системных программ
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="changingowner.html" title=
          "Changing Ownership">Назад</a>
          <p>
            Смена владельца
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="createfiles.html" title=
          "Creating Essential Symlinks">Далее</a>
          <p>
            Создание необходимых ссылок
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Глава&nbsp;6.&nbsp;Установка основных системных программ">Наверх</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Версия 6.0">В начало</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <h1 class="sect1">
          6.5. Создание директорий
        </h1>
      </div>
      <p>
        Теперь нам надо создать структуру файловой системы LFS. Создадим дерево
	директорий, используя следующие команды:
      </p>
      <pre class="userinput">
<kbd class="command">install -d /{bin,boot,dev,etc/opt,home,lib,mnt}
install -d /{sbin,srv,usr/local,var,opt}
install -d /root -m 0750
install -d /tmp /var/tmp -m 1777
install -d /media/{floppy,cdrom}
install -d /usr/{bin,include,lib,sbin,share,src}
ln -s share/{man,doc,info} /usr
install -d /usr/share/{doc,info,locale,man}
install -d /usr/share/{misc,terminfo,zoneinfo}
install -d /usr/share/man/man{1,2,3,4,5,6,7,8}
install -d /usr/local/{bin,etc,include,lib,sbin,share,src}
ln -s share/{man,doc,info} /usr/local
install -d /usr/local/share/{doc,info,locale,man}
install -d /usr/local/share/{misc,terminfo,zoneinfo}
install -d /usr/local/share/man/man{1,2,3,4,5,6,7,8}
install -d /var/{lock,log,mail,run,spool}
install -d /var/{opt,cache,lib/{misc,locate},local}
install -d /opt/{bin,doc,include,info}
install -d /opt/{lib,man/man{1,2,3,4,5,6,7,8}}</kbd>
</pre>
      <p>
        По умолчанию директории создаются с правами доступа 755, но это
	правильно не для всех из них. Мы сделаем два изменения: одно для
	домашней директории пользователя <span class=
        "emphasis"><em>root</em></span>, а другое для директории для временных файлов.
      </p>
      <p>
        Первой командой смены моды мы запрещаем доступ в директорию
        <tt class="filename">/root</tt> для всех, кроме владельца -- тоже самое нам
	надо будет потом сделать для домашних директорий остальных пользователей.
	Второй командой смены моды мы позволяем всем пользователям записывать и
	читать файлы в и из директорий <tt class=
        "filename">/tmp</tt> и <tt class="filename">/var/tmp</tt>,
        но они не смогут удалять оттуда файлы других пользователей. Последнее
	достигается установкой &ldquo;<span class=
        "quote">sticky bit</span>&rdquo; - старшего бита в битовой маске 1777.
      </p>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            6.5.1. Совместимость с FHS
          </h2>
        </div>
        <p>
          Мы создаем наше дерево каталогов совместимым со стандартом FHS
	  (доступен на <a href="http://www.pathname.com/fhs/">
          <i>http://www.pathname.com/fhs/</i></a>).
          Вместе с деревом директорий, созданном выше, этот стандарт обуславливает
          существование <tt class="filename">/usr/local/games</tt> и
          <tt class="filename">/usr/share/games</tt>. Мы не рекомендуем их
          для базовой системы, хотя вы можете создать систему полностью
          FHS-совместимой. Поскольку структура субдиректорий
          <tt class="filename">/usr/local/share</tt> не описана в стандарте FHS,
          то мы создаем ее так, как надо нам.
        </p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="changingowner.html" title=
          "Changing Ownership">Назад</a>
          <p>
            Смена владельца
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="createfiles.html" title=
          "Creating Essential Symlinks">Далее</a>
          <p>
            Создание необходимых ссылок
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Глава&nbsp;6.&nbsp;Установка основных системных программ">Наверх</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Версия 6.0">В начало</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
