<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Portability Issues</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/><link rel="home" href="index.html" title="Advanced Bash Scripting по-русски"/><link rel="up" href="ch33.html" title="Глава 33. Miscellany"/><link rel="prev" href="ch33s09.html" title="Security Issues"/><link rel="next" href="ch33s11.html" title="Shell Scripting Under Windows"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Portability Issues</th></tr><tr><td align="left"><a accesskey="p" href="ch33s09.html">Пред.</a> </td><th width="60%" align="center">Глава 33. Miscellany</th><td align="right"> <a accesskey="n" href="ch33s11.html">След.</a></td></tr></table><hr/></div><div class="sect1" title="Portability Issues"><div class="titlepage"><div><div><h2 class="title"><a id="portabilityissues"/>Portability Issues</h2></div></div></div><div class="epigraph"><p>It is easier to port a shell than a shell script.</p><p>--Larry Wall</p></div><p>This book deals specifically with Bash scripting on
    a GNU/Linux system. All the same, users of <span class="command"><strong>sh</strong></span>
    and <span class="command"><strong>ksh</strong></span> will find much of value here.</p><p><a id="posix3ref"/>As it happens, many of the various
    shells and scripting languages seem to be converging toward the
    <a class="link" href="ch02.html#posix2ref">POSIX</a> 1003.2 standard. Invoking
    Bash with the <code class="option">--posix</code> option or inserting
    a <span class="command"><strong>set -o posix</strong></span> at the head of a script
    causes Bash to conform very closely to this standard. Another
    alternative is to use a <em class="firstterm">#!/bin/sh</em> <a class="link" href="ch02.html#shabangref">sha-bang header</a> in the script,
    rather than <em class="firstterm">#!/bin/bash</em>.

      <sup>[<a id="idp17878848" href="#ftn.idp17878848" class="footnote">118</a>]</sup>

    Note that <code class="filename">/bin/sh</code> is a <a class="link" href="ch15.html#linkref">link</a> to <code class="filename">/bin/bash</code>
    in Linux and certain other flavors of UNIX, and a script invoked
    this way disables extended Bash functionality.</p><p>Most Bash scripts will run as-is under
    <span class="command"><strong>ksh</strong></span>, and vice-versa, since Chet Ramey has
    been busily porting <span class="command"><strong>ksh</strong></span> features to the
    latest versions of Bash.</p><p>On a commercial UNIX machine, scripts using GNU-specific
    features of standard commands may not work. This has become less
    of a problem in the last few years, as the GNU utilities have
    pretty much displaced their proprietary
    counterparts even on <span class="quote">«<span class="quote">big-iron</span>»</span> UNIX.
    <a class="ulink" href="http://linux.oreillynet.com/pub/a/linux/2002/02/28/caldera.html">Caldera's
    release of the source</a> to many of the original UNIX
    utilities has accelerated the trend.</p><p><a id="bashcompat"/></p><p>Bash has certain features that the traditional <a class="link" href="ch01.html#bashdef">Bourne shell</a> lacks. Among these are:

  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Certain extended <a class="link" href="ch30.html#invocationoptionsref">invocation options</a></p></li><li class="listitem"><p><a class="link" href="ch11.html#commandsubref">Command substitution</a> using
    <span class="command"><strong>$(    )</strong></span> notation</p></li><li class="listitem"><p><a class="link" href="ch34s02.html#braceexpref3">Brace expansion</a></p></li><li class="listitem"><p>Certain <a class="link" href="ch26.html#arrayref">array</a> operations,
          and <a class="link" href="ch34s03.html#assocarr">associative arrays</a></p></li><li class="listitem"><p>The <a class="link" href="ch07.html#dblbrackets">double brackets</a>
    extended test construct</p></li><li class="listitem"><p>The <a class="link" href="ch09s07.html#dblparensref">double-parentheses</a>
    arithmetic-evaluation construct</p></li><li class="listitem"><p>Certain <a class="link" href="ch09s02.html#stringmanip">string manipulation</a>
    operations</p></li><li class="listitem"><p><a class="link" href="ch22.html#processsubref">Process substitution</a></p></li><li class="listitem"><p>A Regular Expression <a class="link" href="ch34s02.html#regexmatchref">matching
    operator</a></p></li><li class="listitem"><p>Bash-specific <a class="link" href="ch14.html#builtinref">builtins</a></p></li><li class="listitem"><p><a class="link" href="ch34s03.html#coprocref">Coprocesses</a></p></li></ul></div><p>
  </p><p>See the <a class="ulink" href="ftp://ftp.cwru.edu/pub/bash/FAQ">Bash
     F.A.Q.</a> for a complete listing.</p><div class="sect2" title="A Test Suite"><div class="titlepage"><div><div><h3 class="title"><a id="idp17908208"/>A Test Suite</h3></div></div></div><p><a id="testsuite0"/>Let us illustrate some of the
     incompatibilities between Bash and the classic
     Bourne shell. Download and install the <a class="ulink" href="http://freshmeat.net/projects/bournesh"><span class="quote">«<span class="quote">Heirloom
     Bourne Shell</span>»</span></a> and run the following
     script, first using Bash, then the classic
     <em class="firstterm">sh</em>.</p><div class="example"><a id="testsuite"/><p class="title"><b>Пример 33.21. Test Suite</b></p><div class="example-contents"><pre class="programlisting">&amp;testsuite;</pre></div></div><br class="example-break"/></div><div class="footnotes"><br/><hr/><div class="footnote"><p><sup>[<a id="ftn.idp17878848" href="#idp17878848" class="para">118</a>] </sup>Or, better yet, <a class="link" href="ch16.html#envv2ref">#!/bin/env sh</a>.</p></div></div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td align="left"><a accesskey="p" href="ch33s09.html">Пред.</a> </td><td align="center"><a accesskey="u" href="ch33.html">Уровень выше</a></td><td align="right"> <a accesskey="n" href="ch33s11.html">След.</a></td></tr><tr><td align="left" valign="top">Security Issues </td><td align="center"><a accesskey="h" href="index.html">Начало</a></td><td align="right" valign="top"> Shell Scripting Under Windows</td></tr></table></div></body></html>
