<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Security Issues</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/><link rel="home" href="index.html" title="Advanced Bash Scripting по-русски"/><link rel="up" href="ch33.html" title="Глава 33. Miscellany"/><link rel="prev" href="ch33s08.html" title="Assorted Tips"/><link rel="next" href="ch33s10.html" title="Portability Issues"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Security Issues</th></tr><tr><td align="left"><a accesskey="p" href="ch33s08.html">Пред.</a> </td><th width="60%" align="center">Глава 33. Miscellany</th><td align="right"> <a accesskey="n" href="ch33s10.html">След.</a></td></tr></table><hr/></div><div class="sect1" title="Security Issues"><div class="titlepage"><div><div><h2 class="title"><a id="securityissues"/>Security Issues</h2></div></div></div><div class="sect2" title="Infected Shell Scripts"><div class="titlepage"><div><div><h3 class="title"><a id="infectedscripts"/>Infected Shell Scripts</h3></div></div></div><p><a id="infectedscripts1"/></p><p>A brief warning about script security is indicated.
    A shell script may contain a <em class="firstterm">worm</em>,
    <em class="firstterm">trojan</em>, or even a
    <em class="firstterm">virus</em>. For that reason, never run
    as <em class="firstterm">root</em> a script (or permit it to
    be inserted into the system startup scripts in <code class="filename">/etc/rc.d</code>) unless you have obtained
    said script from a trusted source or you have carefully analyzed
    it to make certain it does nothing harmful.</p><p>Various researchers at Bell Labs and other sites, including M.
    Douglas McIlroy, Tom Duff, and Fred Cohen have investigated the
    implications of shell script viruses. They conclude that it is
    all too easy for even a novice, a <span class="quote">«<span class="quote">script kiddie,</span>»</span>
    to write one.
      <sup>[<a id="idp17848064" href="#ftn.idp17848064" class="footnote">117</a>]</sup>
    </p><p>Here is yet another reason to learn scripting. Being able to
    look at and understand scripts may protect your system from
    being compromised by a rogue script.</p></div><div class="sect2" title="Hiding Shell Script Source"><div class="titlepage"><div><div><h3 class="title"><a id="hidingsource"/>Hiding Shell Script Source</h3></div></div></div><p>For security purposes, it may be necessary to render a script
    unreadable. If only there were a utility to create a stripped
    binary executable from a script. Francisco Rosales' <a class="ulink" href="http://www.datsi.fi.upm.es/~frosal/sources/">shc --
    generic shell script compiler</a> does exactly that.</p><p>Unfortunately, according to <a class="ulink" href="http://www.linuxjournal.com/article/8256">an article</a> in
   the October, 2005 <span class="emphasis"><em>Linux Journal</em></span>,
   the binary can, in at least some cases, be decrypted to recover
   the original script source. Still, this could be a useful
   method of keeping scripts secure from all but the most skilled
   hackers.</p></div><div class="sect2" title="Writing Secure Shell Scripts"><div class="titlepage"><div><div><h3 class="title"><a id="securitytips"/>Writing Secure Shell Scripts</h3></div></div></div><p><a id="securitytips1"/></p><p><span class="emphasis"><em>Dan Stromberg</em></span> suggests the following
    guidelines for writing (relatively) secure shell scripts.</p><p>
         </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Don't put secret data in <a class="link" href="ch04s04.html#envref">environment variables</a>.</p></li><li class="listitem"><p>Don't pass secret data in an external
        command's arguments (pass them in via a <a class="link" href="ch03.html#piperef">pipe</a> or <a class="link" href="ch19.html#ioredirref">redirection</a> instead).</p></li><li class="listitem"><p>Set your <a class="link" href="ch09.html#pathref">$PATH</a>
        carefully. Don't just trust whatever path you
        inherit from the caller if your script is running as
        <em class="firstterm">root</em>. In fact, whenever you use
        an environment variable inherited from the caller, think
        about what could happen if the caller put something
        misleading in the variable, e.g., if the caller set
        <a class="link" href="ch09.html#homedirref">$HOME</a> to <code class="filename">/etc</code>.</p></li></ul></div><p>
        </p></div><div class="footnotes"><br/><hr/><div class="footnote"><p><sup>[<a id="ftn.idp17848064" href="#idp17848064" class="para">117</a>] </sup>See Marius van Oers' article, <a class="ulink" href="http://www.virusbtn.com/magazine/archives/200204/malshell.xml">Unix
        Shell Scripting Malware</a>, and also the
        <a class="link" href="bi01.html#denningref"><span class="emphasis"><em>Denning</em></span>
        reference</a> in the
        <em class="firstterm">bibliography</em>.</p></div></div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td align="left"><a accesskey="p" href="ch33s08.html">Пред.</a> </td><td align="center"><a accesskey="u" href="ch33.html">Уровень выше</a></td><td align="right"> <a accesskey="n" href="ch33s10.html">След.</a></td></tr><tr><td align="left" valign="top">Assorted Tips </td><td align="center"><a accesskey="h" href="index.html">Начало</a></td><td align="right" valign="top"> Portability Issues</td></tr></table></div></body></html>
