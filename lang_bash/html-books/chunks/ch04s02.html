<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Присваивание значений переменным</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/><link rel="home" href="index.html" title="Advanced Bash Scripting по-русски"/><link rel="up" href="ch04.html" title="Глава 4. Введение в переменные и параметры"/><link rel="prev" href="ch04.html" title="Глава 4. Введение в переменные и параметры"/><link rel="next" href="ch04s03.html" title="Переменные Bash не типизированы"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Присваивание значений переменным</th></tr><tr><td align="left"><a accesskey="p" href="ch04.html">Пред.</a> </td><th width="60%" align="center">Глава 4. Введение в переменные и параметры</th><td align="right"> <a accesskey="n" href="ch04s03.html">След.</a></td></tr></table><hr/></div><div class="sect1" title="Присваивание значений переменным"><div class="titlepage"><div><div><h2 class="title"><a id="varassignment"/>Присваивание значений переменным</h2></div></div></div><div class="variablelist"><dl><dt><span class="term"><a id="eqref"/><span class="token">=</span></span></dt><dd><p>оператор присваивания (<span class="emphasis"><em>пробелов до и после
      быть не должно</em></span>)</p><div class="caution" title="Предостережение" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Предостережение</h3><p>Не путайте с <a class="link" href="ch07s03.html#equalsignref">=</a> и
        <a class="link" href="ch07s03.html#equalref">-eq</a>, которые
	участвуют в операции сравнения
        <a class="link" href="ch07.html#ifthen">test</a> -
        они присваиваниями не являются!</p><p>Отметим, что <span class="token">=</span> может быть как
        оператором <em class="firstterm">присваивания</em>, так и
        оператором <em class="firstterm">сравнения</em>, в зависимости от
        контекста.</p></div><p><a id="ex15_0"/></p><div class="example"><a id="ex15"/><p class="title"><b>Пример 4.2. Простое присваивание значений переменным</b></p><div class="example-contents"><pre class="programlisting">
#!/bin/bash
# Голые переменные

echo

# Когда переменная является "голой", т.е. без '$' впереди?
# При присваивании, а не при обращении.

# Присваивание
a=879
echo "Значение \"a\" - $a."

# Присваивание при помощи 'let'
let a=16+5
echo "Значение \"a\" теперь $a."

echo

# В цикле 'for' (на самом деле разновидность неявного присваивания):
echo -n "Значения \"a\" в цикле: "
for a in 7 8 9 11
do
  echo -n "$a "
done

echo
echo

# При помощи операции 'read' (так же разновидность присваивания):
echo -n "Введите \"a\" "
read a
echo "Значение \"a\" - $a."

echo

exit 0
</pre></div></div><br class="example-break"/><p><a id="ex16_0"/></p><div class="example"><a id="ex16"/><p class="title"><b>Пример 4.3. Присваивание значений, простое и особое</b></p><div class="example-contents"><pre class="programlisting">
#!/bin/bash

a=23              # Простой случай
echo $a
b=$a
echo $b

# Теперь немножко фантазии (подстановка команд).

a=`echo Hello!`   # Присваиваем результат выполнения 'echo' переменной 'a'
echo $a
#  Отметим, что конструкция подстановки команд c
#+ восклицательным знаком (!) не будет работать в командной строке,
#+ так как это вызовет "механизм истории" Bash.
#  Однако, в сценарии функции истории недействительны.

a=`ls -l`         #  Присваиваем результат выполнения 
		  #+ команды 'ls -l' переменной 'a'
echo $a           #  Без кавычек, но знаки табуляций и новых строк удалены.
echo
echo "$a"         # Заключенная в кавычки переменная сохраняет знаки разделения.
                  # (Смотри главу 5 "Кавычки.")

exit 0
</pre></div></div><br class="example-break"/><p><a id="commandsubref0"/></p><p>Присваивание значений переменным при помощи 
	механизма <em class="firstterm">$(...)</em>
        (более новый метод по сравнению с <a class="link" href="ch11.html#backquotesref">обратными кавычками</a>). Это
        разновидность <a class="link" href="ch11.html#commandsubref">подстановки
        команд</a>.</p><pre class="programlisting"># Взято из /etc/rc.d/rc.local
R=$(cat /etc/redhat-release)
arch=$(uname -m)
# В вашей системе может не оказаться /etc/rc.d/rc.local и /etc/redhat-release (прим. переводчика)</pre></dd></dl></div></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td align="left"><a accesskey="p" href="ch04.html">Пред.</a> </td><td align="center"><a accesskey="u" href="ch04.html">Уровень выше</a></td><td align="right"> <a accesskey="n" href="ch04s03.html">След.</a></td></tr><tr><td align="left" valign="top">Глава 4. Введение в переменные и параметры </td><td align="center"><a accesskey="h" href="index.html">Начало</a></td><td align="right" valign="top"> Переменные Bash не типизированы</td></tr></table></div></body></html>
