<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Приложение K. History Commands</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/><link rel="home" href="index.html" title="Advanced Bash Scripting по-русски"/><link rel="up" href="index.html" title="Advanced Bash Scripting по-русски"/><link rel="prev" href="apj.html" title="Приложение J. Localization"/><link rel="next" href="apl.html" title="Приложение L. A Sample .bashrc File"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Приложение K. History Commands</th></tr><tr><td align="left"><a accesskey="p" href="apj.html">Пред.</a> </td><th width="60%" align="center"> </th><td align="right"> <a accesskey="n" href="apl.html">След.</a></td></tr></table><hr/></div><div class="appendix" title="Приложение K. History Commands"><div class="titlepage"><div><div><h2 class="title"><a id="histcommands"/>Приложение K. History Commands</h2></div></div></div><p>The Bash shell provides command-line tools for editing and
       manipulating a user's <em class="firstterm">command history</em>. This
       is primarily a convenience, a means of saving keystrokes.</p><p>Bash history commands:
       </p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p><span class="command"><strong>history</strong></span></p></li><li class="listitem"><p><span class="command"><strong>fc</strong></span></p></li></ol></div><p>
     </p><p>
        </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>history</code></strong>
<code class="computeroutput">   1  mount /mnt/cdrom
    2  cd /mnt/cdrom
    3  ls
     ...</code>
        </pre><p>
      </p><p>Internal variables associated with Bash history commands:
       </p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>$HISTCMD</p></li><li class="listitem"><p>$HISTCONTROL</p></li><li class="listitem"><p>$HISTIGNORE</p></li><li class="listitem"><p>$HISTFILE</p></li><li class="listitem"><p>$HISTFILESIZE</p></li><li class="listitem"><p>$HISTSIZE</p></li><li class="listitem"><p>$HISTTIMEFORMAT (Bash, ver. 3.0 or later)</p></li><li class="listitem"><p>!!</p></li><li class="listitem"><p>!$</p></li><li class="listitem"><p>!#</p></li><li class="listitem"><p>!N</p></li><li class="listitem"><p>!-N</p></li><li class="listitem"><p>!STRING</p></li><li class="listitem"><p>!?STRING?</p></li><li class="listitem"><p>^STRING^string^</p></li></ol></div><p>
     </p><p>Unfortunately, the Bash history tools find no use in
       scripting.</p><pre class="programlisting">#!/bin/bash
# history.sh
# A (vain) attempt to use the 'history' command in a script.

history                      # No output.

var=$(history); echo "$var"  # $var is empty.

# History commands disabled within a script.</pre><p>
     </p><p>
        </p><pre class="screen"><code class="prompt">bash$ </code><strong class="userinput"><code>./history.sh</code></strong>
<code class="computeroutput">(no output)</code>        
        </pre><p>
    </p><p>The <a class="ulink" href="http://www.deadman.org/bash.html">Advancing in the
       Bash Shell</a> site gives a good introduction to the use of
       history commands in Bash.</p></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td align="left"><a accesskey="p" href="apj.html">Пред.</a> </td><td align="center"> </td><td align="right"> <a accesskey="n" href="apl.html">След.</a></td></tr><tr><td align="left" valign="top">Приложение J. Localization </td><td align="center"><a accesskey="h" href="index.html">Начало</a></td><td align="right" valign="top"> Приложение L. A Sample <code class="filename">.bashrc</code> File</td></tr></table></div></body></html>
